!(function(){var vs=Object.defineProperty,fs=Object.defineProperties;var xs=Object.getOwnPropertyDescriptors;var Wc=Object.getOwnPropertySymbols;var hs=Object.prototype.hasOwnProperty,ms=Object.prototype.propertyIsEnumerable;var zc=(i,I,e)=>I in i?vs(i,I,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[I]=e,qi=(i,I)=>{for(var e in I||(I={}))hs.call(I,e)&&zc(i,e,I[e]);if(Wc)for(var e of Wc(I))ms.call(I,e)&&zc(i,e,I[e]);return i},$c=(i,I)=>fs(i,xs(I));(function(){var __webpack_modules__={25687:function(i,I,e){"use strict";e.d(I,{kG:function(){return x}});function u(m){return Math.floor(Math.log(m)*Math.LOG10E)}function o(m,g){if(typeof m.repeat=="function")return m.repeat(g);for(var y=new Array(g),S=0;S<y.length;S++)y[S]=m;return y.join("")}function r(m,g,y,S){m.get(g)||m.set(g,Object.create(null));var E=m.get(g);E[y]=S}function l(m,g,y){for(var S=0,E=Object.keys(y);S<E.length;S++){var P=E[S];r(m,g,P,y[P])}}function d(m,g,y){return p(m,g,y)[y]}function p(m,g){for(var y=[],S=2;S<arguments.length;S++)y[S-2]=arguments[S];var E=m.get(g);if(!E)throw new TypeError("".concat(g," InternalSlot has not been initialized"));return y.reduce(function(P,k){return P[k]=E[k],P},Object.create(null))}function s(m){return m.type==="literal"}function f(m,g,y){var S=y.value;Object.defineProperty(m,g,{configurable:!0,enumerable:!1,writable:!0,value:S})}var h=/-u(?:-[0-9a-z]{2,8})+/gi;function x(m,g,y){if(y===void 0&&(y=Error),!m)throw new y(g)}},95957:function(i,I,e){"use strict";e.d(I,{A:function(){return g},H:function(){return u}});function u(y,S){var E=S&&S.cache?S.cache:m,P=S&&S.serializer?S.serializer:h,k=S&&S.strategy?S.strategy:p;return k(y,{cache:E,serializer:P})}function o(y){return y==null||typeof y=="number"||typeof y=="boolean"}function r(y,S,E,P){var k=o(P)?P:E(P),A=S.get(k);return typeof A=="undefined"&&(A=y.call(this,P),S.set(k,A)),A}function l(y,S,E){var P=Array.prototype.slice.call(arguments,3),k=E(P),A=S.get(k);return typeof A=="undefined"&&(A=y.apply(this,P),S.set(k,A)),A}function d(y,S,E,P,k){return E.bind(S,y,P,k)}function p(y,S){var E=y.length===1?r:l;return d(y,this,E,S.cache.create(),S.serializer)}function s(y,S){return d(y,this,l,S.cache.create(),S.serializer)}function f(y,S){return d(y,this,r,S.cache.create(),S.serializer)}var h=function(){return JSON.stringify(arguments)};function x(){this.cache=Object.create(null)}x.prototype.get=function(y){return this.cache[y]},x.prototype.set=function(y,S){this.cache[y]=S};var m={create:function(){return new x}},g={variadic:s,monadic:f}},56096:function(i,I,e){"use strict";e.d(I,{wD:function(){return r},VG:function(){return p},rp:function(){return f},Ii:function(){return E},O4:function(){return d},uf:function(){return s},Wh:function(){return S},Jo:function(){return m},yx:function(){return g},Wi:function(){return x},HI:function(){return y},pe:function(){return h},Qc:function(){return yt}});var u=e(70655),o;(function(v){v[v.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",v[v.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",v[v.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",v[v.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",v[v.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",v[v.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",v[v.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",v[v.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",v[v.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",v[v.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",v[v.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",v[v.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",v[v.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",v[v.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",v[v.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",v[v.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",v[v.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",v[v.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",v[v.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",v[v.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",v[v.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",v[v.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",v[v.INVALID_TAG=23]="INVALID_TAG",v[v.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",v[v.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",v[v.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(o||(o={}));var r;(function(v){v[v.literal=0]="literal",v[v.argument=1]="argument",v[v.number=2]="number",v[v.date=3]="date",v[v.time=4]="time",v[v.select=5]="select",v[v.plural=6]="plural",v[v.pound=7]="pound",v[v.tag=8]="tag"})(r||(r={}));var l;(function(v){v[v.number=0]="number",v[v.dateTime=1]="dateTime"})(l||(l={}));function d(v){return v.type===r.literal}function p(v){return v.type===r.argument}function s(v){return v.type===r.number}function f(v){return v.type===r.date}function h(v){return v.type===r.time}function x(v){return v.type===r.select}function m(v){return v.type===r.plural}function g(v){return v.type===r.pound}function y(v){return v.type===r.tag}function S(v){return!!(v&&typeof v=="object"&&v.type===l.number)}function E(v){return!!(v&&typeof v=="object"&&v.type===l.dateTime)}function P(v){return{type:r.literal,value:v}}function k(v,B){return{type:r.number,value:v,style:B}}var A=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,L=/[\t-\r \x85\u200E\u200F\u2028\u2029]/,j=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function C(v){var B={};return v.replace(j,function(ee){var ce=ee.length;switch(ee[0]){case"G":B.era=ce===4?"long":ce===5?"narrow":"short";break;case"y":B.year=ce===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":B.month=["numeric","2-digit","short","long","narrow"][ce-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":B.day=["numeric","2-digit"][ce-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":B.weekday=ce===4?"short":ce===5?"narrow":"short";break;case"e":if(ce<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");B.weekday=["short","long","narrow","short"][ce-4];break;case"c":if(ce<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");B.weekday=["short","long","narrow","short"][ce-4];break;case"a":B.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":B.hourCycle="h12",B.hour=["numeric","2-digit"][ce-1];break;case"H":B.hourCycle="h23",B.hour=["numeric","2-digit"][ce-1];break;case"K":B.hourCycle="h11",B.hour=["numeric","2-digit"][ce-1];break;case"k":B.hourCycle="h24",B.hour=["numeric","2-digit"][ce-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":B.minute=["numeric","2-digit"][ce-1];break;case"s":B.second=["numeric","2-digit"][ce-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":B.timeZoneName=ce<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),B}var _=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function W(v){if(v.length===0)throw new Error("Number skeleton cannot be empty");for(var B=v.split(_).filter(function(Ue){return Ue.length>0}),ee=[],ce=0,Ae=B;ce<Ae.length;ce++){var Ne=Ae[ce],Se=Ne.split("/");if(Se.length===0)throw new Error("Invalid number skeleton");for(var We=Se[0],Ve=Se.slice(1),Qe=0,mt=Ve;Qe<mt.length;Qe++){var Ee=mt[Qe];if(Ee.length===0)throw new Error("Invalid number skeleton")}ee.push({stem:We,options:Ve})}return ee}function X(v){return v.replace(/^(.*?)-/,"")}var te=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,q=/^(@+)?(\+|#+)?[rs]?$/g,he=/(\*)(0+)|(#+)(0+)|(0+)/g,Pe=/^(0+)$/;function Te(v){var B={};return v[v.length-1]==="r"?B.roundingPriority="morePrecision":v[v.length-1]==="s"&&(B.roundingPriority="lessPrecision"),v.replace(q,function(ee,ce,Ae){return typeof Ae!="string"?(B.minimumSignificantDigits=ce.length,B.maximumSignificantDigits=ce.length):Ae==="+"?B.minimumSignificantDigits=ce.length:ce[0]==="#"?B.maximumSignificantDigits=ce.length:(B.minimumSignificantDigits=ce.length,B.maximumSignificantDigits=ce.length+(typeof Ae=="string"?Ae.length:0)),""}),B}function De(v){switch(v){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function ye(v){var B;if(v[0]==="E"&&v[1]==="E"?(B={notation:"engineering"},v=v.slice(2)):v[0]==="E"&&(B={notation:"scientific"},v=v.slice(1)),B){var ee=v.slice(0,2);if(ee==="+!"?(B.signDisplay="always",v=v.slice(2)):ee==="+?"&&(B.signDisplay="exceptZero",v=v.slice(2)),!Pe.test(v))throw new Error("Malformed concise eng/scientific notation");B.minimumIntegerDigits=v.length}return B}function ve(v){var B={},ee=De(v);return ee||B}function T(v){for(var B={},ee=0,ce=v;ee<ce.length;ee++){var Ae=ce[ee];switch(Ae.stem){case"percent":case"%":B.style="percent";continue;case"%x100":B.style="percent",B.scale=100;continue;case"currency":B.style="currency",B.currency=Ae.options[0];continue;case"group-off":case",_":B.useGrouping=!1;continue;case"precision-integer":case".":B.maximumFractionDigits=0;continue;case"measure-unit":case"unit":B.style="unit",B.unit=X(Ae.options[0]);continue;case"compact-short":case"K":B.notation="compact",B.compactDisplay="short";continue;case"compact-long":case"KK":B.notation="compact",B.compactDisplay="long";continue;case"scientific":B=(0,u.pi)((0,u.pi)((0,u.pi)({},B),{notation:"scientific"}),Ae.options.reduce(function(Ve,Qe){return(0,u.pi)((0,u.pi)({},Ve),ve(Qe))},{}));continue;case"engineering":B=(0,u.pi)((0,u.pi)((0,u.pi)({},B),{notation:"engineering"}),Ae.options.reduce(function(Ve,Qe){return(0,u.pi)((0,u.pi)({},Ve),ve(Qe))},{}));continue;case"notation-simple":B.notation="standard";continue;case"unit-width-narrow":B.currencyDisplay="narrowSymbol",B.unitDisplay="narrow";continue;case"unit-width-short":B.currencyDisplay="code",B.unitDisplay="short";continue;case"unit-width-full-name":B.currencyDisplay="name",B.unitDisplay="long";continue;case"unit-width-iso-code":B.currencyDisplay="symbol";continue;case"scale":B.scale=parseFloat(Ae.options[0]);continue;case"integer-width":if(Ae.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");Ae.options[0].replace(he,function(Ve,Qe,mt,Ee,Ue,je){if(Qe)B.minimumIntegerDigits=mt.length;else{if(Ee&&Ue)throw new Error("We currently do not support maximum integer digits");if(je)throw new Error("We currently do not support exact integer digits")}return""});continue}if(Pe.test(Ae.stem)){B.minimumIntegerDigits=Ae.stem.length;continue}if(te.test(Ae.stem)){if(Ae.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");Ae.stem.replace(te,function(Ve,Qe,mt,Ee,Ue,je){return mt==="*"?B.minimumFractionDigits=Qe.length:Ee&&Ee[0]==="#"?B.maximumFractionDigits=Ee.length:Ue&&je?(B.minimumFractionDigits=Ue.length,B.maximumFractionDigits=Ue.length+je.length):(B.minimumFractionDigits=Qe.length,B.maximumFractionDigits=Qe.length),""});var Ne=Ae.options[0];Ne==="w"?B=(0,u.pi)((0,u.pi)({},B),{trailingZeroDisplay:"stripIfInteger"}):Ne&&(B=(0,u.pi)((0,u.pi)({},B),Te(Ne)));continue}if(q.test(Ae.stem)){B=(0,u.pi)((0,u.pi)({},B),Te(Ae.stem));continue}var Se=De(Ae.stem);Se&&(B=(0,u.pi)((0,u.pi)({},B),Se));var We=ye(Ae.stem);We&&(B=(0,u.pi)((0,u.pi)({},B),We))}return B}var F={"001":["H","h"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["H","h","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["H","hB","h","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["H","h","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],CV:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["H","hB","h","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["H","h","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["H","h","hB","hb"],HR:["H","hB"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","h","K"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MW:["h","hb","H","hB"],MX:["H","h","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["H","h","hB","hb"],NL:["H","hB"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["H","hB","h","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["H","h","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["H","h","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TL:["H","hB","hb","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["H","h","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function Z(v,B){for(var ee="",ce=0;ce<v.length;ce++){var Ae=v.charAt(ce);if(Ae==="j"){for(var Ne=0;ce+1<v.length&&v.charAt(ce+1)===Ae;)Ne++,ce++;var Se=1+(Ne&1),We=Ne<2?1:3+(Ne>>1),Ve="a",Qe=O(B);for((Qe=="H"||Qe=="k")&&(We=0);We-- >0;)ee+=Ve;for(;Se-- >0;)ee=Qe+ee}else Ae==="J"?ee+="H":ee+=Ae}return ee}function O(v){var B=v.hourCycle;if(B===void 0&&v.hourCycles&&v.hourCycles.length&&(B=v.hourCycles[0]),B)switch(B){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var ee=v.language,ce;ee!=="root"&&(ce=v.maximize().region);var Ae=F[ce||""]||F[ee||""]||F["".concat(ee,"-001")]||F["001"];return Ae[0]}var z,ae=new RegExp("^".concat(A.source,"*")),be=new RegExp("".concat(A.source,"*$"));function Re(v,B){return{start:v,end:B}}var N=!!String.prototype.startsWith,Q=!!String.fromCodePoint,G=!!Object.fromEntries,Y=!!String.prototype.codePointAt,ue=!!String.prototype.trimStart,Me=!!String.prototype.trimEnd,He=!!Number.isSafeInteger,Je=He?Number.isSafeInteger:function(v){return typeof v=="number"&&isFinite(v)&&Math.floor(v)===v&&Math.abs(v)<=9007199254740991},Xe=!0;try{var et=ne("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Xe=((z=et.exec("a"))===null||z===void 0?void 0:z[0])==="a"}catch(v){Xe=!1}var ct=N?function(B,ee,ce){return B.startsWith(ee,ce)}:function(B,ee,ce){return B.slice(ce,ce+ee.length)===ee},oe=Q?String.fromCodePoint:function(){for(var B=[],ee=0;ee<arguments.length;ee++)B[ee]=arguments[ee];for(var ce="",Ae=B.length,Ne=0,Se;Ae>Ne;){if(Se=B[Ne++],Se>1114111)throw RangeError(Se+" is not a valid code point");ce+=Se<65536?String.fromCharCode(Se):String.fromCharCode(((Se-=65536)>>10)+55296,Se%1024+56320)}return ce},xe=G?Object.fromEntries:function(B){for(var ee={},ce=0,Ae=B;ce<Ae.length;ce++){var Ne=Ae[ce],Se=Ne[0],We=Ne[1];ee[Se]=We}return ee},le=Y?function(B,ee){return B.codePointAt(ee)}:function(B,ee){var ce=B.length;if(!(ee<0||ee>=ce)){var Ae=B.charCodeAt(ee),Ne;return Ae<55296||Ae>56319||ee+1===ce||(Ne=B.charCodeAt(ee+1))<56320||Ne>57343?Ae:(Ae-55296<<10)+(Ne-56320)+65536}},se=ue?function(B){return B.trimStart()}:function(B){return B.replace(ae,"")},ke=Me?function(B){return B.trimEnd()}:function(B){return B.replace(be,"")};function ne(v,B){return new RegExp(v,B)}var pe;if(Xe){var V=ne("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");pe=function(B,ee){var ce;V.lastIndex=ee;var Ae=V.exec(B);return(ce=Ae[1])!==null&&ce!==void 0?ce:""}}else pe=function(B,ee){for(var ce=[];;){var Ae=le(B,ee);if(Ae===void 0||Ye(Ae)||pt(Ae))break;ce.push(Ae),ee+=Ae>=65536?2:1}return oe.apply(void 0,ce)};var de=function(){function v(B,ee){ee===void 0&&(ee={}),this.message=B,this.position={offset:0,line:1,column:1},this.ignoreTag=!!ee.ignoreTag,this.locale=ee.locale,this.requiresOtherClause=!!ee.requiresOtherClause,this.shouldParseSkeletons=!!ee.shouldParseSkeletons}return v.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},v.prototype.parseMessage=function(B,ee,ce){for(var Ae=[];!this.isEOF();){var Ne=this.char();if(Ne===123){var Se=this.parseArgument(B,ce);if(Se.err)return Se;Ae.push(Se.val)}else{if(Ne===125&&B>0)break;if(Ne===35&&(ee==="plural"||ee==="selectordinal")){var We=this.clonePosition();this.bump(),Ae.push({type:r.pound,location:Re(We,this.clonePosition())})}else if(Ne===60&&!this.ignoreTag&&this.peek()===47){if(ce)break;return this.error(o.UNMATCHED_CLOSING_TAG,Re(this.clonePosition(),this.clonePosition()))}else if(Ne===60&&!this.ignoreTag&&we(this.peek()||0)){var Se=this.parseTag(B,ee);if(Se.err)return Se;Ae.push(Se.val)}else{var Se=this.parseLiteral(B,ee);if(Se.err)return Se;Ae.push(Se.val)}}}return{val:Ae,err:null}},v.prototype.parseTag=function(B,ee){var ce=this.clonePosition();this.bump();var Ae=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:r.literal,value:"<".concat(Ae,"/>"),location:Re(ce,this.clonePosition())},err:null};if(this.bumpIf(">")){var Ne=this.parseMessage(B+1,ee,!0);if(Ne.err)return Ne;var Se=Ne.val,We=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!we(this.char()))return this.error(o.INVALID_TAG,Re(We,this.clonePosition()));var Ve=this.clonePosition(),Qe=this.parseTagName();return Ae!==Qe?this.error(o.UNMATCHED_CLOSING_TAG,Re(Ve,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:r.tag,value:Ae,children:Se,location:Re(ce,this.clonePosition())},err:null}:this.error(o.INVALID_TAG,Re(We,this.clonePosition())))}else return this.error(o.UNCLOSED_TAG,Re(ce,this.clonePosition()))}else return this.error(o.INVALID_TAG,Re(ce,this.clonePosition()))},v.prototype.parseTagName=function(){var B=this.offset();for(this.bump();!this.isEOF()&&Fe(this.char());)this.bump();return this.message.slice(B,this.offset())},v.prototype.parseLiteral=function(B,ee){for(var ce=this.clonePosition(),Ae="";;){var Ne=this.tryParseQuote(ee);if(Ne){Ae+=Ne;continue}var Se=this.tryParseUnquoted(B,ee);if(Se){Ae+=Se;continue}var We=this.tryParseLeftAngleBracket();if(We){Ae+=We;continue}break}var Ve=Re(ce,this.clonePosition());return{val:{type:r.literal,value:Ae,location:Ve},err:null}},v.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!ze(this.peek()||0))?(this.bump(),"<"):null},v.prototype.tryParseQuote=function(B){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(B==="plural"||B==="selectordinal")break;return null;default:return null}this.bump();var ee=[this.char()];for(this.bump();!this.isEOF();){var ce=this.char();if(ce===39)if(this.peek()===39)ee.push(39),this.bump();else{this.bump();break}else ee.push(ce);this.bump()}return oe.apply(void 0,ee)},v.prototype.tryParseUnquoted=function(B,ee){if(this.isEOF())return null;var ce=this.char();return ce===60||ce===123||ce===35&&(ee==="plural"||ee==="selectordinal")||ce===125&&B>0?null:(this.bump(),oe(ce))},v.prototype.parseArgument=function(B,ee){var ce=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(o.EXPECT_ARGUMENT_CLOSING_BRACE,Re(ce,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(o.EMPTY_ARGUMENT,Re(ce,this.clonePosition()));var Ae=this.parseIdentifierIfPossible().value;if(!Ae)return this.error(o.MALFORMED_ARGUMENT,Re(ce,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(o.EXPECT_ARGUMENT_CLOSING_BRACE,Re(ce,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:r.argument,value:Ae,location:Re(ce,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(o.EXPECT_ARGUMENT_CLOSING_BRACE,Re(ce,this.clonePosition())):this.parseArgumentOptions(B,ee,Ae,ce);default:return this.error(o.MALFORMED_ARGUMENT,Re(ce,this.clonePosition()))}},v.prototype.parseIdentifierIfPossible=function(){var B=this.clonePosition(),ee=this.offset(),ce=pe(this.message,ee),Ae=ee+ce.length;this.bumpTo(Ae);var Ne=this.clonePosition(),Se=Re(B,Ne);return{value:ce,location:Se}},v.prototype.parseArgumentOptions=function(B,ee,ce,Ae){var Ne,Se=this.clonePosition(),We=this.parseIdentifierIfPossible().value,Ve=this.clonePosition();switch(We){case"":return this.error(o.EXPECT_ARGUMENT_TYPE,Re(Se,Ve));case"number":case"date":case"time":{this.bumpSpace();var Qe=null;if(this.bumpIf(",")){this.bumpSpace();var mt=this.clonePosition(),Ee=this.parseSimpleArgStyleIfPossible();if(Ee.err)return Ee;var Ue=ke(Ee.val);if(Ue.length===0)return this.error(o.EXPECT_ARGUMENT_STYLE,Re(this.clonePosition(),this.clonePosition()));var je=Re(mt,this.clonePosition());Qe={style:Ue,styleLocation:je}}var Ce=this.tryParseArgumentClose(Ae);if(Ce.err)return Ce;var tt=Re(Ae,this.clonePosition());if(Qe&&ct(Qe==null?void 0:Qe.style,"::",0)){var at=se(Qe.style.slice(2));if(We==="number"){var Ee=this.parseNumberSkeletonFromString(at,Qe.styleLocation);return Ee.err?Ee:{val:{type:r.number,value:ce,location:tt,style:Ee.val},err:null}}else{if(at.length===0)return this.error(o.EXPECT_DATE_TIME_SKELETON,tt);var gt=at;this.locale&&(gt=Z(at,this.locale));var Ue={type:l.dateTime,pattern:gt,location:Qe.styleLocation,parsedOptions:this.shouldParseSkeletons?C(gt):{}},kt=We==="date"?r.date:r.time;return{val:{type:kt,value:ce,location:tt,style:Ue},err:null}}}return{val:{type:We==="number"?r.number:We==="date"?r.date:r.time,value:ce,location:tt,style:(Ne=Qe==null?void 0:Qe.style)!==null&&Ne!==void 0?Ne:null},err:null}}case"plural":case"selectordinal":case"select":{var $t=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(o.EXPECT_SELECT_ARGUMENT_OPTIONS,Re($t,(0,u.pi)({},$t)));this.bumpSpace();var va=this.parseIdentifierIfPossible(),fa=0;if(We!=="select"&&va.value==="offset"){if(!this.bumpIf(":"))return this.error(o.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Re(this.clonePosition(),this.clonePosition()));this.bumpSpace();var Ee=this.tryParseDecimalInteger(o.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,o.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(Ee.err)return Ee;this.bumpSpace(),va=this.parseIdentifierIfPossible(),fa=Ee.val}var wa=this.tryParsePluralOrSelectOptions(B,We,ee,va);if(wa.err)return wa;var Ce=this.tryParseArgumentClose(Ae);if(Ce.err)return Ce;var Qa=Re(Ae,this.clonePosition());return We==="select"?{val:{type:r.select,value:ce,options:xe(wa.val),location:Qa},err:null}:{val:{type:r.plural,value:ce,options:xe(wa.val),offset:fa,pluralType:We==="plural"?"cardinal":"ordinal",location:Qa},err:null}}default:return this.error(o.INVALID_ARGUMENT_TYPE,Re(Se,Ve))}},v.prototype.tryParseArgumentClose=function(B){return this.isEOF()||this.char()!==125?this.error(o.EXPECT_ARGUMENT_CLOSING_BRACE,Re(B,this.clonePosition())):(this.bump(),{val:!0,err:null})},v.prototype.parseSimpleArgStyleIfPossible=function(){for(var B=0,ee=this.clonePosition();!this.isEOF();){var ce=this.char();switch(ce){case 39:{this.bump();var Ae=this.clonePosition();if(!this.bumpUntil("'"))return this.error(o.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Re(Ae,this.clonePosition()));this.bump();break}case 123:{B+=1,this.bump();break}case 125:{if(B>0)B-=1;else return{val:this.message.slice(ee.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(ee.offset,this.offset()),err:null}},v.prototype.parseNumberSkeletonFromString=function(B,ee){var ce=[];try{ce=W(B)}catch(Ae){return this.error(o.INVALID_NUMBER_SKELETON,ee)}return{val:{type:l.number,tokens:ce,location:ee,parsedOptions:this.shouldParseSkeletons?T(ce):{}},err:null}},v.prototype.tryParsePluralOrSelectOptions=function(B,ee,ce,Ae){for(var Ne,Se=!1,We=[],Ve=new Set,Qe=Ae.value,mt=Ae.location;;){if(Qe.length===0){var Ee=this.clonePosition();if(ee!=="select"&&this.bumpIf("=")){var Ue=this.tryParseDecimalInteger(o.EXPECT_PLURAL_ARGUMENT_SELECTOR,o.INVALID_PLURAL_ARGUMENT_SELECTOR);if(Ue.err)return Ue;mt=Re(Ee,this.clonePosition()),Qe=this.message.slice(Ee.offset,this.offset())}else break}if(Ve.has(Qe))return this.error(ee==="select"?o.DUPLICATE_SELECT_ARGUMENT_SELECTOR:o.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,mt);Qe==="other"&&(Se=!0),this.bumpSpace();var je=this.clonePosition();if(!this.bumpIf("{"))return this.error(ee==="select"?o.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:o.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Re(this.clonePosition(),this.clonePosition()));var Ce=this.parseMessage(B+1,ee,ce);if(Ce.err)return Ce;var tt=this.tryParseArgumentClose(je);if(tt.err)return tt;We.push([Qe,{value:Ce.val,location:Re(je,this.clonePosition())}]),Ve.add(Qe),this.bumpSpace(),Ne=this.parseIdentifierIfPossible(),Qe=Ne.value,mt=Ne.location}return We.length===0?this.error(ee==="select"?o.EXPECT_SELECT_ARGUMENT_SELECTOR:o.EXPECT_PLURAL_ARGUMENT_SELECTOR,Re(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!Se?this.error(o.MISSING_OTHER_CLAUSE,Re(this.clonePosition(),this.clonePosition())):{val:We,err:null}},v.prototype.tryParseDecimalInteger=function(B,ee){var ce=1,Ae=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(ce=-1);for(var Ne=!1,Se=0;!this.isEOF();){var We=this.char();if(We>=48&&We<=57)Ne=!0,Se=Se*10+(We-48),this.bump();else break}var Ve=Re(Ae,this.clonePosition());return Ne?(Se*=ce,Je(Se)?{val:Se,err:null}:this.error(ee,Ve)):this.error(B,Ve)},v.prototype.offset=function(){return this.position.offset},v.prototype.isEOF=function(){return this.offset()===this.message.length},v.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},v.prototype.char=function(){var B=this.position.offset;if(B>=this.message.length)throw Error("out of bound");var ee=le(this.message,B);if(ee===void 0)throw Error("Offset ".concat(B," is at invalid UTF-16 code unit boundary"));return ee},v.prototype.error=function(B,ee){return{val:null,err:{kind:B,message:this.message,location:ee}}},v.prototype.bump=function(){if(!this.isEOF()){var B=this.char();B===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=B<65536?1:2)}},v.prototype.bumpIf=function(B){if(ct(this.message,B,this.offset())){for(var ee=0;ee<B.length;ee++)this.bump();return!0}return!1},v.prototype.bumpUntil=function(B){var ee=this.offset(),ce=this.message.indexOf(B,ee);return ce>=0?(this.bumpTo(ce),!0):(this.bumpTo(this.message.length),!1)},v.prototype.bumpTo=function(B){if(this.offset()>B)throw Error("targetOffset ".concat(B," must be greater than or equal to the current offset ").concat(this.offset()));for(B=Math.min(B,this.message.length);;){var ee=this.offset();if(ee===B)break;if(ee>B)throw Error("targetOffset ".concat(B," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},v.prototype.bumpSpace=function(){for(;!this.isEOF()&&Ye(this.char());)this.bump()},v.prototype.peek=function(){if(this.isEOF())return null;var B=this.char(),ee=this.offset(),ce=this.message.charCodeAt(ee+(B>=65536?2:1));return ce!=null?ce:null},v}();function we(v){return v>=97&&v<=122||v>=65&&v<=90}function ze(v){return we(v)||v===47}function Fe(v){return v===45||v===46||v>=48&&v<=57||v===95||v>=97&&v<=122||v>=65&&v<=90||v==183||v>=192&&v<=214||v>=216&&v<=246||v>=248&&v<=893||v>=895&&v<=8191||v>=8204&&v<=8205||v>=8255&&v<=8256||v>=8304&&v<=8591||v>=11264&&v<=12271||v>=12289&&v<=55295||v>=63744&&v<=64975||v>=65008&&v<=65533||v>=65536&&v<=983039}function Ye(v){return v>=9&&v<=13||v===32||v===133||v>=8206&&v<=8207||v===8232||v===8233}function pt(v){return v>=33&&v<=35||v===36||v>=37&&v<=39||v===40||v===41||v===42||v===43||v===44||v===45||v>=46&&v<=47||v>=58&&v<=59||v>=60&&v<=62||v>=63&&v<=64||v===91||v===92||v===93||v===94||v===96||v===123||v===124||v===125||v===126||v===161||v>=162&&v<=165||v===166||v===167||v===169||v===171||v===172||v===174||v===176||v===177||v===182||v===187||v===191||v===215||v===247||v>=8208&&v<=8213||v>=8214&&v<=8215||v===8216||v===8217||v===8218||v>=8219&&v<=8220||v===8221||v===8222||v===8223||v>=8224&&v<=8231||v>=8240&&v<=8248||v===8249||v===8250||v>=8251&&v<=8254||v>=8257&&v<=8259||v===8260||v===8261||v===8262||v>=8263&&v<=8273||v===8274||v===8275||v>=8277&&v<=8286||v>=8592&&v<=8596||v>=8597&&v<=8601||v>=8602&&v<=8603||v>=8604&&v<=8607||v===8608||v>=8609&&v<=8610||v===8611||v>=8612&&v<=8613||v===8614||v>=8615&&v<=8621||v===8622||v>=8623&&v<=8653||v>=8654&&v<=8655||v>=8656&&v<=8657||v===8658||v===8659||v===8660||v>=8661&&v<=8691||v>=8692&&v<=8959||v>=8960&&v<=8967||v===8968||v===8969||v===8970||v===8971||v>=8972&&v<=8991||v>=8992&&v<=8993||v>=8994&&v<=9e3||v===9001||v===9002||v>=9003&&v<=9083||v===9084||v>=9085&&v<=9114||v>=9115&&v<=9139||v>=9140&&v<=9179||v>=9180&&v<=9185||v>=9186&&v<=9254||v>=9255&&v<=9279||v>=9280&&v<=9290||v>=9291&&v<=9311||v>=9472&&v<=9654||v===9655||v>=9656&&v<=9664||v===9665||v>=9666&&v<=9719||v>=9720&&v<=9727||v>=9728&&v<=9838||v===9839||v>=9840&&v<=10087||v===10088||v===10089||v===10090||v===10091||v===10092||v===10093||v===10094||v===10095||v===10096||v===10097||v===10098||v===10099||v===10100||v===10101||v>=10132&&v<=10175||v>=10176&&v<=10180||v===10181||v===10182||v>=10183&&v<=10213||v===10214||v===10215||v===10216||v===10217||v===10218||v===10219||v===10220||v===10221||v===10222||v===10223||v>=10224&&v<=10239||v>=10240&&v<=10495||v>=10496&&v<=10626||v===10627||v===10628||v===10629||v===10630||v===10631||v===10632||v===10633||v===10634||v===10635||v===10636||v===10637||v===10638||v===10639||v===10640||v===10641||v===10642||v===10643||v===10644||v===10645||v===10646||v===10647||v===10648||v>=10649&&v<=10711||v===10712||v===10713||v===10714||v===10715||v>=10716&&v<=10747||v===10748||v===10749||v>=10750&&v<=11007||v>=11008&&v<=11055||v>=11056&&v<=11076||v>=11077&&v<=11078||v>=11079&&v<=11084||v>=11085&&v<=11123||v>=11124&&v<=11125||v>=11126&&v<=11157||v===11158||v>=11159&&v<=11263||v>=11776&&v<=11777||v===11778||v===11779||v===11780||v===11781||v>=11782&&v<=11784||v===11785||v===11786||v===11787||v===11788||v===11789||v>=11790&&v<=11798||v===11799||v>=11800&&v<=11801||v===11802||v===11803||v===11804||v===11805||v>=11806&&v<=11807||v===11808||v===11809||v===11810||v===11811||v===11812||v===11813||v===11814||v===11815||v===11816||v===11817||v>=11818&&v<=11822||v===11823||v>=11824&&v<=11833||v>=11834&&v<=11835||v>=11836&&v<=11839||v===11840||v===11841||v===11842||v>=11843&&v<=11855||v>=11856&&v<=11857||v===11858||v>=11859&&v<=11903||v>=12289&&v<=12291||v===12296||v===12297||v===12298||v===12299||v===12300||v===12301||v===12302||v===12303||v===12304||v===12305||v>=12306&&v<=12307||v===12308||v===12309||v===12310||v===12311||v===12312||v===12313||v===12314||v===12315||v===12316||v===12317||v>=12318&&v<=12319||v===12320||v===12336||v===64830||v===64831||v>=65093&&v<=65094}function Tt(v){v.forEach(function(B){if(delete B.location,x(B)||m(B))for(var ee in B.options)delete B.options[ee].location,Tt(B.options[ee].value);else s(B)&&S(B.style)||(f(B)||h(B))&&E(B.style)?delete B.style.location:y(B)&&Tt(B.children)})}function yt(v,B){B===void 0&&(B={}),B=(0,u.pi)({shouldParseSkeletons:!0,requiresOtherClause:!0},B);var ee=new de(v,B).parse();if(ee.err){var ce=SyntaxError(o[ee.err.kind]);throw ce.location=ee.err.location,ce.originalMessage=ee.err.message,ce}return B!=null&&B.captureLocation||Tt(ee.val),ee.val}var fe=null},88222:function(i,I,e){"use strict";e.d(I,{$6:function(){return h},OV:function(){return d},Qe:function(){return s},X9:function(){return f},gb:function(){return p},wI:function(){return l}});var u=e(70655),o;(function(x){x.FORMAT_ERROR="FORMAT_ERROR",x.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",x.INVALID_CONFIG="INVALID_CONFIG",x.MISSING_DATA="MISSING_DATA",x.MISSING_TRANSLATION="MISSING_TRANSLATION"})(o||(o={}));var r=function(x){(0,u.ZT)(m,x);function m(g,y,S){var E=this,P=S?S instanceof Error?S:new Error(String(S)):void 0;return E=x.call(this,"[@formatjs/intl Error ".concat(g,"] ").concat(y,`
`).concat(P?`
`.concat(P.message,`
`).concat(P.stack):""))||this,E.code=g,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(E,m),E}return m}(Error),l=function(x){(0,u.ZT)(m,x);function m(g,y){return x.call(this,o.UNSUPPORTED_FORMATTER,g,y)||this}return m}(r),d=function(x){(0,u.ZT)(m,x);function m(g,y){return x.call(this,o.INVALID_CONFIG,g,y)||this}return m}(r),p=function(x){(0,u.ZT)(m,x);function m(g,y){return x.call(this,o.MISSING_DATA,g,y)||this}return m}(r),s=function(x){(0,u.ZT)(m,x);function m(g,y,S){var E=x.call(this,o.FORMAT_ERROR,"".concat(g,`
Locale: `).concat(y,`
`),S)||this;return E.locale=y,E}return m}(r),f=function(x){(0,u.ZT)(m,x);function m(g,y,S,E){var P=x.call(this,"".concat(g,`
MessageID: `).concat(S==null?void 0:S.id,`
Default Message: `).concat(S==null?void 0:S.defaultMessage,`
Description: `).concat(S==null?void 0:S.description,`
`),y,E)||this;return P.descriptor=S,P.locale=y,P}return m}(s),h=function(x){(0,u.ZT)(m,x);function m(g,y){var S=x.call(this,o.MISSING_TRANSLATION,'Missing message: "'.concat(g.id,'" for locale "').concat(y,'", using ').concat(g.defaultMessage?"default message (".concat(typeof g.defaultMessage=="string"?g.defaultMessage:g.defaultMessage.map(function(E){var P;return(P=E.value)!==null&&P!==void 0?P:JSON.stringify(E)}).join(),")"):"id"," as fallback."))||this;return S.descriptor=g,S}return m}(r)},82644:function(i,I,e){"use strict";e.d(I,{L6:function(){return d},Sn:function(){return h},TB:function(){return g},Z0:function(){return f},ax:function(){return m}});var u=e(70655),o=e(16284),r=e(95957),l=e(88222);function d(y,S,E){return E===void 0&&(E={}),S.reduce(function(P,k){return k in y?P[k]=y[k]:k in E&&(P[k]=E[k]),P},{})}var p=function(y){},s=function(y){},f={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:p,onWarn:s};function h(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function x(y){return{create:function(){return{get:function(S){return y[S]},set:function(S,E){y[S]=E}}}}}function m(y){y===void 0&&(y=h());var S=Intl.RelativeTimeFormat,E=Intl.ListFormat,P=Intl.DisplayNames,k=(0,r.H)(function(){for(var j,C=[],_=0;_<arguments.length;_++)C[_]=arguments[_];return new((j=Intl.DateTimeFormat).bind.apply(j,(0,u.ev)([void 0],C,!1)))},{cache:x(y.dateTime),strategy:r.A.variadic}),A=(0,r.H)(function(){for(var j,C=[],_=0;_<arguments.length;_++)C[_]=arguments[_];return new((j=Intl.NumberFormat).bind.apply(j,(0,u.ev)([void 0],C,!1)))},{cache:x(y.number),strategy:r.A.variadic}),L=(0,r.H)(function(){for(var j,C=[],_=0;_<arguments.length;_++)C[_]=arguments[_];return new((j=Intl.PluralRules).bind.apply(j,(0,u.ev)([void 0],C,!1)))},{cache:x(y.pluralRules),strategy:r.A.variadic});return{getDateTimeFormat:k,getNumberFormat:A,getMessageFormat:(0,r.H)(function(j,C,_,W){return new o.C(j,C,_,(0,u.pi)({formatters:{getNumberFormat:A,getDateTimeFormat:k,getPluralRules:L}},W||{}))},{cache:x(y.message),strategy:r.A.variadic}),getRelativeTimeFormat:(0,r.H)(function(){for(var j=[],C=0;C<arguments.length;C++)j[C]=arguments[C];return new(S.bind.apply(S,(0,u.ev)([void 0],j,!1)))},{cache:x(y.relativeTime),strategy:r.A.variadic}),getPluralRules:L,getListFormat:(0,r.H)(function(){for(var j=[],C=0;C<arguments.length;C++)j[C]=arguments[C];return new(E.bind.apply(E,(0,u.ev)([void 0],j,!1)))},{cache:x(y.list),strategy:r.A.variadic}),getDisplayNames:(0,r.H)(function(){for(var j=[],C=0;C<arguments.length;C++)j[C]=arguments[C];return new(P.bind.apply(P,(0,u.ev)([void 0],j,!1)))},{cache:x(y.displayNames),strategy:r.A.variadic})}}function g(y,S,E,P){var k=y&&y[S],A;if(k&&(A=k[E]),A)return A;P(new l.wI("No ".concat(S," format named: ").concat(E)))}},82651:function(i,I,e){"use strict";e.d(I,{f:function(){return f},m:function(){return p}});var u=e(52677),o=e.n(u),r=e(97857),l=e.n(r),d=e(55648),p,s="/";function f(m){var g;return m.type==="hash"?g=(0,d.q_)():m.type==="memory"?g=(0,d.PP)(m):g=(0,d.lX)(),m.basename&&(s=m.basename),p=l()(l()({},g),{},{push:function(S,E){g.push(h(S,g),E)},replace:function(S,E){g.replace(h(S,g),E)},get location(){return g.location},get action(){return g.action}}),g}function h(m,g){if(typeof m=="string")return"".concat(x(s)).concat(m);if(o()(m)==="object"){var y=g.location.pathname;return l()(l()({},m),{},{pathname:m.pathname?"".concat(x(s)).concat(m.pathname):y})}else throw new Error("Unexpected to: ".concat(m))}function x(m){return m.slice(-1)==="/"?m.slice(0,-1):m}},24497:function(i,I,e){"use strict";e.d(I,{gD:function(){return Qe}});var u={};e.r(u),e.d(u,{modifyClientRenderOpts:function(){return f}});var o={};e.r(o),e.d(o,{innerProvider:function(){return g}});var r={};e.r(r),e.d(r,{patchRoutes:function(){return P}});var l={};e.r(l),e.d(l,{i18nProvider:function(){return ee}});var d={};e.r(d),e.d(d,{modifyClientRenderOpts:function(){return ce}});var p=e(97857),s=e.n(p);function f(Ee){var Ue=Ee.history,je=Ee.hydrate;return s()(s()({},Ee),{},{hydrate:je&&!["/~demos/:id"].includes(Ue.location.pathname)})}var h=e(62435),x=e(70405),m={},g=function(Ue){return h.createElement(x.B6,{context:m},Ue)},y=e(73032),S=e(9996),E=e.n(S),P=function(Ue){var je=Ue.routes;Object.values(je).forEach(function(Ce){if(y.C3[Ce.id]){var tt,at;if((tt=Ce.meta)!==null&&tt!==void 0&&(at=tt.frontmatter)!==null&&at!==void 0&&at.debug||y.C3[Ce.id].frontmatter.debug)delete je[Ce.id];else{var gt;Ce.meta=E()(Ce.meta,y.C3[Ce.id]),Ce.meta.tabs=(gt=Ce.meta.tabs)===null||gt===void 0?void 0:gt.map(function(kt){var $t={frontmatter:{title:y.eA[kt].title},toc:[],texts:[]};return s()(s()({},y.eA[kt]),{},{meta:y.C3[kt]||$t})})}}})},k=e(5574),A=e.n(k),L=e(14570),j=e(82644),C=e(70655),_=e(74806),W=e(680),X=e(25687),te=e(16284),q=e(88222),he=e(56096);function Pe(Ee,Ue){return Object.keys(Ee).reduce(function(je,Ce){return je[Ce]=(0,C.pi)({timeZone:Ue},Ee[Ce]),je},{})}function Te(Ee,Ue){var je=Object.keys((0,C.pi)((0,C.pi)({},Ee),Ue));return je.reduce(function(Ce,tt){return Ce[tt]=(0,C.pi)((0,C.pi)({},Ee[tt]||{}),Ue[tt]||{}),Ce},{})}function De(Ee,Ue){if(!Ue)return Ee;var je=te.C.formats;return(0,C.pi)((0,C.pi)((0,C.pi)({},je),Ee),{date:Te(Pe(je.date,Ue),Pe(Ee.date||{},Ue)),time:Te(Pe(je.time,Ue),Pe(Ee.time||{},Ue))})}var ye=function(Ee,Ue,je,Ce,tt){var at=Ee.locale,gt=Ee.formats,kt=Ee.messages,$t=Ee.defaultLocale,va=Ee.defaultFormats,fa=Ee.fallbackOnEmptyString,wa=Ee.onError,Qa=Ee.timeZone,Pn=Ee.defaultRichTextElements;je===void 0&&(je={id:""});var tr=je.id,On=je.defaultMessage;(0,X.kG)(!!tr,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var Et=String(tr),nt=kt&&Object.prototype.hasOwnProperty.call(kt,Et)&&kt[Et];if(Array.isArray(nt)&&nt.length===1&&nt[0].type===he.wD.literal)return nt[0].value;if(!Ce&&nt&&typeof nt=="string"&&!Pn)return nt.replace(/'\{(.*?)\}'/gi,"{$1}");if(Ce=(0,C.pi)((0,C.pi)({},Pn),Ce||{}),gt=De(gt,Qa),va=De(va,Qa),!nt){if(fa===!1&&nt==="")return nt;if((!On||at&&at.toLowerCase()!==$t.toLowerCase())&&wa(new q.$6(je,at)),On)try{var It=Ue.getMessageFormat(On,$t,va,tt);return It.format(Ce)}catch(Vt){return wa(new q.X9('Error formatting default message for: "'.concat(Et,'", rendering default message verbatim'),at,je,Vt)),typeof On=="string"?On:Et}return Et}try{var It=Ue.getMessageFormat(nt,at,gt,(0,C.pi)({formatters:Ue},tt||{}));return It.format(Ce)}catch(Vt){wa(new q.X9('Error formatting message: "'.concat(Et,'", using ').concat(On?"default message":"id"," as fallback."),at,je,Vt))}if(On)try{var It=Ue.getMessageFormat(On,$t,va,tt);return It.format(Ce)}catch(Vt){wa(new q.X9('Error formatting the default message for: "'.concat(Et,'", rendering message verbatim'),at,je,Vt))}return typeof nt=="string"?nt:typeof On=="string"?On:Et},ve=["style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem"];function T(Ee,Ue,je){var Ce=Ee.locale,tt=Ee.formats,at=Ee.onError;je===void 0&&(je={});var gt=je.format,kt=gt&&(0,j.TB)(tt,"number",gt,at)||{},$t=(0,j.L6)(je,ve,kt);return Ue(Ce,$t)}function F(Ee,Ue,je,Ce){Ce===void 0&&(Ce={});try{return T(Ee,Ue,Ce).format(je)}catch(tt){Ee.onError(new q.Qe("Error formatting number.",Ee.locale,tt))}return String(je)}function Z(Ee,Ue,je,Ce){Ce===void 0&&(Ce={});try{return T(Ee,Ue,Ce).formatToParts(je)}catch(tt){Ee.onError(new q.Qe("Error formatting number.",Ee.locale,tt))}return[]}var O=e(11050),z=["numeric","style"];function ae(Ee,Ue,je){var Ce=Ee.locale,tt=Ee.formats,at=Ee.onError;je===void 0&&(je={});var gt=je.format,kt=!!gt&&(0,j.TB)(tt,"relative",gt,at)||{},$t=(0,j.L6)(je,z,kt);return Ue(Ce,$t)}function be(Ee,Ue,je,Ce,tt){tt===void 0&&(tt={}),Ce||(Ce="second");var at=Intl.RelativeTimeFormat;at||Ee.onError(new O.u_(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`,O.jK.MISSING_INTL_API));try{return ae(Ee,Ue,tt).format(je,Ce)}catch(gt){Ee.onError(new q.Qe("Error formatting relative time.",Ee.locale,gt))}return String(je)}var Re=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function N(Ee,Ue,je,Ce){var tt=Ee.locale,at=Ee.formats,gt=Ee.onError,kt=Ee.timeZone;Ce===void 0&&(Ce={});var $t=Ce.format,va=(0,C.pi)((0,C.pi)({},kt&&{timeZone:kt}),$t&&(0,j.TB)(at,Ue,$t,gt)),fa=(0,j.L6)(Ce,Re,va);return Ue==="time"&&!fa.hour&&!fa.minute&&!fa.second&&!fa.timeStyle&&!fa.dateStyle&&(fa=(0,C.pi)((0,C.pi)({},fa),{hour:"numeric",minute:"numeric"})),je(tt,fa)}function Q(Ee,Ue){for(var je=[],Ce=2;Ce<arguments.length;Ce++)je[Ce-2]=arguments[Ce];var tt=je[0],at=je[1],gt=at===void 0?{}:at,kt=typeof tt=="string"?new Date(tt||0):tt;try{return N(Ee,"date",Ue,gt).format(kt)}catch($t){Ee.onError(new q.Qe("Error formatting date.",Ee.locale,$t))}return String(kt)}function G(Ee,Ue){for(var je=[],Ce=2;Ce<arguments.length;Ce++)je[Ce-2]=arguments[Ce];var tt=je[0],at=je[1],gt=at===void 0?{}:at,kt=typeof tt=="string"?new Date(tt||0):tt;try{return N(Ee,"time",Ue,gt).format(kt)}catch($t){Ee.onError(new q.Qe("Error formatting time.",Ee.locale,$t))}return String(kt)}function Y(Ee,Ue){for(var je=[],Ce=2;Ce<arguments.length;Ce++)je[Ce-2]=arguments[Ce];var tt=je[0],at=je[1],gt=je[2],kt=gt===void 0?{}:gt,$t=Ee.timeZone,va=Ee.locale,fa=Ee.onError,wa=(0,j.L6)(kt,Re,$t?{timeZone:$t}:{});try{return Ue(va,wa).formatRange(tt,at)}catch(Qa){fa(new q.Qe("Error formatting date time range.",Ee.locale,Qa))}return String(tt)}function ue(Ee,Ue){for(var je=[],Ce=2;Ce<arguments.length;Ce++)je[Ce-2]=arguments[Ce];var tt=je[0],at=je[1],gt=at===void 0?{}:at,kt=typeof tt=="string"?new Date(tt||0):tt;try{return N(Ee,"date",Ue,gt).formatToParts(kt)}catch($t){Ee.onError(new q.Qe("Error formatting date.",Ee.locale,$t))}return[]}function Me(Ee,Ue){for(var je=[],Ce=2;Ce<arguments.length;Ce++)je[Ce-2]=arguments[Ce];var tt=je[0],at=je[1],gt=at===void 0?{}:at,kt=typeof tt=="string"?new Date(tt||0):tt;try{return N(Ee,"time",Ue,gt).formatToParts(kt)}catch($t){Ee.onError(new q.Qe("Error formatting time.",Ee.locale,$t))}return[]}var He=["type"];function Je(Ee,Ue,je,Ce){var tt=Ee.locale,at=Ee.onError;Ce===void 0&&(Ce={}),Intl.PluralRules||at(new O.u_(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,O.jK.MISSING_INTL_API));var gt=(0,j.L6)(Ce,He);try{return Ue(tt,gt).select(je)}catch(kt){at(new q.Qe("Error formatting plural.",tt,kt))}return"other"}var Xe=["type","style"],et=Date.now();function ct(Ee){return"".concat(et,"_").concat(Ee,"_").concat(et)}function oe(Ee,Ue,je,Ce){Ce===void 0&&(Ce={});var tt=xe(Ee,Ue,je,Ce).reduce(function(at,gt){var kt=gt.value;return typeof kt!="string"?at.push(kt):typeof at[at.length-1]=="string"?at[at.length-1]+=kt:at.push(kt),at},[]);return tt.length===1?tt[0]:tt.length===0?"":tt}function xe(Ee,Ue,je,Ce){var tt=Ee.locale,at=Ee.onError;Ce===void 0&&(Ce={});var gt=Intl.ListFormat;gt||at(new O.u_(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`,O.jK.MISSING_INTL_API));var kt=(0,j.L6)(Ce,Xe);try{var $t={},va=je.map(function(fa,wa){if(typeof fa=="object"){var Qa=ct(wa);return $t[Qa]=fa,Qa}return String(fa)});return Ue(tt,kt).formatToParts(va).map(function(fa){return fa.type==="literal"?fa:(0,C.pi)((0,C.pi)({},fa),{value:$t[fa.value]||fa.value})})}catch(fa){at(new q.Qe("Error formatting list.",tt,fa))}return je}var le=["style","type","fallback","languageDisplay"];function se(Ee,Ue,je,Ce){var tt=Ee.locale,at=Ee.onError,gt=Intl.DisplayNames;gt||at(new O.u_(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`,O.jK.MISSING_INTL_API));var kt=(0,j.L6)(Ce,le);try{return Ue(tt,kt).of(je)}catch($t){at(new q.Qe("Error formatting display name.",tt,$t))}}function ke(Ee){var Ue=Ee?Ee[Object.keys(Ee)[0]]:void 0;return typeof Ue=="string"}function ne(Ee){Ee.onWarn&&Ee.defaultRichTextElements&&ke(Ee.messages||{})&&Ee.onWarn(`[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. 
Please consider using "@formatjs/cli" to pre-compile your messages for performance.
For more details see https://formatjs.io/docs/getting-started/message-distribution`)}function pe(Ee,Ue){var je=(0,j.ax)(Ue),Ce=(0,C.pi)((0,C.pi)({},j.Z0),Ee),tt=Ce.locale,at=Ce.defaultLocale,gt=Ce.onError;return tt?!Intl.NumberFormat.supportedLocalesOf(tt).length&&gt?gt(new q.gb('Missing locale data for locale: "'.concat(tt,'" in Intl.NumberFormat. Using default locale: "').concat(at,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(tt).length&&gt&&gt(new q.gb('Missing locale data for locale: "'.concat(tt,'" in Intl.DateTimeFormat. Using default locale: "').concat(at,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):(gt&&gt(new q.OV('"locale" was not configured, using "'.concat(at,'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details'))),Ce.locale=Ce.defaultLocale||"en"),ne(Ce),(0,C.pi)((0,C.pi)({},Ce),{formatters:je,formatNumber:F.bind(null,Ce,je.getNumberFormat),formatNumberToParts:Z.bind(null,Ce,je.getNumberFormat),formatRelativeTime:be.bind(null,Ce,je.getRelativeTimeFormat),formatDate:Q.bind(null,Ce,je.getDateTimeFormat),formatDateToParts:ue.bind(null,Ce,je.getDateTimeFormat),formatTime:G.bind(null,Ce,je.getDateTimeFormat),formatDateTimeRange:Y.bind(null,Ce,je.getDateTimeFormat),formatTimeToParts:Me.bind(null,Ce,je.getDateTimeFormat),formatPlural:Je.bind(null,Ce,je.getPluralRules),formatMessage:ye.bind(null,Ce,je),$t:ye.bind(null,Ce,je),formatList:oe.bind(null,Ce,je.getListFormat),formatListToParts:xe.bind(null,Ce,je.getListFormat),formatDisplayName:se.bind(null,Ce,je.getDisplayNames)})}var V=e(61092);function de(Ee){return{locale:Ee.locale,timeZone:Ee.timeZone,fallbackOnEmptyString:Ee.fallbackOnEmptyString,formats:Ee.formats,textComponent:Ee.textComponent,messages:Ee.messages,defaultLocale:Ee.defaultLocale,defaultFormats:Ee.defaultFormats,onError:Ee.onError,onWarn:Ee.onWarn,wrapRichTextChunksInFragment:Ee.wrapRichTextChunksInFragment,defaultRichTextElements:Ee.defaultRichTextElements}}function we(Ee){return Ee&&Object.keys(Ee).reduce(function(Ue,je){var Ce=Ee[je];return Ue[je]=(0,V.Gt)(Ce)?(0,W.dt)(Ce):Ce,Ue},{})}var ze=function(Ee,Ue,je,Ce){for(var tt=[],at=4;at<arguments.length;at++)tt[at-4]=arguments[at];var gt=we(Ce),kt=ye.apply(void 0,(0,C.ev)([Ee,Ue,je,gt],tt,!1));return Array.isArray(kt)?h.Children.toArray(kt):kt},Fe=function(Ee,Ue){var je=Ee.defaultRichTextElements,Ce=(0,C._T)(Ee,["defaultRichTextElements"]),tt=we(je),at=pe((0,C.pi)((0,C.pi)((0,C.pi)({},W.Z0),Ce),{defaultRichTextElements:tt}),Ue),gt={locale:at.locale,timeZone:at.timeZone,fallbackOnEmptyString:at.fallbackOnEmptyString,formats:at.formats,defaultLocale:at.defaultLocale,defaultFormats:at.defaultFormats,messages:at.messages,onError:at.onError,defaultRichTextElements:tt};return(0,C.pi)((0,C.pi)({},at),{formatMessage:ze.bind(null,gt,at.formatters),$t:ze.bind(null,gt,at.formatters)})},Ye=function(Ee){(0,C.ZT)(Ue,Ee);function Ue(){var je=Ee!==null&&Ee.apply(this,arguments)||this;return je.cache=(0,j.Sn)(),je.state={cache:je.cache,intl:Fe(de(je.props),je.cache),prevConfig:de(je.props)},je}return Ue.getDerivedStateFromProps=function(je,Ce){var tt=Ce.prevConfig,at=Ce.cache,gt=de(je);return(0,W.wU)(tt,gt)?null:{intl:Fe(gt,at),prevConfig:gt}},Ue.prototype.render=function(){return(0,W.lq)(this.state.intl),h.createElement(_.zt,{value:this.state.intl},this.props.children)},Ue.displayName="IntlProvider",Ue.defaultProps=W.Z0,Ue}(h.PureComponent),pt=null,Tt=e(77742),yt=e(90482),fe=e(86074),v=(0,j.Sn)(),B=function(Ue){var je=(0,h.useCallback)(function(){var kt=yt.k.slice().reverse().find(function(va){return"suffix"in va?L.m8.location.pathname.replace(/([^/])\/$/,"$1").endsWith(va.suffix):L.m8.location.pathname.replace(/([^/])\/$/,"$1").startsWith(""+va.base)}),$t=kt?kt.id:yt.k[0].id;return Fe({locale:$t,messages:yt.s[$t]||{}},v)},[]),Ce=(0,h.useState)(function(){return je()}),tt=A()(Ce,2),at=tt[0],gt=tt[1];return(0,Tt.LI)(function(){return L.m8.listen(function(){gt(je())})},[]),(0,fe.jsx)(_.zt,{value:at,children:Ue.children},at.locale)};function ee(Ee){return h.createElement(B,null,Ee)}function ce(Ee){var Ue=Ee.history,je=Ee.hydrate;return s()(s()({},Ee),{},{hydrate:je&&!Ue.location.pathname.startsWith("/~demos")})}var Ae=e(87042);function Ne(Ee){return Ee.default?typeof Ee.default=="function"?Ee.default():Ee.default:Ee}function Se(){return[{apply:u,path:void 0},{apply:o,path:void 0},{apply:r,path:void 0},{apply:l,path:void 0},{apply:d,path:void 0}]}function We(){return["patchRoutes","patchClientRoutes","modifyContextOpts","modifyClientRenderOpts","rootContainer","innerProvider","i18nProvider","accessProvider","dataflowProvider","outerProvider","render","onRouteChange"]}var Ve=null;function Qe(){return Ve=Ae.Q$.create({plugins:Se(),validKeys:We()}),Ve}function mt(){return Ve}},14570:function(i,I,e){"use strict";e.d(I,{Dl:function(){return A},dY:function(){return Me},_H:function(){return h},ql:function(){return u.ql},rU:function(){return u.rU},OL:function(){return u.OL},p6:function(){return u.p6},m8:function(){return u.m8},fp:function(){return u.fp},il:function(){return ne},Sc:function(){return Ya},Ov:function(){return u.Ov},yh:function(){return Ko},YB:function(){return l.Z},bU:function(){return ar.b},TH:function(){return u.TH},OK:function(){return so},pC:function(){return u.pC},UO:function(){return u.UO},OI:function(){return Wr},Qt:function(){return u.Qt},eL:function(){return lr},lr:function(){return u.lr},tx:function(){return ud},WF:function(){return m.W},OO:function(){return iu},zh:function(){return be}});var u=e(87042),o=e(70655),r=e(62435),l=e(86896),d=e(680);function p(M,$){var U=M.values,me=(0,o._T)(M,["values"]),Ze=$.values,ut=(0,o._T)($,["values"]);return(0,d.wU)(Ze,U)&&(0,d.wU)(me,ut)}function s(M){var $=(0,l.Z)(),U=$.formatMessage,me=$.textComponent,Ze=me===void 0?r.Fragment:me,ut=M.id,lt=M.description,xt=M.defaultMessage,Dt=M.values,Ft=M.children,ea=M.tagName,ma=ea===void 0?Ze:ea,aa=M.ignoreTag,na={id:ut,description:lt,defaultMessage:xt},ua=U(na,Dt,{ignoreTag:aa});return typeof Ft=="function"?Ft(Array.isArray(ua)?ua:[ua]):ma?r.createElement(ma,null,r.Children.toArray(ua)):r.createElement(r.Fragment,null,ua)}s.displayName="FormattedMessage";var f=r.memo(s,p);f.displayName="MemoizedFormattedMessage";var h=f,x=e(35095),m=e(64236),g=e(68498),y=e(19532),S=e(20729),E=e(35800);function P(){return P=Object.assign?Object.assign.bind():function(M){for(var $=1;$<arguments.length;$++){var U=arguments[$];for(var me in U)Object.prototype.hasOwnProperty.call(U,me)&&(M[me]=U[me])}return M},P.apply(this,arguments)}var k=function($){return r.createElement(E.ErrorBoundary,{fallbackRender:function(me){var Ze=me.error;return r.createElement(y.Z,{type:"error"},r.createElement("p",null,r.createElement("strong",null,Ze.message||"This demo has been crashed.")),Ze.stack&&r.createElement("p",null,r.createElement("details",{open:!0},r.createElement("summary",null,"Error stack"),r.createElement("pre",null,Ze.stack))))}},$.children)},A=function($){var U=(0,m.W)(),me=U.demos,Ze=U.historyType,ut=(0,u.Ov)(),lt=ut.basename,xt=me[$.demo.id],Dt=xt.component,Ft=xt.asset;if($.previewerProps.debug)return null;if($.demo.inline)return r.createElement(k,null,(0,r.createElement)(Dt));var ea=Ze==="hash";return r.createElement(S.Z,P({asset:Ft,demoUrl:$.previewerProps.demoUrl||"".concat(ea?"#":"").concat(lt).concat(g.SP_ROUTE_PREFIX,"demos/").concat($.demo.id)},$.previewerProps),$.previewerProps.iframe?null:r.createElement(k,null,(0,r.createElement)(Dt)))};function L(){return L=Object.assign?Object.assign.bind():function(M){for(var $=1;$<arguments.length;$++){var U=arguments[$];for(var me in U)Object.prototype.hasOwnProperty.call(U,me)&&(M[me]=U[me])}return M},L.apply(this,arguments)}function j(M,$){return te(M)||X(M,$)||_(M,$)||C()}function C(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(M,$){if(M){if(typeof M=="string")return W(M,$);var U=Object.prototype.toString.call(M).slice(8,-1);if(U==="Object"&&M.constructor&&(U=M.constructor.name),U==="Map"||U==="Set")return Array.from(M);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return W(M,$)}}function W(M,$){($==null||$>M.length)&&($=M.length);for(var U=0,me=new Array($);U<$;U++)me[U]=M[U];return me}function X(M,$){var U=M==null?null:typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(U!=null){var me=[],Ze=!0,ut=!1,lt,xt;try{for(U=U.call(M);!(Ze=(lt=U.next()).done)&&(me.push(lt.value),!($&&me.length===$));Ze=!0);}catch(Dt){ut=!0,xt=Dt}finally{try{!Ze&&U.return!=null&&U.return()}finally{if(ut)throw xt}}return me}}function te(M){if(Array.isArray(M))return M}var q=function($){var U=useRouteMeta(),me=U.frontmatter,Ze=useCallback(function(Ft,ea){var ma,aa=[],na=ea.filter(function(Ea){return!Ea.previewerProps.debug});if((ma=Ft.demo)!==null&&ma!==void 0&&ma.cols&&Ft.demo.cols>1&&(typeof window=="undefined"||window.innerWidth>1024)){for(var ua=0;ua<na.length;ua+=Ft.demo.cols)na.slice(ua,ua+Ft.demo.cols).forEach(function(Ea,nn){var En;(En=aa[nn])!==null&&En!==void 0||(aa[nn]=[]),aa[nn].push(Ea)});return aa}else aa.push(na);return aa},[]),ut=useState(function(){return Ze(me,$.items)}),lt=j(ut,2),xt=lt[0],Dt=lt[1];return useEffect(function(){var Ft=function(){return Dt(Ze(me,$.items))};return window.addEventListener("resize",Ft),Ft(),function(){return window.removeEventListener("resize",Ft)}},[$.items,me.demo]),React.createElement("div",{style:{display:"flex",margin:-8},"data-dumi-demo-grid":!0},xt.map(function(Ft,ea){return React.createElement("section",{style:{flex:1,padding:8,width:0},key:String(ea)},Ft.map(function(ma){return React.createElement(DumiDemo,L({key:ma.demo.id},ma))}))}))},he=function($){var U=$.tabs,me=$.tabKey,Ze=$.onChange,ut=(0,l.Z)();return Boolean(U==null?void 0:U.length)?r.createElement("ul",{className:"dumi-default-content-tabs"},r.createElement("li",{onClick:function(){return Ze()},"data-active":!me||void 0},r.createElement("button",{type:"button"},ut.formatMessage({id:"content.tabs.default"}))),U.map(function(lt){return r.createElement("li",{key:lt.key,onClick:function(){return Ze(lt)},"data-active":me===lt.key||void 0},r.createElement("button",{type:"button"},lt.titleIntlId?ut.formatMessage({id:lt.titleIntlId}):lt.meta.frontmatter.title))})):null},Pe=he,Te=e(74865),De=e.n(Te);function ye(M,$){return O(M)||Z(M,$)||T(M,$)||ve()}function ve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T(M,$){if(M){if(typeof M=="string")return F(M,$);var U=Object.prototype.toString.call(M).slice(8,-1);if(U==="Object"&&M.constructor&&(U=M.constructor.name),U==="Map"||U==="Set")return Array.from(M);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return F(M,$)}}function F(M,$){($==null||$>M.length)&&($=M.length);for(var U=0,me=new Array($);U<$;U++)me[U]=M[U];return me}function Z(M,$){var U=M==null?null:typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(U!=null){var me=[],Ze=!0,ut=!1,lt,xt;try{for(U=U.call(M);!(Ze=(lt=U.next()).done)&&(me.push(lt.value),!($&&me.length===$));Ze=!0);}catch(Dt){ut=!0,xt=Dt}finally{try{!Ze&&U.return!=null&&U.return()}finally{if(ut)throw xt}}return me}}function O(M){if(Array.isArray(M))return M}var z="tab",ae=function(){var $=(0,u.TH)(),U=$.pathname,me=(0,u.lr)(),Ze=ye(me,1),ut=Ze[0],lt=(0,r.useCallback)(function(xt){xt?ut.set(z,xt):ut.delete(z),u.m8.push({pathname:U,search:ut.toString()})},[ut]);return[ut.get(z),lt]},be=function(){var $,U=lr(),me=U.tabs,Ze=ae(),ut=ye(Ze,1),lt=ut[0];return me==null||($=me.find(function(xt){var Dt=xt.key;return lt===Dt}))===null||$===void 0?void 0:$.meta};function Re(M,$){return ue(M)||Y(M,$)||Q(M,$)||N()}function N(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q(M,$){if(M){if(typeof M=="string")return G(M,$);var U=Object.prototype.toString.call(M).slice(8,-1);if(U==="Object"&&M.constructor&&(U=M.constructor.name),U==="Map"||U==="Set")return Array.from(M);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return G(M,$)}}function G(M,$){($==null||$>M.length)&&($=M.length);for(var U=0,me=new Array($);U<$;U++)me[U]=M[U];return me}function Y(M,$){var U=M==null?null:typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(U!=null){var me=[],Ze=!0,ut=!1,lt,xt;try{for(U=U.call(M);!(Ze=(lt=U.next()).done)&&(me.push(lt.value),!($&&me.length===$));Ze=!0);}catch(Dt){ut=!0,xt=Dt}finally{try{!Ze&&U.return!=null&&U.return()}finally{if(ut)throw xt}}return me}}function ue(M){if(Array.isArray(M))return M}var Me=function($){var U=lr(),me=U.tabs,Ze=ae(),ut=Re(Ze,2),lt=ut[0],xt=ut[1],Dt=(0,r.useState)(function(){return me==null?void 0:me.find(function(ua){var Ea=ua.key;return Ea===lt})}),Ft=Re(Dt,2),ea=Ft[0],ma=Ft[1],aa=(0,m.W)(),na=aa.setLoading;return(0,r.useEffect)(function(){na(!1),De().done()},[]),r.createElement(r.Fragment,null,r.createElement(Pe,{tabs:me,tabKey:lt,onChange:function(Ea){ma(Ea),xt(Ea==null?void 0:Ea.key)}}),ea?r.createElement(ea.components.default):$.children)},He=e(12662),Je=e(77742);function Xe(M,$){return le(M)||xe(M,$)||ct(M,$)||et()}function et(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ct(M,$){if(M){if(typeof M=="string")return oe(M,$);var U=Object.prototype.toString.call(M).slice(8,-1);if(U==="Object"&&M.constructor&&(U=M.constructor.name),U==="Map"||U==="Set")return Array.from(M);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return oe(M,$)}}function oe(M,$){($==null||$>M.length)&&($=M.length);for(var U=0,me=new Array($);U<$;U++)me[U]=M[U];return me}function xe(M,$){var U=M==null?null:typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(U!=null){var me=[],Ze=!0,ut=!1,lt,xt;try{for(U=U.call(M);!(Ze=(lt=U.next()).done)&&(me.push(lt.value),!($&&me.length===$));Ze=!0);}catch(Dt){ut=!0,xt=Dt}finally{try{!Ze&&U.return!=null&&U.return()}finally{if(ut)throw xt}}return me}}function le(M){if(Array.isArray(M))return M}var se="https://codesandbox.io/api/v1/sandboxes/define";function ke(M){var $,U,me,Ze,ut,lt=Boolean(($=M.asset.dependencies)===null||$===void 0?void 0:$["index.tsx"]),xt=lt?".tsx":".jsx",Dt={},Ft={},ea="index".concat(xt);return Object.entries(M.asset.dependencies).forEach(function(ma){var aa=Xe(ma,2),na=aa[0],ua=aa[1],Ea=ua.type,nn=ua.value;Ea==="NPM"?Ft[na]=nn:Dt[na===ea?"App".concat(xt):na]={content:nn,isBinary:!1}}),(me=Ft[U="react"])!==null&&me!==void 0||(Ft[U]="latest"),(ut=Ft[Ze="react-dom"])!==null&&ut!==void 0||(Ft[Ze]=Ft.react),Dt["sandbox.config.json"]={content:JSON.stringify({template:"create-react-app"},null,2),isBinary:!1},Dt["package.json"]={content:JSON.stringify({name:M.title,description:M.description||"An auto-generated demo by dumi",main:ea,dependencies:Ft,devDependencies:lt?{typescript:"^4"}:{}},null,2),isBinary:!1},Dt["index.html"]={content:'<div style="margin: 16px;" id="root"></div>',isBinary:!1},Dt[ea]={content:(0,Je.AM)(Ft.react),isBinary:!1},(0,He.Z)({files:Dt})}var ne=function($,U){var me,Ze=document.createElement("form"),ut=document.createElement("input"),lt=ke($);Ze.method="POST",Ze.target="_blank",Ze.style.display="none",Ze.action=(U==null?void 0:U.api)||se,Ze.appendChild(ut),Ze.setAttribute("data-demo",((me=$.assets)===null||me===void 0?void 0:me.id)||""),ut.name="parameters",ut.value=lt,document.body.appendChild(Ze),Ze.submit(),Ze.remove()};const pe=500,V=20,de=300,we="https://stackblitz.com",ze=["angular-cli","create-react-app","html","javascript","node","polymer","typescript","vue"],Fe=["project","search","ports","settings"],Ye=["light","dark"],pt=["editor","preview"],Tt={clickToLoad:M=>fe("ctl",M),devToolsHeight:M=>B("devtoolsheight",M),forceEmbedLayout:M=>fe("embed",M),hideDevTools:M=>fe("hidedevtools",M),hideExplorer:M=>fe("hideExplorer",M),hideNavigation:M=>fe("hideNavigation",M),openFile:M=>ce("file",M),showSidebar:M=>v("showSidebar",M),sidebarView:M=>ee("sidebarView",M,Fe),startScript:M=>ce("startScript",M),terminalHeight:M=>B("terminalHeight",M),theme:M=>ee("theme",M,Ye),view:M=>ee("view",M,pt),zenMode:M=>fe("zenMode",M)};function yt(M={}){const $=Object.entries(M).map(([U,me])=>me!=null&&Tt.hasOwnProperty(U)?Tt[U](me):"").filter(Boolean);return $.length?`?${$.join("&")}`:""}function fe(M,$){return $===!0?`${M}=1`:""}function v(M,$){return typeof $=="boolean"?`${M}=${$?"1":"0"}`:""}function B(M,$){if(typeof $=="number"&&!Number.isNaN($)){const U=Math.min(100,Math.max(0,$));return`${M}=${encodeURIComponent(Math.round(U))}`}return""}function ee(M,$="",U=[]){return U.includes($)?`${M}=${encodeURIComponent($)}`:""}function ce(M,$){return(Array.isArray($)?$:[$]).filter(me=>typeof me=="string"&&me.trim()!=="").map(me=>`${M}=${encodeURIComponent(me)}`).join("&")}function Ae(){return Math.random().toString(36).slice(2,6)+Math.random().toString(36).slice(2,6)}function Ne(M,$){return`${We($)}${M}${yt($)}`}function Se(M,$){const U={forceEmbedLayout:!0};return $&&typeof $=="object"&&Object.assign(U,$),`${We(U)}${M}${yt(U)}`}function We(M={}){return(typeof M.origin=="string"?M.origin:we).replace(/\/$/,"")}function Ve(M,$,U){if(!$||!M||!M.parentNode)throw new Error("Invalid Element");M.id&&($.id=M.id),M.className&&($.className=M.className),Ee($,U),M.replaceWith($)}function Qe(M){if(typeof M=="string"){const $=document.getElementById(M);if(!$)throw new Error(`Could not find element with id '${M}'`);return $}else if(M instanceof HTMLElement)return M;throw new Error(`Invalid element: ${M}`)}function mt(M){return M&&M.newWindow===!1?"_self":"_blank"}function Ee(M,$={}){const U=Object.hasOwnProperty.call($,"height")?`${$.height}`:`${de}`,me=Object.hasOwnProperty.call($,"width")?`${$.width}`:void 0;M.setAttribute("height",U),me?M.setAttribute("width",me):M.setAttribute("style","width:100%;")}class Ue{constructor($){this.pending={},this.port=$,this.port.onmessage=this.messageListener.bind(this)}request({type:$,payload:U}){return new Promise((me,Ze)=>{const ut=Ae();this.pending[ut]={resolve:me,reject:Ze},this.port.postMessage({type:$,payload:$c(qi({},U),{__reqid:ut})})})}messageListener($){var xt;if(typeof((xt=$.data.payload)==null?void 0:xt.__reqid)!="string")return;const{type:U,payload:me}=$.data,{__reqid:Ze,__success:ut,__error:lt}=me;this.pending[Ze]&&(ut?this.pending[Ze].resolve(this.cleanResult(me)):this.pending[Ze].reject(lt?`${U}: ${lt}`:U),delete this.pending[Ze])}cleanResult($){const U=qi({},$);return delete U.__reqid,delete U.__success,delete U.__error,Object.keys(U).length?U:null}}class je{constructor($,U){this.editor={openFile:me=>this._rdc.request({type:"SDK_OPEN_FILE",payload:{path:me}}),setCurrentFile:me=>this._rdc.request({type:"SDK_SET_CURRENT_FILE",payload:{path:me}}),setTheme:me=>this._rdc.request({type:"SDK_SET_UI_THEME",payload:{theme:me}}),setView:me=>this._rdc.request({type:"SDK_SET_UI_VIEW",payload:{view:me}}),showSidebar:(me=!0)=>this._rdc.request({type:"SDK_TOGGLE_SIDEBAR",payload:{visible:me}})},this.preview={origin:"",getUrl:()=>this._rdc.request({type:"SDK_GET_PREVIEW_URL",payload:{}}).then(me=>{var Ze;return(Ze=me==null?void 0:me.url)!=null?Ze:null}),setUrl:(me="/")=>{if(typeof me!="string"||!me.startsWith("/"))throw new Error(`Invalid argument: expected a path starting with '/', got '${me}'`);return this._rdc.request({type:"SDK_SET_PREVIEW_URL",payload:{path:me}})}},this._rdc=new Ue($),Object.defineProperty(this.preview,"origin",{value:typeof U.previewOrigin=="string"?U.previewOrigin:null,writable:!1})}applyFsDiff($){const U=me=>me!==null&&typeof me=="object";if(!U($)||!U($.create))throw new Error("Invalid diff object: expected diff.create to be an object.");if(!Array.isArray($.destroy))throw new Error("Invalid diff object: expected diff.destroy to be an array.");return this._rdc.request({type:"SDK_APPLY_FS_DIFF",payload:$})}getDependencies(){return this._rdc.request({type:"SDK_GET_DEPS_SNAPSHOT",payload:{}})}getFsSnapshot(){return this._rdc.request({type:"SDK_GET_FS_SNAPSHOT",payload:{}})}}const Ce=[];class tt{constructor($){this.id=Ae(),this.element=$,this.pending=new Promise((U,me)=>{const Ze=({data:Ft,ports:ea})=>{(Ft==null?void 0:Ft.action)==="SDK_INIT_SUCCESS"&&Ft.id===this.id&&(this.vm=new je(ea[0],Ft.payload),U(this.vm),lt())},ut=()=>{var Ft;(Ft=this.element.contentWindow)==null||Ft.postMessage({action:"SDK_INIT",id:this.id},"*")};function lt(){window.clearInterval(Dt),window.removeEventListener("message",Ze)}window.addEventListener("message",Ze),ut();let xt=0;const Dt=window.setInterval(()=>{if(this.vm){lt();return}if(xt>=V){lt(),me("Timeout: Unable to establish a connection with the StackBlitz VM"),Ce.forEach((Ft,ea)=>{Ft.id===this.id&&Ce.splice(ea,1)});return}xt++,ut()},pe)}),Ce.push(this)}}const at=M=>{var U;const $=M instanceof Element?"element":"id";return(U=Ce.find(me=>me[$]===M))!=null?U:null};function gt(M,$){const U=document.createElement("input");return U.type="hidden",U.name=M,U.value=$,U}function kt(M){return M.replace(/\[/g,"%5B").replace(/\]/g,"%5D")}function $t({template:M,title:$,description:U,dependencies:me,files:Ze,settings:ut}){if(!ze.includes(M)){const Ft=ze.map(ea=>`'${ea}'`).join(", ");console.warn(`Unsupported project.template: must be one of ${Ft}`)}const lt=[],xt=(Ft,ea,ma="")=>{lt.push(gt(Ft,typeof ea=="string"?ea:ma))};xt("project[title]",$),typeof U=="string"&&U.length>0&&xt("project[description]",U),xt("project[template]",M,"javascript"),me&&(M==="node"?console.warn("Invalid project.dependencies: dependencies must be provided as a 'package.json' file when using the 'node' template."):xt("project[dependencies]",JSON.stringify(me))),ut&&xt("project[settings]",JSON.stringify(ut)),Object.entries(Ze).forEach(([Ft,ea])=>{xt(`project[files][${kt(Ft)}]`,ea)});const Dt=document.createElement("form");return Dt.method="POST",Dt.setAttribute("style","display:none!important;"),Dt.append(...lt),Dt}function va(M,$){const U=$t(M);return U.action=Se("/run",$),U.id="sb_run",`<!doctype html>
<html>
<head><title></title></head>
<body>
  ${U.outerHTML}
  <script>document.getElementById('${U.id}').submit();<\/script>
</body>
</html>`}function fa(M,$){const U=$t(M);U.action=Ne("/run",$),U.target=mt($),document.body.appendChild(U),U.submit(),document.body.removeChild(U)}function wa(M){var U;return M!=null&&M.contentWindow?((U=at(M))!=null?U:new tt(M)).pending:Promise.reject("Provided element is not an iframe.")}function Qa(M,$){fa(M,$)}function Pn(M,$){const U=Ne(`/edit/${M}`,$),me=mt($);window.open(U,me)}function tr(M,$){const U=Ne(`/github/${M}`,$),me=mt($);window.open(U,me)}function On(M,$,U){var lt;const me=Qe(M),Ze=va($,U),ut=document.createElement("iframe");return Ve(me,ut,U),(lt=ut.contentDocument)==null||lt.write(Ze),wa(ut)}function Et(M,$,U){const me=Qe(M),Ze=document.createElement("iframe");return Ze.src=Se(`/edit/${$}`,U),Ve(me,Ze,U),wa(Ze)}function nt(M,$,U){const me=Qe(M),Ze=document.createElement("iframe");return Ze.src=Se(`/github/${$}`,U),Ve(me,Ze,U),wa(Ze)}const It={connect:wa,embedGithubProject:nt,embedProject:On,embedProjectId:Et,openGithubProject:tr,openProject:Qa,openProjectId:Pn};function Vt(M,$){return dn(M)||Ha(M,$)||Xt(M,$)||ta()}function ta(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xt(M,$){if(M){if(typeof M=="string")return ja(M,$);var U=Object.prototype.toString.call(M).slice(8,-1);if(U==="Object"&&M.constructor&&(U=M.constructor.name),U==="Map"||U==="Set")return Array.from(M);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return ja(M,$)}}function ja(M,$){($==null||$>M.length)&&($=M.length);for(var U=0,me=new Array($);U<$;U++)me[U]=M[U];return me}function Ha(M,$){var U=M==null?null:typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(U!=null){var me=[],Ze=!0,ut=!1,lt,xt;try{for(U=U.call(M);!(Ze=(lt=U.next()).done)&&(me.push(lt.value),!($&&me.length===$));Ze=!0);}catch(Dt){ut=!0,xt=Dt}finally{try{!Ze&&U.return!=null&&U.return()}finally{if(ut)throw xt}}return me}}function dn(M){if(Array.isArray(M))return M}var Ya=function($){var U,me,Ze,ut,lt,xt=Boolean((U=$.asset.dependencies)===null||U===void 0?void 0:U["index.tsx"]),Dt=xt?".tsx":".jsx",Ft={},ea="index".concat(Dt),ma={"index.html":'<div style="margin: 16px;" id="root"></div>'},aa={title:$.title||"",description:$.description||"An auto-generated demo by dumi",template:"create-react-app",files:{}};Object.entries($.asset.dependencies).forEach(function(na){var ua=Vt(na,2),Ea=ua[0],nn=ua[1],En=nn.type,Zn=nn.value;En==="NPM"?Ft[Ea]=Zn:ma[Ea===ea?"App".concat(Dt):Ea]=Zn}),(Ze=Ft[me="react"])!==null&&Ze!==void 0||(Ft[me]="latest"),(lt=Ft[ut="react-dom"])!==null&&lt!==void 0||(Ft[ut]=Ft.react),ma["package.json"]=JSON.stringify({name:$.title,description:$.description||"An auto-generated demo by dumi",dependencies:Ft,devDependencies:xt?{typescript:"^4"}:{}},null,2),ma[ea]=(0,Je.AM)(Ft.react),aa.files=ma,It.openProject(aa)},Mn=function(){var $=useSiteData(),U=$.components;return{components:U}},ar=e(88903);function Xa(M){return yo(M)||Vr(M)||Oo(M)||Zo()}function Zo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vr(M){if(typeof Symbol!="undefined"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)}function yo(M){if(Array.isArray(M))return Ur(M)}function dr(M,$){return nu(M)||gr(M,$)||Oo(M,$)||bo()}function bo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oo(M,$){if(M){if(typeof M=="string")return Ur(M,$);var U=Object.prototype.toString.call(M).slice(8,-1);if(U==="Object"&&M.constructor&&(U=M.constructor.name),U==="Map"||U==="Set")return Array.from(M);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return Ur(M,$)}}function Ur(M,$){($==null||$>M.length)&&($=M.length);for(var U=0,me=new Array($);U<$;U++)me[U]=M[U];return me}function gr(M,$){var U=M==null?null:typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(U!=null){var me=[],Ze=!0,ut=!1,lt,xt;try{for(U=U.call(M);!(Ze=(lt=U.next()).done)&&(me.push(lt.value),!($&&me.length===$));Ze=!0);}catch(Dt){ut=!0,xt=Dt}finally{try{!Ze&&U.return!=null&&U.return()}finally{if(ut)throw xt}}return me}}function nu(M){if(Array.isArray(M))return M}function yr(M,$){var U=Object.keys(M);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(M);$&&(me=me.filter(function(Ze){return Object.getOwnPropertyDescriptor(M,Ze).enumerable})),U.push.apply(U,me)}return U}function bu(M){for(var $=1;$<arguments.length;$++){var U=arguments[$]!=null?arguments[$]:{};$%2?yr(Object(U),!0).forEach(function(me){ru(M,me,U[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(U)):yr(Object(U)).forEach(function(me){Object.defineProperty(M,me,Object.getOwnPropertyDescriptor(U,me))})}return M}function ru(M,$,U){return $ in M?Object.defineProperty(M,$,{value:U,enumerable:!0,configurable:!0,writable:!0}):M[$]=U,M}function Qr(M,$,U,me){return bu({title:M.title||$[0].title||$[0].children[0].title,order:M.order||0,activePath:U},me?{link:me}:{})}var so=function(){var $=(0,ar.b)(),U=(0,Je.RX)(),me=(0,m.W)(),Ze=me.themeConfig,ut=me._2_level_nav_available,lt=Ko(),xt=(0,Je.M7)(),Dt=(0,r.useState)(function(){var ma=[],aa;if(Ze.nav&&("mode"in Ze.nav&&typeof Ze.nav.mode=="string"?(aa=Ze.nav.mode,ma=(0,Je.m7)(Ze.nav.value,$)):"mode"in Ze.nav||(ma=(0,Je.m7)(Ze.nav,$)),!aa||aa==="override"))return ma;var na=Object.values(Object.entries(lt).sort(function(ua,Ea){var nn=dr(ua,1),En=nn[0],Zn=dr(Ea,1),cr=Zn[0];return En.split("/").length-cr.split("/").length}).reduce(function(ua,Ea){var nn=dr(Ea,2),En=nn[0],Zn=nn[1],cr=En.match(/^(\/[^/]+)([^]+)?$/),Sn=dr(cr,3),fo=Sn[1],Er=Sn[2],Mo=Boolean(Er)&&ut,cu=Object.values(U).reduce(function(Vo,Fo){return Fo.path.startsWith(En.slice(1))&&((0,Je.qu)(Vo[0],"nav",Fo.meta.frontmatter),Mo&&(0,Je.qu)(Vo[1],"nav.second",Fo.meta.frontmatter)),Vo},[{},{}]),No=dr(cu,2),ao=No[0],Zt=No[1];if(Mo){var _o,no,Do;(_o=ao.title)!==null&&_o!==void 0||(ao.title=fo.slice(1).replace(/^[a-z]/,function(Vo){return Vo.toUpperCase()}));var ju=(no=ua[fo])!==null&&no!==void 0?no:ua[fo]=Qr(ao,Zn,fo);(Do=ju.children)!==null&&Do!==void 0||(ju.children=[]),ua[fo].children.push(Qr(Zt,Zn,En,Zn[0].children[0].link))}else ua[En]=Qr(ao,Zn,En,Zn[0].children[0].link);return ua},{}));return na.forEach(function(ua,Ea){var nn;!ua.link&&((nn=ua.children)===null||nn===void 0?void 0:nn.length)===1?na[Ea]=ua.children[0]:ua.children&&ua.children.sort(xt)}),na.sort(xt),aa==="prepend"?na.unshift.apply(na,Xa(ma)):aa==="append"&&na.push.apply(na,Xa(ma)),na}),Ft=dr(Dt,1),ea=Ft[0];return ea};function po(M,$){return Br(M)||To(M,$)||Mr(M,$)||Io()}function Io(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mr(M,$){if(M){if(typeof M=="string")return ou(M,$);var U=Object.prototype.toString.call(M).slice(8,-1);if(U==="Object"&&M.constructor&&(U=M.constructor.name),U==="Map"||U==="Set")return Array.from(M);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return ou(M,$)}}function ou(M,$){($==null||$>M.length)&&($=M.length);for(var U=0,me=new Array($);U<$;U++)me[U]=M[U];return me}function To(M,$){var U=M==null?null:typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(U!=null){var me=[],Ze=!0,ut=!1,lt,xt;try{for(U=U.call(M);!(Ze=(lt=U.next()).done)&&(me.push(lt.value),!($&&me.length===$));Ze=!0);}catch(Dt){ut=!0,xt=Dt}finally{try{!Ze&&U.return!=null&&U.return()}finally{if(ut)throw xt}}return me}}function Br(M){if(Array.isArray(M))return M}function zn(M,$){if(!(M instanceof $))throw new TypeError("Cannot call a class as a function")}function ln(M,$){for(var U=0;U<$.length;U++){var me=$[U];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(M,me.key,me)}}function cn(M,$,U){return $&&ln(M.prototype,$),U&&ln(M,U),Object.defineProperty(M,"prototype",{writable:!1}),M}function Tn(M,$,U){return $ in M?Object.defineProperty(M,$,{value:U,enumerable:!0,configurable:!0,writable:!0}):M[$]=U,M}var Ja,oa=function(){function M($){var U=this;zn(this,M),Tn(this,"color",void 0),Tn(this,"prefersColor",void 0),Tn(this,"callbacks",[]),this.prefersColor=navigator.cookieEnabled&&localStorage.getItem(g.PREFERS_COLOR_LS_KEY)||$.default,this.color=document.documentElement.getAttribute(g.PREFERS_COLOR_ATTR),["light","dark"].forEach(function(me){var Ze=U.getColorMedia(me),ut=function(xt){xt.matches&&U.prefersColor==="auto"&&(U.color=me,document.documentElement.setAttribute(g.PREFERS_COLOR_ATTR,me),U.applyCallbacks())};Ze.addEventListener?Ze.addEventListener("change",ut):Ze.addListener&&Ze.addListener(ut)})}return cn(M,[{key:"getColorMedia",value:function(U){return window.matchMedia("(prefers-color-scheme: ".concat(U,")"))}},{key:"isColorMode",value:function(U){return this.getColorMedia(U).matches}},{key:"applyCallbacks",value:function(){var U=this;this.callbacks.forEach(function(me){return me({color:U.color,prefersColor:U.prefersColor})})}},{key:"listen",value:function(U){this.callbacks.push(U)}},{key:"unlisten",value:function(U){this.callbacks.splice(this.callbacks.indexOf(U),1)}},{key:"tryPrefersColor",value:function(U){return navigator.cookieEnabled&&localStorage.setItem(g.PREFERS_COLOR_LS_KEY,U),this.prefersColor=U,this.color=U==="auto"?this.isColorMode("dark")?"dark":"light":U,document.documentElement.setAttribute(g.PREFERS_COLOR_ATTR,U),this.applyCallbacks(),U}}]),M}(),Wr=function(){var $=(0,m.W)(),U=$.themeConfig,me=(0,r.useState)(),Ze=po(me,2),ut=Ze[0],lt=Ze[1],xt=(0,r.useState)(),Dt=po(xt,2),Ft=Dt[0],ea=Dt[1],ma=(0,r.useCallback)(function(na){Ja.tryPrefersColor(na)},[]),aa=(0,r.useCallback)(function(na){lt(na.color),ea(na.prefersColor)},[]);return(0,r.useEffect)(function(){var na;return(na=Ja)!==null&&na!==void 0||(Ja=new oa({default:U.prefersColor.default})),Ja.listen(aa),lt(Ja.color),ea(Ja.prefersColor),function(){return Ja.unlisten(aa)}},[]),[ut,Ft,ma]};function Nn(M,$){return eo(M)||Fn(M,$)||zr(M,$)||Dn()}function Dn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zr(M,$){if(M){if(typeof M=="string")return Yr(M,$);var U=Object.prototype.toString.call(M).slice(8,-1);if(U==="Object"&&M.constructor&&(U=M.constructor.name),U==="Map"||U==="Set")return Array.from(M);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return Yr(M,$)}}function Yr(M,$){($==null||$>M.length)&&($=M.length);for(var U=0,me=new Array($);U<$;U++)me[U]=M[U];return me}function Fn(M,$){var U=M==null?null:typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(U!=null){var me=[],Ze=!0,ut=!1,lt,xt;try{for(U=U.call(M);!(Ze=(lt=U.next()).done)&&(me.push(lt.value),!($&&me.length===$));Ze=!0);}catch(Dt){ut=!0,xt=Dt}finally{try{!Ze&&U.return!=null&&U.return()}finally{if(ut)throw xt}}return me}}function eo(M){if(Array.isArray(M))return M}var lr=function(){var $=(0,u.Qt)(),U=$.route,me=(0,u.TH)(),Ze=me.pathname,ut=(0,u.Ov)(),lt=ut.clientRoutes,xt=(0,r.useCallback)(function(){var aa;if(U.path===Ze&&!("isLayout"in U))aa=U.meta;else{var na,ua,Ea=(na=(0,u.fp)(lt,Ze))===null||na===void 0?void 0:na.pop();aa=Ea==null||(ua=Ea.route)===null||ua===void 0?void 0:ua.meta}return aa||{frontmatter:{},toc:[],texts:[]}},[lt.length,Ze]),Dt=(0,r.useState)(xt),Ft=Nn(Dt,2),ea=Ft[0],ma=Ft[1];return(0,Je.LI)(function(){ma(xt)},[lt.length,Ze]),ea};function ir(M,$){var U=Object.keys(M);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(M);$&&(me=me.filter(function(Ze){return Object.getOwnPropertyDescriptor(M,Ze).enumerable})),U.push.apply(U,me)}return U}function br(M){for(var $=1;$<arguments.length;$++){var U=arguments[$]!=null?arguments[$]:{};$%2?ir(Object(U),!0).forEach(function(me){vo(M,me,U[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(U)):ir(Object(U)).forEach(function(me){Object.defineProperty(M,me,Object.getOwnPropertyDescriptor(U,me))})}return M}function vo(M,$,U){return $ in M?Object.defineProperty(M,$,{value:U,enumerable:!0,configurable:!0,writable:!0}):M[$]=U,M}function Ao(M,$){var U=typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(!U){if(Array.isArray(M)||(U=Nu(M))||$&&M&&typeof M.length=="number"){U&&(M=U);var me=0,Ze=function(){};return{s:Ze,n:function(){return me>=M.length?{done:!0}:{done:!1,value:M[me++]}},e:function(Ft){throw Ft},f:Ze}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ut=!0,lt=!1,xt;return{s:function(){U=U.call(M)},n:function(){var Ft=U.next();return ut=Ft.done,Ft},e:function(Ft){lt=!0,xt=Ft},f:function(){try{!ut&&U.return!=null&&U.return()}finally{if(lt)throw xt}}}}function Go(M){return Hd(M)||ul(M)||Nu(M)||Lo()}function Lo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ul(M){if(typeof Symbol!="undefined"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)}function Hd(M){if(Array.isArray(M))return uu(M)}function Eo(M,$){return dl(M)||Ud(M,$)||Nu(M,$)||$n()}function $n(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nu(M,$){if(M){if(typeof M=="string")return uu(M,$);var U=Object.prototype.toString.call(M).slice(8,-1);if(U==="Object"&&M.constructor&&(U=M.constructor.name),U==="Map"||U==="Set")return Array.from(M);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return uu(M,$)}}function uu(M,$){($==null||$>M.length)&&($=M.length);for(var U=0,me=new Array($);U<$;U++)me[U]=M[U];return me}function Ud(M,$){var U=M==null?null:typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(U!=null){var me=[],Ze=!0,ut=!1,lt,xt;try{for(U=U.call(M);!(Ze=(lt=U.next()).done)&&(me.push(lt.value),!($&&me.length===$));Ze=!0);}catch(Dt){ut=!0,xt=Dt}finally{try{!Ze&&U.return!=null&&U.return()}finally{if(ut)throw xt}}return me}}function dl(M){if(Array.isArray(M))return M}var Eu="$default-group-title",to=function($,U){return"base"in U?$.replace(U.base.slice(1),"").replace(/^\//,""):$};function Xr(M,$){var U,me=$.meta,Ze=$.is2LevelNav,ut=((U=me.frontmatter.filename)===null||U===void 0?void 0:U.endsWith("index.md"))&&!me._atom_route&&Ze,lt=M.split("/").filter(Boolean),xt=Math.min(Math.max(ut?lt.length:lt.length-1,1),Ze?2:1/0);return lt.slice(0,xt).join("/")}var Ko=function(){var $=(0,ar.b)(),U=(0,Je.RX)(),me=(0,m.W)(),Ze=me.themeConfig,ut=me._2_level_nav_available,lt=(0,Je.M7)(),xt=(0,r.useState)(function(){var ea=Object.values(U).reduce(function(aa,na){var ua=to(na.path,$);if(ua&&na.meta){var Ea,nn,En,Zn="/".concat(na.path.replace(ua,function(Mo){return Xr(Mo,{is2LevelNav:ut,meta:na.meta})})),cr=(0,Je.qu)({order:0},"group",na.meta.frontmatter),Sn=cr.title,fo=cr.order,Er=Sn||Eu;(Ea=aa[Zn])!==null&&Ea!==void 0||(aa[Zn]={}),aa[Zn][Er]={title:Sn,order:((nn=aa[Zn][Er])===null||nn===void 0?void 0:nn.order)||fo,children:[].concat(Go(((En=aa[Zn][Er])===null||En===void 0?void 0:En.children)||[]),[{title:na.meta.frontmatter.title,link:"/".concat(na.path),order:na.meta.frontmatter.order||0,frontmatter:na.meta.frontmatter}])}}return aa},{}),ma=Object.entries(ea).reduce(function(aa,na){var ua=Eo(na,2),Ea=ua[0],nn=ua[1];return aa[Ea]=Object.values(nn).sort(lt),aa[Ea].forEach(function(En){return En.children.sort(lt)}),aa},{});return Object.assign(ma,Ze.sidebar)}),Dt=Eo(xt,1),Ft=Dt[0];return Ft};function Bd(M){var $={order:0,title:""},U=Ao(M),me;try{for(U.s();!(me=U.n()).done;){var Ze=me.value,ut=Ao(Ze.children),lt;try{for(ut.s();!(lt=ut.n()).done;){var xt=lt.value;"frontmatter"in xt&&pickRouteSortMeta($,"nav",xt.frontmatter)}}catch(Dt){ut.e(Dt)}finally{ut.f()}}}catch(Dt){U.e(Dt)}finally{U.f()}return $}var kl=function(){var $=Ko(),U=useRouteDataComparer(),me=useState(function(){var lt=Object.entries($).sort(function(xt,Dt){return Dt[0].split("/").length-xt[0].split("/").length}).reduce(function(xt,Dt){var Ft=Eo(Dt,2),ea=Ft[0],ma=Ft[1],aa=ea.replace(/\/[^/]+$/,"");if(aa){var na;if((na=xt[aa])!==null&&na!==void 0||(xt[aa]=br({path:aa,children:$[aa]||[]},Bd($[aa]||[]))),xt[ea])xt[ea].children.sort(U),xt[aa].children.push(xt[ea]),delete xt[ea];else{var ua;(ua=xt[aa].children).push.apply(ua,Go(ma))}}else ma.sort(U),xt[ea]=br({path:ea,children:ma},Bd(ma));return xt},{});return Object.values(lt)}),Ze=Eo(me,1),ut=Ze[0];return ut},ud=function(){var $=(0,ar.b)(),U=Ko(),me=(0,m.W)(),Ze=me._2_level_nav_available,ut=(0,u.TH)(),lt=ut.pathname,xt=lr(),Dt=to(lt.slice(1),$),Ft=Dt?lt.replace(Dt,function(ea){return Xr(ea,{is2LevelNav:Ze,meta:xt})}):lt;return Ft?U[Ft]:[]},_u='"use strict";(()=>{var P=Object.create;var I=Object.defineProperty;var z=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames,R=Object.getOwnPropertySymbols,B=Object.getPrototypeOf,E=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var O=(e,t,i)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,M=(e,t)=>{for(var i in t||(t={}))E.call(t,i)&&O(e,i,t[i]);if(R)for(var i of R(t))L.call(t,i)&&O(e,i,t[i]);return e};var F=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var N=(e,t,i,h)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of D(t))!E.call(e,a)&&a!==i&&I(e,a,{get:()=>t[a],enumerable:!(h=z(t,a))||h.enumerable});return e};var W=(e,t,i)=>(i=e!=null?P(B(e)):{},N(t||!e||!e.__esModule?I(i,"default",{value:e,enumerable:!0}):i,e));var j=F((K,w)=>{w.exports=function(e){var t={};function i(h){if(t[h])return t[h].exports;var a=t[h]={exports:{},id:h,loaded:!1};return e[h].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}return i.m=e,i.c=t,i.p="",i(0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=i(2);Object.defineProperty(t,"combineChunks",{enumerable:!0,get:function(){return h.combineChunks}}),Object.defineProperty(t,"fillInChunks",{enumerable:!0,get:function(){return h.fillInChunks}}),Object.defineProperty(t,"findAll",{enumerable:!0,get:function(){return h.findAll}}),Object.defineProperty(t,"findChunks",{enumerable:!0,get:function(){return h.findChunks}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.findAll=function(s){var n=s.autoEscape,c=s.caseSensitive,f=c===void 0?!1:c,p=s.findChunks,u=p===void 0?a:p,g=s.sanitize,v=s.searchWords,T=s.textToHighlight;return o({chunksToHighlight:h({chunks:u({autoEscape:n,caseSensitive:f,sanitize:g,searchWords:v,textToHighlight:T})}),totalLength:T?T.length:0})},h=t.combineChunks=function(s){var n=s.chunks;return n=n.sort(function(c,f){return c.start-f.start}).reduce(function(c,f){if(c.length===0)return[f];var p=c.pop();if(f.start<=p.end){var u=Math.max(p.end,f.end);c.push({highlight:!1,start:p.start,end:u})}else c.push(p,f);return c},[]),n},a=function(s){var n=s.autoEscape,c=s.caseSensitive,f=s.sanitize,p=f===void 0?d:f,u=s.searchWords,g=s.textToHighlight;return g=p(g),u.filter(function(v){return v}).reduce(function(v,T){T=p(T),n&&(T=r(T));for(var m=new RegExp(T,c?"g":"gi"),x=void 0;x=m.exec(g);){var S=x.index,$=m.lastIndex;$>S&&v.push({highlight:!1,start:S,end:$}),x.index===m.lastIndex&&m.lastIndex++}return v},[])};t.findChunks=a;var o=t.fillInChunks=function(s){var n=s.chunksToHighlight,c=s.totalLength,f=[],p=function(v,T,m){T-v>0&&f.push({start:v,end:T,highlight:m})};if(n.length===0)p(0,c,!1);else{var u=0;n.forEach(function(g){p(u,g.start,!1),p(g.start,g.end,!0),u=g.end}),p(u,c,!1)}return f};function d(l){return l}function r(l){return l.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,"\\\\$&")}}])});var C=W(j());var H="tab";function k(e,t,i,h,a){let o=a!==void 0,d=h.reduce((r,l)=>(l.tocIndex===a&&(r[l.paraId]=(r[l.paraId]||"").concat(l.value)),r),[]).filter(Boolean);return Boolean(d.length)||o?{rawTitle:e,title:t,link:i,paragraphs:h.reduce((r,l)=>{var s,n;return l.tocIndex===a&&((n=r[s=l.paraId])!=null||(r[s]=""),r[l.paraId]+=l.value),r},[]).filter(Boolean)}:null}function y(e){return[e.title,e.subtitle].filter(Boolean).join(" ")}function _(e,t,i){let h=[],a=Object.values(t).reduce((o,d)=>{var r,l;return d.asset&&((l=o[r=d.routeId])!=null||(o[r]=[]),o[d.routeId].push(d)),o},{});return Object.values(e).forEach(o=>{var d;if("meta"in o&&!("isLayout"in o)){let r=o.meta,l=o.path.replace(/^([^/])/,"/$1")||"/",s=i.find(u=>l===u.link||l.startsWith(`${u.activePath}/`)),n=(a[o.id]||[]).map(u=>{var g;return(g=u.asset)==null?void 0:g.id}),c=k("",y(r.frontmatter),l,r.texts),f=r.toc.reduce((u,g,v)=>(!n.includes(g.id)&&g.depth>1&&u.push(k(g.title,`${y(r.frontmatter)} - ${g.title}`,`${l}#${g.id}`,r.texts,v)),u),[]),p=(r.tabs||[]).reduce((u,{key:g,meta:v})=>{let T=k("",`${y(r.frontmatter)} - ${v.frontmatter.title}`,`${l}?${H}=${g}`,v.texts);return T&&u.push(T),u.push(...v.toc.map((m,x)=>k(m.title,`${y(r.frontmatter)} - ${v.frontmatter.title} - ${m.title}`,`${l}?${H}=${g}#${m.id}`,v.texts,x))),u},[]);h.push({navTitle:s==null?void 0:s.title,navOrder:s?i.indexOf(s):1/0,title:y(r.frontmatter),link:l,sections:[...c?[c]:[],...f,...p],demos:((d=a[o.id])==null?void 0:d.map(u=>({link:`${l}#${u.asset.id}`,rawTitle:u.asset.title||"",title:u.asset.title||y(r.frontmatter),description:u.asset.description||"",keywords:u.asset.keywords||[]})))||[]})}}),h}function b(e="",t,i=1){let h=(0,C.findAll)({textToHighlight:e,searchWords:t,autoEscape:!0}),a={};return[h.map(({start:o,end:d,highlight:r},l)=>{let s={text:e.slice(o,d)};return l===0&&!r&&h.length>1&&s.text.length>20&&(s.text=`...${s.text.slice(-20)}`),r&&(s.highlighted=!0,a[t.find(n=>s.text.includes(n))]=i),s}),a]}function Y(e,t){let i=t.split(" "),h=new RegExp(t.replace(/[.*+?^${}()|[\\]\\\\]/g,"\\\\$&").replace(" ","|"),"i"),a={};return e.forEach(o=>{var l,s;let d=o.title,r=[];if(o.sections.forEach(n=>{for(let c of n.paragraphs)if(h.test(c)){let[f,p]=b(n.title,i,10),[u,g]=b(c,i);r.push({type:"content",link:n.link,priority:Object.values(M(M({},g),p)).reduce((v,T)=>v+T,0),highlightTitleTexts:f,highlightTexts:u,pageTitle:d});return}if(h.test(n.rawTitle)){let[c,f]=b(n.title,i,10);r.push({type:"title",link:n.link,priority:Object.values(f).reduce((p,u)=>p+u,0),highlightTitleTexts:c,highlightTexts:b(n.paragraphs[0]||"",i)[0],pageTitle:d})}}),o.demos.forEach(n=>{if(h.test(n.rawTitle)||h.test(n.description)){let[c,f]=b(n.title,i,10),[p,u]=b(n.description,i);r.push({type:"demo",link:n.link,priority:Object.values(M(M({},u),f)).reduce((g,v)=>g+v,0),highlightTitleTexts:c,highlightTexts:p,pageTitle:d})}}),h.test(o.title)){let[n,c]=b(o.title,i,100);r.push({type:"page",link:o.link,priority:Object.values(c).reduce((f,p)=>f+p,0),highlightTitleTexts:n,highlightTexts:b(((l=o.sections[0])==null?void 0:l.paragraphs[0])||"",i)[0],pageTitle:d})}if(r.length){let n=o.navTitle||"$ROOT";(s=a[n])!=null||(a[n]={title:o.navTitle,priority:o.navOrder*1e3,hints:[]}),a[n].hints.push(...r)}}),Object.values(a).forEach(({hints:o})=>{o.sort((d,r)=>r.priority-d.priority)}),Object.values(a).sort((o,d)=>d.priority-o.priority)}var A;self.onmessage=({data:e})=>{switch(e.action){case"generate-metadata":A=_(e.args.routes,e.args.demos,e.args.nav);break;case"get-search-result":self.postMessage(Y(A,e.args.keywords));break;default:}};})();\n';function Du(M,$){var U=Object.keys(M);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(M);$&&(me=me.filter(function(Ze){return Object.getOwnPropertyDescriptor(M,Ze).enumerable})),U.push.apply(U,me)}return U}function dd(M){for(var $=1;$<arguments.length;$++){var U=arguments[$]!=null?arguments[$]:{};$%2?Du(Object(U),!0).forEach(function(me){Nr(M,me,U[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(U)):Du(Object(U)).forEach(function(me){Object.defineProperty(M,me,Object.getOwnPropertyDescriptor(U,me))})}return M}function Nr(M,$,U){return $ in M?Object.defineProperty(M,$,{value:U,enumerable:!0,configurable:!0,writable:!0}):M[$]=U,M}function du(M,$){return lu(M)||Fu(M,$)||wu(M,$)||Su()}function Su(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wu(M,$){if(M){if(typeof M=="string")return Cu(M,$);var U=Object.prototype.toString.call(M).slice(8,-1);if(U==="Object"&&M.constructor&&(U=M.constructor.name),U==="Map"||U==="Set")return Array.from(M);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return Cu(M,$)}}function Cu(M,$){($==null||$>M.length)&&($=M.length);for(var U=0,me=new Array($);U<$;U++)me[U]=M[U];return me}function Fu(M,$){var U=M==null?null:typeof Symbol!="undefined"&&M[Symbol.iterator]||M["@@iterator"];if(U!=null){var me=[],Ze=!0,ut=!1,lt,xt;try{for(U=U.call(M);!(Ze=(lt=U.next()).done)&&(me.push(lt.value),!($&&me.length===$));Ze=!0);}catch(Dt){ut=!0,xt=Dt}finally{try{!Ze&&U.return!=null&&U.return()}finally{if(ut)throw xt}}return me}}function lu(M){if(Array.isArray(M))return M}var vr;typeof window!="undefined"&&(vr=new Worker(URL.createObjectURL(new Blob([_u],{type:"application/javascript"}))));var iu=function(){var $=(0,r.useRef)(),U=(0,Je.RX)(),me=(0,m.W)(),Ze=me.demos,ut=(0,r.useState)(!1),lt=du(ut,2),xt=lt[0],Dt=lt[1],Ft=(0,r.useState)(""),ea=du(Ft,2),ma=ea[0],aa=ea[1],na=so(),ua=(0,r.useState)([]),Ea=du(ua,2),nn=Ea[0],En=Ea[1],Zn=(0,r.useCallback)(function(cr){Dt(!0),aa(cr)},[]);return(0,r.useEffect)(function(){vr.onmessage=function(cr){En(cr.data),Dt(!1)}},[]),(0,r.useEffect)(function(){var cr=Object.entries(Ze).reduce(function(Sn,fo){var Er=du(fo,2),Mo=Er[0],cu=Er[1],No=cu.asset,ao=cu.routeId;return dd(dd({},Sn),{},Nr({},Mo,{asset:No,routeId:ao}))},{});vr.postMessage({action:"generate-metadata",args:{routes:JSON.parse(JSON.stringify(U)),nav:na,demos:cr}})},[U,Ze,na]),(0,r.useEffect)(function(){var cr=ma.trim();cr?(clearTimeout($.current),$.current=window.setTimeout(function(){vr.postMessage({action:"get-search-result",args:{keywords:cr}})},200)):En([])},[ma]),{keywords:ma,setKeywords:Zn,result:nn,loading:xt}}},90482:function(i,I,e){"use strict";e.d(I,{k:function(){return u},s:function(){return o}});var u=[{id:"zh-CN",name:"\u4E2D\u6587",base:"/"}],o={"en-US":{"header.search.placeholder":"Type keywords...","header.color.mode.light":"Light Mode","header.color.mode.dark":"Dark Mode","header.color.mode.auto":"Follow System","header.social.github":"GitHub","header.social.weibo":"Weibo","header.social.twitter":"Twitter","header.social.gitlab":"GitLab","header.social.facebook":"Facebook","header.social.zhihu":"Zhihu","header.social.yuque":"Yuque","header.social.linkedin":"Linkedin","previewer.actions.code.expand":"Show Code","previewer.actions.code.shrink":"Hide Code","previewer.actions.sketch":"Copy to Sketch app","previewer.actions.sketch.group":"Copy as Sketch Group","previewer.actions.sketch.symbol":"Copy as Sketch Symbol","previewer.actions.sketch.divider":"------------------------","previewer.actions.sketch.guide":"How to paste to Sketch?","previewer.actions.codesandbox":"Open in CodeSandbox","previewer.actions.codepen":"Open in CodePen (Not implemented)","previewer.actions.stackblitz":"Open in StackBlitz","previewer.actions.separate":"Open in separate page","404.title":"PAGE NOT FOUND","404.back":"Back to homepage","api.component.name":"Name","api.component.description":"Description","api.component.type":"Type","api.component.default":"Default","api.component.required":"(required)","api.component.unavailable":"apiParser must be enabled to use auto-generated API","api.component.loading":"Properties definition is resolving, wait a moment...","api.component.not.found":"Properties definition not found for {id} component","content.tabs.default":"Doc","search.not.found":"No content was found","layout.sidebar.btn":"Sidebar"},"zh-CN":{"header.search.placeholder":"\u8F93\u5165\u5173\u952E\u5B57\u641C\u7D22...","header.color.mode.light":"\u4EAE\u8272\u6A21\u5F0F","header.color.mode.dark":"\u6697\u8272\u6A21\u5F0F","header.color.mode.auto":"\u8DDF\u968F\u7CFB\u7EDF","header.social.github":"GitHub","header.social.weibo":"\u5FAE\u535A","header.social.twitter":"Twitter","header.social.gitlab":"GitLab","header.social.facebook":"Facebook","header.social.zhihu":"\u77E5\u4E4E","header.social.yuque":"\u8BED\u96C0","header.social.linkedin":"Linkedin","previewer.actions.code.expand":"\u5C55\u5F00\u4EE3\u7801","previewer.actions.code.shrink":"\u6536\u8D77\u4EE3\u7801","previewer.actions.codesandbox":"\u5728 CodeSandbox \u4E2D\u6253\u5F00","previewer.actions.sketch":"\u62F7\u8D1D\u5230 Sketch","previewer.actions.sketch.group":"\u62F7\u8D1D\u4E3A Sketch Group","previewer.actions.sketch.symbol":"\u62F7\u8D1D\u4E3A Sketch Symbol","previewer.actions.sketch.divider":"----------------------","previewer.actions.sketch.guide":"\u5982\u4F55\u7C98\u8D34\u5230 SKetch\uFF1F","previewer.actions.stackblitz":"\u5728 StackBlitz \u4E2D\u6253\u5F00","previewer.actions.separate":"\u5728\u72EC\u7ACB\u9875\u9762\u4E2D\u6253\u5F00","404.title":"\u9875\u9762\u672A\u627E\u5230","404.back":"\u8FD4\u56DE\u9996\u9875","api.component.name":"\u5C5E\u6027\u540D","api.component.description":"\u63CF\u8FF0","api.component.type":"\u7C7B\u578B","api.component.default":"\u9ED8\u8BA4\u503C","api.component.required":"(\u5FC5\u9009)","api.component.unavailable":"\u5FC5\u987B\u542F\u7528 apiParser \u624D\u80FD\u4F7F\u7528\u81EA\u52A8 API \u7279\u6027","api.component.loading":"\u5C5E\u6027\u5B9A\u4E49\u6B63\u5728\u89E3\u6790\u4E2D\uFF0C\u7A0D\u7B49\u7247\u523B...","api.component.not.found":"\u672A\u627E\u5230 {id} \u7EC4\u4EF6\u7684\u5C5E\u6027\u5B9A\u4E49","content.tabs.default":"\u6587\u6863","search.not.found":"\u672A\u627E\u5230\u76F8\u5173\u5185\u5BB9","layout.sidebar.btn":"\u4FA7\u8FB9\u83DC\u5355"}}},73032:function(i,I,e){"use strict";e.d(I,{wx:function(){return Br},DE:function(){return cn},C3:function(){return ln},eA:function(){return zn}});var u=e(5574),o=e.n(u),r=e(62435),l={},d={title:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",toc:"menu",filename:"docs/main/reconciler-workflow.md",group:{title:"\u8FD0\u884C\u6838\u5FC3",order:1},order:1,description:"\u901A\u8FC7\u524D\u6587\u5B8F\u89C2\u5305\u7ED3\u6784\u548C\u4E24\u5927\u5DE5\u4F5C\u5FAA\u73AF\u4E2D\u7684\u4ECB\u7ECD, \u5BF9react-reconciler\u5305\u6709\u4E00\u5B9A\u4E86\u89E3."},p=[{id:"reconciler-\u8FD0\u4F5C\u6D41\u7A0B",depth:1,title:"reconciler \u8FD0\u4F5C\u6D41\u7A0B"},{id:"\u6982\u89C8",depth:2,title:"\u6982\u89C8"},{id:"\u5206\u89E3",depth:2,title:"\u5206\u89E3"},{id:"\u8F93\u5165",depth:3,title:"\u8F93\u5165"},{id:"\u6CE8\u518C\u8C03\u5EA6\u4EFB\u52A1",depth:3,title:"\u6CE8\u518C\u8C03\u5EA6\u4EFB\u52A1"},{id:"\u6267\u884C\u4EFB\u52A1\u56DE\u8C03",depth:3,title:"\u6267\u884C\u4EFB\u52A1\u56DE\u8C03"},{id:"\u8F93\u51FA",depth:3,title:"\u8F93\u51FA"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"}],s=[{value:"\u901A\u8FC7\u524D\u6587",paraId:0,tocIndex:1},{value:"\u5B8F\u89C2\u5305\u7ED3\u6784",paraId:1,tocIndex:1},{value:"\u548C",paraId:0,tocIndex:1},{value:"\u4E24\u5927\u5DE5\u4F5C\u5FAA\u73AF",paraId:2,tocIndex:1},{value:"\u4E2D\u7684\u4ECB\u7ECD, \u5BF9",paraId:0,tocIndex:1},{value:"react-reconciler",paraId:0,tocIndex:1},{value:"\u5305\u6709\u4E00\u5B9A\u4E86\u89E3.",paraId:0,tocIndex:1},{value:"\u6B64\u5904\u5148\u5F52\u7EB3\u4E00\u4E0B",paraId:3,tocIndex:1},{value:"react-reconciler",paraId:3,tocIndex:1},{value:"\u5305\u7684\u4E3B\u8981\u4F5C\u7528, \u5C06\u4E3B\u8981\u529F\u80FD\u5206\u4E3A 4 \u4E2A\u65B9\u9762:",paraId:3,tocIndex:1},{value:"\u8F93\u5165: \u66B4\u9732",paraId:4,tocIndex:1},{value:"api",paraId:4,tocIndex:1},{value:"\u51FD\u6570(\u5982: ",paraId:4,tocIndex:1},{value:"scheduleUpdateOnFiber",paraId:4,tocIndex:1},{value:"), \u4F9B\u7ED9\u5176\u4ED6\u5305(\u5982",paraId:4,tocIndex:1},{value:"react",paraId:4,tocIndex:1},{value:"\u5305)\u8C03\u7528.",paraId:4,tocIndex:1},{value:"\u6CE8\u518C\u8C03\u5EA6\u4EFB\u52A1: \u4E0E\u8C03\u5EA6\u4E2D\u5FC3(",paraId:4,tocIndex:1},{value:"scheduler",paraId:4,tocIndex:1},{value:"\u5305)\u4EA4\u4E92, \u6CE8\u518C\u8C03\u5EA6\u4EFB\u52A1",paraId:4,tocIndex:1},{value:"task",paraId:4,tocIndex:1},{value:", \u7B49\u5F85\u4EFB\u52A1\u56DE\u8C03.",paraId:4,tocIndex:1},{value:"\u6267\u884C\u4EFB\u52A1\u56DE\u8C03: \u5728\u5185\u5B58\u4E2D\u6784\u9020\u51FA",paraId:4,tocIndex:1},{value:"fiber\u6811",paraId:4,tocIndex:1},{value:", \u540C\u65F6\u4E0E\u4E0E\u6E32\u67D3\u5668(",paraId:4,tocIndex:1},{value:"react-dom",paraId:4,tocIndex:1},{value:")\u4EA4\u4E92, \u5728\u5185\u5B58\u4E2D\u521B\u5EFA\u51FA\u4E0E",paraId:4,tocIndex:1},{value:"fiber",paraId:4,tocIndex:1},{value:"\u5BF9\u5E94\u7684",paraId:4,tocIndex:1},{value:"DOM",paraId:4,tocIndex:1},{value:"\u8282\u70B9.",paraId:4,tocIndex:1},{value:"\u8F93\u51FA: \u4E0E\u6E32\u67D3\u5668(",paraId:4,tocIndex:1},{value:"react-dom",paraId:4,tocIndex:1},{value:")\u4EA4\u4E92, \u6E32\u67D3",paraId:4,tocIndex:1},{value:"DOM",paraId:4,tocIndex:1},{value:"\u8282\u70B9.",paraId:4,tocIndex:1},{value:"\u4EE5\u4E0A\u529F\u80FD\u6E90\u7801\u90FD\u96C6\u4E2D\u5728",paraId:5,tocIndex:1},{value:"ReactFiberWorkLoop.js",paraId:5,tocIndex:1},{value:"\u4E2D. \u73B0\u5728\u5C06\u8FD9\u4E9B\u529F\u80FD(\u4ECE\u8F93\u5165\u5230\u8F93\u51FA)\u4E32\u8054\u8D77\u6765, \u7528\u4E0B\u56FE\u8868\u793A:",paraId:5,tocIndex:1},{value:"\u56FE\u4E2D\u7684",paraId:6,tocIndex:1},{value:"1,2,3,4",paraId:6,tocIndex:1},{value:"\u6B65\u9AA4\u53EF\u4EE5\u53CD\u6620",paraId:6,tocIndex:1},{value:"react-reconciler",paraId:6,tocIndex:1},{value:"\u5305",paraId:6,tocIndex:1},{value:"\u4ECE\u8F93\u5165\u5230\u8F93\u51FA",paraId:6,tocIndex:1},{value:"\u7684\u8FD0\u4F5C\u6D41\u7A0B,\u8FD9\u662F\u4E00\u4E2A\u56FA\u5B9A\u6D41\u7A0B, \u6BCF\u4E00\u6B21\u66F4\u65B0\u90FD\u4F1A\u8FD0\u884C.",paraId:6,tocIndex:1},{value:"\u56FE\u4E2D\u53EA\u5217\u4E3E\u4E86\u6700\u6838\u5FC3\u7684\u51FD\u6570\u8C03\u7528\u5173\u7CFB(\u5176\u4E2D\u7684\u6BCF\u4E00\u6B65\u90FD\u6709\u5404\u81EA\u7684\u5B9E\u73B0\u7EC6\u8282, \u4F1A\u5728\u540E\u7EED\u7684\u7AE0\u8282\u4E2D\u9010\u4E00\u5C55\u5F00). \u5C06\u4E0A\u8FF0 4 \u4E2A\u6B65\u9AA4\u9010\u4E00\u5206\u89E3, \u4E86\u89E3\u5B83\u4EEC\u7684\u4E3B\u8981\u903B\u8F91.",paraId:7,tocIndex:2},{value:"\u5728",paraId:8,tocIndex:3},{value:"ReactFiberWorkLoop.js",paraId:8,tocIndex:3},{value:"\u4E2D, \u627F\u63A5\u8F93\u5165\u7684\u51FD\u6570\u53EA\u6709",paraId:8,tocIndex:3},{value:"scheduleUpdateOnFiber",paraId:8,tocIndex:3},{value:"\u6E90\u7801\u5730\u5740",paraId:8,tocIndex:3},{value:". \u5728",paraId:8,tocIndex:3},{value:"react-reconciler",paraId:8,tocIndex:3},{value:"\u5BF9\u5916\u66B4\u9732\u7684 api \u51FD\u6570\u4E2D, \u53EA\u8981\u6D89\u53CA\u5230\u9700\u8981\u6539\u53D8 fiber \u7684\u64CD\u4F5C(\u65E0\u8BBA\u662F",paraId:8,tocIndex:3},{value:"\u9996\u6B21\u6E32\u67D3",paraId:8,tocIndex:3},{value:"\u6216",paraId:8,tocIndex:3},{value:"\u540E\u7EED\u66F4\u65B0",paraId:8,tocIndex:3},{value:"\u64CD\u4F5C), \u6700\u540E\u90FD\u4F1A\u95F4\u63A5\u8C03\u7528",paraId:8,tocIndex:3},{value:"scheduleUpdateOnFiber",paraId:8,tocIndex:3},{value:", \u6240\u4EE5",paraId:8,tocIndex:3},{value:"scheduleUpdateOnFiber",paraId:8,tocIndex:3},{value:"\u51FD\u6570\u662F\u8F93\u5165\u94FE\u8DEF\u4E2D\u7684",paraId:8,tocIndex:3},{value:"\u5FC5\u7ECF\u4E4B\u8DEF",paraId:8,tocIndex:3},{value:".",paraId:8,tocIndex:3},{value:`// \u552F\u4E00\u63A5\u6536\u8F93\u5165\u4FE1\u53F7\u7684\u51FD\u6570
export function scheduleUpdateOnFiber(
  fiber: Fiber,
  lane: Lane,
  eventTime: number,
) {
  // ... \u7701\u7565\u90E8\u5206\u65E0\u5173\u4EE3\u7801
  const root = markUpdateLaneFromFiberToRoot(fiber, lane);
  if (lane === SyncLane) {
    if (
      (executionContext & LegacyUnbatchedContext) !== NoContext &&
      (executionContext & (RenderContext | CommitContext)) === NoContext
    ) {
      // \u76F4\u63A5\u8FDB\u884C\`fiber\u6784\u9020\`
      performSyncWorkOnRoot(root);
    } else {
      // \u6CE8\u518C\u8C03\u5EA6\u4EFB\u52A1, \u7ECF\u8FC7\`Scheduler\`\u5305\u7684\u8C03\u5EA6, \u95F4\u63A5\u8FDB\u884C\`fiber\u6784\u9020\`
      ensureRootIsScheduled(root, eventTime);
    }
  } else {
    // \u6CE8\u518C\u8C03\u5EA6\u4EFB\u52A1, \u7ECF\u8FC7\`Scheduler\`\u5305\u7684\u8C03\u5EA6, \u95F4\u63A5\u8FDB\u884C\`fiber\u6784\u9020\`
    ensureRootIsScheduled(root, eventTime);
  }
}
`,paraId:9,tocIndex:3},{value:"\u903B\u8F91\u8FDB\u5165\u5230",paraId:10,tocIndex:3},{value:"scheduleUpdateOnFiber",paraId:10,tocIndex:3},{value:"\u4E4B\u540E, \u540E\u9762\u6709 2 \u79CD\u53EF\u80FD:",paraId:10,tocIndex:3},{value:"\u4E0D\u7ECF\u8FC7\u8C03\u5EA6, \u76F4\u63A5\u8FDB\u884C",paraId:11,tocIndex:3},{value:"fiber\u6784\u9020",paraId:11,tocIndex:3},{value:".",paraId:11,tocIndex:3},{value:"\u6CE8\u518C\u8C03\u5EA6\u4EFB\u52A1, \u7ECF\u8FC7",paraId:11,tocIndex:3},{value:"Scheduler",paraId:11,tocIndex:3},{value:"\u5305\u7684\u8C03\u5EA6, \u95F4\u63A5\u8FDB\u884C",paraId:11,tocIndex:3},{value:"fiber\u6784\u9020",paraId:11,tocIndex:3},{value:".",paraId:11,tocIndex:3},{value:"\u4E0E",paraId:12,tocIndex:4},{value:"\u8F93\u5165",paraId:12,tocIndex:4},{value:"\u73AF\u8282\u7D27\u5BC6\u76F8\u8FDE, ",paraId:12,tocIndex:4},{value:"scheduleUpdateOnFiber",paraId:12,tocIndex:4},{value:"\u51FD\u6570\u4E4B\u540E, \u7ACB\u5373\u8FDB\u5165",paraId:12,tocIndex:4},{value:"ensureRootIsScheduled",paraId:12,tocIndex:4},{value:"\u51FD\u6570(",paraId:12,tocIndex:4},{value:"\u6E90\u7801\u5730\u5740",paraId:12,tocIndex:4},{value:"):",paraId:12,tocIndex:4},{value:`// ... \u7701\u7565\u90E8\u5206\u65E0\u5173\u4EE3\u7801
function ensureRootIsScheduled(root: FiberRoot, currentTime: number) {
  // \u524D\u534A\u90E8\u5206: \u5224\u65AD\u662F\u5426\u9700\u8981\u6CE8\u518C\u65B0\u7684\u8C03\u5EA6
  const existingCallbackNode = root.callbackNode;
  const nextLanes = getNextLanes(
    root,
    root === workInProgressRoot ? workInProgressRootRenderLanes : NoLanes,
  );
  const newCallbackPriority = returnNextLanesPriority();
  if (nextLanes === NoLanes) {
    return;
  }
  if (existingCallbackNode !== null) {
    const existingCallbackPriority = root.callbackPriority;
    if (existingCallbackPriority === newCallbackPriority) {
      return;
    }
    cancelCallback(existingCallbackNode);
  }

  // \u540E\u534A\u90E8\u5206: \u6CE8\u518C\u8C03\u5EA6\u4EFB\u52A1
  let newCallbackNode;
  if (newCallbackPriority === SyncLanePriority) {
    newCallbackNode = scheduleSyncCallback(
      performSyncWorkOnRoot.bind(null, root),
    );
  } else if (newCallbackPriority === SyncBatchedLanePriority) {
    newCallbackNode = scheduleCallback(
      ImmediateSchedulerPriority,
      performSyncWorkOnRoot.bind(null, root),
    );
  } else {
    const schedulerPriorityLevel =
      lanePriorityToSchedulerPriority(newCallbackPriority);
    newCallbackNode = scheduleCallback(
      schedulerPriorityLevel,
      performConcurrentWorkOnRoot.bind(null, root),
    );
  }
  root.callbackPriority = newCallbackPriority;
  root.callbackNode = newCallbackNode;
}
`,paraId:13,tocIndex:4},{value:"ensureRootIsScheduled",paraId:14,tocIndex:4},{value:"\u7684\u903B\u8F91\u5F88\u6E05\u6670, \u5206\u4E3A 2 \u90E8\u5206:",paraId:14,tocIndex:4},{value:"\u524D\u534A\u90E8\u5206: \u5224\u65AD\u662F\u5426\u9700\u8981\u6CE8\u518C\u65B0\u7684\u8C03\u5EA6(\u5982\u679C\u65E0\u9700\u65B0\u7684\u8C03\u5EA6, \u4F1A\u9000\u51FA\u51FD\u6570)",paraId:15,tocIndex:4},{value:`\u540E\u534A\u90E8\u5206: \u6CE8\u518C\u8C03\u5EA6\u4EFB\u52A1
`,paraId:15,tocIndex:4},{value:"performSyncWorkOnRoot",paraId:16,tocIndex:4},{value:"\u6216",paraId:16,tocIndex:4},{value:"performConcurrentWorkOnRoot",paraId:16,tocIndex:4},{value:"\u88AB\u5C01\u88C5\u5230\u4E86\u4EFB\u52A1\u56DE\u8C03(",paraId:16,tocIndex:4},{value:"scheduleCallback",paraId:16,tocIndex:4},{value:")\u4E2D",paraId:16,tocIndex:4},{value:"\u7B49\u5F85\u8C03\u5EA6\u4E2D\u5FC3\u6267\u884C\u4EFB\u52A1, \u4EFB\u52A1\u8FD0\u884C\u5176\u5B9E\u5C31\u662F\u6267\u884C",paraId:16,tocIndex:4},{value:"performSyncWorkOnRoot",paraId:16,tocIndex:4},{value:"\u6216",paraId:16,tocIndex:4},{value:"performConcurrentWorkOnRoot",paraId:16,tocIndex:4},{value:"\u4EFB\u52A1\u56DE\u8C03, \u5B9E\u9645\u4E0A\u5C31\u662F\u6267\u884C",paraId:17,tocIndex:5},{value:"performSyncWorkOnRoot",paraId:17,tocIndex:5},{value:"\u6216",paraId:17,tocIndex:5},{value:"performConcurrentWorkOnRoot",paraId:17,tocIndex:5},{value:". \u7B80\u5355\u770B\u4E00\u4E0B\u5B83\u4EEC\u7684\u6E90\u7801(\u5728",paraId:17,tocIndex:5},{value:"fiber\u6811\u6784\u9020",paraId:17,tocIndex:5},{value:"\u7AE0\u8282\u518D\u6DF1\u5165\u5206\u6790), \u5C06\u4E3B\u8981\u903B\u8F91\u5265\u79BB\u51FA\u6765, \u5355\u4E2A\u51FD\u6570\u7684\u4EE3\u7801\u91CF\u5E76\u4E0D\u591A.",paraId:17,tocIndex:5},{value:"performSyncWorkOnRoot",paraId:18,tocIndex:5},{value:":",paraId:18,tocIndex:5},{value:`// ... \u7701\u7565\u90E8\u5206\u65E0\u5173\u4EE3\u7801
function performSyncWorkOnRoot(root) {
  let lanes;
  let exitStatus;

  lanes = getNextLanes(root, NoLanes);
  // 1. fiber\u6811\u6784\u9020
  exitStatus = renderRootSync(root, lanes);

  // 2. \u5F02\u5E38\u5904\u7406: \u6709\u53EF\u80FDfiber\u6784\u9020\u8FC7\u7A0B\u4E2D\u51FA\u73B0\u5F02\u5E38
  if (root.tag !== LegacyRoot && exitStatus === RootErrored) {
    // ...
  }

  // 3. \u8F93\u51FA: \u6E32\u67D3fiber\u6811
  const finishedWork: Fiber = (root.current.alternate: any);
  root.finishedWork = finishedWork;
  root.finishedLanes = lanes;
  commitRoot(root);

  // \u9000\u51FA\u524D\u518D\u6B21\u68C0\u6D4B, \u662F\u5426\u8FD8\u6709\u5176\u4ED6\u66F4\u65B0, \u662F\u5426\u9700\u8981\u53D1\u8D77\u65B0\u8C03\u5EA6
  ensureRootIsScheduled(root, now());
  return null;
}
`,paraId:19,tocIndex:5},{value:"performSyncWorkOnRoot",paraId:20,tocIndex:5},{value:"\u7684\u903B\u8F91\u5F88\u6E05\u6670, \u5206\u4E3A 3 \u90E8\u5206:",paraId:20,tocIndex:5},{value:"fiber \u6811\u6784\u9020",paraId:21,tocIndex:5},{value:"\u5F02\u5E38\u5904\u7406: \u6709\u53EF\u80FD fiber \u6784\u9020\u8FC7\u7A0B\u4E2D\u51FA\u73B0\u5F02\u5E38",paraId:21,tocIndex:5},{value:"\u8C03\u7528\u8F93\u51FA",paraId:21,tocIndex:5},{value:"performConcurrentWorkOnRoot",paraId:22,tocIndex:5},{value:`// ... \u7701\u7565\u90E8\u5206\u65E0\u5173\u4EE3\u7801
function performConcurrentWorkOnRoot(root) {

  const originalCallbackNode = root.callbackNode;

  // 1. \u5237\u65B0pending\u72B6\u6001\u7684effects, \u6709\u53EF\u80FD\u67D0\u4E9Beffect\u4F1A\u53D6\u6D88\u672C\u6B21\u4EFB\u52A1
  const didFlushPassiveEffects = flushPassiveEffects();
  if (didFlushPassiveEffects) {
    if (root.callbackNode !== originalCallbackNode) {
      // \u4EFB\u52A1\u88AB\u53D6\u6D88, \u9000\u51FA\u8C03\u7528
      return null;
    } else {
      // Current task was not canceled. Continue.
    }
  }
  // 2. \u83B7\u53D6\u672C\u6B21\u6E32\u67D3\u7684\u4F18\u5148\u7EA7
  let lanes = getNextLanes(
    root,
    root === workInProgressRoot ? workInProgressRootRenderLanes : NoLanes,
  );
  // 3. \u6784\u9020fiber\u6811
  let exitStatus = renderRootConcurrent(root, lanes);

  if (
    includesSomeLane(
      workInProgressRootIncludedLanes,
      workInProgressRootUpdatedLanes,
    )
  ) {
    // \u5982\u679C\u5728render\u8FC7\u7A0B\u4E2D\u4EA7\u751F\u4E86\u65B0\u7684update, \u4E14\u65B0update\u7684\u4F18\u5148\u7EA7\u4E0E\u6700\u521Drender\u7684\u4F18\u5148\u7EA7\u6709\u4EA4\u96C6
    // \u90A3\u4E48\u6700\u521Drender\u65E0\u6548, \u4E22\u5F03\u6700\u521Drender\u7684\u7ED3\u679C, \u7B49\u5F85\u4E0B\u4E00\u6B21\u8C03\u5EA6
    prepareFreshStack(root, NoLanes);
  } else if (exitStatus !== RootIncomplete) {
    // 4. \u5F02\u5E38\u5904\u7406: \u6709\u53EF\u80FDfiber\u6784\u9020\u8FC7\u7A0B\u4E2D\u51FA\u73B0\u5F02\u5E38
    if (exitStatus === RootErrored) {
      // ...
    }.
    const finishedWork: Fiber = (root.current.alternate: any);
    root.finishedWork = finishedWork;
    root.finishedLanes = lanes;
    // 5. \u8F93\u51FA: \u6E32\u67D3fiber\u6811
    finishConcurrentRender(root, exitStatus, lanes);
  }

  // \u9000\u51FA\u524D\u518D\u6B21\u68C0\u6D4B, \u662F\u5426\u8FD8\u6709\u5176\u4ED6\u66F4\u65B0, \u662F\u5426\u9700\u8981\u53D1\u8D77\u65B0\u8C03\u5EA6
  ensureRootIsScheduled(root, now());
  if (root.callbackNode === originalCallbackNode) {
    // \u6E32\u67D3\u88AB\u963B\u65AD, \u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684performConcurrentWorkOnRoot\u51FD\u6570, \u7B49\u5F85\u4E0B\u4E00\u6B21\u8C03\u7528
    return performConcurrentWorkOnRoot.bind(null, root);
  }
  return null;
}
`,paraId:23,tocIndex:5},{value:"performConcurrentWorkOnRoot",paraId:24,tocIndex:5},{value:"\u7684\u903B\u8F91\u4E0E",paraId:24,tocIndex:5},{value:"performSyncWorkOnRoot",paraId:24,tocIndex:5},{value:"\u7684\u4E0D\u540C\u4E4B\u5904\u5728\u4E8E, \u5BF9\u4E8E",paraId:24,tocIndex:5},{value:"\u53EF\u4E2D\u65AD\u6E32\u67D3",paraId:24,tocIndex:5},{value:"\u7684\u652F\u6301:",paraId:24,tocIndex:5},{value:"\u8C03\u7528",paraId:25,tocIndex:5},{value:"performConcurrentWorkOnRoot",paraId:25,tocIndex:5},{value:"\u51FD\u6570\u65F6, \u9996\u5148\u68C0\u67E5\u662F\u5426\u5904\u4E8E",paraId:25,tocIndex:5},{value:"render",paraId:25,tocIndex:5},{value:"\u8FC7\u7A0B\u4E2D, \u662F\u5426\u9700\u8981\u6062\u590D\u4E0A\u4E00\u6B21\u6E32\u67D3.",paraId:25,tocIndex:5},{value:"\u5982\u679C\u672C\u6B21\u6E32\u67D3\u88AB\u4E2D\u65AD, \u6700\u540E\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684 performConcurrentWorkOnRoot \u51FD\u6570, \u7B49\u5F85\u4E0B\u4E00\u6B21\u8C03\u7528.",paraId:25,tocIndex:5},{value:"commitRoot",paraId:26,tocIndex:6},{value:":",paraId:26,tocIndex:6},{value:`// ... \u7701\u7565\u90E8\u5206\u65E0\u5173\u4EE3\u7801
function commitRootImpl(root, renderPriorityLevel) {
  // \u8BBE\u7F6E\u5C40\u90E8\u53D8\u91CF
  const finishedWork = root.finishedWork;
  const lanes = root.finishedLanes;

  // \u6E05\u7A7AFiberRoot\u5BF9\u8C61\u4E0A\u7684\u5C5E\u6027
  root.finishedWork = null;
  root.finishedLanes = NoLanes;
  root.callbackNode = null;

  // \u63D0\u4EA4\u9636\u6BB5
  let firstEffect = finishedWork.firstEffect;
  if (firstEffect !== null) {
    const prevExecutionContext = executionContext;
    executionContext |= CommitContext;
    // \u9636\u6BB51: dom\u7A81\u53D8\u4E4B\u524D
    nextEffect = firstEffect;
    do {
      commitBeforeMutationEffects();
    } while (nextEffect !== null);

    // \u9636\u6BB52: dom\u7A81\u53D8, \u754C\u9762\u53D1\u751F\u6539\u53D8
    nextEffect = firstEffect;
    do {
      commitMutationEffects(root, renderPriorityLevel);
    } while (nextEffect !== null);
    root.current = finishedWork;

    // \u9636\u6BB53: layout\u9636\u6BB5, \u8C03\u7528\u751F\u547D\u5468\u671FcomponentDidUpdate\u548C\u56DE\u8C03\u51FD\u6570\u7B49
    nextEffect = firstEffect;
    do {
      commitLayoutEffects(root, lanes);
    } while (nextEffect !== null);
    nextEffect = null;
    executionContext = prevExecutionContext;
  }
  ensureRootIsScheduled(root, now());
  return null;
}
`,paraId:27,tocIndex:6},{value:"\u5728\u8F93\u51FA\u9636\u6BB5,",paraId:28,tocIndex:6},{value:"commitRoot",paraId:28,tocIndex:6},{value:"\u7684\u5B9E\u73B0\u903B\u8F91\u662F\u5728",paraId:28,tocIndex:6},{value:"commitRootImpl",paraId:28,tocIndex:6},{value:"\u51FD\u6570\u4E2D, \u5176\u4E3B\u8981\u903B\u8F91\u662F\u5904\u7406\u526F\u4F5C\u7528\u961F\u5217, \u5C06\u6700\u65B0\u7684 fiber \u6811\u7ED3\u6784\u53CD\u6620\u5230 DOM \u4E0A.",paraId:28,tocIndex:6},{value:"\u6838\u5FC3\u903B\u8F91\u5206\u4E3A 3 \u4E2A\u6B65\u9AA4:",paraId:29,tocIndex:6},{value:"commitBeforeMutationEffects",paraId:30,tocIndex:6},{value:"dom \u53D8\u66F4\u4E4B\u524D, \u4E3B\u8981\u5904\u7406\u526F\u4F5C\u7528\u961F\u5217\u4E2D\u5E26\u6709",paraId:31,tocIndex:6},{value:"Snapshot",paraId:31,tocIndex:6},{value:",",paraId:31,tocIndex:6},{value:"Passive",paraId:31,tocIndex:6},{value:"\u6807\u8BB0\u7684",paraId:31,tocIndex:6},{value:"fiber",paraId:31,tocIndex:6},{value:"\u8282\u70B9.",paraId:31,tocIndex:6},{value:"commitMutationEffects",paraId:30,tocIndex:6},{value:"dom \u53D8\u66F4, \u754C\u9762\u5F97\u5230\u66F4\u65B0. \u4E3B\u8981\u5904\u7406\u526F\u4F5C\u7528\u961F\u5217\u4E2D\u5E26\u6709",paraId:32,tocIndex:6},{value:"Placement",paraId:32,tocIndex:6},{value:", ",paraId:32,tocIndex:6},{value:"Update",paraId:32,tocIndex:6},{value:", ",paraId:32,tocIndex:6},{value:"Deletion",paraId:32,tocIndex:6},{value:", ",paraId:32,tocIndex:6},{value:"Hydrating",paraId:32,tocIndex:6},{value:"\u6807\u8BB0\u7684",paraId:32,tocIndex:6},{value:"fiber",paraId:32,tocIndex:6},{value:"\u8282\u70B9.",paraId:32,tocIndex:6},{value:"commitLayoutEffects",paraId:30,tocIndex:6},{value:"dom \u53D8\u66F4\u540E, \u4E3B\u8981\u5904\u7406\u526F\u4F5C\u7528\u961F\u5217\u4E2D\u5E26\u6709",paraId:33,tocIndex:6},{value:"Update | Callback",paraId:33,tocIndex:6},{value:"\u6807\u8BB0\u7684",paraId:33,tocIndex:6},{value:"fiber",paraId:33,tocIndex:6},{value:"\u8282\u70B9.",paraId:33,tocIndex:6},{value:"\u672C\u8282\u4ECE\u5B8F\u89C2\u4E0A\u5206\u6790\u4E86",paraId:34,tocIndex:7},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:34,tocIndex:7},{value:", \u5E76\u5C06\u5176\u5206\u4E3A\u4E86 4 \u4E2A\u6B65\u9AA4, \u57FA\u672C\u8986\u76D6\u4E86",paraId:34,tocIndex:7},{value:"react-reconciler",paraId:34,tocIndex:7},{value:"\u5305\u7684\u6838\u5FC3\u903B\u8F91.",paraId:34,tocIndex:7}],f={},h={title:"fiber \u6811\u6784\u9020(\u57FA\u7840\u51C6\u5907)",toc:"menu",filename:"docs/main/fibertree-prepare.md",group:"\u8FD0\u884C\u6838\u5FC3",order:4,description:"\u5728 React \u8FD0\u884C\u65F6\u4E2D, fiber\u6811\u6784\u9020\u4F4D\u4E8Ereact-reconciler\u5305."},x=[{id:"fiber-\u6811\u6784\u9020\u57FA\u7840\u51C6\u5907",depth:1,title:"fiber \u6811\u6784\u9020(\u57FA\u7840\u51C6\u5907)"},{id:"reactelement-fiber-dom-\u4E09\u8005\u7684\u5173\u7CFB",depth:2,title:"ReactElement, Fiber, DOM \u4E09\u8005\u7684\u5173\u7CFB"},{id:"\u5168\u5C40\u53D8\u91CF",depth:2,title:"\u5168\u5C40\u53D8\u91CF"},{id:"\u6267\u884C\u4E0A\u4E0B\u6587",depth:3,title:"\u6267\u884C\u4E0A\u4E0B\u6587"},{id:"\u53CC\u7F13\u51B2\u6280\u672Fdouble-buffering",depth:3,title:"\u53CC\u7F13\u51B2\u6280\u672F(double buffering)"},{id:"\u4F18\u5148\u7EA7-lanes",depth:3,title:"\u4F18\u5148\u7EA7 {#lanes}"},{id:"update\u4F18\u5148\u7EA7updatelane-update-lane",depth:4,title:"update\u4F18\u5148\u7EA7(update.lane) {#update-lane}"},{id:"\u6E32\u67D3\u4F18\u5148\u7EA7renderlanes",depth:4,title:"\u6E32\u67D3\u4F18\u5148\u7EA7(renderLanes)"},{id:"fiber\u4F18\u5148\u7EA7fiberlanes",depth:4,title:"fiber\u4F18\u5148\u7EA7(fiber.lanes)"},{id:"\u6808\u5E27\u7BA1\u7406",depth:3,title:"\u6808\u5E27\u7BA1\u7406"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"}],m=[{value:"\u5728 React \u8FD0\u884C\u65F6\u4E2D, ",paraId:0,tocIndex:0},{value:"fiber\u6811\u6784\u9020",paraId:0,tocIndex:0},{value:"\u4F4D\u4E8E",paraId:0,tocIndex:0},{value:"react-reconciler",paraId:0,tocIndex:0},{value:"\u5305.",paraId:0,tocIndex:0},{value:"\u5728\u6B63\u5F0F\u89E3\u8BFB",paraId:1,tocIndex:0},{value:"fiber\u6811\u6784\u9020",paraId:1,tocIndex:0},{value:"\u4E4B\u524D, \u518D\u6B21\u56DE\u987E\u4E00\u4E0B",paraId:1,tocIndex:0},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:2,tocIndex:0},{value:"\u7684 4 \u4E2A\u9636\u6BB5:",paraId:1,tocIndex:0},{value:"\u8F93\u5165\u9636\u6BB5: \u8854\u63A5",paraId:3,tocIndex:0},{value:"react-dom",paraId:3,tocIndex:0},{value:"\u5305, \u627F\u63A5",paraId:3,tocIndex:0},{value:"fiber\u66F4\u65B0",paraId:3,tocIndex:0},{value:"\u8BF7\u6C42(\u53EF\u4EE5\u53C2\u8003",paraId:3,tocIndex:0},{value:"React \u5E94\u7528\u7684\u542F\u52A8\u8FC7\u7A0B",paraId:4,tocIndex:0},{value:").",paraId:3,tocIndex:0},{value:"\u6CE8\u518C\u8C03\u5EA6\u4EFB\u52A1: \u4E0E\u8C03\u5EA6\u4E2D\u5FC3(",paraId:3,tocIndex:0},{value:"scheduler",paraId:3,tocIndex:0},{value:"\u5305)\u4EA4\u4E92, \u6CE8\u518C\u8C03\u5EA6\u4EFB\u52A1",paraId:3,tocIndex:0},{value:"task",paraId:3,tocIndex:0},{value:", \u7B49\u5F85\u4EFB\u52A1\u56DE\u8C03(\u53EF\u4EE5\u53C2\u8003",paraId:3,tocIndex:0},{value:"React \u8C03\u5EA6\u539F\u7406(scheduler)",paraId:5,tocIndex:0},{value:").",paraId:3,tocIndex:0},{value:"\u6267\u884C\u4EFB\u52A1\u56DE\u8C03: \u5728\u5185\u5B58\u4E2D\u6784\u9020\u51FA",paraId:3,tocIndex:0},{value:"fiber\u6811",paraId:3,tocIndex:0},{value:"\u548C",paraId:3,tocIndex:0},{value:"DOM",paraId:3,tocIndex:0},{value:"\u5BF9\u8C61, \u4E5F\u662F",paraId:3,tocIndex:0},{value:"fiber \u6811\u6784\u9020\u7684\u91CD\u70B9\u5185\u5BB9",paraId:3,tocIndex:0},{value:".",paraId:3,tocIndex:0},{value:"\u8F93\u51FA: \u4E0E\u6E32\u67D3\u5668(",paraId:3,tocIndex:0},{value:"react-dom",paraId:3,tocIndex:0},{value:")\u4EA4\u4E92, \u6E32\u67D3",paraId:3,tocIndex:0},{value:"DOM",paraId:3,tocIndex:0},{value:"\u8282\u70B9.",paraId:3,tocIndex:0},{value:"fiber\u6811\u6784\u9020",paraId:6,tocIndex:0},{value:"\u5904\u4E8E\u4E0A\u8FF0\u7B2C 3 \u4E2A\u9636\u6BB5, \u53EF\u4EE5\u901A\u8FC7\u4E0D\u540C\u7684\u89C6\u89D2\u6765\u7406\u89E3",paraId:6,tocIndex:0},{value:"fiber\u6811\u6784\u9020",paraId:6,tocIndex:0},{value:"\u5728",paraId:6,tocIndex:0},{value:"React",paraId:6,tocIndex:0},{value:"\u8FD0\u884C\u65F6\u4E2D\u6240\u5904\u7684\u4F4D\u7F6E:",paraId:6,tocIndex:0},{value:"\u4ECE",paraId:7,tocIndex:0},{value:"scheduler",paraId:7,tocIndex:0},{value:"\u8C03\u5EA6\u4E2D\u5FC3\u7684\u89D2\u5EA6\u6765\u770B, \u5B83\u662F\u4EFB\u52A1\u961F\u5217",paraId:7,tocIndex:0},{value:"taskQueue",paraId:7,tocIndex:0},{value:"\u4E2D\u7684\u4E00\u4E2A\u5177\u4F53\u7684\u4EFB\u52A1\u56DE\u8C03(",paraId:7,tocIndex:0},{value:"task.callback",paraId:7,tocIndex:0},{value:").",paraId:7,tocIndex:0},{value:"\u4ECE",paraId:7,tocIndex:0},{value:"React \u5DE5\u4F5C\u5FAA\u73AF",paraId:8,tocIndex:0},{value:"\u7684\u89D2\u5EA6\u6765\u770B, \u5B83\u5C5E\u4E8E",paraId:7,tocIndex:0},{value:"fiber\u6811\u6784\u9020\u5FAA\u73AF",paraId:7,tocIndex:0},{value:".",paraId:7,tocIndex:0},{value:"\u7531\u4E8E",paraId:9,tocIndex:0},{value:"fiber \u6811\u6784\u9020",paraId:9,tocIndex:0},{value:"\u6E90\u7801\u91CF\u6BD4\u8F83\u5927, \u672C\u7CFB\u5217\u6839\u636E",paraId:9,tocIndex:0},{value:"React",paraId:9,tocIndex:0},{value:"\u8FD0\u884C\u7684",paraId:9,tocIndex:0},{value:"\u5185\u5B58\u72B6\u6001",paraId:9,tocIndex:0},{value:", \u5206\u4E3A 2 \u79CD\u60C5\u51B5\u6765\u8BF4\u660E:",paraId:9,tocIndex:0},{value:"\u521D\u6B21\u521B\u5EFA: \u5728",paraId:10,tocIndex:0},{value:"React",paraId:10,tocIndex:0},{value:"\u5E94\u7528\u9996\u6B21\u542F\u52A8\u65F6, \u754C\u9762\u8FD8\u6CA1\u6709\u6E32\u67D3, \u6B64\u65F6\u5E76\u4E0D\u4F1A\u8FDB\u5165\u5BF9\u6BD4\u8FC7\u7A0B, \u76F8\u5F53\u4E8E\u76F4\u63A5\u6784\u9020\u4E00\u68F5\u5168\u65B0\u7684\u6811.",paraId:10,tocIndex:0},{value:"\u5BF9\u6BD4\u66F4\u65B0: ",paraId:10,tocIndex:0},{value:"React",paraId:10,tocIndex:0},{value:"\u5E94\u7528\u542F\u52A8\u540E, \u754C\u9762\u5DF2\u7ECF\u6E32\u67D3. \u5982\u679C\u518D\u6B21\u53D1\u751F\u66F4\u65B0, \u521B\u5EFA",paraId:10,tocIndex:0},{value:"\u65B0fiber",paraId:10,tocIndex:0},{value:"\u4E4B\u524D\u9700\u8981\u548C",paraId:10,tocIndex:0},{value:"\u65E7fiber",paraId:10,tocIndex:0},{value:"\u8FDB\u884C\u5BF9\u6BD4. \u6700\u540E\u6784\u9020\u7684 fiber \u6811\u6709\u53EF\u80FD\u662F\u5168\u65B0\u7684, \u4E5F\u53EF\u80FD\u662F\u90E8\u5206\u66F4\u65B0\u7684.",paraId:10,tocIndex:0},{value:"\u65E0\u8BBA\u662F",paraId:11,tocIndex:0},{value:"\u521D\u6B21\u521B\u5EFA",paraId:11,tocIndex:0},{value:"\u8FD8\u662F",paraId:11,tocIndex:0},{value:"\u5BF9\u6BD4\u66F4\u65B0",paraId:11,tocIndex:0},{value:", \u57FA\u7840\u6982\u5FF5\u90FD\u662F\u901A\u7528\u7684, \u672C\u8282\u5C06\u4ECB\u7ECD\u8FD9\u4E9B\u57FA\u7840\u77E5\u8BC6, \u4E3A\u6B63\u5F0F\u8FDB\u5165",paraId:11,tocIndex:0},{value:"fiber\u6811\u6784\u9020",paraId:11,tocIndex:0},{value:"\u505A\u51C6\u5907.",paraId:11,tocIndex:0},{value:"\u5728",paraId:12,tocIndex:1},{value:"React \u5E94\u7528\u4E2D\u7684\u9AD8\u9891\u5BF9\u8C61",paraId:13,tocIndex:1},{value:"\u4E00\u6587\u4E2D, \u5DF2\u7ECF\u4ECB\u7ECD\u4E86",paraId:12,tocIndex:1},{value:"ReactElement",paraId:12,tocIndex:1},{value:"\u548C",paraId:12,tocIndex:1},{value:"Fiber",paraId:12,tocIndex:1},{value:"\u5BF9\u8C61\u7684\u6570\u636E\u7ED3\u6784. \u8FD9\u91CC\u6211\u4EEC\u68B3\u7406\u51FA",paraId:12,tocIndex:1},{value:"ReactElement, Fiber, DOM",paraId:12,tocIndex:1},{value:"\u8FD9 3 \u79CD\u5BF9\u8C61\u7684\u5173\u7CFB",paraId:12,tocIndex:1},{value:"ReactElement \u5BF9\u8C61",paraId:14,tocIndex:1},{value:"(type \u5B9A\u4E49\u5728",paraId:14,tocIndex:1},{value:"shared \u5305\u4E2D",paraId:14,tocIndex:1},{value:")",paraId:14,tocIndex:1},{value:"\u6240\u6709\u91C7\u7528",paraId:15,tocIndex:1},{value:"jsx",paraId:15,tocIndex:1},{value:"\u8BED\u6CD5\u4E66\u5199\u7684\u8282\u70B9, \u90FD\u4F1A\u88AB\u7F16\u8BD1\u5668\u8F6C\u6362, \u6700\u7EC8\u4F1A\u4EE5",paraId:15,tocIndex:1},{value:"React.createElement(...)",paraId:15,tocIndex:1},{value:"\u7684\u65B9\u5F0F, \u521B\u5EFA\u51FA\u6765\u4E00\u4E2A\u4E0E\u4E4B\u5BF9\u5E94\u7684",paraId:15,tocIndex:1},{value:"ReactElement",paraId:15,tocIndex:1},{value:"\u5BF9\u8C61",paraId:15,tocIndex:1},{value:"fiber \u5BF9\u8C61",paraId:16,tocIndex:1},{value:"(type \u7C7B\u578B\u7684\u5B9A\u4E49\u5728",paraId:16,tocIndex:1},{value:"ReactInternalTypes.js",paraId:16,tocIndex:1},{value:"\u4E2D)",paraId:16,tocIndex:1},{value:"fiber\u5BF9\u8C61",paraId:17,tocIndex:1},{value:"\u662F\u901A\u8FC7",paraId:17,tocIndex:1},{value:"ReactElement",paraId:17,tocIndex:1},{value:"\u5BF9\u8C61\u8FDB\u884C\u521B\u5EFA\u7684, \u591A\u4E2A",paraId:17,tocIndex:1},{value:"fiber\u5BF9\u8C61",paraId:17,tocIndex:1},{value:"\u6784\u6210\u4E86\u4E00\u68F5",paraId:17,tocIndex:1},{value:"fiber\u6811",paraId:17,tocIndex:1},{value:", ",paraId:17,tocIndex:1},{value:"fiber\u6811",paraId:17,tocIndex:1},{value:"\u662F\u6784\u9020",paraId:17,tocIndex:1},{value:"DOM\u6811",paraId:17,tocIndex:1},{value:"\u7684\u6570\u636E\u6A21\u578B, ",paraId:17,tocIndex:1},{value:"fiber\u6811",paraId:17,tocIndex:1},{value:"\u7684\u4EFB\u4F55\u6539\u52A8, \u6700\u540E\u90FD\u4F53\u73B0\u5230",paraId:17,tocIndex:1},{value:"DOM\u6811",paraId:17,tocIndex:1},{value:".",paraId:17,tocIndex:1},{value:"DOM \u5BF9\u8C61",paraId:18,tocIndex:1},{value:": \u6587\u6863\u5BF9\u8C61\u6A21\u578B",paraId:18,tocIndex:1},{value:"DOM",paraId:19,tocIndex:1},{value:"\u5C06\u6587\u6863\u89E3\u6790\u4E3A\u4E00\u4E2A\u7531\u8282\u70B9\u548C\u5BF9\u8C61\uFF08\u5305\u542B\u5C5E\u6027\u548C\u65B9\u6CD5\u7684\u5BF9\u8C61\uFF09\u7EC4\u6210\u7684\u7ED3\u6784\u96C6\u5408, \u4E5F\u5C31\u662F\u5E38\u8BF4\u7684",paraId:19,tocIndex:1},{value:"DOM\u6811",paraId:19,tocIndex:1},{value:".",paraId:19,tocIndex:1},{value:"JavaScript",paraId:19,tocIndex:1},{value:"\u53EF\u4EE5\u8BBF\u95EE\u548C\u64CD\u4F5C\u5B58\u50A8\u5728 DOM \u4E2D\u7684\u5185\u5BB9, \u4E5F\u5C31\u662F\u64CD\u4F5C",paraId:19,tocIndex:1},{value:"DOM\u5BF9\u8C61",paraId:19,tocIndex:1},{value:", \u8FDB\u800C\u89E6\u53D1 UI \u6E32\u67D3.",paraId:19,tocIndex:1},{value:"\u5B83\u4EEC\u4E4B\u95F4\u7684\u5173\u7CFB\u53CD\u6620\u4E86\u6211\u4EEC\u4E66\u5199\u7684 JSX \u4EE3\u7801\u5230 DOM \u8282\u70B9\u7684\u8F6C\u6362\u8FC7\u7A0B:",paraId:20,tocIndex:1},{value:"\u6CE8\u610F:",paraId:21,tocIndex:1},{value:"\u5F00\u53D1\u4EBA\u5458\u80FD\u591F\u63A7\u5236\u7684\u662F",paraId:22,tocIndex:1},{value:"JSX",paraId:22,tocIndex:1},{value:", \u4E5F\u5C31\u662F",paraId:22,tocIndex:1},{value:"ReactElement",paraId:22,tocIndex:1},{value:"\u5BF9\u8C61.",paraId:22,tocIndex:1},{value:"fiber\u6811",paraId:22,tocIndex:1},{value:"\u662F\u901A\u8FC7",paraId:22,tocIndex:1},{value:"ReactElement",paraId:22,tocIndex:1},{value:"\u751F\u6210\u7684, \u5982\u679C\u8131\u79BB\u4E86",paraId:22,tocIndex:1},{value:"ReactElement",paraId:22,tocIndex:1},{value:",",paraId:22,tocIndex:1},{value:"fiber\u6811",paraId:22,tocIndex:1},{value:"\u4E5F\u65E0\u4ECE\u8C08\u8D77. \u6240\u4EE5\u662F",paraId:22,tocIndex:1},{value:"ReactElement",paraId:22,tocIndex:1},{value:"\u6811(\u4E0D\u662F\u4E25\u683C\u7684\u6811\u7ED3\u6784, \u4E3A\u4E86\u65B9\u4FBF\u4E5F\u79F0\u4E3A\u6811)\u9A71\u52A8",paraId:22,tocIndex:1},{value:"fiber\u6811",paraId:22,tocIndex:1},{value:".",paraId:22,tocIndex:1},{value:"fiber\u6811",paraId:22,tocIndex:1},{value:"\u662F",paraId:22,tocIndex:1},{value:"DOM\u6811",paraId:22,tocIndex:1},{value:"\u7684\u6570\u636E\u6A21\u578B, ",paraId:22,tocIndex:1},{value:"fiber\u6811",paraId:22,tocIndex:1},{value:"\u9A71\u52A8",paraId:22,tocIndex:1},{value:"DOM\u6811",paraId:22,tocIndex:1},{value:"\u5F00\u53D1\u4EBA\u5458\u901A\u8FC7\u7F16\u7A0B\u53EA\u80FD\u63A7\u5236",paraId:23,tocIndex:1},{value:"ReactElement",paraId:23,tocIndex:1},{value:"\u6811\u7684\u7ED3\u6784, ",paraId:23,tocIndex:1},{value:"ReactElement\u6811",paraId:23,tocIndex:1},{value:"\u9A71\u52A8",paraId:23,tocIndex:1},{value:"fiber\u6811",paraId:23,tocIndex:1},{value:", ",paraId:23,tocIndex:1},{value:"fiber\u6811",paraId:23,tocIndex:1},{value:"\u518D\u9A71\u52A8",paraId:23,tocIndex:1},{value:"DOM\u6811",paraId:23,tocIndex:1},{value:", \u6700\u540E\u5C55\u73B0\u5230\u9875\u9762\u4E0A. \u6240\u4EE5",paraId:23,tocIndex:1},{value:"fiber\u6811",paraId:23,tocIndex:1},{value:"\u7684\u6784\u9020\u8FC7\u7A0B, \u5B9E\u9645\u4E0A\u5C31\u662F",paraId:23,tocIndex:1},{value:"ReactElement",paraId:23,tocIndex:1},{value:"\u5BF9\u8C61\u5230",paraId:23,tocIndex:1},{value:"fiber",paraId:23,tocIndex:1},{value:"\u5BF9\u8C61\u7684\u8F6C\u6362\u8FC7\u7A0B.",paraId:23,tocIndex:1},{value:"\u4ECE",paraId:24,tocIndex:2},{value:"React \u5DE5\u4F5C\u5FAA\u73AF",paraId:25,tocIndex:2},{value:"\u7684\u89D2\u5EA6\u6765\u770B, \u6574\u4E2A\u6784\u9020\u8FC7\u7A0B\u88AB\u5305\u88F9\u5728",paraId:24,tocIndex:2},{value:"fiber\u6811\u6784\u9020\u5FAA\u73AF",paraId:24,tocIndex:2},{value:"\u4E2D(\u5BF9\u5E94\u6E90\u7801\u4F4D\u4E8E",paraId:24,tocIndex:2},{value:"ReactFiberWorkLoop.js",paraId:24,tocIndex:2},{value:").",paraId:24,tocIndex:2},{value:"\u5728",paraId:26,tocIndex:2},{value:"React",paraId:26,tocIndex:2},{value:"\u8FD0\u884C\u65F6, ",paraId:26,tocIndex:2},{value:"ReactFiberWorkLoop.js",paraId:26,tocIndex:2},{value:"\u95ED\u5305\u4E2D\u7684",paraId:26,tocIndex:2},{value:"\u5168\u5C40\u53D8\u91CF",paraId:26,tocIndex:2},{value:"\u4F1A\u968F\u7740",paraId:26,tocIndex:2},{value:"fiber\u6811\u6784\u9020\u5FAA\u73AF",paraId:26,tocIndex:2},{value:"\u7684\u8FDB\u884C\u800C\u53D8\u5316, \u73B0\u5728\u67E5\u770B\u5176\u4E2D\u91CD\u8981\u7684\u5168\u5C40\u53D8\u91CF(",paraId:26,tocIndex:2},{value:"\u6E90\u7801\u94FE\u63A5",paraId:26,tocIndex:2},{value:"):",paraId:26,tocIndex:2},{value:`// \u5F53\u524DReact\u7684\u6267\u884C\u6808(\u6267\u884C\u4E0A\u4E0B\u6587)
let executionContext: ExecutionContext = NoContext;

// \u5F53\u524Droot\u8282\u70B9
let workInProgressRoot: FiberRoot | null = null;
// \u6B63\u5728\u5904\u7406\u4E2D\u7684fiber\u8282\u70B9
let workInProgress: Fiber | null = null;
// \u6B63\u5728\u6E32\u67D3\u7684\u8F66\u9053(\u590D\u6570)
let workInProgressRootRenderLanes: Lanes = NoLanes;

// \u5305\u542B\u6240\u6709\u5B50\u8282\u70B9\u7684\u4F18\u5148\u7EA7, \u662FworkInProgressRootRenderLanes\u7684\u8D85\u96C6
// \u5927\u591A\u6570\u60C5\u51B5\u4E0B: \u5728\u5DE5\u4F5C\u5FAA\u73AF\u6574\u4F53\u5C42\u9762\u4F1A\u4F7F\u7528workInProgressRootRenderLanes, \u5728begin/complete\u9636\u6BB5\u5C42\u9762\u4F1A\u4F7F\u7528 subtreeRenderLanes
let subtreeRenderLanes: Lanes = NoLanes;
// \u4E00\u4E2A\u6808\u7ED3\u6784: \u4E13\u95E8\u5B58\u50A8\u5F53\u524D\u8282\u70B9\u7684 subtreeRenderLanes
const subtreeRenderLanesCursor: StackCursor<Lanes> = createCursor(NoLanes);

// fiber\u6784\u9020\u5B8C\u540E, root\u8282\u70B9\u7684\u72B6\u6001: completed, errored, suspended\u7B49
let workInProgressRootExitStatus: RootExitStatus = RootIncomplete;
// \u91CD\u5927\u9519\u8BEF
let workInProgressRootFatalError: mixed = null;
// \u6574\u4E2Arender\u671F\u95F4\u6240\u4F7F\u7528\u5230\u7684\u6240\u6709lanes
let workInProgressRootIncludedLanes: Lanes = NoLanes;
// \u5728render\u671F\u95F4\u88AB\u8DF3\u8FC7(\u7531\u4E8E\u4F18\u5148\u7EA7\u4E0D\u591F)\u7684lanes: \u53EA\u5305\u62EC\u672A\u5904\u7406\u7684updates, \u4E0D\u5305\u62EC\u88AB\u590D\u7528\u7684fiber\u8282\u70B9
let workInProgressRootSkippedLanes: Lanes = NoLanes;
// \u5728render\u671F\u95F4\u88AB\u4FEE\u6539\u8FC7\u7684lanes
let workInProgressRootUpdatedLanes: Lanes = NoLanes;

// \u9632\u6B62\u65E0\u9650\u5FAA\u73AF\u548C\u5D4C\u5957\u66F4\u65B0
const NESTED_UPDATE_LIMIT = 50;
let nestedUpdateCount: number = 0;
let rootWithNestedUpdates: FiberRoot | null = null;

const NESTED_PASSIVE_UPDATE_LIMIT = 50;
let nestedPassiveUpdateCount: number = 0;

// \u53D1\u8D77\u66F4\u65B0\u7684\u65F6\u95F4
let currentEventTime: number = NoTimestamp;
let currentEventWipLanes: Lanes = NoLanes;
let currentEventPendingLanes: Lanes = NoLanes;
`,paraId:27,tocIndex:2},{value:"\u5728\u6E90\u7801\u4E2D, \u5927\u90E8\u5206\u53D8\u91CF\u90FD\u5E26\u6709\u82F1\u6587\u6CE8\u91CA(\u8BFB\u8005\u53EF\u81EA\u884C\u67E5\u9605), \u6B64\u5904\u53EA\u5217\u4E3E\u4E86",paraId:28,tocIndex:2},{value:"fiber\u6811\u6784\u9020\u5FAA\u73AF",paraId:28,tocIndex:2},{value:"\u4E2D\u6700\u6838\u5FC3\u7684\u53D8\u91CF",paraId:28,tocIndex:2},{value:"\u5728\u5168\u5C40\u53D8\u91CF\u4E2D\u6709",paraId:29,tocIndex:3},{value:"executionContext",paraId:29,tocIndex:3},{value:", \u4EE3\u8868",paraId:29,tocIndex:3},{value:"\u6E32\u67D3\u671F\u95F4",paraId:29,tocIndex:3},{value:"\u7684",paraId:29,tocIndex:3},{value:"\u6267\u884C\u6808",paraId:29,tocIndex:3},{value:"(\u6216\u53EB\u505A",paraId:29,tocIndex:3},{value:"\u6267\u884C\u4E0A\u4E0B\u6587",paraId:29,tocIndex:3},{value:"), \u5B83\u4E5F\u662F\u4E00\u4E2A\u4E8C\u8FDB\u5236\u8868\u793A\u7684\u53D8\u91CF, \u901A\u8FC7\u4F4D\u8FD0\u7B97\u8FDB\u884C\u64CD\u4F5C(\u53C2\u8003",paraId:29,tocIndex:3},{value:"React \u7B97\u6CD5\u4E4B\u4F4D\u8FD0\u7B97",paraId:30,tocIndex:3},{value:"). \u5728\u6E90\u7801\u4E2D\u4E00\u5171\u5B9A\u4E49\u4E86 8 \u79CD\u6267\u884C\u6808:",paraId:29,tocIndex:3},{value:`type ExecutionContext = number;
export const NoContext = /*             */ 0b0000000;
const BatchedContext = /*               */ 0b0000001;
const EventContext = /*                 */ 0b0000010;
const DiscreteEventContext = /*         */ 0b0000100;
const LegacyUnbatchedContext = /*       */ 0b0001000;
const RenderContext = /*                */ 0b0010000;
const CommitContext = /*                */ 0b0100000;
`,paraId:31,tocIndex:3},{value:"\u4E0A\u6587\u56DE\u987E\u4E86",paraId:32,tocIndex:3},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:32,tocIndex:3},{value:"\u7684 4 \u4E2A\u9636\u6BB5, \u8FD9 4 \u4E2A\u9636\u6BB5\u53EA\u662F\u4E00\u4E2A\u6574\u4F53\u5212\u5206. \u5982\u679C\u5177\u4F53\u5230\u6BCF\u4E00\u6B21\u66F4\u65B0, \u662F\u6709\u5DEE\u5F02\u7684. \u6BD4\u5982\u8BF4: ",paraId:32,tocIndex:3},{value:"Legacy",paraId:32,tocIndex:3},{value:"\u6A21\u5F0F\u4E0B\u7684\u9996\u6B21\u66F4\u65B0, \u4E0D\u4F1A\u7ECF\u8FC7",paraId:32,tocIndex:3},{value:"\u8C03\u5EA6\u4E2D\u5FC3",paraId:32,tocIndex:3},{value:"(\u7B2C 2 \u9636\u6BB5),\u800C\u662F\u76F4\u63A5\u8FDB\u5165",paraId:32,tocIndex:3},{value:"fiber\u6811\u6784\u9020",paraId:32,tocIndex:3},{value:"(\u7B2C 3 \u9636\u6BB5).",paraId:32,tocIndex:3},{value:"\u4E8B\u5B9E\u4E0A\u6B63\u662F",paraId:33,tocIndex:3},{value:"executionContext",paraId:33,tocIndex:3},{value:"\u5728\u64CD\u63A7",paraId:33,tocIndex:3},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:33,tocIndex:3},{value:"(\u6E90\u7801\u4F53\u73B0\u5728",paraId:33,tocIndex:3},{value:"scheduleUpdateOnFiber \u51FD\u6570",paraId:33,tocIndex:3},{value:").",paraId:33,tocIndex:3},{value:`export function scheduleUpdateOnFiber(
  fiber: Fiber,
  lane: Lane,
  eventTime: number,
) {
  if (lane === SyncLane) {
    // legacy\u6216blocking\u6A21\u5F0F
    if (
      (executionContext & LegacyUnbatchedContext) !== NoContext &&
      (executionContext & (RenderContext | CommitContext)) === NoContext
    ) {
      performSyncWorkOnRoot(root);
    } else {
      // \u540E\u7EED\u7684\u66F4\u65B0
      // \u8FDB\u5165\u7B2C2\u9636\u6BB5, \u6CE8\u518C\u8C03\u5EA6\u4EFB\u52A1
      ensureRootIsScheduled(root, eventTime);
      if (executionContext === NoContext) {
        // \u5982\u679C\u6267\u884C\u4E0A\u4E0B\u6587\u4E3A\u7A7A, \u4F1A\u53D6\u6D88\u8C03\u5EA6\u4EFB\u52A1, \u624B\u52A8\u6267\u884C\u56DE\u8C03
        // \u8FDB\u5165\u7B2C3\u9636\u6BB5, \u8FDB\u884Cfiber\u6811\u6784\u9020
        flushSyncCallbackQueue();
      }
    }
  } else {
    // concurrent\u6A21\u5F0F
    // \u65E0\u8BBA\u662F\u5426\u521D\u6B21\u66F4\u65B0, \u90FD\u6B63\u5E38\u8FDB\u5165\u7B2C2\u9636\u6BB5, \u6CE8\u518C\u8C03\u5EA6\u4EFB\u52A1
    ensureRootIsScheduled(root, eventTime);
  }
}
`,paraId:34,tocIndex:3},{value:"\u5728 render \u8FC7\u7A0B\u4E2D, \u6BCF\u4E00\u4E2A\u9636\u6BB5\u90FD\u4F1A\u6539\u53D8",paraId:35,tocIndex:3},{value:"executionContext",paraId:35,tocIndex:3},{value:"(render \u4E4B\u524D, \u4F1A\u8BBE\u7F6E",paraId:35,tocIndex:3},{value:"executionContext |= RenderContext",paraId:35,tocIndex:3},{value:"; commit \u4E4B\u524D, \u4F1A\u8BBE\u7F6E",paraId:35,tocIndex:3},{value:"executionContext |= CommitContext",paraId:35,tocIndex:3},{value:"), \u5047\u8BBE\u5728",paraId:35,tocIndex:3},{value:"render",paraId:35,tocIndex:3},{value:"\u8FC7\u7A0B\u4E2D\u518D\u6B21\u53D1\u8D77\u66F4\u65B0(\u5982\u5728",paraId:35,tocIndex:3},{value:"UNSAFE_componentWillReceiveProps",paraId:35,tocIndex:3},{value:"\u751F\u547D\u5468\u671F\u4E2D\u8C03\u7528",paraId:35,tocIndex:3},{value:"setState",paraId:35,tocIndex:3},{value:")\u5219\u53EF\u901A\u8FC7",paraId:35,tocIndex:3},{value:"executionContext",paraId:35,tocIndex:3},{value:"\u6765\u5224\u65AD\u5F53\u524D\u7684",paraId:35,tocIndex:3},{value:"render",paraId:35,tocIndex:3},{value:"\u72B6\u6001.",paraId:35,tocIndex:3},{value:"\u5728\u5168\u5C40\u53D8\u91CF\u4E2D\u6709",paraId:36,tocIndex:4},{value:"workInProgress",paraId:36,tocIndex:4},{value:", \u8FD8\u6709\u4E0D\u5C11\u4EE5",paraId:36,tocIndex:4},{value:"workInProgress",paraId:36,tocIndex:4},{value:"\u6765\u547D\u540D\u7684\u53D8\u91CF. ",paraId:36,tocIndex:4},{value:"workInProgress",paraId:36,tocIndex:4},{value:"\u7684\u5E94\u7528\u5B9E\u9645\u4E0A\u5C31\u662F",paraId:36,tocIndex:4},{value:"React",paraId:36,tocIndex:4},{value:"\u7684\u53CC\u7F13\u51B2\u6280\u672F(",paraId:36,tocIndex:4},{value:"double buffering",paraId:36,tocIndex:4},{value:").",paraId:36,tocIndex:4},{value:"\u5728\u4E0A\u6587\u6211\u4EEC\u68B3\u7406\u4E86",paraId:37,tocIndex:4},{value:"ReactElement, Fiber, DOM\u4E09\u8005\u7684\u5173\u7CFB",paraId:37,tocIndex:4},{value:", ",paraId:37,tocIndex:4},{value:"fiber\u6811",paraId:37,tocIndex:4},{value:"\u7684\u6784\u9020\u8FC7\u7A0B, \u5C31\u662F\u628A",paraId:37,tocIndex:4},{value:"ReactElement",paraId:37,tocIndex:4},{value:"\u8F6C\u6362\u6210",paraId:37,tocIndex:4},{value:"fiber\u6811",paraId:37,tocIndex:4},{value:"\u7684\u8FC7\u7A0B. \u5728\u8FD9\u4E2A\u8FC7\u7A0B\u4E2D, \u5185\u5B58\u91CC\u4F1A\u540C\u65F6\u5B58\u5728 2 \u68F5",paraId:37,tocIndex:4},{value:"fiber\u6811",paraId:37,tocIndex:4},{value:":",paraId:37,tocIndex:4},{value:"\u5176\u4E00: \u4EE3\u8868\u5F53\u524D\u754C\u9762\u7684",paraId:38,tocIndex:4},{value:"fiber",paraId:38,tocIndex:4},{value:"\u6811(\u5DF2\u7ECF\u88AB\u5C55\u793A\u51FA\u6765, \u6302\u8F7D\u5230",paraId:38,tocIndex:4},{value:"fiberRoot.current",paraId:38,tocIndex:4},{value:"\u4E0A). \u5982\u679C\u662F\u521D\u6B21\u6784\u9020(",paraId:38,tocIndex:4},{value:"\u521D\u59CB\u5316\u6E32\u67D3",paraId:38,tocIndex:4},{value:"), \u9875\u9762\u8FD8\u6CA1\u6709\u6E32\u67D3, \u6B64\u65F6\u754C\u9762\u5BF9\u5E94\u7684 fiber \u6811\u4E3A\u7A7A(",paraId:38,tocIndex:4},{value:"fiberRoot.current = null",paraId:38,tocIndex:4},{value:").",paraId:38,tocIndex:4},{value:"\u5176\u4E8C: \u6B63\u5728\u6784\u9020\u7684",paraId:38,tocIndex:4},{value:"fiber",paraId:38,tocIndex:4},{value:"\u6811(\u5373\u5C06\u5C55\u793A\u51FA\u6765, \u6302\u8F7D\u5230",paraId:38,tocIndex:4},{value:"HostRootFiber.alternate",paraId:38,tocIndex:4},{value:"\u4E0A, \u6B63\u5728\u6784\u9020\u7684\u8282\u70B9\u79F0\u4E3A",paraId:38,tocIndex:4},{value:"workInProgress",paraId:38,tocIndex:4},{value:"). \u5F53\u6784\u9020\u5B8C\u6210\u4E4B\u540E, \u91CD\u65B0\u6E32\u67D3\u9875\u9762, \u6700\u540E\u5207\u6362",paraId:38,tocIndex:4},{value:"fiberRoot.current = workInProgress",paraId:38,tocIndex:4},{value:", \u4F7F\u5F97",paraId:38,tocIndex:4},{value:"fiberRoot.current",paraId:38,tocIndex:4},{value:"\u91CD\u65B0\u6307\u5411\u4EE3\u8868\u5F53\u524D\u754C\u9762\u7684",paraId:38,tocIndex:4},{value:"fiber",paraId:38,tocIndex:4},{value:"\u6811.",paraId:38,tocIndex:4},{value:"\u6B64\u5904\u6D89\u53CA\u5230 2 \u4E2A\u5168\u5C40\u5BF9\u8C61",paraId:39,tocIndex:4},{value:"fiberRoot",paraId:39,tocIndex:4},{value:"\u548C",paraId:39,tocIndex:4},{value:"HostRootFiber",paraId:39,tocIndex:4},{value:", \u5728",paraId:39,tocIndex:4},{value:"React \u5E94\u7528\u7684\u542F\u52A8\u8FC7\u7A0B",paraId:40,tocIndex:4},{value:"\u4E2D\u6709\u8BE6\u7EC6\u7684\u8BF4\u660E.",paraId:39,tocIndex:4},{value:"\u7528\u56FE\u6765\u8868\u8FF0",paraId:41,tocIndex:4},{value:"double buffering",paraId:41,tocIndex:4},{value:"\u7684\u6982\u5FF5\u5982\u4E0B:",paraId:41,tocIndex:4},{value:"\u6784\u9020\u8FC7\u7A0B\u4E2D, ",paraId:42,tocIndex:4},{value:"fiberRoot.current",paraId:42,tocIndex:4},{value:"\u6307\u5411\u5F53\u524D\u754C\u9762\u5BF9\u5E94\u7684",paraId:42,tocIndex:4},{value:"fiber",paraId:42,tocIndex:4},{value:"\u6811.",paraId:42,tocIndex:4},{value:"\u6784\u9020\u5B8C\u6210\u5E76\u6E32\u67D3, \u5207\u6362",paraId:43,tocIndex:4},{value:"fiberRoot.current",paraId:43,tocIndex:4},{value:"\u6307\u9488, \u4F7F\u5176\u7EE7\u7EED\u6307\u5411\u5F53\u524D\u754C\u9762\u5BF9\u5E94\u7684",paraId:43,tocIndex:4},{value:"fiber",paraId:43,tocIndex:4},{value:"\u6811(\u539F\u6765\u4EE3\u8868\u754C\u9762\u7684 fiber \u6811, \u53D8\u6210\u4E86\u5185\u5B58\u4E2D).",paraId:43,tocIndex:4},{value:"\u5728\u5168\u5C40\u53D8\u91CF\u4E2D\u6709\u4E0D\u5C11\u53D8\u91CF\u90FD\u4EE5 Lanes \u547D\u540D(\u5982",paraId:44,tocIndex:5},{value:"workInProgressRootRenderLanes",paraId:44,tocIndex:5},{value:",",paraId:44,tocIndex:5},{value:"subtreeRenderLanes",paraId:44,tocIndex:5},{value:"\u5176\u4F5C\u7528\u89C1\u4E0A\u6587\u6CE8\u91CA), \u5B83\u4EEC\u90FD\u4E0E\u4F18\u5148\u7EA7\u76F8\u5173.",paraId:44,tocIndex:5},{value:"\u5728\u524D\u6587",paraId:45,tocIndex:5},{value:"React \u4E2D\u7684\u4F18\u5148\u7EA7\u7BA1\u7406",paraId:46,tocIndex:5},{value:"\u4E2D, \u6211\u4EEC\u4ECB\u7ECD\u4E86",paraId:45,tocIndex:5},{value:"React",paraId:45,tocIndex:5},{value:"\u4E2D\u6709 3 \u5957\u4F18\u5148\u7EA7\u4F53\u7CFB, \u5E76\u4E86\u89E3\u4E86\u5B83\u4EEC\u4E4B\u95F4\u7684\u5173\u8054. \u73B0\u5728",paraId:45,tocIndex:5},{value:"fiber\u6811\u6784\u9020",paraId:45,tocIndex:5},{value:"\u8FC7\u7A0B\u4E2D, \u5C06\u8981\u6DF1\u5165\u5206\u6790\u8F66\u9053\u6A21\u578B",paraId:45,tocIndex:5},{value:"Lane",paraId:45,tocIndex:5},{value:"\u7684\u5177\u4F53\u5E94\u7528.",paraId:45,tocIndex:5},{value:"\u5728\u6574\u4E2A",paraId:47,tocIndex:5},{value:"react-reconciler",paraId:47,tocIndex:5},{value:"\u5305\u4E2D, ",paraId:47,tocIndex:5},{value:"Lane",paraId:47,tocIndex:5},{value:"\u7684\u5E94\u7528\u53EF\u4EE5\u5206\u4E3A 3 \u4E2A\u65B9\u9762:",paraId:47,tocIndex:5},{value:"update",paraId:48},{value:"\u5728",paraId:49,tocIndex:6},{value:"React \u5E94\u7528\u4E2D\u7684\u9AD8\u9891\u5BF9\u8C61",paraId:50,tocIndex:6},{value:"\u4E00\u6587\u4E2D, \u4ECB\u7ECD\u8FC7",paraId:49,tocIndex:6},{value:"update",paraId:49,tocIndex:6},{value:"\u5BF9\u8C61, \u5B83\u662F\u4E00\u4E2A\u73AF\u5F62\u94FE\u8868. \u5BF9\u4E8E\u5355\u4E2A",paraId:49,tocIndex:6},{value:"update",paraId:49,tocIndex:6},{value:"\u5BF9\u8C61\u6765\u8BB2, ",paraId:49,tocIndex:6},{value:"update.lane",paraId:49,tocIndex:6},{value:"\u4EE3\u8868\u5B83\u7684\u4F18\u5148\u7EA7, \u79F0\u4E4B\u4E3A",paraId:49,tocIndex:6},{value:"update",paraId:49,tocIndex:6},{value:"\u4F18\u5148\u7EA7.",paraId:49,tocIndex:6},{value:"\u89C2\u5BDF\u5176\u6784\u9020\u51FD\u6570(",paraId:51,tocIndex:6},{value:"\u6E90\u7801\u94FE\u63A5",paraId:51,tocIndex:6},{value:"),\u5176\u4F18\u5148\u7EA7\u662F\u7531\u5916\u754C\u4F20\u5165.",paraId:51,tocIndex:6},{value:`export function createUpdate(eventTime: number, lane: Lane): Update<*> {
  const update: Update<*> = {
    eventTime,
    lane,
    tag: UpdateState,
    payload: null,
    callback: null,
    next: null,
  };
  return update;
}
`,paraId:52,tocIndex:6},{value:"\u5728",paraId:53,tocIndex:6},{value:"React",paraId:53,tocIndex:6},{value:"\u4F53\u7CFB\u4E2D, \u6709 2 \u79CD\u60C5\u51B5\u4F1A\u521B\u5EFA",paraId:53,tocIndex:6},{value:"update",paraId:53,tocIndex:6},{value:"\u5BF9\u8C61:",paraId:53,tocIndex:6},{value:"\u5E94\u7528\u521D\u59CB\u5316: \u5728",paraId:54,tocIndex:6},{value:"react-reconciler",paraId:54,tocIndex:6},{value:"\u5305\u4E2D\u7684",paraId:54,tocIndex:6},{value:"updateContainer",paraId:54,tocIndex:6},{value:"\u51FD\u6570\u4E2D(",paraId:54,tocIndex:6},{value:"\u6E90\u7801",paraId:54,tocIndex:6},{value:")",paraId:54,tocIndex:6},{value:`export function updateContainer(
  element: ReactNodeList,
  container: OpaqueRoot,
  parentComponent: ?React$Component<any, any>,
  callback: ?Function,
): Lane {
  const current = container.current;
  const eventTime = requestEventTime();
  const lane = requestUpdateLane(current); // \u6839\u636E\u5F53\u524D\u65F6\u95F4, \u521B\u5EFA\u4E00\u4E2Aupdate\u4F18\u5148\u7EA7
  const update = createUpdate(eventTime, lane); // lane\u88AB\u7528\u4E8E\u521B\u5EFAupdate\u5BF9\u8C61
  update.payload = { element };
  enqueueUpdate(current, update);
  scheduleUpdateOnFiber(current, lane, eventTime);
  return lane;
}
`,paraId:55,tocIndex:6},{value:"\u53D1\u8D77\u7EC4\u4EF6\u66F4\u65B0: \u5047\u8BBE\u5728 class \u7EC4\u4EF6\u4E2D\u8C03\u7528",paraId:56,tocIndex:6},{value:"setState",paraId:56,tocIndex:6},{value:"(",paraId:56,tocIndex:6},{value:"\u6E90\u7801",paraId:56,tocIndex:6},{value:")",paraId:56,tocIndex:6},{value:`const classComponentUpdater = {
  isMounted,
  enqueueSetState(inst, payload, callback) {
    const fiber = getInstance(inst);
    const eventTime = requestEventTime(); // \u6839\u636E\u5F53\u524D\u65F6\u95F4, \u521B\u5EFA\u4E00\u4E2Aupdate\u4F18\u5148\u7EA7
    const lane = requestUpdateLane(fiber); // lane\u88AB\u7528\u4E8E\u521B\u5EFAupdate\u5BF9\u8C61
    const update = createUpdate(eventTime, lane);
    update.payload = payload;
    enqueueUpdate(fiber, update);
    scheduleUpdateOnFiber(fiber, lane, eventTime);
  },
};
`,paraId:57,tocIndex:6},{value:"\u53EF\u4EE5\u770B\u5230, \u65E0\u8BBA\u662F",paraId:58,tocIndex:6},{value:"\u5E94\u7528\u521D\u59CB\u5316",paraId:58,tocIndex:6},{value:"\u6216\u8005",paraId:58,tocIndex:6},{value:"\u53D1\u8D77\u7EC4\u4EF6\u66F4\u65B0",paraId:58,tocIndex:6},{value:", \u521B\u5EFA",paraId:58,tocIndex:6},{value:"update.lane",paraId:58,tocIndex:6},{value:"\u7684\u903B\u8F91\u90FD\u662F\u4E00\u6837\u7684, \u90FD\u662F\u6839\u636E\u5F53\u524D\u65F6\u95F4, \u521B\u5EFA\u4E00\u4E2A update \u4F18\u5148\u7EA7.",paraId:58,tocIndex:6},{value:"requestUpdateLane",paraId:59,tocIndex:6},{value:":",paraId:59,tocIndex:6},{value:`export function requestUpdateLane(fiber: Fiber): Lane {
  // Special cases
  const mode = fiber.mode;
  if ((mode & BlockingMode) === NoMode) {
    // legacy \u6A21\u5F0F
    return (SyncLane: Lane);
  } else if ((mode & ConcurrentMode) === NoMode) {
    // blocking\u6A21\u5F0F
    return getCurrentPriorityLevel() === ImmediateSchedulerPriority
      ? (SyncLane: Lane)
      : (SyncBatchedLane: Lane);
  }
  // concurrent\u6A21\u5F0F
  if (currentEventWipLanes === NoLanes) {
    currentEventWipLanes = workInProgressRootIncludedLanes;
  }
  const isTransition = requestCurrentTransition() !== NoTransition;
  if (isTransition) {
    // \u7279\u6B8A\u60C5\u51B5, \u5904\u4E8Esuspense\u8FC7\u7A0B\u4E2D
    if (currentEventPendingLanes !== NoLanes) {
      currentEventPendingLanes =
        mostRecentlyUpdatedRoot !== null
          ? mostRecentlyUpdatedRoot.pendingLanes
          : NoLanes;
    }
    return findTransitionLane(currentEventWipLanes, currentEventPendingLanes);
  }
  // \u6B63\u5E38\u60C5\u51B5, \u83B7\u53D6\u8C03\u5EA6\u4F18\u5148\u7EA7
  const schedulerPriority = getCurrentPriorityLevel();
  let lane;
  if (
    (executionContext & DiscreteEventContext) !== NoContext &&
    schedulerPriority === UserBlockingSchedulerPriority
  ) {
    // executionContext \u5B58\u5728\u8F93\u5165\u4E8B\u4EF6. \u4E14\u8C03\u5EA6\u4F18\u5148\u7EA7\u662F\u7528\u6237\u963B\u585E\u6027\u8D28
    lane = findUpdateLane(InputDiscreteLanePriority, currentEventWipLanes);
  } else {
    // \u8C03\u5EA6\u4F18\u5148\u7EA7\u8F6C\u6362\u4E3A\u8F66\u9053\u6A21\u578B
    const schedulerLanePriority =
      schedulerPriorityToLanePriority(schedulerPriority);
    lane = findUpdateLane(schedulerLanePriority, currentEventWipLanes);
  }
  return lane;
}
`,paraId:60,tocIndex:6},{value:"\u53EF\u4EE5\u770B\u5230",paraId:61,tocIndex:6},{value:"requestUpdateLane",paraId:61,tocIndex:6},{value:"\u7684\u4F5C\u7528\u662F\u8FD4\u56DE\u4E00\u4E2A\u5408\u9002\u7684 update \u4F18\u5148\u7EA7.",paraId:61,tocIndex:6},{value:"legacy \u6A21\u5F0F: \u8FD4\u56DE",paraId:62,tocIndex:6},{value:"SyncLane",paraId:62,tocIndex:6},{value:"blocking \u6A21\u5F0F: \u8FD4\u56DE",paraId:62,tocIndex:6},{value:"SyncLane",paraId:62,tocIndex:6},{value:`concurrent \u6A21\u5F0F:
`,paraId:62,tocIndex:6},{value:"\u6B63\u5E38\u60C5\u51B5\u4E0B, \u6839\u636E\u5F53\u524D\u7684",paraId:63,tocIndex:6},{value:"\u8C03\u5EA6\u4F18\u5148\u7EA7",paraId:63,tocIndex:6},{value:"\u6765\u751F\u6210\u4E00\u4E2A",paraId:63,tocIndex:6},{value:"lane",paraId:63,tocIndex:6},{value:".",paraId:63,tocIndex:6},{value:"\u7279\u6B8A\u60C5\u51B5\u4E0B(\u5904\u4E8E suspense \u8FC7\u7A0B\u4E2D), \u4F1A\u4F18\u5148\u9009\u62E9",paraId:63,tocIndex:6},{value:"TransitionLanes",paraId:63,tocIndex:6},{value:"\u901A\u9053\u4E2D\u7684\u7A7A\u95F2\u901A\u9053(\u5982\u679C\u6240\u6709",paraId:63,tocIndex:6},{value:"TransitionLanes",paraId:63,tocIndex:6},{value:"\u901A\u9053\u90FD\u88AB\u5360\u7528, \u5C31\u53D6\u6700\u9AD8\u4F18\u5148\u7EA7. ",paraId:63,tocIndex:6},{value:"\u6E90\u7801",paraId:63,tocIndex:6},{value:").",paraId:63,tocIndex:6},{value:"\u6700\u540E\u901A\u8FC7",paraId:64,tocIndex:6},{value:"scheduleUpdateOnFiber(current, lane, eventTime);",paraId:64,tocIndex:6},{value:"\u51FD\u6570, \u628A",paraId:64,tocIndex:6},{value:"update.lane",paraId:64,tocIndex:6},{value:"\u6B63\u5F0F\u5E26\u5165\u5230\u4E86",paraId:64,tocIndex:6},{value:"\u8F93\u5165",paraId:64,tocIndex:6},{value:"\u9636\u6BB5.",paraId:64,tocIndex:6},{value:"scheduleUpdateOnFiber",paraId:65,tocIndex:6},{value:"\u662F",paraId:65,tocIndex:6},{value:"\u8F93\u5165",paraId:65,tocIndex:6},{value:"\u9636\u6BB5\u7684\u5FC5\u7ECF\u51FD\u6570, \u5728\u672C\u7CFB\u5217\u7684\u6587\u7AE0\u4E2D\u5DF2\u7ECF\u591A\u6B21\u63D0\u5230, \u6B64\u5904\u4EE5",paraId:65,tocIndex:6},{value:"update.lane",paraId:65,tocIndex:6},{value:"\u7684\u89C6\u89D2\u5206\u6790:",paraId:65,tocIndex:6},{value:`export function scheduleUpdateOnFiber(
  fiber: Fiber,
  lane: Lane,
  eventTime: number,
) {
  if (lane === SyncLane) {
    // legacy\u6216blocking\u6A21\u5F0F
    if (
      (executionContext & LegacyUnbatchedContext) !== NoContext &&
      (executionContext & (RenderContext | CommitContext)) === NoContext
    ) {
      performSyncWorkOnRoot(root);
    } else {
      ensureRootIsScheduled(root, eventTime); // \u6CE8\u518C\u56DE\u8C03\u4EFB\u52A1
      if (executionContext === NoContext) {
        flushSyncCallbackQueue(); // \u53D6\u6D88schedule\u8C03\u5EA6 ,\u4E3B\u52A8\u5237\u65B0\u56DE\u8C03\u961F\u5217,
      }
    }
  } else {
    // concurrent\u6A21\u5F0F
    ensureRootIsScheduled(root, eventTime);
  }
}
`,paraId:66,tocIndex:6},{value:"\u5F53",paraId:67,tocIndex:6},{value:"lane === SyncLane",paraId:67,tocIndex:6},{value:"\u4E5F\u5C31\u662F legacy \u6216 blocking \u6A21\u5F0F\u4E2D, \u6CE8\u518C\u5B8C\u56DE\u8C03\u4EFB\u52A1\u4E4B\u540E(",paraId:67,tocIndex:6},{value:"ensureRootIsScheduled(root, eventTime)",paraId:67,tocIndex:6},{value:"), \u5982\u679C\u6267\u884C\u4E0A\u4E0B\u6587\u4E3A\u7A7A, \u4F1A\u53D6\u6D88 schedule \u8C03\u5EA6, \u4E3B\u52A8\u5237\u65B0\u56DE\u8C03\u961F\u5217",paraId:67,tocIndex:6},{value:"flushSyncCallbackQueue()",paraId:67,tocIndex:6},{value:".",paraId:67,tocIndex:6},{value:"\u8FD9\u91CC\u5305\u542B\u4E86\u4E00\u4E2A\u70ED\u70B9\u95EE\u9898(",paraId:68,tocIndex:6},{value:"setState\u5230\u5E95\u662F\u540C\u6B65\u8FD8\u662F\u5F02\u6B65",paraId:68,tocIndex:6},{value:")\u7684\u6807\u51C6\u7B54\u6848:",paraId:68,tocIndex:6},{value:"\u5982\u679C\u903B\u8F91\u8FDB\u5165",paraId:69,tocIndex:6},{value:"flushSyncCallbackQueue",paraId:69,tocIndex:6},{value:"(",paraId:69,tocIndex:6},{value:"executionContext === NoContext",paraId:69,tocIndex:6},{value:"), \u5219\u4F1A\u4E3B\u52A8\u53D6\u6D88\u8C03\u5EA6, \u5E76\u5237\u65B0\u56DE\u8C03, \u7ACB\u5373\u8FDB\u5165",paraId:69,tocIndex:6},{value:"fiber\u6811",paraId:69,tocIndex:6},{value:"\u6784\u9020\u8FC7\u7A0B. \u5F53\u6267\u884C",paraId:69,tocIndex:6},{value:"setState",paraId:69,tocIndex:6},{value:"\u4E0B\u4E00\u884C\u4EE3\u7801\u65F6, ",paraId:69,tocIndex:6},{value:"fiber\u6811",paraId:69,tocIndex:6},{value:"\u5DF2\u7ECF\u91CD\u65B0\u6E32\u67D3\u4E86, \u6545",paraId:69,tocIndex:6},{value:"setState",paraId:69,tocIndex:6},{value:"\u4F53\u73B0\u4E3A\u540C\u6B65.",paraId:69,tocIndex:6},{value:"\u6B63\u5E38\u60C5\u51B5\u4E0B, \u4E0D\u4F1A\u53D6\u6D88",paraId:69,tocIndex:6},{value:"schedule\u8C03\u5EA6",paraId:69,tocIndex:6},{value:". \u7531\u4E8E",paraId:69,tocIndex:6},{value:"schedule\u8C03\u5EA6",paraId:69,tocIndex:6},{value:"\u662F\u901A\u8FC7",paraId:69,tocIndex:6},{value:"MessageChannel",paraId:69,tocIndex:6},{value:"\u89E6\u53D1(\u5B8F\u4EFB\u52A1), \u6545\u4F53\u73B0\u4E3A\u5F02\u6B65.",paraId:69,tocIndex:6},{value:"\u6E32\u67D3",paraId:48},{value:"\u8FD9\u662F\u4E00\u4E2A\u5168\u5C40\u6982\u5FF5, \u6BCF\u4E00\u6B21",paraId:70,tocIndex:7},{value:"render",paraId:70,tocIndex:7},{value:"\u4E4B\u524D, \u9996\u5148\u8981\u786E\u5B9A\u672C\u6B21",paraId:70,tocIndex:7},{value:"render",paraId:70,tocIndex:7},{value:"\u7684\u4F18\u5148\u7EA7. \u5177\u4F53\u5BF9\u5E94\u5230\u6E90\u7801\u5982\u4E0B:",paraId:70,tocIndex:7},{value:`// ...\u7701\u7565\u65E0\u5173\u4EE3\u7801
function performSyncWorkOnRoot(root) {
  let lanes;
  let exitStatus;
  // \u83B7\u53D6\u672C\u6B21\`render\`\u7684\u4F18\u5148\u7EA7
  lanes = getNextLanes(root, lanes);
  exitStatus = renderRootSync(root, lanes);
}
// ...\u7701\u7565\u65E0\u5173\u4EE3\u7801
function performConcurrentWorkOnRoot(root) {
  // \u83B7\u53D6\u672C\u6B21\`render\`\u7684\u4F18\u5148\u7EA7
  let lanes = getNextLanes(
    root,
    root === workInProgressRoot ? workInProgressRootRenderLanes : NoLanes,
  );
  if (lanes === NoLanes) {
    return null;
  }
  let exitStatus = renderRootConcurrent(root, lanes);
}
`,paraId:71,tocIndex:7},{value:"\u53EF\u4EE5\u770B\u5230, \u65E0\u8BBA\u662F",paraId:72,tocIndex:7},{value:"Legacy",paraId:72,tocIndex:7},{value:"\u8FD8\u662F",paraId:72,tocIndex:7},{value:"Concurrent",paraId:72,tocIndex:7},{value:"\u6A21\u5F0F, \u5728\u6B63\u5F0F",paraId:72,tocIndex:7},{value:"render",paraId:72,tocIndex:7},{value:"\u4E4B\u524D, \u90FD\u4F1A\u8C03\u7528",paraId:72,tocIndex:7},{value:"getNextLanes",paraId:72,tocIndex:7},{value:"\u83B7\u53D6\u4E00\u4E2A\u4F18\u5148\u7EA7(",paraId:72,tocIndex:7},{value:"\u6E90\u7801\u94FE\u63A5",paraId:72,tocIndex:7},{value:").",paraId:72,tocIndex:7},{value:`// ...\u7701\u7565\u90E8\u5206\u4EE3\u7801
export function getNextLanes(root: FiberRoot, wipLanes: Lanes): Lanes {
  // 1. check\u662F\u5426\u6709\u7B49\u5F85\u4E2D\u7684lanes
  const pendingLanes = root.pendingLanes;
  if (pendingLanes === NoLanes) {
    return_highestLanePriority = NoLanePriority;
    return NoLanes;
  }
  let nextLanes = NoLanes;
  let nextLanePriority = NoLanePriority;
  const expiredLanes = root.expiredLanes;
  const suspendedLanes = root.suspendedLanes;
  const pingedLanes = root.pingedLanes;
  // 2. check\u662F\u5426\u6709\u5DF2\u8FC7\u671F\u7684lanes
  if (expiredLanes !== NoLanes) {
    nextLanes = expiredLanes;
    nextLanePriority = return_highestLanePriority = SyncLanePriority;
  } else {
    const nonIdlePendingLanes = pendingLanes & NonIdleLanes;
    if (nonIdlePendingLanes !== NoLanes) {
      // \u975EIdle\u4EFB\u52A1 ...
    } else {
      // Idle\u4EFB\u52A1 ...
    }
  }
  if (nextLanes === NoLanes) {
    return NoLanes;
  }
  return nextLanes;
}
`,paraId:73,tocIndex:7},{value:"getNextLanes",paraId:74,tocIndex:7},{value:"\u4F1A\u6839\u636E",paraId:74,tocIndex:7},{value:"fiberRoot",paraId:74,tocIndex:7},{value:"\u5BF9\u8C61\u4E0A\u7684\u5C5E\u6027(",paraId:74,tocIndex:7},{value:"expiredLanes",paraId:74,tocIndex:7},{value:", ",paraId:74,tocIndex:7},{value:"suspendedLanes",paraId:74,tocIndex:7},{value:", ",paraId:74,tocIndex:7},{value:"pingedLanes",paraId:74,tocIndex:7},{value:"\u7B49), \u786E\u5B9A\u51FA\u5F53\u524D\u6700\u7D27\u6025\u7684",paraId:74,tocIndex:7},{value:"lanes",paraId:74,tocIndex:7},{value:".",paraId:74,tocIndex:7},{value:"\u6B64\u5904\u8FD4\u56DE\u7684",paraId:75,tocIndex:7},{value:"lanes",paraId:75,tocIndex:7},{value:"\u4F1A\u4F5C\u4E3A\u5168\u5C40\u6E32\u67D3\u7684\u4F18\u5148\u7EA7, \u7528\u4E8E",paraId:75,tocIndex:7},{value:"fiber\u6811\u6784\u9020\u8FC7\u7A0B",paraId:75,tocIndex:7},{value:"\u4E2D. \u9488\u5BF9",paraId:75,tocIndex:7},{value:"fiber\u5BF9\u8C61",paraId:75,tocIndex:7},{value:"\u6216",paraId:75,tocIndex:7},{value:"update\u5BF9\u8C61",paraId:75,tocIndex:7},{value:", \u53EA\u8981\u5B83\u4EEC\u7684\u4F18\u5148\u7EA7(\u5982: ",paraId:75,tocIndex:7},{value:"fiber.lanes",paraId:75,tocIndex:7},{value:"\u548C",paraId:75,tocIndex:7},{value:"update.lane",paraId:75,tocIndex:7},{value:")\u6BD4",paraId:75,tocIndex:7},{value:"\u6E32\u67D3\u4F18\u5148\u7EA7",paraId:75,tocIndex:7},{value:"\u4F4E, \u90FD\u5C06\u4F1A\u88AB\u5FFD\u7565.",paraId:75,tocIndex:7},{value:"fiber",paraId:48},{value:"\u5728",paraId:76,tocIndex:8},{value:"React \u5E94\u7528\u4E2D\u7684\u9AD8\u9891\u5BF9\u8C61",paraId:77,tocIndex:8},{value:"\u4E00\u6587\u4E2D, \u4ECB\u7ECD\u8FC7",paraId:76,tocIndex:8},{value:"fiber",paraId:76,tocIndex:8},{value:"\u5BF9\u8C61\u7684\u6570\u636E\u7ED3\u6784. \u5176\u4E2D\u6709 2 \u4E2A\u5C5E\u6027\u4E0E\u4F18\u5148\u7EA7\u76F8\u5173:",paraId:76,tocIndex:8},{value:"fiber.lanes",paraId:78,tocIndex:8},{value:": \u4EE3\u8868\u672C\u8282\u70B9\u7684\u4F18\u5148\u7EA7",paraId:78,tocIndex:8},{value:"fiber.childLanes",paraId:78,tocIndex:8},{value:": \u4EE3\u8868\u5B50\u8282\u70B9\u7684\u4F18\u5148\u7EA7",paraId:78,tocIndex:8},{value:`
\u4ECE`,paraId:78,tocIndex:8},{value:"FiberNode",paraId:78,tocIndex:8},{value:"\u7684\u6784\u9020\u51FD\u6570\u4E2D\u53EF\u4EE5\u770B\u51FA, ",paraId:78,tocIndex:8},{value:"fiber.lanes",paraId:78,tocIndex:8},{value:"\u548C",paraId:78,tocIndex:8},{value:"fiber.childLanes",paraId:78,tocIndex:8},{value:"\u7684\u521D\u59CB\u503C\u90FD\u4E3A",paraId:78,tocIndex:8},{value:"NoLanes",paraId:78,tocIndex:8},{value:", \u5728",paraId:78,tocIndex:8},{value:"fiber\u6811\u6784\u9020",paraId:78,tocIndex:8},{value:"\u8FC7\u7A0B\u4E2D, \u4F7F\u7528\u5168\u5C40\u7684\u6E32\u67D3\u4F18\u5148\u7EA7(",paraId:78,tocIndex:8},{value:"renderLanes",paraId:78,tocIndex:8},{value:")\u548C",paraId:78,tocIndex:8},{value:"fiber.lanes",paraId:78,tocIndex:8},{value:"\u5224\u65AD",paraId:78,tocIndex:8},{value:"fiber",paraId:78,tocIndex:8},{value:"\u8282\u70B9\u662F\u5426\u66F4\u65B0(",paraId:78,tocIndex:8},{value:"\u6E90\u7801\u5730\u5740",paraId:78,tocIndex:8},{value:`).
`,paraId:78,tocIndex:8},{value:"\u5982\u679C\u5168\u5C40\u7684\u6E32\u67D3\u4F18\u5148\u7EA7",paraId:79,tocIndex:8},{value:"renderLanes",paraId:79,tocIndex:8},{value:"\u4E0D\u5305\u62EC",paraId:79,tocIndex:8},{value:"fiber.lanes",paraId:79,tocIndex:8},{value:", \u8BC1\u660E\u8BE5",paraId:79,tocIndex:8},{value:"fiber",paraId:79,tocIndex:8},{value:"\u8282\u70B9\u6CA1\u6709\u66F4\u65B0, \u53EF\u4EE5\u590D\u7528.",paraId:79,tocIndex:8},{value:"\u5982\u679C\u4E0D\u80FD\u590D\u7528, \u8FDB\u5165\u521B\u5EFA\u9636\u6BB5.",paraId:79,tocIndex:8},{value:`function beginWork(
  current: Fiber | null,
  workInProgress: Fiber,
  renderLanes: Lanes,
): Fiber | null {
  const updateLanes = workInProgress.lanes;
  if (current !== null) {
    const oldProps = current.memoizedProps;
    const newProps = workInProgress.pendingProps;
    if (
      oldProps !== newProps ||
      hasLegacyContextChanged() ||
      // Force a re-render if the implementation changed due to hot reload:
      (__DEV__ ? workInProgress.type !== current.type : false)
    ) {
      didReceiveUpdate = true;
    } else if (!includesSomeLane(renderLanes, updateLanes)) {
      didReceiveUpdate = false;
      // \u672C\`fiber\`\u8282\u70B9\u7684\u6CA1\u6709\u66F4\u65B0, \u53EF\u4EE5\u590D\u7528, \u8FDB\u5165bailout\u903B\u8F91
      return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);
    }
  }
  // \u4E0D\u80FD\u590D\u7528, \u521B\u5EFA\u65B0\u7684fiber\u8282\u70B9
  workInProgress.lanes = NoLanes; // \u91CD\u7F6E\u4F18\u5148\u7EA7\u4E3A NoLanes
  switch (workInProgress.tag) {
    case ClassComponent: {
      const Component = workInProgress.type;
      const unresolvedProps = workInProgress.pendingProps;
      const resolvedProps =
        workInProgress.elementType === Component
          ? unresolvedProps
          : resolveDefaultProps(Component, unresolvedProps);

      return updateClassComponent(
        current,
        workInProgress,
        Component,
        resolvedProps,
        // \u6B63\u5E38\u60C5\u51B5\u4E0B\u6E32\u67D3\u4F18\u5148\u7EA7\u4F1A\u88AB\u7528\u4E8Efiber\u6811\u7684\u6784\u9020\u8FC7\u7A0B
        renderLanes,
      );
    }
  }
}
`,paraId:80,tocIndex:8},{value:"\u5728",paraId:81,tocIndex:9},{value:"React",paraId:81,tocIndex:9},{value:"\u6E90\u7801\u4E2D, \u6BCF\u4E00\u6B21\u6267\u884C",paraId:81,tocIndex:9},{value:"fiber\u6811",paraId:81,tocIndex:9},{value:"\u6784\u9020(\u4E5F\u5C31\u662F\u8C03\u7528",paraId:81,tocIndex:9},{value:"performSyncWorkOnRoot",paraId:81,tocIndex:9},{value:"\u6216\u8005",paraId:81,tocIndex:9},{value:"performConcurrentWorkOnRoot",paraId:81,tocIndex:9},{value:"\u51FD\u6570)\u7684\u8FC7\u7A0B, \u90FD\u9700\u8981\u4E00\u4E9B\u5168\u5C40\u53D8\u91CF\u6765\u4FDD\u5B58\u72B6\u6001. \u5728\u4E0A\u6587\u4E2D\u5DF2\u7ECF\u4ECB\u7ECD\u6700\u6838\u5FC3\u7684\u5168\u5C40\u53D8\u91CF.",paraId:81,tocIndex:9},{value:"\u5982\u679C\u4ECE\u5355\u4E2A\u53D8\u91CF\u6765\u770B, \u5B83\u4EEC\u5C31\u662F\u4E00\u4E2A\u4E2A\u7684\u5168\u5C40\u53D8\u91CF. \u5982\u679C\u5C06\u8FD9\u4E9B\u5168\u5C40\u53D8\u91CF\u7EC4\u5408\u8D77\u6765, \u5B83\u4EEC\u4EE3\u8868\u4E86\u5F53\u524D",paraId:82,tocIndex:9},{value:"fiber\u6811",paraId:82,tocIndex:9},{value:"\u6784\u9020\u7684\u6D3B\u52A8\u8BB0\u5F55. \u901A\u8FC7\u8FD9\u4E00\u7EC4\u5168\u5C40\u53D8\u91CF, \u53EF\u4EE5\u8FD8\u539F",paraId:82,tocIndex:9},{value:"fiber\u6811",paraId:82,tocIndex:9},{value:"\u6784\u9020\u8FC7\u7A0B(\u6BD4\u5982\u65F6\u95F4\u5207\u7247\u7684\u5B9E\u73B0\u8FC7\u7A0B(\u53C2\u8003",paraId:82,tocIndex:9},{value:"React \u8C03\u5EA6\u539F\u7406",paraId:83,tocIndex:9},{value:"), ",paraId:82,tocIndex:9},{value:"fiber\u6811",paraId:82,tocIndex:9},{value:"\u6784\u9020\u8FC7\u7A0B\u88AB\u6253\u65AD\u4E4B\u540E\u9700\u8981\u8FD8\u539F\u8FDB\u5EA6, \u5168\u9760\u8FD9\u4E00\u7EC4\u5168\u5C40\u53D8\u91CF). \u6240\u4EE5\u6BCF\u6B21",paraId:82,tocIndex:9},{value:"fiber\u6811",paraId:82,tocIndex:9},{value:"\u6784\u9020\u662F\u4E00\u4E2A\u72EC\u7ACB\u7684\u8FC7\u7A0B, \u9700\u8981",paraId:82,tocIndex:9},{value:"\u72EC\u7ACB\u7684",paraId:82,tocIndex:9},{value:"\u4E00\u7EC4\u5168\u5C40\u53D8\u91CF, \u5728",paraId:82,tocIndex:9},{value:"React",paraId:82,tocIndex:9},{value:"\u5185\u90E8\u628A\u8FD9\u4E00\u4E2A\u72EC\u7ACB\u7684\u8FC7\u7A0B\u5C01\u88C5\u4E3A\u4E00\u4E2A\u6808\u5E27",paraId:82,tocIndex:9},{value:"stack",paraId:82,tocIndex:9},{value:"(\u7B80\u5355\u6765\u8BF4\u5C31\u662F\u6BCF\u6B21\u6784\u9020\u90FD\u9700\u8981\u72EC\u7ACB\u7684\u7A7A\u95F4. \u5BF9\u4E8E",paraId:82,tocIndex:9},{value:"\u6808\u5E27",paraId:82,tocIndex:9},{value:"\u7684\u6DF1\u5165\u7406\u89E3, \u8BF7\u8BFB\u8005\u81EA\u884C\u53C2\u8003\u5176\u4ED6\u8D44\u6599).",paraId:82,tocIndex:9},{value:"\u6240\u4EE5\u5728\u8FDB\u884C",paraId:84,tocIndex:9},{value:"fiber\u6811",paraId:84,tocIndex:9},{value:"\u6784\u9020\u4E4B\u524D, \u5982\u679C\u4E0D\u9700\u8981\u6062\u590D\u4E0A\u4E00\u6B21\u6784\u9020\u8FDB\u5EA6, \u90FD\u4F1A\u5237\u65B0\u6808\u5E27(\u6E90\u7801\u5728",paraId:84,tocIndex:9},{value:"prepareFreshStack \u51FD\u6570",paraId:84,tocIndex:9},{value:")",paraId:84,tocIndex:9},{value:`function renderRootConcurrent(root: FiberRoot, lanes: Lanes) {
  const prevExecutionContext = executionContext;
  executionContext |= RenderContext;
  const prevDispatcher = pushDispatcher();
  // \u5982\u679CfiberRoot\u53D8\u52A8, \u6216\u8005update.lane\u53D8\u52A8, \u90FD\u4F1A\u5237\u65B0\u6808\u5E27, \u4E22\u5F03\u4E0A\u4E00\u6B21\u6E32\u67D3\u8FDB\u5EA6
  if (workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes) {
    resetRenderTimer();
    // \u5237\u65B0\u6808\u5E27
    prepareFreshStack(root, lanes);
    startWorkOnPendingInteractions(root, lanes);
  }
}

/**
\u5237\u65B0\u6808\u5E27: \u91CD\u7F6E FiberRoot\u4E0A\u7684\u5168\u5C40\u5C5E\u6027 \u548C \`fiber\u6811\u6784\u9020\`\u5FAA\u73AF\u8FC7\u7A0B\u4E2D\u7684\u5168\u5C40\u53D8\u91CF
*/
function prepareFreshStack(root: FiberRoot, lanes: Lanes) {
  // \u91CD\u7F6EFiberRoot\u5BF9\u8C61\u4E0A\u7684\u5C5E\u6027
  root.finishedWork = null;
  root.finishedLanes = NoLanes;
  const timeoutHandle = root.timeoutHandle;
  if (timeoutHandle !== noTimeout) {
    root.timeoutHandle = noTimeout;
    cancelTimeout(timeoutHandle);
  }
  if (workInProgress !== null) {
    let interruptedWork = workInProgress.return;
    while (interruptedWork !== null) {
      unwindInterruptedWork(interruptedWork);
      interruptedWork = interruptedWork.return;
    }
  }
  // \u91CD\u7F6E\u5168\u5C40\u53D8\u91CF
  workInProgressRoot = root;
  workInProgress = createWorkInProgress(root.current, null); // \u7ED9HostRootFiber\u5BF9\u8C61\u521B\u5EFA\u4E00\u4E2Aalternate, \u5E76\u5C06\u5176\u8BBE\u7F6E\u6210\u5168\u5C40 workInProgress
  workInProgressRootRenderLanes =
    subtreeRenderLanes =
    workInProgressRootIncludedLanes =
      lanes;
  workInProgressRootExitStatus = RootIncomplete;
  workInProgressRootFatalError = null;
  workInProgressRootSkippedLanes = NoLanes;
  workInProgressRootUpdatedLanes = NoLanes;
  workInProgressRootPingedLanes = NoLanes;
}
`,paraId:85,tocIndex:9},{value:"\u6CE8\u610F\u5176\u4E2D\u7684",paraId:86,tocIndex:9},{value:"createWorkInProgress(root.current, null)",paraId:86,tocIndex:9},{value:", \u5176\u53C2\u6570",paraId:86,tocIndex:9},{value:"root.current",paraId:86,tocIndex:9},{value:"\u5373",paraId:86,tocIndex:9},{value:"HostRootFiber",paraId:86,tocIndex:9},{value:", \u4F5C\u7528\u662F\u7ED9",paraId:86,tocIndex:9},{value:"HostRootFiber",paraId:86,tocIndex:9},{value:"\u521B\u5EFA\u4E00\u4E2A",paraId:86,tocIndex:9},{value:"alternate",paraId:86,tocIndex:9},{value:"\u526F\u672C.",paraId:86,tocIndex:9},{value:"workInProgress",paraId:86,tocIndex:9},{value:"\u6307\u9488\u6307\u5411\u8FD9\u4E2A\u526F\u672C(\u5373",paraId:86,tocIndex:9},{value:"workInProgress = HostRootFiber.alternate",paraId:86,tocIndex:9},{value:"), \u5728\u4E0A\u6587",paraId:86,tocIndex:9},{value:"double buffering",paraId:86,tocIndex:9},{value:"\u4E2D\u5206\u6790\u8FC7, ",paraId:86,tocIndex:9},{value:"HostRootFiber.alternate",paraId:86,tocIndex:9},{value:"\u662F",paraId:86,tocIndex:9},{value:"\u6B63\u5728\u6784\u9020\u7684fiber\u6811",paraId:86,tocIndex:9},{value:"\u7684\u6839\u8282\u70B9.",paraId:86,tocIndex:9},{value:"\u672C\u8282\u662F",paraId:87,tocIndex:10},{value:"fiber\u6811\u6784\u9020",paraId:87,tocIndex:10},{value:"\u7684\u51C6\u5907\u7BC7, \u9996\u5148\u5728\u5B8F\u89C2\u4E0A\u4ECE\u4E0D\u540C\u7684\u89C6\u89D2(",paraId:87,tocIndex:10},{value:"\u4EFB\u52A1\u8C03\u5EA6\u5FAA\u73AF",paraId:87,tocIndex:10},{value:", ",paraId:87,tocIndex:10},{value:"fiber\u6811\u6784\u9020\u5FAA\u73AF",paraId:87,tocIndex:10},{value:")\u4ECB\u7ECD\u4E86",paraId:87,tocIndex:10},{value:"fiber\u6811\u6784\u9020",paraId:87,tocIndex:10},{value:"\u5728",paraId:87,tocIndex:10},{value:"React",paraId:87,tocIndex:10},{value:"\u4F53\u7CFB\u4E2D\u6240\u5904\u7684\u4F4D\u7F6E, \u7136\u540E\u6DF1\u5165",paraId:87,tocIndex:10},{value:"react-reconciler",paraId:87,tocIndex:10},{value:"\u5305\u5206\u6790",paraId:87,tocIndex:10},{value:"fiber\u6811\u6784\u9020",paraId:87,tocIndex:10},{value:"\u8FC7\u7A0B\u4E2D\u9700\u8981\u4F7F\u7528\u5230\u7684\u5168\u5C40\u53D8\u91CF, \u5E76\u89E3\u8BFB\u4E86",paraId:87,tocIndex:10},{value:"\u53CC\u7F13\u51B2\u6280\u672F",paraId:87,tocIndex:10},{value:"\u548C",paraId:87,tocIndex:10},{value:"\u4F18\u5148\u7EA7(\u8F66\u9053\u6A21\u578B)",paraId:87,tocIndex:10},{value:"\u7684\u4F7F\u7528, \u6700\u540E\u89E3\u91CA",paraId:87,tocIndex:10},{value:"\u6808\u5E27\u7BA1\u7406",paraId:87,tocIndex:10},{value:"\u7684\u5B9E\u73B0\u7EC6\u8282. \u6709\u4E86\u8FD9\u4E9B\u57FA\u7840\u77E5\u8BC6, ",paraId:87,tocIndex:10},{value:"fiber\u6811\u6784\u9020",paraId:87,tocIndex:10},{value:"\u7684\u5177\u4F53\u5B9E\u73B0\u8FC7\u7A0B\u4F1A\u66F4\u52A0\u7B80\u5355\u6E05\u6670.",paraId:87,tocIndex:10}],g=e(15009),y=e.n(g),S=e(12444),E=e.n(S),P=e(72004),k=e.n(P),A=e(25098),L=e.n(A),j=e(31996),C=e.n(j),_=e(26037),W=e.n(_),X=e(9783),te=e.n(X),q=e(99289),he=e.n(q),Pe={"docs-interview-01-setstate-demo-0":{component:r.lazy(he()(y()().mark(function Tn(){var Ja,oa;return y()().wrap(function(Nn){for(;;)switch(Nn.prev=Nn.next){case 0:return Nn.next=2,Promise.resolve().then(e.t.bind(e,62435,19));case 2:return Ja=Nn.sent,oa=Ja.default,Nn.abrupt("return",{default:function(Dn){C()(Yr,Dn);var zr=W()(Yr);function Yr(){var Fn;E()(this,Yr);for(var eo=arguments.length,lr=new Array(eo),ir=0;ir<eo;ir++)lr[ir]=arguments[ir];return Fn=zr.call.apply(zr,[this].concat(lr)),te()(L()(Fn),"state",{count:0}),te()(L()(Fn),"changeState",function(){var br=Fn.state.count+1;Fn.setState({count:Fn.state.count+1}),br===Fn.state.count?console.log("\u540C\u6B65\u6267\u884Crender"):console.log("\u5F02\u6B65\u6267\u884Crender")}),te()(L()(Fn),"changeState2",function(){var br=Fn.state.count+1;Promise.resolve().then(function(){Fn.setState({count:Fn.state.count+1}),br===Fn.state.count?console.log("\u540C\u6B65\u6267\u884Crender"):console.log("\u5F02\u6B65\u6267\u884Crender")})}),Fn}return k()(Yr,[{key:"render",value:function(){return oa.createElement("div",null,oa.createElement("p",null,"\u5F53\u524Dcount=",this.state.count),oa.createElement("button",{onClick:this.changeState},"\u5F02\u6B65+1"),oa.createElement("button",{onClick:this.changeState2},"\u540C\u6B65+1"))}}]),Yr}(oa.Component)});case 5:case"end":return Nn.stop()}},Tn)}))),asset:{type:"BLOCK",id:"docs-interview-01-setstate-demo-0",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:`import React from 'react';

export default class App extends React.Component {
  state = {
    count: 0,
  };

  changeState = () => {
    const newCount = this.state.count + 1;
    this.setState({
      count: this.state.count + 1,
    });
    if (newCount === this.state.count) {
      console.log('\u540C\u6B65\u6267\u884Crender');
    } else {
      console.log('\u5F02\u6B65\u6267\u884Crender');
    }
  };

  changeState2 = () => {
    const newCount = this.state.count + 1;
    Promise.resolve().then(() => {
      this.setState({
        count: this.state.count + 1,
      });
      if (newCount === this.state.count) {
        console.log('\u540C\u6B65\u6267\u884Crender');
      } else {
        console.log('\u5F02\u6B65\u6267\u884Crender');
      }
    });
  };

  render() {
    return (
      <div>
        <p>\u5F53\u524Dcount={this.state.count}</p>
        <button onClick={this.changeState}>\u5F02\u6B65+1</button>
        <button onClick={this.changeState2}>\u540C\u6B65+1</button>
      </div>
    );
  }
}`},react:{type:"NPM",value:"18.1.0"}}}}},Te={title:"setState",toc:"menu",filename:"docs/interview/01-setstate.md",description:"React\u4E2D, setState\u662F\u540C\u6B65\u8FD8\u662F\u5F02\u6B65",keywords:["react","setState","react\u540C\u6B65","react\u5F02\u6B65"],order:0},De=[{id:"react-\u4E2D-setstate-\u662F\u540C\u6B65\u8FD8\u662F\u5F02\u6B65",depth:1,title:"React \u4E2D, setState \u662F\u540C\u6B65\u8FD8\u662F\u5F02\u6B65"},{id:"\u7ED3\u8BBA",depth:2,title:"\u7ED3\u8BBA"},{id:"\u6F14\u793A\u793A\u4F8B",depth:2,title:"\u6F14\u793A\u793A\u4F8B"}],ye=[{value:"\u6240\u8C13\u540C\u6B65\u8FD8\u662F\u5F02\u6B65\u6307\u7684\u662F\u8C03\u7528 setState \u4E4B\u540E\u662F\u5426\u9A6C\u4E0A\u80FD\u5F97\u5230\u6700\u65B0\u7684 state",paraId:0,tocIndex:0},{value:"\u4E0D\u4EC5\u4EC5\u662F",paraId:1,tocIndex:0},{value:"setState",paraId:1,tocIndex:0},{value:"\u4E86, \u5728\u5BF9 function \u7C7B\u578B\u7EC4\u4EF6\u4E2D\u7684 hook \u8FDB\u884C\u64CD\u4F5C\u65F6\u4E5F\u662F\u4E00\u6837, \u6700\u7EC8\u51B3\u5B9A",paraId:1,tocIndex:0},{value:"setState",paraId:1,tocIndex:0},{value:"\u662F\u540C\u6B65\u6E32\u67D3\u8FD8\u662F\u5F02\u6B65\u6E32\u67D3\u7684\u5173\u952E\u56E0\u7D20\u662F",paraId:1,tocIndex:0},{value:"ReactFiberWorkLoop",paraId:1,tocIndex:0},{value:"\u5DE5\u4F5C\u7A7A\u95F4\u7684\u6267\u884C\u4E0A\u4E0B\u6587.",paraId:1,tocIndex:0},{value:"\u5177\u4F53\u4EE3\u7801\u5982\u4E0B:",paraId:2,tocIndex:0},{value:`export function scheduleUpdateOnFiber(
  fiber: Fiber,
  expirationTime: ExpirationTime,
) {
  const priorityLevel = getCurrentPriorityLevel();

  if (expirationTime === Sync) {
    if (
      // Check if we're inside unbatchedUpdates
      (executionContext & LegacyUnbatchedContext) !== NoContext &&
      // Check if we're not already rendering
      (executionContext & (RenderContext | CommitContext)) === NoContext
    ) {
      performSyncWorkOnRoot(root);
    } else {
      ensureRootIsScheduled(root);
      schedulePendingInteractions(root, expirationTime);
      if (executionContext === NoContext) {
        // Flush the synchronous work now, unless we're already working or inside
        // a batch. This is intentionally inside scheduleUpdateOnFiber instead of
        // scheduleCallbackForFiber to preserve the ability to schedule a callback
        // without immediately flushing it. We only do this for user-initiated
        // updates, to preserve historical behavior of legacy mode.
        flushSyncCallbackQueue();
      }
    }
  } else {
    // Schedule a discrete update but only if it's not Sync.
    if (
      (executionContext & DiscreteEventContext) !== NoContext &&
      // Only updates at user-blocking priority or greater are considered
      // discrete, even inside a discrete event.
      (priorityLevel === UserBlockingPriority ||
        priorityLevel === ImmediatePriority)
    ) {
      // This is the result of a discrete event. Track the lowest priority
      // discrete update per root so we can flush them early, if needed.
      if (rootsWithPendingDiscreteUpdates === null) {
        rootsWithPendingDiscreteUpdates = new Map([[root, expirationTime]]);
      } else {
        const lastDiscreteTime = rootsWithPendingDiscreteUpdates.get(root);
        if (
          lastDiscreteTime === undefined ||
          lastDiscreteTime > expirationTime
        ) {
          rootsWithPendingDiscreteUpdates.set(root, expirationTime);
        }
      }
    }
    // Schedule other updates after in case the callback is sync.
    ensureRootIsScheduled(root);
    schedulePendingInteractions(root, expirationTime);
  }
}
`,paraId:3,tocIndex:0},{value:"\u53EF\u4EE5\u770B\u5230, \u662F\u5426\u540C\u6B65\u6E32\u67D3\u8C03\u5EA6\u51B3\u5B9A\u4EE3\u7801\u662F",paraId:4,tocIndex:0},{value:"flushSyncCallbackQueue()",paraId:4,tocIndex:0},{value:". \u8FDB\u5165\u8BE5\u5206\u652F\u7684\u6761\u4EF6:",paraId:4,tocIndex:0},{value:"\u5FC5\u987B\u662F",paraId:5,tocIndex:0},{value:"legacy\u6A21\u5F0F",paraId:5,tocIndex:0},{value:", ",paraId:5,tocIndex:0},{value:"concurrent",paraId:5,tocIndex:0},{value:"\u6A21\u5F0F\u4E0B",paraId:5,tocIndex:0},{value:"expirationTime",paraId:5,tocIndex:0},{value:"\u4E0D\u4F1A\u4E3A",paraId:5,tocIndex:0},{value:"Sync",paraId:5,tocIndex:0},{value:"executionContext === NoContext",paraId:5,tocIndex:0},{value:", \u6267\u884C\u4E0A\u4E0B\u6587\u5FC5\u987B\u8981\u4E3A\u7A7A.",paraId:5,tocIndex:0},{value:"\u4E24\u4E2A\u6761\u4EF6\u7F3A\u4E00\u4E0D\u53EF.",paraId:6,tocIndex:0},{value:"\u540C\u6B65:",paraId:7,tocIndex:1},{value:"\u9996\u5148\u5728",paraId:8,tocIndex:1},{value:"legacy\u6A21\u5F0F",paraId:8,tocIndex:1},{value:"\u4E0B",paraId:8,tocIndex:1},{value:"\u5728\u6267\u884C\u4E0A\u4E0B\u6587\u4E3A\u7A7A\u7684\u65F6\u5019\u53BB\u8C03\u7528",paraId:8,tocIndex:1},{value:"setState",paraId:8,tocIndex:1},{value:"\u53EF\u4EE5\u4F7F\u7528\u5F02\u6B65\u8C03\u7528\u5982",paraId:9,tocIndex:1},{value:"setTimeout",paraId:9,tocIndex:1},{value:", ",paraId:9,tocIndex:1},{value:"Promise",paraId:9,tocIndex:1},{value:", ",paraId:9,tocIndex:1},{value:"MessageChannel",paraId:9,tocIndex:1},{value:"\u7B49",paraId:9,tocIndex:1},{value:"\u53EF\u4EE5\u76D1\u542C\u539F\u751F\u4E8B\u4EF6, \u6CE8\u610F\u4E0D\u662F\u5408\u6210\u4E8B\u4EF6, \u5728\u539F\u751F\u4E8B\u4EF6\u7684\u56DE\u8C03\u51FD\u6570\u4E2D\u6267\u884C setState \u5C31\u662F\u540C\u6B65\u7684",paraId:9,tocIndex:1},{value:"\u5F02\u6B65:",paraId:10,tocIndex:1},{value:"\u5982\u679C\u662F\u5408\u6210\u4E8B\u4EF6\u4E2D\u7684\u56DE\u8C03, ",paraId:11,tocIndex:1},{value:"executionContext |= DiscreteEventContext",paraId:11,tocIndex:1},{value:", \u6240\u4EE5\u4E0D\u4F1A\u8FDB\u5165, \u6700\u7EC8\u8868\u73B0\u51FA\u5F02\u6B65",paraId:11,tocIndex:1},{value:"concurrent \u6A21\u5F0F\u4E0B\u90FD\u4E3A\u5F02\u6B65",paraId:11,tocIndex:1},{value:"\u5728\u770B\u4E00\u4E2A concurrent \u6A21\u5F0F\u4E0B\u7684\u4F8B\u5B50, \u76F8\u540C\u7684\u4EE3\u7801\u90FD\u4E3A\u5F02\u6B65 render:",paraId:12}],ve={},T={title:"fiber \u6811\u6E32\u67D3",toc:"menu",filename:"docs/main/fibertree-commit.md",group:"\u8FD0\u884C\u6838\u5FC3",order:7,description:"\u5728\u6B63\u5F0F\u5206\u6790fiber\u6811\u6E32\u67D3\u4E4B\u524D, \u518D\u6B21\u56DE\u987E\u4E00\u4E0Breconciler \u8FD0\u4F5C\u6D41\u7A0B\u7684 4 \u4E2A\u9636\u6BB5:"},F=[{id:"fiber-\u6811\u6E32\u67D3",depth:1,title:"fiber \u6811\u6E32\u67D3"},{id:"fiber-\u6811\u7279\u70B9",depth:2,title:"fiber \u6811\u7279\u70B9"},{id:"commitroot",depth:2,title:"commitRoot"},{id:"\u6E32\u67D3\u524D",depth:3,title:"\u6E32\u67D3\u524D"},{id:"\u6E32\u67D3",depth:3,title:"\u6E32\u67D3"},{id:"commitbeforemutationeffects",depth:4,title:"commitBeforeMutationEffects"},{id:"commitmutationeffects",depth:4,title:"commitMutationEffects"},{id:"commitlayouteffects",depth:4,title:"commitLayoutEffects"},{id:"\u6E32\u67D3\u540E",depth:3,title:"\u6E32\u67D3\u540E"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"}],Z=[{value:"\u5728\u6B63\u5F0F\u5206\u6790",paraId:0,tocIndex:0},{value:"fiber\u6811\u6E32\u67D3",paraId:0,tocIndex:0},{value:"\u4E4B\u524D, \u518D\u6B21\u56DE\u987E\u4E00\u4E0B",paraId:0,tocIndex:0},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:1,tocIndex:0},{value:"\u7684 4 \u4E2A\u9636\u6BB5:",paraId:0,tocIndex:0},{value:"\u8F93\u5165\u9636\u6BB5: \u8854\u63A5",paraId:2,tocIndex:0},{value:"react-dom",paraId:2,tocIndex:0},{value:"\u5305, \u627F\u63A5",paraId:2,tocIndex:0},{value:"fiber\u66F4\u65B0",paraId:2,tocIndex:0},{value:"\u8BF7\u6C42(\u53C2\u8003",paraId:2,tocIndex:0},{value:"React \u5E94\u7528\u7684\u542F\u52A8\u8FC7\u7A0B",paraId:3,tocIndex:0},{value:").",paraId:2,tocIndex:0},{value:"\u6CE8\u518C\u8C03\u5EA6\u4EFB\u52A1: \u4E0E\u8C03\u5EA6\u4E2D\u5FC3(",paraId:2,tocIndex:0},{value:"scheduler",paraId:2,tocIndex:0},{value:"\u5305)\u4EA4\u4E92, \u6CE8\u518C\u8C03\u5EA6\u4EFB\u52A1",paraId:2,tocIndex:0},{value:"task",paraId:2,tocIndex:0},{value:", \u7B49\u5F85\u4EFB\u52A1\u56DE\u8C03(\u53C2\u8003",paraId:2,tocIndex:0},{value:"React \u8C03\u5EA6\u539F\u7406(scheduler)",paraId:4,tocIndex:0},{value:").",paraId:2,tocIndex:0},{value:"\u6267\u884C\u4EFB\u52A1\u56DE\u8C03: \u5728\u5185\u5B58\u4E2D\u6784\u9020\u51FA",paraId:2,tocIndex:0},{value:"fiber\u6811",paraId:2,tocIndex:0},{value:"\u548C",paraId:2,tocIndex:0},{value:"DOM",paraId:2,tocIndex:0},{value:"\u5BF9\u8C61(\u53C2\u8003",paraId:2,tocIndex:0},{value:"fiber \u6811\u6784\u9020(\u521D\u6B21\u521B\u5EFA)",paraId:5,tocIndex:0},{value:"\u548C fiber \u6811\u6784\u9020(\u5BF9\u6BD4\u66F4\u65B0)).",paraId:2,tocIndex:0},{value:"\u8F93\u51FA: \u4E0E\u6E32\u67D3\u5668(",paraId:2,tocIndex:0},{value:"react-dom",paraId:2,tocIndex:0},{value:")\u4EA4\u4E92, \u6E32\u67D3",paraId:2,tocIndex:0},{value:"DOM",paraId:2,tocIndex:0},{value:"\u8282\u70B9.",paraId:2,tocIndex:0},{value:"\u672C\u8282\u5206\u6790\u5176\u4E2D\u7684\u7B2C 4 \u9636\u6BB5(\u8F93\u51FA), ",paraId:6,tocIndex:0},{value:"fiber\u6811\u6E32\u67D3",paraId:6,tocIndex:0},{value:"\u5904\u4E8E",paraId:6,tocIndex:0},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:6,tocIndex:0},{value:"\u8FD9\u4E00\u6D41\u6C34\u7EBF\u7684\u6700\u540E\u4E00\u73AF, \u6216\u8005\u8BF4\u524D\u9762\u7684\u6B65\u9AA4\u90FD\u662F\u4E3A\u4E86\u6700\u540E\u4E00\u6B65\u670D\u52A1, \u6240\u4EE5\u5176\u91CD\u8981\u6027\u4E0D\u8A00\u800C\u55BB.",paraId:6,tocIndex:0},{value:"\u524D\u6587\u5DF2\u7ECF\u4ECB\u7ECD\u4E86",paraId:7,tocIndex:0},{value:"fiber\u6811\u6784\u9020",paraId:7,tocIndex:0},{value:", \u73B0\u5728\u5206\u6790",paraId:7,tocIndex:0},{value:"fiber\u6811\u6E32\u67D3",paraId:7,tocIndex:0},{value:"\u8FC7\u7A0B, \u8FD9\u4E2A\u8FC7\u7A0B, \u5B9E\u9645\u4E0A\u662F\u5BF9",paraId:7,tocIndex:0},{value:"fiber\u6811",paraId:7,tocIndex:0},{value:"\u7684\u8FDB\u4E00\u6B65\u5904\u7406.",paraId:7,tocIndex:0},{value:"\u901A\u8FC7\u524D\u6587",paraId:8,tocIndex:1},{value:"fiber\u6811\u6784\u9020",paraId:8,tocIndex:1},{value:"\u7684\u89E3\u8BFB, \u53EF\u4EE5\u603B\u7ED3\u51FA",paraId:8,tocIndex:1},{value:"fiber\u6811",paraId:8,tocIndex:1},{value:"\u7684\u57FA\u672C\u7279\u70B9:",paraId:8,tocIndex:1},{value:"\u65E0\u8BBA\u662F",paraId:9,tocIndex:1},{value:"\u9996\u6B21\u6784\u9020",paraId:9,tocIndex:1},{value:"\u6216\u8005\u662F",paraId:9,tocIndex:1},{value:"\u5BF9\u6BD4\u66F4\u65B0",paraId:9,tocIndex:1},{value:", \u6700\u7EC8\u90FD\u4F1A\u5728\u5185\u5B58\u4E2D\u751F\u6210\u4E00\u68F5\u7528\u4E8E\u6E32\u67D3\u9875\u9762\u7684",paraId:9,tocIndex:1},{value:"fiber\u6811",paraId:9,tocIndex:1},{value:"(\u5373",paraId:9,tocIndex:1},{value:"fiberRoot.finishedWork",paraId:9,tocIndex:1},{value:").",paraId:9,tocIndex:1},{value:"\u8FD9\u68F5\u5C06\u8981\u88AB\u6E32\u67D3\u7684",paraId:9,tocIndex:1},{value:"fiber\u6811",paraId:9,tocIndex:1},{value:`\u6709 2 \u4E2A\u7279\u70B9:
`,paraId:9,tocIndex:1},{value:"\u526F\u4F5C\u7528\u961F\u5217\u6302\u8F7D\u5728\u6839\u8282\u70B9\u4E0A(\u5177\u4F53\u6765\u8BB2\u662F",paraId:10,tocIndex:1},{value:"finishedWork.firstEffect",paraId:10,tocIndex:1},{value:")",paraId:10,tocIndex:1},{value:"\u4EE3\u8868\u6700\u65B0\u9875\u9762\u7684",paraId:10,tocIndex:1},{value:"DOM",paraId:10,tocIndex:1},{value:"\u5BF9\u8C61\u6302\u8F7D\u5728",paraId:10,tocIndex:1},{value:"fiber\u6811",paraId:10,tocIndex:1},{value:"\u4E2D\u9996\u4E2A",paraId:10,tocIndex:1},{value:"HostComponent",paraId:10,tocIndex:1},{value:"\u7C7B\u578B\u7684\u8282\u70B9\u4E0A(\u5177\u4F53\u6765\u8BB2",paraId:10,tocIndex:1},{value:"DOM",paraId:10,tocIndex:1},{value:"\u5BF9\u8C61\u662F\u6302\u8F7D\u5728",paraId:10,tocIndex:1},{value:"fiber.stateNode",paraId:10,tocIndex:1},{value:"\u5C5E\u6027\u4E0A)",paraId:10,tocIndex:1},{value:"\u8FD9\u91CC\u518D\u6B21\u56DE\u987E\u524D\u6587\u4F7F\u7528\u8FC7\u7684 2 \u68F5 fiber \u6811, \u53EF\u4EE5\u9A8C\u8BC1\u4E0A\u8FF0\u7279\u70B9:",paraId:11,tocIndex:1},{value:"\u521D\u6B21\u6784\u9020",paraId:12,tocIndex:1},{value:"\u5BF9\u6BD4\u66F4\u65B0",paraId:13,tocIndex:1},{value:"\u6574\u4E2A\u6E32\u67D3\u903B\u8F91\u90FD\u5728",paraId:14,tocIndex:2},{value:"commitRoot \u51FD\u6570\u4E2D",paraId:14,tocIndex:2},{value:":",paraId:14,tocIndex:2},{value:`function commitRoot(root) {
  const renderPriorityLevel = getCurrentPriorityLevel();
  runWithPriority(
    ImmediateSchedulerPriority,
    commitRootImpl.bind(null, root, renderPriorityLevel),
  );
  return null;
}
`,paraId:15,tocIndex:2},{value:"\u5728",paraId:16,tocIndex:2},{value:"commitRoot",paraId:16,tocIndex:2},{value:"\u4E2D\u540C\u65F6\u4F7F\u7528\u5230\u4E86",paraId:16,tocIndex:2},{value:"\u6E32\u67D3\u4F18\u5148\u7EA7",paraId:16,tocIndex:2},{value:"\u548C",paraId:16,tocIndex:2},{value:"\u8C03\u5EA6\u4F18\u5148\u7EA7",paraId:16,tocIndex:2},{value:", \u6709\u5173\u4F18\u5148\u7EA7\u7684\u8BA8\u8BBA, \u5728\u524D\u6587\u5DF2\u7ECF\u505A\u51FA\u4E86\u8BF4\u660E(\u53C2\u8003",paraId:16,tocIndex:2},{value:"React \u4E2D\u7684\u4F18\u5148\u7EA7\u7BA1\u7406",paraId:17,tocIndex:2},{value:"\u548C",paraId:16,tocIndex:2},{value:"fiber \u6811\u6784\u9020(\u57FA\u7840\u51C6\u5907)#\u4F18\u5148\u7EA7",paraId:18,tocIndex:2},{value:"), \u672C\u8282\u4E0D\u518D\u8D58\u8FF0. \u6700\u540E\u7684\u5B9E\u73B0\u662F\u901A\u8FC7",paraId:16,tocIndex:2},{value:"commitRootImpl",paraId:16,tocIndex:2},{value:"\u51FD\u6570:",paraId:16,tocIndex:2},{value:`// ... \u7701\u7565\u90E8\u5206\u65E0\u5173\u4EE3\u7801
function commitRootImpl(root, renderPriorityLevel) {
  // ============ \u6E32\u67D3\u524D: \u51C6\u5907 ============

  const finishedWork = root.finishedWork;
  const lanes = root.finishedLanes;

  // \u6E05\u7A7AFiberRoot\u5BF9\u8C61\u4E0A\u7684\u5C5E\u6027
  root.finishedWork = null;
  root.finishedLanes = NoLanes;
  root.callbackNode = null;

  if (root === workInProgressRoot) {
    // \u91CD\u7F6E\u5168\u5C40\u53D8\u91CF
    workInProgressRoot = null;
    workInProgress = null;
    workInProgressRootRenderLanes = NoLanes;
  }

  // \u518D\u6B21\u66F4\u65B0\u526F\u4F5C\u7528\u961F\u5217
  let firstEffect;
  if (finishedWork.flags > PerformedWork) {
    // \u9ED8\u8BA4\u60C5\u51B5\u4E0Bfiber\u8282\u70B9\u7684\u526F\u4F5C\u7528\u961F\u5217\u662F\u4E0D\u5305\u62EC\u81EA\u8EAB\u7684
    // \u5982\u679C\u6839\u8282\u70B9\u6709\u526F\u4F5C\u7528, \u5219\u5C06\u6839\u8282\u70B9\u6DFB\u52A0\u5230\u526F\u4F5C\u7528\u961F\u5217\u7684\u672B\u5C3E
    if (finishedWork.lastEffect !== null) {
      finishedWork.lastEffect.nextEffect = finishedWork;
      firstEffect = finishedWork.firstEffect;
    } else {
      firstEffect = finishedWork;
    }
  } else {
    firstEffect = finishedWork.firstEffect;
  }

  // ============ \u6E32\u67D3 ============
  let firstEffect = finishedWork.firstEffect;
  if (firstEffect !== null) {
    const prevExecutionContext = executionContext;
    executionContext |= CommitContext;
    // \u9636\u6BB51: dom\u7A81\u53D8\u4E4B\u524D
    nextEffect = firstEffect;
    do {
      commitBeforeMutationEffects();
    } while (nextEffect !== null);

    // \u9636\u6BB52: dom\u7A81\u53D8, \u754C\u9762\u53D1\u751F\u6539\u53D8
    nextEffect = firstEffect;
    do {
      commitMutationEffects(root, renderPriorityLevel);
    } while (nextEffect !== null);
    // \u6062\u590D\u754C\u9762\u72B6\u6001
    resetAfterCommit(root.containerInfo);
    // \u5207\u6362current\u6307\u9488
    root.current = finishedWork;

    // \u9636\u6BB53: layout\u9636\u6BB5, \u8C03\u7528\u751F\u547D\u5468\u671FcomponentDidUpdate\u548C\u56DE\u8C03\u51FD\u6570\u7B49
    nextEffect = firstEffect;
    do {
      commitLayoutEffects(root, lanes);
    } while (nextEffect !== null);
    nextEffect = null;
    executionContext = prevExecutionContext;
  }

  // ============ \u6E32\u67D3\u540E: \u91CD\u7F6E\u4E0E\u6E05\u7406 ============
  if (rootDoesHavePassiveEffects) {
    // \u6709\u88AB\u52A8\u4F5C\u7528(\u4F7F\u7528useEffect), \u4FDD\u5B58\u4E00\u4E9B\u5168\u5C40\u53D8\u91CF
  } else {
    // \u5206\u89E3\u526F\u4F5C\u7528\u961F\u5217\u94FE\u8868, \u8F85\u52A9\u5783\u573E\u56DE\u6536
    // \u5982\u679C\u6709\u88AB\u52A8\u4F5C\u7528(\u4F7F\u7528useEffect), \u4F1A\u628A\u5206\u89E3\u64CD\u4F5C\u653E\u5728flushPassiveEffects\u51FD\u6570\u4E2D
    nextEffect = firstEffect;
    while (nextEffect !== null) {
      const nextNextEffect = nextEffect.nextEffect;
      nextEffect.nextEffect = null;
      if (nextEffect.flags & Deletion) {
        detachFiberAfterEffects(nextEffect);
      }
      nextEffect = nextNextEffect;
    }
  }
  // \u91CD\u7F6E\u4E00\u4E9B\u5168\u5C40\u53D8\u91CF(\u7701\u7565\u8FD9\u90E8\u5206\u4EE3\u7801)...
  // \u4E0B\u9762\u4EE3\u7801\u7528\u4E8E\u68C0\u6D4B\u662F\u5426\u6709\u65B0\u7684\u66F4\u65B0\u4EFB\u52A1
  // \u6BD4\u5982\u5728componentDidMount\u51FD\u6570\u4E2D, \u518D\u6B21\u8C03\u7528setState()

  // 1. \u68C0\u6D4B\u5E38\u89C4(\u5F02\u6B65)\u4EFB\u52A1, \u5982\u679C\u6709\u5219\u4F1A\u53D1\u8D77\u5F02\u6B65\u8C03\u5EA6(\u8C03\u5EA6\u4E2D\u5FC3\`scheduler\`\u53EA\u80FD\u5F02\u6B65\u8C03\u7528)
  ensureRootIsScheduled(root, now());
  // 2. \u68C0\u6D4B\u540C\u6B65\u4EFB\u52A1, \u5982\u679C\u6709\u5219\u4E3B\u52A8\u8C03\u7528flushSyncCallbackQueue(\u65E0\u9700\u518D\u6B21\u7B49\u5F85scheduler\u8C03\u5EA6), \u518D\u6B21\u8FDB\u5165fiber\u6811\u6784\u9020\u5FAA\u73AF
  flushSyncCallbackQueue();

  return null;
}
`,paraId:19,tocIndex:2},{value:"commitRootImpl",paraId:20,tocIndex:2},{value:"\u51FD\u6570\u4E2D, \u53EF\u4EE5\u6839\u636E\u662F\u5426\u8C03\u7528\u6E32\u67D3, \u628A\u6574\u4E2A",paraId:20,tocIndex:2},{value:"commitRootImpl",paraId:20,tocIndex:2},{value:"\u5206\u4E3A 3 \u6BB5(\u5206\u522B\u662F",paraId:20,tocIndex:2},{value:"\u6E32\u67D3\u524D",paraId:20,tocIndex:2},{value:", ",paraId:20,tocIndex:2},{value:"\u6E32\u67D3",paraId:20,tocIndex:2},{value:", ",paraId:20,tocIndex:2},{value:"\u6E32\u67D3\u540E",paraId:20,tocIndex:2},{value:").",paraId:20,tocIndex:2},{value:"\u4E3A\u63A5\u4E0B\u6765\u6B63\u5F0F\u6E32\u67D3, \u505A\u4E00\u4E9B\u51C6\u5907\u5DE5\u4F5C. \u4E3B\u8981\u5305\u62EC:",paraId:21,tocIndex:3},{value:"\u8BBE\u7F6E\u5168\u5C40\u72B6\u6001(\u5982: \u66F4\u65B0",paraId:22,tocIndex:3},{value:"fiberRoot",paraId:22,tocIndex:3},{value:"\u4E0A\u7684\u5C5E\u6027)",paraId:22,tocIndex:3},{value:"\u91CD\u7F6E\u5168\u5C40\u53D8\u91CF(\u5982: ",paraId:22,tocIndex:3},{value:"workInProgressRoot",paraId:22,tocIndex:3},{value:", ",paraId:22,tocIndex:3},{value:"workInProgress",paraId:22,tocIndex:3},{value:"\u7B49)",paraId:22,tocIndex:3},{value:"\u518D\u6B21\u66F4\u65B0\u526F\u4F5C\u7528\u961F\u5217: \u53EA\u9488\u5BF9\u6839\u8282\u70B9",paraId:22,tocIndex:3},{value:"fiberRoot.finishedWork",paraId:22,tocIndex:3},{value:"\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u6839\u8282\u70B9\u7684\u526F\u4F5C\u7528\u961F\u5217\u662F\u4E0D\u5305\u62EC\u81EA\u8EAB\u7684, \u5982\u679C\u6839\u8282\u70B9\u6709\u526F\u4F5C\u7528, \u5219\u5C06\u6839\u8282\u70B9\u6DFB\u52A0\u5230\u526F\u4F5C\u7528\u961F\u5217\u7684\u672B\u5C3E",paraId:23,tocIndex:3},{value:"\u6CE8\u610F\u53EA\u662F\u5EF6\u957F\u4E86\u526F\u4F5C\u7528\u961F\u5217, \u4F46\u662F",paraId:23,tocIndex:3},{value:"fiberRoot.lastEffect",paraId:23,tocIndex:3},{value:"\u6307\u9488\u5E76\u6CA1\u6709\u6539\u53D8.",paraId:23,tocIndex:3},{value:`
\u6BD4\u5982\u9996\u6B21\u6784\u9020\u65F6, \u6839\u8282\u70B9\u62E5\u6709`,paraId:23,tocIndex:3},{value:"Snapshot",paraId:23,tocIndex:3},{value:"\u6807\u8BB0:",paraId:23,tocIndex:3},{value:"commitRootImpl",paraId:24,tocIndex:4},{value:"\u51FD\u6570\u4E2D, \u6E32\u67D3\u9636\u6BB5\u7684\u4E3B\u8981\u903B\u8F91\u662F\u5904\u7406\u526F\u4F5C\u7528\u961F\u5217, \u5C06\u6700\u65B0\u7684 DOM \u8282\u70B9(\u5DF2\u7ECF\u5728\u5185\u5B58\u4E2D, \u53EA\u662F\u8FD8\u6CA1\u6E32\u67D3)\u6E32\u67D3\u5230\u754C\u9762\u4E0A.",paraId:24,tocIndex:4},{value:"\u6574\u4E2A\u6E32\u67D3\u8FC7\u7A0B\u88AB\u5206\u4E3A 3 \u4E2A\u51FD\u6570\u5206\u5E03\u5B9E\u73B0:",paraId:25,tocIndex:4},{value:"commitBeforeMutationEffects",paraId:26,tocIndex:4},{value:"dom \u53D8\u66F4\u4E4B\u524D, \u5904\u7406\u526F\u4F5C\u7528\u961F\u5217\u4E2D\u5E26\u6709",paraId:27,tocIndex:4},{value:"Snapshot",paraId:27,tocIndex:4},{value:",",paraId:27,tocIndex:4},{value:"Passive",paraId:27,tocIndex:4},{value:"\u6807\u8BB0\u7684",paraId:27,tocIndex:4},{value:"fiber",paraId:27,tocIndex:4},{value:"\u8282\u70B9.",paraId:27,tocIndex:4},{value:"commitMutationEffects",paraId:26,tocIndex:4},{value:"dom \u53D8\u66F4, \u754C\u9762\u5F97\u5230\u66F4\u65B0. \u5904\u7406\u526F\u4F5C\u7528\u961F\u5217\u4E2D\u5E26\u6709",paraId:28,tocIndex:4},{value:"Placement",paraId:28,tocIndex:4},{value:", ",paraId:28,tocIndex:4},{value:"Update",paraId:28,tocIndex:4},{value:", ",paraId:28,tocIndex:4},{value:"Deletion",paraId:28,tocIndex:4},{value:", ",paraId:28,tocIndex:4},{value:"Hydrating",paraId:28,tocIndex:4},{value:"\u6807\u8BB0\u7684",paraId:28,tocIndex:4},{value:"fiber",paraId:28,tocIndex:4},{value:"\u8282\u70B9.",paraId:28,tocIndex:4},{value:"commitLayoutEffects",paraId:26,tocIndex:4},{value:"dom \u53D8\u66F4\u540E, \u5904\u7406\u526F\u4F5C\u7528\u961F\u5217\u4E2D\u5E26\u6709",paraId:29,tocIndex:4},{value:"Update | Callback",paraId:29,tocIndex:4},{value:"\u6807\u8BB0\u7684",paraId:29,tocIndex:4},{value:"fiber",paraId:29,tocIndex:4},{value:"\u8282\u70B9.",paraId:29,tocIndex:4},{value:"\u901A\u8FC7\u4E0A\u8FF0\u6E90\u7801\u5206\u6790, \u53EF\u4EE5\u628A",paraId:30,tocIndex:4},{value:"commitRootImpl",paraId:30,tocIndex:4},{value:"\u7684\u804C\u8D23\u6982\u62EC\u4E3A 2 \u4E2A\u65B9\u9762:",paraId:30,tocIndex:4},{value:"\u5904\u7406\u526F\u4F5C\u7528\u961F\u5217. (\u6B65\u9AA4 1,2,3 \u90FD\u4F1A\u5904\u7406, \u53EA\u662F\u5904\u7406\u8282\u70B9\u7684\u6807\u8BC6",paraId:31,tocIndex:4},{value:"fiber.flags",paraId:31,tocIndex:4},{value:"\u4E0D\u540C).",paraId:31,tocIndex:4},{value:"\u8C03\u7528\u6E32\u67D3\u5668, \u8F93\u51FA\u6700\u7EC8\u7ED3\u679C. (\u5728\u6B65\u9AA4 2: ",paraId:31,tocIndex:4},{value:"commitMutationEffects",paraId:31,tocIndex:4},{value:"\u4E2D\u6267\u884C).",paraId:31,tocIndex:4},{value:"\u6240\u4EE5",paraId:32,tocIndex:4},{value:"commitRootImpl",paraId:32,tocIndex:4},{value:"\u662F\u5904\u7406",paraId:32,tocIndex:4},{value:"fiberRoot.finishedWork",paraId:32,tocIndex:4},{value:"\u8FD9\u68F5\u5373\u5C06\u88AB\u6E32\u67D3\u7684",paraId:32,tocIndex:4},{value:"fiber",paraId:32,tocIndex:4},{value:"\u6811, \u7406\u8BBA\u4E0A\u65E0\u9700\u5173\u5FC3\u8FD9\u68F5",paraId:32,tocIndex:4},{value:"fiber",paraId:32,tocIndex:4},{value:"\u6811\u662F\u5982\u4F55\u4EA7\u751F\u7684(\u53EF\u4EE5\u662F",paraId:32,tocIndex:4},{value:"\u9996\u6B21\u6784\u9020",paraId:32,tocIndex:4},{value:"\u4EA7\u751F, \u4E5F\u53EF\u4EE5\u662F",paraId:32,tocIndex:4},{value:"\u5BF9\u6BD4\u66F4\u65B0",paraId:32,tocIndex:4},{value:"\u4EA7\u751F). \u4E3A\u4E86\u6E05\u6670\u7B80\u4FBF, \u5728\u4E0B\u6587\u7684\u6240\u6709\u56FE\u793A\u90FD\u4F7F\u7528",paraId:32,tocIndex:4},{value:"\u521D\u6B21\u521B\u5EFA\u7684fiber\u6811\u7ED3\u6784",paraId:32,tocIndex:4},{value:"\u6765\u8FDB\u884C\u6F14\u793A.",paraId:32,tocIndex:4},{value:"\u8FD9 3 \u4E2A\u51FD\u6570\u5904\u7406\u7684\u5BF9\u8C61\u662F",paraId:33,tocIndex:4},{value:"\u526F\u4F5C\u7528\u961F\u5217",paraId:33,tocIndex:4},{value:"\u548C",paraId:33,tocIndex:4},{value:"DOM\u5BF9\u8C61",paraId:33,tocIndex:4},{value:".",paraId:33,tocIndex:4},{value:"\u6240\u4EE5\u65E0\u8BBA",paraId:34,tocIndex:4},{value:"fiber\u6811",paraId:34,tocIndex:4},{value:"\u7ED3\u6784\u6709\u591A\u4E48\u590D\u6742, \u5230\u4E86",paraId:34,tocIndex:4},{value:"commitRoot",paraId:34,tocIndex:4},{value:"\u9636\u6BB5, \u5B9E\u9645\u8D77\u4F5C\u7528\u7684\u53EA\u6709 2 \u4E2A\u8282\u70B9:",paraId:34,tocIndex:4},{value:"\u526F\u4F5C\u7528\u961F\u5217",paraId:35,tocIndex:4},{value:"\u6240\u5728\u8282\u70B9: \u6839\u8282\u70B9, \u5373",paraId:35,tocIndex:4},{value:"HostRootFiber",paraId:35,tocIndex:4},{value:"\u8282\u70B9.",paraId:35,tocIndex:4},{value:"DOM\u5BF9\u8C61",paraId:35,tocIndex:4},{value:"\u6240\u5728\u8282\u70B9: \u4ECE\u4E0A\u81F3\u4E0B\u9996\u4E2A",paraId:35,tocIndex:4},{value:"HostComponent",paraId:35,tocIndex:4},{value:"\u7C7B\u578B\u7684",paraId:35,tocIndex:4},{value:"fiber",paraId:35,tocIndex:4},{value:"\u8282\u70B9, \u6B64\u8282\u70B9 \b",paraId:35,tocIndex:4},{value:"fiber.stateNode",paraId:35,tocIndex:4},{value:"\u5B9E\u9645\u4E0A\u6307\u5411\u6700\u65B0\u7684 DOM \u6811.",paraId:35,tocIndex:4},{value:"\u4E0B\u56FE\u4E3A\u4E86\u6E05\u6670, \u7701\u7565\u4E86\u4E00\u4E9B\u65E0\u5173\u5F15\u7528, \u53EA\u7559\u4E0B",paraId:36,tocIndex:4},{value:"commitRoot",paraId:36,tocIndex:4},{value:"\u9636\u6BB5\u5B9E\u9645\u4F1A\u7528\u5230\u7684",paraId:36,tocIndex:4},{value:"fiber",paraId:36,tocIndex:4},{value:"\u8282\u70B9:",paraId:36,tocIndex:4},{value:"\u7B2C\u4E00\u9636\u6BB5: dom \u53D8\u66F4\u4E4B\u524D, \u5904\u7406\u526F\u4F5C\u7528\u961F\u5217\u4E2D\u5E26\u6709",paraId:37,tocIndex:5},{value:"Snapshot",paraId:37,tocIndex:5},{value:",",paraId:37,tocIndex:5},{value:"Passive",paraId:37,tocIndex:5},{value:"\u6807\u8BB0\u7684",paraId:37,tocIndex:5},{value:"fiber",paraId:37,tocIndex:5},{value:"\u8282\u70B9.",paraId:37,tocIndex:5},{value:`// ... \u7701\u7565\u90E8\u5206\u65E0\u5173\u4EE3\u7801
function commitBeforeMutationEffects() {
  while (nextEffect !== null) {
    const current = nextEffect.alternate;
    const flags = nextEffect.flags;
    // \u5904\u7406\`Snapshot\`\u6807\u8BB0
    if ((flags & Snapshot) !== NoFlags) {
      commitBeforeMutationEffectOnFiber(current, nextEffect);
    }
    // \u5904\u7406\`Passive\`\u6807\u8BB0
    if ((flags & Passive) !== NoFlags) {
      // Passive\u6807\u8BB0\u53EA\u5728\u4F7F\u7528\u4E86hook, useEffect\u4F1A\u51FA\u73B0. \u6240\u4EE5\u6B64\u5904\u662F\u9488\u5BF9hook\u5BF9\u8C61\u7684\u5904\u7406
      if (!rootDoesHavePassiveEffects) {
        rootDoesHavePassiveEffects = true;
        scheduleCallback(NormalSchedulerPriority, () => {
          flushPassiveEffects();
          return null;
        });
      }
    }
    nextEffect = nextEffect.nextEffect;
  }
}
`,paraId:38,tocIndex:5},{value:"\u6CE8\u610F\uFF1A",paraId:39,tocIndex:5},{value:"commitBeforeMutationEffectOnFiber",paraId:39,tocIndex:5},{value:"\u5B9E\u9645\u4E0A\u5BF9\u5E94\u4E86",paraId:39,tocIndex:5},{value:"commitBeforeMutationLifeCycles",paraId:39,tocIndex:5},{value:"\u51FD\u6570\uFF0C\u5728\u5BFC\u5165\u65F6\u8FDB\u884C\u4E86\u91CD\u547D\u540D",paraId:39,tocIndex:5},{value:"\u5904\u7406",paraId:40,tocIndex:5},{value:"Snapshot",paraId:40,tocIndex:5},{value:"\u6807\u8BB0",paraId:40,tocIndex:5},{value:`function commitBeforeMutationLifeCycles(
  current: Fiber | null,
  finishedWork: Fiber,
): void {
  switch (finishedWork.tag) {
    case FunctionComponent:
    case ForwardRef:
    case SimpleMemoComponent:
    case Block: {
      return;
    }
    case ClassComponent: {
      if (finishedWork.flags & Snapshot) {
        if (current !== null) {
          const prevProps = current.memoizedProps;
          const prevState = current.memoizedState;
          const instance = finishedWork.stateNode;

          const snapshot = instance.getSnapshotBeforeUpdate(
            finishedWork.elementType === finishedWork.type
              ? prevProps
              : resolveDefaultProps(finishedWork.type, prevProps),
            prevState,
          );
          instance.__reactInternalSnapshotBeforeUpdate = snapshot;
        }
      }
      return;
    }
    case HostRoot: {
      if (supportsMutation) {
        if (finishedWork.flags & Snapshot) {
          const root = finishedWork.stateNode;
          clearContainer(root.containerInfo);
        }
      }
      return;
    }
    case HostComponent:
    case HostText:
    case HostPortal:
    case IncompleteClassComponent:
      return;
  }
}
`,paraId:41,tocIndex:5},{value:"\u4ECE\u6E90\u7801\u4E2D\u53EF\u4EE5\u770B\u5230, \u4E0E",paraId:42,tocIndex:5},{value:"Snapshot",paraId:42,tocIndex:5},{value:"\u6807\u8BB0\u76F8\u5173\u7684\u7C7B\u578B\u53EA\u6709",paraId:42,tocIndex:5},{value:"ClassComponent",paraId:42,tocIndex:5},{value:"\u548C",paraId:42,tocIndex:5},{value:"HostRoot",paraId:42,tocIndex:5},{value:".",paraId:42,tocIndex:5},{value:"\u5BF9\u4E8E",paraId:43,tocIndex:5},{value:"ClassComponent",paraId:43,tocIndex:5},{value:"\u7C7B\u578B\u8282\u70B9, \u8C03\u7528\u4E86",paraId:43,tocIndex:5},{value:"instance.getSnapshotBeforeUpdate",paraId:43,tocIndex:5},{value:"\u751F\u547D\u5468\u671F\u51FD\u6570",paraId:43,tocIndex:5},{value:"\u5BF9\u4E8E",paraId:43,tocIndex:5},{value:"HostRoot",paraId:43,tocIndex:5},{value:"\u7C7B\u578B\u8282\u70B9, \u8C03\u7528",paraId:43,tocIndex:5},{value:"clearContainer",paraId:43,tocIndex:5},{value:"\u6E05\u7A7A\u4E86\u5BB9\u5668\u8282\u70B9(\u5373",paraId:43,tocIndex:5},{value:"div#root",paraId:43,tocIndex:5},{value:"\u8FD9\u4E2A dom \u8282\u70B9).",paraId:43,tocIndex:5},{value:"\u5904\u7406",paraId:44,tocIndex:5},{value:"Passive",paraId:44,tocIndex:5},{value:"\u6807\u8BB0",paraId:44,tocIndex:5},{value:"Passive",paraId:45,tocIndex:5},{value:"\u6807\u8BB0\u53EA\u4F1A\u5728\u4F7F\u7528\u4E86",paraId:45,tocIndex:5},{value:"hook",paraId:45,tocIndex:5},{value:"\u5BF9\u8C61\u7684",paraId:45,tocIndex:5},{value:"function",paraId:45,tocIndex:5},{value:"\u7C7B\u578B\u7684\u8282\u70B9\u4E0A\u5B58\u5728, \u540E\u7EED\u7684\u6267\u884C\u8FC7\u7A0B\u5728",paraId:45,tocIndex:5},{value:"hook\u539F\u7406",paraId:45,tocIndex:5},{value:"\u7AE0\u8282\u4E2D\u8BE6\u7EC6\u8BF4\u660E. \u6B64\u5904\u6211\u4EEC\u9700\u8981\u4E86\u89E3\u5728",paraId:45,tocIndex:5},{value:"commitRoot",paraId:45,tocIndex:5},{value:"\u7684\u7B2C\u4E00\u4E2A\u9636\u6BB5, \u4E3A\u4E86\u5904\u7406",paraId:45,tocIndex:5},{value:"hook",paraId:45,tocIndex:5},{value:"\u5BF9\u8C61(\u5982",paraId:45,tocIndex:5},{value:"useEffect",paraId:45,tocIndex:5},{value:"), \u901A\u8FC7",paraId:45,tocIndex:5},{value:"scheduleCallback",paraId:45,tocIndex:5},{value:"\u5355\u72EC\u6CE8\u518C\u4E86\u4E00\u4E2A\u8C03\u5EA6\u4EFB\u52A1",paraId:45,tocIndex:5},{value:"task",paraId:45,tocIndex:5},{value:", \u7B49\u5F85\u8C03\u5EA6\u4E2D\u5FC3",paraId:45,tocIndex:5},{value:"scheduler",paraId:45,tocIndex:5},{value:"\u5904\u7406.",paraId:45,tocIndex:5},{value:"\u6CE8\u610F: \u901A\u8FC7\u8C03\u5EA6\u4E2D\u5FC3",paraId:46,tocIndex:5},{value:"scheduler",paraId:46,tocIndex:5},{value:"\u8C03\u5EA6\u7684\u4EFB\u52A1",paraId:46,tocIndex:5},{value:"task",paraId:46,tocIndex:5},{value:"\u5747\u662F\u901A\u8FC7",paraId:46,tocIndex:5},{value:"MessageChannel",paraId:46,tocIndex:5},{value:"\u89E6\u53D1, \u90FD\u662F\u5F02\u6B65\u6267\u884C(\u53EF\u53C2\u8003",paraId:46,tocIndex:5},{value:"React \u8C03\u5EA6\u539F\u7406(scheduler)",paraId:47,tocIndex:5},{value:").",paraId:46,tocIndex:5},{value:"\u5C0F\u6D4B\u8BD5:",paraId:48,tocIndex:5},{value:`// \u4EE5\u4E0B\u793A\u4F8B\u4EE3\u7801\u4E2D\u7684\u8F93\u51FA\u987A\u5E8F\u4E3A 1, 3, 4, 2
function Test() {
  console.log(1);
  useEffect(() => {
    console.log(2);
  });
  console.log(3);
  Promise.resolve(() => {
    console.log(4);
  });
  return <div>test</div>;
}
`,paraId:49,tocIndex:5},{value:"\u7B2C\u4E8C\u9636\u6BB5: dom \u53D8\u66F4, \u754C\u9762\u5F97\u5230\u66F4\u65B0. \u5904\u7406\u526F\u4F5C\u7528\u961F\u5217\u4E2D\u5E26\u6709",paraId:50,tocIndex:6},{value:"ContentReset",paraId:50,tocIndex:6},{value:", ",paraId:50,tocIndex:6},{value:"Ref",paraId:50,tocIndex:6},{value:", ",paraId:50,tocIndex:6},{value:"Placement",paraId:50,tocIndex:6},{value:", ",paraId:50,tocIndex:6},{value:"Update",paraId:50,tocIndex:6},{value:", ",paraId:50,tocIndex:6},{value:"Deletion",paraId:50,tocIndex:6},{value:", ",paraId:50,tocIndex:6},{value:"Hydrating",paraId:50,tocIndex:6},{value:"\u6807\u8BB0\u7684",paraId:50,tocIndex:6},{value:"fiber",paraId:50,tocIndex:6},{value:"\u8282\u70B9.",paraId:50,tocIndex:6},{value:`// ...\u7701\u7565\u90E8\u5206\u65E0\u5173\u4EE3\u7801
function commitMutationEffects(
  root: FiberRoot,
  renderPriorityLevel: ReactPriorityLevel,
) {
  // \u5904\u7406Ref
  if (flags & Ref) {
    const current = nextEffect.alternate;
    if (current !== null) {
      // \u5148\u6E05\u7A7Aref, \u5728commitRoot\u7684\u7B2C\u4E09\u9636\u6BB5(dom\u53D8\u66F4\u540E), \u518D\u91CD\u65B0\u8D4B\u503C
      commitDetachRef(current);
    }
  }
  // \u5904\u7406DOM\u7A81\u53D8
  while (nextEffect !== null) {
    const flags = nextEffect.flags;
    const primaryFlags = flags & (Placement | Update | Deletion | Hydrating);
    switch (primaryFlags) {
      case Placement: {
        // \u65B0\u589E\u8282\u70B9
        commitPlacement(nextEffect);
        nextEffect.flags &= ~Placement; // \u6CE8\u610FPlacement\u6807\u8BB0\u4F1A\u88AB\u6E05\u9664
        break;
      }
      case PlacementAndUpdate: {
        // Placement
        commitPlacement(nextEffect);
        nextEffect.flags &= ~Placement;
        // Update
        const current = nextEffect.alternate;
        commitWork(current, nextEffect);
        break;
      }
      case Update: {
        // \u66F4\u65B0\u8282\u70B9
        const current = nextEffect.alternate;
        commitWork(current, nextEffect);
        break;
      }
      case Deletion: {
        // \u5220\u9664\u8282\u70B9
        commitDeletion(root, nextEffect, renderPriorityLevel);
        break;
      }
    }
    nextEffect = nextEffect.nextEffect;
  }
}
`,paraId:51,tocIndex:6},{value:"\u5904\u7406 DOM \u7A81\u53D8:",paraId:52,tocIndex:6},{value:"\u65B0\u589E",paraId:53,tocIndex:6},{value:": \u51FD\u6570\u8C03\u7528\u6808 ",paraId:53,tocIndex:6},{value:"commitPlacement",paraId:53,tocIndex:6},{value:" -> ",paraId:53,tocIndex:6},{value:"insertOrAppendPlacementNode",paraId:53,tocIndex:6},{value:" -> ",paraId:53,tocIndex:6},{value:"appendChild",paraId:53,tocIndex:6},{value:"\u66F4\u65B0",paraId:53,tocIndex:6},{value:": \u51FD\u6570\u8C03\u7528\u6808 ",paraId:53,tocIndex:6},{value:"commitWork",paraId:53,tocIndex:6},{value:" -> ",paraId:53,tocIndex:6},{value:"commitUpdate",paraId:53,tocIndex:6},{value:"\u5220\u9664",paraId:53,tocIndex:6},{value:": \u51FD\u6570\u8C03\u7528\u6808 ",paraId:53,tocIndex:6},{value:"commitDeletion",paraId:53,tocIndex:6},{value:" -> ",paraId:53,tocIndex:6},{value:"removeChild",paraId:53,tocIndex:6},{value:"\u6700\u7EC8\u4F1A\u8C03\u7528",paraId:54,tocIndex:6},{value:"appendChild, commitUpdate, removeChild",paraId:54,tocIndex:6},{value:"\u8FD9\u4E9B",paraId:54,tocIndex:6},{value:"react-dom",paraId:54,tocIndex:6},{value:"\u5305\u4E2D\u7684\u51FD\u6570. \u5B83\u4EEC\u662F",paraId:54,tocIndex:6},{value:"HostConfig",paraId:54,tocIndex:6},{value:"\u534F\u8BAE",paraId:54,tocIndex:6},{value:"(",paraId:54,tocIndex:6},{value:"\u6E90\u7801\u5728 ReactDOMHostConfig.js \u4E2D",paraId:54,tocIndex:6},{value:")\u4E2D\u89C4\u5B9A\u7684\u6807\u51C6\u51FD\u6570, \u5728\u6E32\u67D3\u5668",paraId:54,tocIndex:6},{value:"react-dom",paraId:54,tocIndex:6},{value:"\u5305\u4E2D\u8FDB\u884C\u5B9E\u73B0. \u8FD9\u4E9B\u51FD\u6570\u5C31\u662F\u76F4\u63A5\u64CD\u4F5C DOM, \u6240\u4EE5\u6267\u884C\u4E4B\u540E, \u754C\u9762\u4E5F\u4F1A\u5F97\u5230\u66F4\u65B0.",paraId:54,tocIndex:6},{value:"\u6CE8\u610F: ",paraId:55,tocIndex:6},{value:"commitMutationEffects",paraId:55,tocIndex:6},{value:"\u6267\u884C\u4E4B\u540E, \u5728",paraId:55,tocIndex:6},{value:"commitRootImpl",paraId:55,tocIndex:6},{value:"\u51FD\u6570\u4E2D\u5207\u6362\u5F53\u524D",paraId:55,tocIndex:6},{value:"fiber",paraId:55,tocIndex:6},{value:"\u6811(",paraId:55,tocIndex:6},{value:"root.current = finishedWork",paraId:55,tocIndex:6},{value:"),\u4FDD\u8BC1",paraId:55,tocIndex:6},{value:"fiberRoot.current",paraId:55,tocIndex:6},{value:"\u6307\u5411\u4EE3\u8868\u5F53\u524D\u754C\u9762\u7684",paraId:55,tocIndex:6},{value:"fiber\u6811",paraId:55,tocIndex:6},{value:".",paraId:55,tocIndex:6},{value:"\u7B2C\u4E09\u9636\u6BB5: dom \u53D8\u66F4\u540E, \u5904\u7406\u526F\u4F5C\u7528\u961F\u5217\u4E2D\u5E26\u6709",paraId:56,tocIndex:7},{value:"Update, Callback, Ref",paraId:56,tocIndex:7},{value:"\u6807\u8BB0\u7684",paraId:56,tocIndex:7},{value:"fiber",paraId:56,tocIndex:7},{value:"\u8282\u70B9.",paraId:56,tocIndex:7},{value:`// ...\u7701\u7565\u90E8\u5206\u65E0\u5173\u4EE3\u7801
function commitLayoutEffects(root: FiberRoot, committedLanes: Lanes) {
  while (nextEffect !== null) {
    const flags = nextEffect.flags;
    // \u5904\u7406 Update\u548CCallback\u6807\u8BB0
    if (flags & (Update | Callback)) {
      const current = nextEffect.alternate;
      commitLayoutEffectOnFiber(root, current, nextEffect, committedLanes);
    }
    if (flags & Ref) {
      // \u91CD\u65B0\u8BBE\u7F6Eref
      commitAttachRef(nextEffect);
    }
    nextEffect = nextEffect.nextEffect;
  }
}
`,paraId:57,tocIndex:7},{value:"\u6838\u5FC3\u903B\u8F91\u90FD\u5728",paraId:58,tocIndex:7},{value:"commitLayoutEffectOnFiber->commitLifeCycles",paraId:58,tocIndex:7},{value:"\u51FD\u6570\u4E2D.",paraId:58,tocIndex:7},{value:`// ...\u7701\u7565\u90E8\u5206\u65E0\u5173\u4EE3\u7801
function commitLifeCycles(
  finishedRoot: FiberRoot,
  current: Fiber | null,
  finishedWork: Fiber,
  committedLanes: Lanes,
): void {
  switch (finishedWork.tag) {
    case ClassComponent: {
      const instance = finishedWork.stateNode;
      if (finishedWork.flags & Update) {
        if (current === null) {
          // \u521D\u6B21\u6E32\u67D3: \u8C03\u7528 componentDidMount
          instance.componentDidMount();
        } else {
          const prevProps =
            finishedWork.elementType === finishedWork.type
              ? current.memoizedProps
              : resolveDefaultProps(finishedWork.type, current.memoizedProps);
          const prevState = current.memoizedState;
          // \u66F4\u65B0\u9636\u6BB5: \u8C03\u7528 componentDidUpdate
          instance.componentDidUpdate(
            prevProps,
            prevState,
            instance.__reactInternalSnapshotBeforeUpdate,
          );
        }
      }
      const updateQueue: UpdateQueue<*> | null =
        (finishedWork.updateQueue: any);
      if (updateQueue !== null) {
        // \u5904\u7406update\u56DE\u8C03\u51FD\u6570 \u5982: this.setState({}, callback)
        commitUpdateQueue(finishedWork, updateQueue, instance);
      }
      return;
    }
    case HostComponent: {
      const instance: Instance = finishedWork.stateNode;
      if (current === null && finishedWork.flags & Update) {
        const type = finishedWork.type;
        const props = finishedWork.memoizedProps;
        // \u8BBE\u7F6Efocus\u7B49\u539F\u751F\u72B6\u6001
        commitMount(instance, type, props, finishedWork);
      }
      return;
    }
  }
}
`,paraId:59,tocIndex:7},{value:"\u5728",paraId:60,tocIndex:7},{value:"commitLifeCycles",paraId:60,tocIndex:7},{value:"\u51FD\u6570\u4E2D:",paraId:60,tocIndex:7},{value:"\u5BF9\u4E8E",paraId:61,tocIndex:7},{value:"ClassComponent",paraId:61,tocIndex:7},{value:"\u8282\u70B9, \u8C03\u7528\u751F\u547D\u5468\u671F\u51FD\u6570",paraId:61,tocIndex:7},{value:"componentDidMount",paraId:61,tocIndex:7},{value:"\u6216",paraId:61,tocIndex:7},{value:"componentDidUpdate",paraId:61,tocIndex:7},{value:", \u8C03\u7528",paraId:61,tocIndex:7},{value:"update.callback",paraId:61,tocIndex:7},{value:"\u56DE\u8C03\u51FD\u6570.",paraId:61,tocIndex:7},{value:"\u5BF9\u4E8E",paraId:61,tocIndex:7},{value:"HostComponent",paraId:61,tocIndex:7},{value:"\u8282\u70B9, \u5982\u6709",paraId:61,tocIndex:7},{value:"Update",paraId:61,tocIndex:7},{value:"\u6807\u8BB0, \u9700\u8981\u8BBE\u7F6E\u4E00\u4E9B\u539F\u751F\u72B6\u6001(\u5982: ",paraId:61,tocIndex:7},{value:"focus",paraId:61,tocIndex:7},{value:"\u7B49)",paraId:61,tocIndex:7},{value:"\u6267\u884C\u5B8C\u4E0A\u8FF0\u6B65\u9AA4\u4E4B\u540E, \u672C\u6B21\u6E32\u67D3\u4EFB\u52A1\u5C31\u5DF2\u7ECF\u5B8C\u6210\u4E86. \u5728\u6E32\u67D3\u5B8C\u6210\u540E, \u9700\u8981\u505A\u4E00\u4E9B\u91CD\u7F6E\u548C\u6E05\u7406\u5DE5\u4F5C:",paraId:62,tocIndex:8},{value:"\u6E05\u9664\u526F\u4F5C\u7528\u961F\u5217",paraId:63,tocIndex:8},{value:"\u7531\u4E8E\u526F\u4F5C\u7528\u961F\u5217\u662F\u4E00\u4E2A\u94FE\u8868, \u7531\u4E8E\u5355\u4E2A",paraId:64,tocIndex:8},{value:"fiber",paraId:64,tocIndex:8},{value:"\u5BF9\u8C61\u7684\u5F15\u7528\u5173\u7CFB, \u65E0\u6CD5\u88AB",paraId:64,tocIndex:8},{value:"gc\u56DE\u6536",paraId:64,tocIndex:8},{value:".",paraId:64,tocIndex:8},{value:"\u5C06\u94FE\u8868\u5168\u90E8\u62C6\u5F00, \u5F53",paraId:64,tocIndex:8},{value:"fiber",paraId:64,tocIndex:8},{value:"\u5BF9\u8C61\u4E0D\u518D\u4F7F\u7528\u7684\u65F6\u5019, \u53EF\u4EE5\u88AB",paraId:64,tocIndex:8},{value:"gc\u56DE\u6536",paraId:64,tocIndex:8},{value:".",paraId:64,tocIndex:8},{value:`\u68C0\u6D4B\u66F4\u65B0
`,paraId:65,tocIndex:8},{value:"\u5728\u6574\u4E2A\u6E32\u67D3\u8FC7\u7A0B\u4E2D, \u6709\u53EF\u80FD\u4EA7\u751F\u65B0\u7684",paraId:66,tocIndex:8},{value:"update",paraId:66,tocIndex:8},{value:"(\u6BD4\u5982\u5728",paraId:66,tocIndex:8},{value:"componentDidMount",paraId:66,tocIndex:8},{value:"\u51FD\u6570\u4E2D, \u518D\u6B21\u8C03\u7528",paraId:66,tocIndex:8},{value:"setState()",paraId:66,tocIndex:8},{value:").",paraId:66,tocIndex:8},{value:"\u5982\u679C\u662F\u5E38\u89C4(\u5F02\u6B65)\u4EFB\u52A1, \u4E0D\u7528\u7279\u6B8A\u5904\u7406, \u8C03\u7528",paraId:66,tocIndex:8},{value:"ensureRootIsScheduled",paraId:66,tocIndex:8},{value:"\u786E\u4FDD\u4EFB\u52A1\u5DF2\u7ECF\u6CE8\u518C\u5230\u8C03\u5EA6\u4E2D\u5FC3\u5373\u53EF.",paraId:66,tocIndex:8},{value:"\u5982\u679C\u662F\u540C\u6B65\u4EFB\u52A1, \u5219\u4E3B\u52A8\u8C03\u7528",paraId:66,tocIndex:8},{value:"flushSyncCallbackQueue",paraId:66,tocIndex:8},{value:"(\u65E0\u9700\u518D\u6B21\u7B49\u5F85 scheduler \u8C03\u5EA6), \u518D\u6B21\u8FDB\u5165 fiber \u6811\u6784\u9020\u5FAA\u73AF",paraId:66,tocIndex:8},{value:`// \u6E05\u9664\u526F\u4F5C\u7528\u961F\u5217
if (rootDoesHavePassiveEffects) {
  // \u6709\u88AB\u52A8\u4F5C\u7528(\u4F7F\u7528useEffect), \u4FDD\u5B58\u4E00\u4E9B\u5168\u5C40\u53D8\u91CF
} else {
  // \u5206\u89E3\u526F\u4F5C\u7528\u961F\u5217\u94FE\u8868, \u8F85\u52A9\u5783\u573E\u56DE\u6536.
  // \u5982\u679C\u6709\u88AB\u52A8\u4F5C\u7528(\u4F7F\u7528useEffect), \u4F1A\u628A\u5206\u89E3\u64CD\u4F5C\u653E\u5728flushPassiveEffects\u51FD\u6570\u4E2D
  nextEffect = firstEffect;
  while (nextEffect !== null) {
    const nextNextEffect = nextEffect.nextEffect;
    nextEffect.nextEffect = null;
    if (nextEffect.flags & Deletion) {
      detachFiberAfterEffects(nextEffect);
    }
    nextEffect = nextNextEffect;
  }
}
// \u91CD\u7F6E\u4E00\u4E9B\u5168\u5C40\u53D8\u91CF(\u7701\u7565\u8FD9\u90E8\u5206\u4EE3\u7801)...
// \u4E0B\u9762\u4EE3\u7801\u7528\u4E8E\u68C0\u6D4B\u662F\u5426\u6709\u65B0\u7684\u66F4\u65B0\u4EFB\u52A1
// \u6BD4\u5982\u5728componentDidMount\u51FD\u6570\u4E2D, \u518D\u6B21\u8C03\u7528setState()

// 1. \u68C0\u6D4B\u5E38\u89C4(\u5F02\u6B65)\u4EFB\u52A1, \u5982\u679C\u6709\u5219\u4F1A\u53D1\u8D77\u5F02\u6B65\u8C03\u5EA6(\u8C03\u5EA6\u4E2D\u5FC3\`scheduler\`\u53EA\u80FD\u5F02\u6B65\u8C03\u7528)
ensureRootIsScheduled(root, now());
// 2. \u68C0\u6D4B\u540C\u6B65\u4EFB\u52A1, \u5982\u679C\u6709\u5219\u4E3B\u52A8\u8C03\u7528flushSyncCallbackQueue(\u65E0\u9700\u518D\u6B21\u7B49\u5F85scheduler\u8C03\u5EA6), \u518D\u6B21\u8FDB\u5165fiber\u6811\u6784\u9020\u5FAA\u73AF
flushSyncCallbackQueue();
`,paraId:67,tocIndex:8},{value:"\u672C\u8282\u5206\u6790\u4E86",paraId:68,tocIndex:9},{value:"fiber \u6811\u6E32\u67D3",paraId:68,tocIndex:9},{value:"\u7684\u5904\u7406\u8FC7\u7A0B, \u4ECE\u5B8F\u89C2\u4E0A\u770B",paraId:68,tocIndex:9},{value:"fiber \u6811\u6E32\u67D3",paraId:68,tocIndex:9},{value:"\u4F4D\u4E8E",paraId:68,tocIndex:9},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:68,tocIndex:9},{value:"\u4E2D\u7684\u8F93\u51FA\u9636\u6BB5, \u662F\u6574\u4E2A",paraId:68,tocIndex:9},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:68,tocIndex:9},{value:"\u7684\u94FE\u8DEF\u4E2D\u6700\u540E\u4E00\u73AF(\u4ECE\u8F93\u5165\u5230\u8F93\u51FA). \u672C\u8282\u6839\u636E\u6E90\u7801, \u5177\u4F53\u4ECE",paraId:68,tocIndex:9},{value:"\u6E32\u67D3\u524D, \u6E32\u67D3, \u6E32\u67D3\u540E",paraId:68,tocIndex:9},{value:"\u4E09\u4E2A\u65B9\u9762\u5206\u89E3\u4E86",paraId:68,tocIndex:9},{value:"commitRootImpl",paraId:68,tocIndex:9},{value:"\u51FD\u6570. \u5176\u4E2D\u6700\u6838\u5FC3\u7684",paraId:68,tocIndex:9},{value:"\u6E32\u67D3",paraId:68,tocIndex:9},{value:"\u903B\u8F91\u53C8\u5206\u4E3A\u4E86 3 \u4E2A\u51FD\u6570, \u8FD9 3 \u4E2A\u51FD\u6570\u5171\u540C\u5904\u7406\u4E86\u6709\u526F\u4F5C\u7528",paraId:68,tocIndex:9},{value:"fiber",paraId:68,tocIndex:9},{value:"\u8282\u70B9, \u5E76\u901A\u8FC7\u6E32\u67D3\u5668",paraId:68,tocIndex:9},{value:"react-dom",paraId:68,tocIndex:9},{value:"\u628A\u6700\u65B0\u7684 DOM \u5BF9\u8C61\u6E32\u67D3\u5230\u754C\u9762\u4E0A.",paraId:68,tocIndex:9}],O={},z={title:"fiber \u6811\u6784\u9020(\u521D\u6B21\u521B\u5EFA)",toc:"menu",filename:"docs/main/fibertree-create.md",group:"\u8FD0\u884C\u6838\u5FC3",order:5,description:"\u672C\u8282\u7684\u5185\u5BB9\u5B8C\u5168\u5EFA\u7ACB\u5728\u524D\u6587fiber \u6811\u6784\u9020(\u57FA\u7840\u51C6\u5907)\u4E2D\u4ECB\u7ECD\u7684\u57FA\u7840\u77E5\u8BC6\u4E4B\u4E0A, \u5176\u4E2D\u603B\u7ED3\u4E86fiber \u6811\u6784\u9020\u7684 2 \u79CD\u60C5\u51B5:"},ae=[{id:"fiber-\u6811\u6784\u9020\u521D\u6B21\u521B\u5EFA",depth:1,title:"fiber \u6811\u6784\u9020(\u521D\u6B21\u521B\u5EFA)"},{id:"\u542F\u52A8\u9636\u6BB5",depth:2,title:"\u542F\u52A8\u9636\u6BB5"},{id:"\u6784\u9020\u9636\u6BB5",depth:2,title:"\u6784\u9020\u9636\u6BB5"},{id:"\u5FAA\u73AF\u6784\u9020",depth:3,title:"\u5FAA\u73AF\u6784\u9020"},{id:"\u63A2\u5BFB\u9636\u6BB5-beginwork",depth:3,title:"\u63A2\u5BFB\u9636\u6BB5 beginWork"},{id:"\u56DE\u6EAF\u9636\u6BB5-completework",depth:3,title:"\u56DE\u6EAF\u9636\u6BB5 completeWork"},{id:"\u8FC7\u7A0B\u56FE\u89E3",depth:2,title:"\u8FC7\u7A0B\u56FE\u89E3"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"}],be=[{value:"\u672C\u8282\u7684\u5185\u5BB9\u5B8C\u5168\u5EFA\u7ACB\u5728\u524D\u6587",paraId:0,tocIndex:0},{value:"fiber \u6811\u6784\u9020(\u57FA\u7840\u51C6\u5907)",paraId:1,tocIndex:0},{value:"\u4E2D\u4ECB\u7ECD\u7684\u57FA\u7840\u77E5\u8BC6\u4E4B\u4E0A, \u5176\u4E2D\u603B\u7ED3\u4E86",paraId:0,tocIndex:0},{value:"fiber \u6811\u6784\u9020",paraId:0,tocIndex:0},{value:"\u7684 2 \u79CD\u60C5\u51B5:",paraId:0,tocIndex:0},{value:"\u521D\u6B21\u521B\u5EFA: \u5728",paraId:2,tocIndex:0},{value:"React",paraId:2,tocIndex:0},{value:"\u5E94\u7528\u9996\u6B21\u542F\u52A8\u65F6, \u754C\u9762\u8FD8\u6CA1\u6709\u6E32\u67D3, \u6B64\u65F6\u5E76\u4E0D\u4F1A\u8FDB\u5165\u5BF9\u6BD4\u8FC7\u7A0B, \u76F8\u5F53\u4E8E\u76F4\u63A5\u6784\u9020\u4E00\u68F5\u5168\u65B0\u7684\u6811.",paraId:2,tocIndex:0},{value:"\u5BF9\u6BD4\u66F4\u65B0: ",paraId:2,tocIndex:0},{value:"React",paraId:2,tocIndex:0},{value:"\u5E94\u7528\u542F\u52A8\u540E, \u754C\u9762\u5DF2\u7ECF\u6E32\u67D3. \u5982\u679C\u518D\u6B21\u53D1\u751F\u66F4\u65B0, \u521B\u5EFA",paraId:2,tocIndex:0},{value:"\u65B0fiber",paraId:2,tocIndex:0},{value:"\u4E4B\u524D\u9700\u8981\u548C",paraId:2,tocIndex:0},{value:"\u65E7fiber",paraId:2,tocIndex:0},{value:"\u8FDB\u884C\u5BF9\u6BD4. \u6700\u540E\u6784\u9020\u7684 fiber \u6811\u6709\u53EF\u80FD\u662F\u5168\u65B0\u7684, \u4E5F\u53EF\u80FD\u662F\u90E8\u5206\u66F4\u65B0\u7684.",paraId:2,tocIndex:0},{value:"\u672C\u8282\u53EA\u8BA8\u8BBA",paraId:3,tocIndex:0},{value:"\u521D\u6B21\u521B\u5EFA",paraId:3,tocIndex:0},{value:"\u8FD9\u79CD\u60C5\u51B5, \u4E3A\u4E86\u63A7\u5236\u7BC7\u5E45(\u672C\u8282\u76F4\u51FB\u6838\u5FC3\u6E90\u7801, \u4E0D\u518D\u4ECB\u7ECD\u57FA\u7840\u77E5\u8BC6, \u53EF\u53C2\u7167",paraId:3,tocIndex:0},{value:"fiber \u6811\u6784\u9020(\u57FA\u7840\u51C6\u5907)",paraId:4,tocIndex:0},{value:")\u5E76\u7A81\u51FA",paraId:3,tocIndex:0},{value:"fiber \u6811\u6784\u9020",paraId:3,tocIndex:0},{value:"\u8FC7\u7A0B, \u540E\u6587\u4F1A\u5728",paraId:3,tocIndex:0},{value:"Legacy",paraId:3,tocIndex:0},{value:"\u6A21\u5F0F\u4E0B\u8FDB\u884C\u5206\u6790(\u56E0\u4E3A\u53EA\u8BA8\u8BBA",paraId:3,tocIndex:0},{value:"fiber\u6811\u6784\u9020",paraId:3,tocIndex:0},{value:"\u539F\u7406, ",paraId:3,tocIndex:0},{value:"Concurrent",paraId:3,tocIndex:0},{value:"\u6A21\u5F0F\u4E0E",paraId:3,tocIndex:0},{value:"Legacy",paraId:3,tocIndex:0},{value:"\u6CA1\u6709\u533A\u522B).",paraId:3,tocIndex:0},{value:"\u672C\u8282\u793A\u4F8B\u4EE3\u7801\u5982\u4E0B(",paraId:5,tocIndex:0},{value:"codesandbox \u5730\u5740",paraId:5,tocIndex:0},{value:"):",paraId:5,tocIndex:0},{value:`class App extends React.Component {
  componentDidMount() {
    console.log(\`App Mount\`);
    console.log(\`App \u7EC4\u4EF6\u5BF9\u5E94\u7684fiber\u8282\u70B9: \`, this._reactInternals);
  }
  render() {
    return (
      <div className="app">
        <header>header</header>
        <Content />
      </div>
    );
  }
}

class Content extends React.Component {
  componentDidMount() {
    console.log(\`Content Mount\`);
    console.log(\`Content \u7EC4\u4EF6\u5BF9\u5E94\u7684fiber\u8282\u70B9: \`, this._reactInternals);
  }
  render() {
    return (
      <React.Fragment>
        <p>1</p>
        <p>2</p>
      </React.Fragment>
    );
  }
}
export default App;
`,paraId:6,tocIndex:0},{value:"\u5728\u524D\u6587",paraId:7,tocIndex:1},{value:"React \u5E94\u7528\u7684\u542F\u52A8\u8FC7\u7A0B",paraId:8,tocIndex:1},{value:"\u4E2D\u5206\u6790\u4E86 3 \u79CD\u542F\u52A8\u6A21\u5F0F\u7684\u5DEE\u5F02, \u5728\u8FDB\u5165",paraId:7,tocIndex:1},{value:"react-reconciler",paraId:7,tocIndex:1},{value:"\u5305\u4E4B\u524D(\u8C03\u7528",paraId:7,tocIndex:1},{value:"updateContainer",paraId:7,tocIndex:1},{value:"\u4E4B\u524D), \u5185\u5B58\u72B6\u6001\u56FE\u5982\u4E0B:",paraId:7,tocIndex:1},{value:"\u6839\u636E\u8FD9\u4E2A\u7ED3\u6784, \u53EF\u4EE5\u5728\u63A7\u5236\u53F0\u4E2D\u6253\u51FA\u5F53\u524D\u9875\u9762\u5BF9\u5E94\u7684",paraId:9,tocIndex:1},{value:"fiber",paraId:9,tocIndex:1},{value:"\u6811(\u7528\u4E8E\u89C2\u5BDF\u5176\u7ED3\u6784):",paraId:9,tocIndex:1},{value:`document.getElementById('root')._reactRootContainer._internalRoot.current;
`,paraId:10,tocIndex:1},{value:"\u7136\u540E\u8FDB\u5165",paraId:11,tocIndex:1},{value:"react-reconciler",paraId:11,tocIndex:1},{value:"\u5305\u8C03\u7528",paraId:11,tocIndex:1},{value:"updateContainer \u51FD\u6570",paraId:11,tocIndex:1},{value:":",paraId:11,tocIndex:1},{value:`// ... \u7701\u7565\u4E86\u90E8\u5206\u4EE3\u7801
export function updateContainer(
  element: ReactNodeList,
  container: OpaqueRoot,
  parentComponent: ?React$Component<any, any>,
  callback: ?Function,
): Lane {
  // \u83B7\u53D6\u5F53\u524D\u65F6\u95F4\u6233
  const current = container.current;
  const eventTime = requestEventTime();
  // 1. \u521B\u5EFA\u4E00\u4E2A\u4F18\u5148\u7EA7\u53D8\u91CF(\u8F66\u9053\u6A21\u578B)
  const lane = requestUpdateLane(current);

  // 2. \u6839\u636E\u8F66\u9053\u4F18\u5148\u7EA7, \u521B\u5EFAupdate\u5BF9\u8C61, \u5E76\u52A0\u5165fiber.updateQueue.pending\u961F\u5217
  const update = createUpdate(eventTime, lane);
  update.payload = { element };
  callback = callback === undefined ? null : callback;
  if (callback !== null) {
    update.callback = callback;
  }
  enqueueUpdate(current, update);

  // 3. \u8FDB\u5165reconciler\u8FD0\u4F5C\u6D41\u7A0B\u4E2D\u7684\`\u8F93\u5165\`\u73AF\u8282
  scheduleUpdateOnFiber(current, lane, eventTime);
  return lane;
}
`,paraId:12,tocIndex:1},{value:"\u7531\u4E8E",paraId:13,tocIndex:1},{value:"update",paraId:13,tocIndex:1},{value:"\u5BF9\u8C61\u7684\u521B\u5EFA, \u6B64\u65F6\u7684\u5185\u5B58\u7ED3\u6784\u5982\u4E0B:",paraId:13,tocIndex:1},{value:"\u6CE8\u610F: \u6700\u521D\u7684",paraId:14,tocIndex:1},{value:"ReactElement",paraId:14,tocIndex:1},{value:"\u5BF9\u8C61",paraId:14,tocIndex:1},{value:"<App/>",paraId:14,tocIndex:1},{value:"\u88AB\u6302\u8F7D\u5230",paraId:14,tocIndex:1},{value:"HostRootFiber.updateQueue.shared.pending.payload.element",paraId:14,tocIndex:1},{value:"\u4E2D, \u540E\u6587",paraId:14,tocIndex:1},{value:"fiber\u6811\u6784\u9020",paraId:14,tocIndex:1},{value:"\u8FC7\u7A0B\u4E2D\u4F1A\u518D\u6B21\u53D8\u52A8.",paraId:14,tocIndex:1},{value:"\u4E3A\u4E86\u7A81\u51FA\u6784\u9020\u8FC7\u7A0B,\u6392\u9664\u5E72\u6270,\u5148\u628A\u5185\u5B58\u72B6\u6001\u56FE\u4E2D\u7684",paraId:15,tocIndex:2},{value:"FiberRoot",paraId:15,tocIndex:2},{value:"\u548C",paraId:15,tocIndex:2},{value:"HostRootFiber",paraId:15,tocIndex:2},{value:"\u5355\u72EC\u63D0\u51FA\u6765(\u540E\u6587\u5728\u6B64\u57FA\u7840\u4E0A\u6DFB\u52A0):",paraId:15,tocIndex:2},{value:"\u5728",paraId:16,tocIndex:2},{value:"scheduleUpdateOnFiber \u51FD\u6570",paraId:16,tocIndex:2},{value:"\u4E2D:",paraId:16,tocIndex:2},{value:`// ...\u7701\u7565\u90E8\u5206\u4EE3\u7801
export function scheduleUpdateOnFiber(
  fiber: Fiber,
  lane: Lane,
  eventTime: number,
) {
  // \u6807\u8BB0\u4F18\u5148\u7EA7
  const root = markUpdateLaneFromFiberToRoot(fiber, lane);
  if (lane === SyncLane) {
    if (
      (executionContext & LegacyUnbatchedContext) !== NoContext &&
      (executionContext & (RenderContext | CommitContext)) === NoContext
    ) {
      // \u9996\u6B21\u6E32\u67D3, \u76F4\u63A5\u8FDB\u884C\`fiber\u6784\u9020\`
      performSyncWorkOnRoot(root);
    }
    // ...
  }
}
`,paraId:17,tocIndex:2},{value:"\u53EF\u4EE5\u770B\u5230, \u5728",paraId:18,tocIndex:2},{value:"Legacy",paraId:18,tocIndex:2},{value:"\u6A21\u5F0F\u4E0B\u4E14\u9996\u6B21\u6E32\u67D3\u65F6, \u6709 2 \u4E2A\u51FD\u6570",paraId:18,tocIndex:2},{value:"markUpdateLaneFromFiberToRoot",paraId:18,tocIndex:2},{value:"\u548C",paraId:18,tocIndex:2},{value:"performSyncWorkOnRoot",paraId:18,tocIndex:2},{value:".",paraId:18,tocIndex:2},{value:"\u5176\u4E2D",paraId:19,tocIndex:2},{value:"markUpdateLaneFromFiberToRoot(fiber, lane)",paraId:19,tocIndex:2},{value:"\u51FD\u6570\u5728",paraId:19,tocIndex:2},{value:"fiber\u6811\u6784\u9020(\u5BF9\u6BD4\u66F4\u65B0)",paraId:19,tocIndex:2},{value:"\u4E2D\u624D\u4F1A\u53D1\u6325\u4F5C\u7528, \u56E0\u4E3A\u5728",paraId:19,tocIndex:2},{value:"\u521D\u6B21\u521B\u5EFA",paraId:19,tocIndex:2},{value:"\u65F6\u5E76\u6CA1\u6709\u4E0E\u5F53\u524D\u9875\u9762\u6240\u5BF9\u5E94\u7684",paraId:19,tocIndex:2},{value:"fiber\u6811",paraId:19,tocIndex:2},{value:", \u6240\u4EE5\u6838\u5FC3\u4EE3\u7801\u5E76\u6CA1\u6709\u6267\u884C, \u6700\u540E\u76F4\u63A5\u8FD4\u56DE\u4E86",paraId:19,tocIndex:2},{value:"FiberRoot",paraId:19,tocIndex:2},{value:"\u5BF9\u8C61.",paraId:19,tocIndex:2},{value:"performSyncWorkOnRoot",paraId:20,tocIndex:2},{value:"\u770B\u8D77\u6765\u6E90\u7801\u5F88\u591A, ",paraId:20,tocIndex:2},{value:"\u521D\u6B21\u521B\u5EFA",paraId:20,tocIndex:2},{value:"\u4E2D\u771F\u6B63\u7528\u5230\u7684\u5C31 2 \u4E2A\u51FD\u6570:",paraId:20,tocIndex:2},{value:`function performSyncWorkOnRoot(root) {
  let lanes;
  let exitStatus;
  if (
    root === workInProgressRoot &&
    includesSomeLane(root.expiredLanes, workInProgressRootRenderLanes)
  ) {
    // \u521D\u6B21\u6784\u9020\u65F6(\u56E0\u4E3Aroot=fiberRoot, workInProgressRoot=null), \u6240\u4EE5\u4E0D\u4F1A\u8FDB\u5165
  } else {
    // 1. \u83B7\u53D6\u672C\u6B21render\u7684\u4F18\u5148\u7EA7, \u521D\u6B21\u6784\u9020\u8FD4\u56DE NoLanes
    lanes = getNextLanes(root, NoLanes);
    // 2. \u4ECEroot\u8282\u70B9\u5F00\u59CB, \u81F3\u4E0A\u800C\u4E0B\u66F4\u65B0
    exitStatus = renderRootSync(root, lanes);
  }

  // \u5C06\u6700\u65B0\u7684fiber\u6811\u6302\u8F7D\u5230root.finishedWork\u8282\u70B9\u4E0A
  const finishedWork: Fiber = (root.current.alternate: any);
  root.finishedWork = finishedWork;
  root.finishedLanes = lanes;
  // \u8FDB\u5165commit\u9636\u6BB5
  commitRoot(root);

  // ...\u540E\u9762\u7684\u5185\u5BB9\u672C\u8282\u4E0D\u8BA8\u8BBA
}
`,paraId:21,tocIndex:2},{value:"\u5176\u4E2D",paraId:22,tocIndex:2},{value:"getNextLanes",paraId:22,tocIndex:2},{value:"\u8FD4\u56DE\u672C\u6B21 render \u7684\u6E32\u67D3\u4F18\u5148\u7EA7(\u8BE6\u89C1",paraId:22,tocIndex:2},{value:"fiber \u6811\u6784\u9020(\u57FA\u7840\u51C6\u5907)",paraId:23,tocIndex:2},{value:"\u4E2D",paraId:22,tocIndex:2},{value:"\u4F18\u5148\u7EA7",paraId:22,tocIndex:2},{value:"\u76F8\u5173\u5C0F\u8282)",paraId:22,tocIndex:2},{value:"renderRootSync",paraId:24,tocIndex:2},{value:`function renderRootSync(root: FiberRoot, lanes: Lanes) {
  const prevExecutionContext = executionContext;
  executionContext |= RenderContext;
  // \u5982\u679CfiberRoot\u53D8\u52A8, \u6216\u8005update.lane\u53D8\u52A8, \u90FD\u4F1A\u5237\u65B0\u6808\u5E27, \u4E22\u5F03\u4E0A\u4E00\u6B21\u6E32\u67D3\u8FDB\u5EA6
  if (workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes) {
    // \u5237\u65B0\u6808\u5E27, legacy\u6A21\u5F0F\u4E0B\u90FD\u4F1A\u8FDB\u5165
    prepareFreshStack(root, lanes);
  }
  do {
    try {
      workLoopSync();
      break;
    } catch (thrownValue) {
      handleError(root, thrownValue);
    }
  } while (true);
  executionContext = prevExecutionContext;
  // \u91CD\u7F6E\u5168\u5C40\u53D8\u91CF, \u8868\u660Erender\u7ED3\u675F
  workInProgressRoot = null;
  workInProgressRootRenderLanes = NoLanes;
  return workInProgressRootExitStatus;
}
`,paraId:25,tocIndex:2},{value:"\u5728",paraId:26,tocIndex:2},{value:"renderRootSync",paraId:26,tocIndex:2},{value:"\u4E2D, \u5728\u6267\u884C",paraId:26,tocIndex:2},{value:"fiber\u6811\u6784\u9020",paraId:26,tocIndex:2},{value:"\u524D(",paraId:26,tocIndex:2},{value:"workLoopSync",paraId:26,tocIndex:2},{value:")\u4F1A\u5148\u5237\u65B0\u6808\u5E27",paraId:26,tocIndex:2},{value:"prepareFreshStack",paraId:26,tocIndex:2},{value:"(\u53C2\u8003",paraId:26,tocIndex:2},{value:"fiber \u6811\u6784\u9020(\u57FA\u7840\u51C6\u5907)",paraId:27,tocIndex:2},{value:").\u5728\u8FD9\u91CC\u521B\u5EFA\u4E86",paraId:26,tocIndex:2},{value:"HostRootFiber.alternate",paraId:26,tocIndex:2},{value:", \u91CD\u7F6E\u5168\u5C40\u53D8\u91CF",paraId:26,tocIndex:2},{value:"workInProgress",paraId:26,tocIndex:2},{value:"\u548C",paraId:26,tocIndex:2},{value:"workInProgressRoot",paraId:26,tocIndex:2},{value:"\u7B49.",paraId:26,tocIndex:2},{value:"\u903B\u8F91\u6765\u5230",paraId:28,tocIndex:3},{value:"workLoopSync",paraId:28,tocIndex:3},{value:", \u867D\u7136\u672C\u8282\u5728",paraId:28,tocIndex:3},{value:"Legacy",paraId:28,tocIndex:3},{value:"\u6A21\u5F0F\u4E0B\u8FDB\u884C\u8BA8\u8BBA, \u6B64\u5904\u8FD8\u662F\u5BF9\u6BD4\u4E00\u4E0B",paraId:28,tocIndex:3},{value:"workLoopConcurrent",paraId:28,tocIndex:3},{value:`function workLoopSync() {
  while (workInProgress !== null) {
    performUnitOfWork(workInProgress);
  }
}

function workLoopConcurrent() {
  // Perform work until Scheduler asks us to yield
  while (workInProgress !== null && !shouldYield()) {
    performUnitOfWork(workInProgress);
  }
}
`,paraId:29,tocIndex:3},{value:"\u53EF\u4EE5\u770B\u5230",paraId:30,tocIndex:3},{value:"workLoopConcurrent",paraId:30,tocIndex:3},{value:"\u76F8\u6BD4\u4E8E",paraId:30,tocIndex:3},{value:"Sync",paraId:30,tocIndex:3},{value:", \u4F1A\u591A\u4E00\u4E2A\u505C\u987F\u673A\u5236, \u8FD9\u4E2A\u673A\u5236\u5B9E\u73B0\u4E86",paraId:30,tocIndex:3},{value:"\u65F6\u95F4\u5207\u7247",paraId:30,tocIndex:3},{value:"\u548C",paraId:30,tocIndex:3},{value:"\u53EF\u4E2D\u65AD\u6E32\u67D3",paraId:30,tocIndex:3},{value:"(\u53C2\u8003",paraId:30,tocIndex:3},{value:"React \u8C03\u5EA6\u539F\u7406",paraId:31,tocIndex:3},{value:")",paraId:30,tocIndex:3},{value:"\u7ED3\u5408",paraId:32,tocIndex:3},{value:"performUnitOfWork\u51FD\u6570",paraId:32,tocIndex:3},{value:"(",paraId:32,tocIndex:3},{value:"\u6E90\u7801\u5730\u5740",paraId:32,tocIndex:3},{value:")",paraId:32,tocIndex:3},{value:`// ... \u7701\u7565\u90E8\u5206\u65E0\u5173\u4EE3\u7801
function performUnitOfWork(unitOfWork: Fiber): void {
  // unitOfWork\u5C31\u662F\u88AB\u4F20\u5165\u7684workInProgress
  const current = unitOfWork.alternate;
  let next;
  next = beginWork(current, unitOfWork, subtreeRenderLanes);
  unitOfWork.memoizedProps = unitOfWork.pendingProps;
  if (next === null) {
    // \u5982\u679C\u6CA1\u6709\u6D3E\u751F\u51FA\u65B0\u7684\u8282\u70B9, \u5219\u8FDB\u5165completeWork\u9636\u6BB5, \u4F20\u5165\u7684\u662F\u5F53\u524DunitOfWork
    completeUnitOfWork(unitOfWork);
  } else {
    workInProgress = next;
  }
}
`,paraId:33,tocIndex:3},{value:"\u53EF\u4EE5\u660E\u663E\u7684\u770B\u51FA, \u6574\u4E2A",paraId:34,tocIndex:3},{value:"fiber\u6811\u6784\u9020",paraId:34,tocIndex:3},{value:"\u662F\u4E00\u4E2A\u6DF1\u5EA6\u4F18\u5148\u904D\u5386(\u53EF\u53C2\u8003",paraId:34,tocIndex:3},{value:"React \u7B97\u6CD5\u4E4B\u6DF1\u5EA6\u4F18\u5148\u904D\u5386",paraId:35,tocIndex:3},{value:"), \u5176\u4E2D\u6709 2 \u4E2A\u91CD\u8981\u7684\u53D8\u91CF",paraId:34,tocIndex:3},{value:"workInProgress",paraId:34,tocIndex:3},{value:"\u548C",paraId:34,tocIndex:3},{value:"current",paraId:34,tocIndex:3},{value:"(\u53EF\u53C2\u8003\u524D\u6587",paraId:34,tocIndex:3},{value:"fiber \u6811\u6784\u9020(\u57FA\u7840\u51C6\u5907)",paraId:36,tocIndex:3},{value:"\u4E2D\u4ECB\u7ECD\u7684",paraId:34,tocIndex:3},{value:"\u53CC\u7F13\u51B2\u6280\u672F",paraId:34,tocIndex:3},{value:"):",paraId:34,tocIndex:3},{value:"workInProgress",paraId:37,tocIndex:3},{value:"\u548C",paraId:37,tocIndex:3},{value:"current",paraId:37,tocIndex:3},{value:"\u90FD\u89C6\u4E3A\u6307\u9488",paraId:37,tocIndex:3},{value:"workInProgress",paraId:37,tocIndex:3},{value:"\u6307\u5411\u5F53\u524D\u6B63\u5728\u6784\u9020\u7684",paraId:37,tocIndex:3},{value:"fiber",paraId:37,tocIndex:3},{value:"\u8282\u70B9",paraId:37,tocIndex:3},{value:"current = workInProgress.alternate",paraId:37,tocIndex:3},{value:"(\u5373",paraId:37,tocIndex:3},{value:"fiber.alternate",paraId:37,tocIndex:3},{value:"), \u6307\u5411\u5F53\u524D\u9875\u9762\u6B63\u5728\u4F7F\u7528\u7684",paraId:37,tocIndex:3},{value:"fiber",paraId:37,tocIndex:3},{value:"\u8282\u70B9. \u521D\u6B21\u6784\u9020\u65F6, \u9875\u9762\u8FD8\u672A\u6E32\u67D3, \u6B64\u65F6",paraId:37,tocIndex:3},{value:"current = null",paraId:37,tocIndex:3},{value:".",paraId:37,tocIndex:3},{value:"\u5728\u6DF1\u5EA6\u4F18\u5148\u904D\u5386\u4E2D, \u6BCF\u4E2A",paraId:38,tocIndex:3},{value:"fiber",paraId:38,tocIndex:3},{value:"\u8282\u70B9\u90FD\u4F1A\u7ECF\u5386 2 \u4E2A\u9636\u6BB5:",paraId:38,tocIndex:3},{value:"\u63A2\u5BFB\u9636\u6BB5 ",paraId:39,tocIndex:3},{value:"beginWork",paraId:39,tocIndex:3},{value:"\u56DE\u6EAF\u9636\u6BB5 ",paraId:39,tocIndex:3},{value:"completeWork",paraId:39,tocIndex:3},{value:"\u8FD9 2 \u4E2A\u9636\u6BB5\u5171\u540C\u5B8C\u6210\u4E86\u6BCF\u4E00\u4E2A",paraId:40,tocIndex:3},{value:"fiber",paraId:40,tocIndex:3},{value:"\u8282\u70B9\u7684\u521B\u5EFA, \u6240\u6709",paraId:40,tocIndex:3},{value:"fiber",paraId:40,tocIndex:3},{value:"\u8282\u70B9\u5219\u6784\u6210\u4E86",paraId:40,tocIndex:3},{value:"fiber\u6811",paraId:40,tocIndex:3},{value:".",paraId:40,tocIndex:3},{value:"beginWork(current, unitOfWork, subtreeRenderLanes)",paraId:41,tocIndex:4},{value:"(",paraId:41,tocIndex:4},{value:"\u6E90\u7801\u5730\u5740",paraId:41,tocIndex:4},{value:")\u9488\u5BF9\u6240\u6709\u7684 Fiber \u7C7B\u578B, \u5176\u4E2D\u7684\u6BCF\u4E00\u4E2A case \u5904\u7406\u4E00\u79CD Fiber \u7C7B\u578B. ",paraId:41,tocIndex:4},{value:"updateXXX",paraId:41,tocIndex:4},{value:"\u51FD\u6570(\u5982: ",paraId:41,tocIndex:4},{value:"updateHostRoot",paraId:41,tocIndex:4},{value:", ",paraId:41,tocIndex:4},{value:"updateClassComponent",paraId:41,tocIndex:4},{value:" \u7B49)\u7684\u4E3B\u8981\u903B\u8F91:",paraId:41,tocIndex:4},{value:"\u6839\u636E ",paraId:42,tocIndex:4},{value:"ReactElement",paraId:42,tocIndex:4},{value:"\u5BF9\u8C61\u521B\u5EFA\u6240\u6709\u7684",paraId:42,tocIndex:4},{value:"fiber",paraId:42,tocIndex:4},{value:"\u8282\u70B9, \u6700\u7EC8\u6784\u9020\u51FA",paraId:42,tocIndex:4},{value:"fiber\u6811\u5F62\u7ED3\u6784",paraId:42,tocIndex:4},{value:"(\u8BBE\u7F6E",paraId:42,tocIndex:4},{value:"return",paraId:42,tocIndex:4},{value:"\u548C",paraId:42,tocIndex:4},{value:"sibling",paraId:42,tocIndex:4},{value:"\u6307\u9488)",paraId:42,tocIndex:4},{value:"\u8BBE\u7F6E",paraId:42,tocIndex:4},{value:"fiber.flags",paraId:42,tocIndex:4},{value:"(\u4E8C\u8FDB\u5236\u5F62\u5F0F\u53D8\u91CF, \u7528\u6765\u6807\u8BB0 ",paraId:42,tocIndex:4},{value:"fiber",paraId:42,tocIndex:4},{value:"\u8282\u70B9 \u7684",paraId:42,tocIndex:4},{value:"\u589E,\u5220,\u6539",paraId:42,tocIndex:4},{value:"\u72B6\u6001, \u7B49\u5F85",paraId:42,tocIndex:4},{value:"completeWork\u9636\u6BB5\u5904\u7406",paraId:42,tocIndex:4},{value:")",paraId:42,tocIndex:4},{value:"\u8BBE\u7F6E",paraId:42,tocIndex:4},{value:"fiber.stateNode",paraId:42,tocIndex:4},{value:"\u5C40\u90E8\u72B6\u6001(\u5982",paraId:42,tocIndex:4},{value:"Class\u7C7B\u578B",paraId:42,tocIndex:4},{value:"\u8282\u70B9: ",paraId:42,tocIndex:4},{value:"fiber.stateNode=new Class()",paraId:42,tocIndex:4},{value:")",paraId:42,tocIndex:4},{value:`function beginWork(
  current: Fiber | null,
  workInProgress: Fiber,
  renderLanes: Lanes,
): Fiber | null {
  const updateLanes = workInProgress.lanes;
  if (current !== null) {
    // update\u903B\u8F91, \u9996\u6B21render\u4E0D\u4F1A\u8FDB\u5165
  } else {
    didReceiveUpdate = false;
  }
  // 1. \u8BBE\u7F6EworkInProgress\u4F18\u5148\u7EA7\u4E3ANoLanes(\u6700\u9AD8\u4F18\u5148\u7EA7)
  workInProgress.lanes = NoLanes;
  // 2. \u6839\u636EworkInProgress\u8282\u70B9\u7684\u7C7B\u578B, \u7528\u4E0D\u540C\u7684\u65B9\u6CD5\u6D3E\u751F\u51FA\u5B50\u8282\u70B9
  switch (
    workInProgress.tag // \u53EA\u4FDD\u7559\u4E86\u672C\u4F8B\u4F7F\u7528\u5230\u7684case
  ) {
    case ClassComponent: {
      const Component = workInProgress.type;
      const unresolvedProps = workInProgress.pendingProps;
      const resolvedProps =
        workInProgress.elementType === Component
          ? unresolvedProps
          : resolveDefaultProps(Component, unresolvedProps);
      return updateClassComponent(
        current,
        workInProgress,
        Component,
        resolvedProps,
        renderLanes,
      );
    }
    case HostRoot:
      return updateHostRoot(current, workInProgress, renderLanes);
    case HostComponent:
      return updateHostComponent(current, workInProgress, renderLanes);
    case HostText:
      return updateHostText(current, workInProgress);
    case Fragment:
      return updateFragment(current, workInProgress, renderLanes);
  }
}
`,paraId:43,tocIndex:4},{value:"updateXXX",paraId:44,tocIndex:4},{value:"\u51FD\u6570(\u5982: updateHostRoot, updateClassComponent \u7B49)\u867D\u7136 case \u8F83\u591A, \u4F46\u662F\u4E3B\u8981\u903B\u8F91\u53EF\u4EE5\u6982\u62EC\u4E3A 3 \u4E2A\u6B65\u9AA4:",paraId:44,tocIndex:4},{value:"\u6839\u636E",paraId:45,tocIndex:4},{value:"fiber.pendingProps, fiber.updateQueue",paraId:45,tocIndex:4},{value:"\u7B49",paraId:45,tocIndex:4},{value:"\u8F93\u5165\u6570\u636E",paraId:45,tocIndex:4},{value:"\u72B6\u6001, \u8BA1\u7B97",paraId:45,tocIndex:4},{value:"fiber.memoizedState",paraId:45,tocIndex:4},{value:"\u4F5C\u4E3A",paraId:45,tocIndex:4},{value:"\u8F93\u51FA\u72B6\u6001",paraId:45,tocIndex:4},{value:"\u83B7\u53D6\u4E0B\u7EA7",paraId:45,tocIndex:4},{value:"ReactElement",paraId:45,tocIndex:4},{value:`\u5BF9\u8C61
`,paraId:45,tocIndex:4},{value:"class \u7C7B\u578B\u7684 ",paraId:46,tocIndex:4},{value:"fiber",paraId:46,tocIndex:4},{value:` \u8282\u70B9
`,paraId:46,tocIndex:4},{value:"\u6784\u5EFA",paraId:47,tocIndex:4},{value:"React.Component",paraId:47,tocIndex:4},{value:"\u5B9E\u4F8B",paraId:47,tocIndex:4},{value:"\u628A\u65B0\u5B9E\u4F8B\u6302\u8F7D\u5230",paraId:47,tocIndex:4},{value:"fiber.stateNode",paraId:47,tocIndex:4},{value:"\u4E0A",paraId:47,tocIndex:4},{value:"\u6267\u884C",paraId:47,tocIndex:4},{value:"render",paraId:47,tocIndex:4},{value:"\u4E4B\u524D\u7684\u751F\u547D\u5468\u671F\u51FD\u6570",paraId:47,tocIndex:4},{value:"\u6267\u884C",paraId:47,tocIndex:4},{value:"render",paraId:47,tocIndex:4},{value:"\u65B9\u6CD5, \u83B7\u53D6\u4E0B\u7EA7",paraId:47,tocIndex:4},{value:"reactElement",paraId:47,tocIndex:4},{value:"\u6839\u636E\u5B9E\u9645\u60C5\u51B5, \u8BBE\u7F6E",paraId:47,tocIndex:4},{value:"fiber.flags",paraId:47,tocIndex:4},{value:"function \u7C7B\u578B\u7684 ",paraId:46,tocIndex:4},{value:"fiber",paraId:46,tocIndex:4},{value:` \u8282\u70B9
`,paraId:46,tocIndex:4},{value:"\u6267\u884C function, \u83B7\u53D6\u4E0B\u7EA7",paraId:48,tocIndex:4},{value:"reactElement",paraId:48,tocIndex:4},{value:"\u6839\u636E\u5B9E\u9645\u60C5\u51B5, \u8BBE\u7F6E",paraId:48,tocIndex:4},{value:"fiber.flags",paraId:48,tocIndex:4},{value:"HostComponent \u7C7B\u578B(\u5982: ",paraId:46,tocIndex:4},{value:"div, span, button",paraId:46,tocIndex:4},{value:" \u7B49)\u7684 ",paraId:46,tocIndex:4},{value:"fiber",paraId:46,tocIndex:4},{value:` \u8282\u70B9
`,paraId:46,tocIndex:4},{value:"pendingProps.children",paraId:49,tocIndex:4},{value:"\u4F5C\u4E3A\u4E0B\u7EA7",paraId:49,tocIndex:4},{value:"reactElement",paraId:49,tocIndex:4},{value:"\u5982\u679C\u4E0B\u7EA7\u8282\u70B9\u662F\u6587\u672C\u8282\u70B9,\u5219\u8BBE\u7F6E\u4E0B\u7EA7\u8282\u70B9\u4E3A null. \u51C6\u5907\u8FDB\u5165",paraId:49,tocIndex:4},{value:"completeUnitOfWork",paraId:49,tocIndex:4},{value:"\u9636\u6BB5",paraId:49,tocIndex:4},{value:"\u6839\u636E\u5B9E\u9645\u60C5\u51B5, \u8BBE\u7F6E",paraId:49,tocIndex:4},{value:"fiber.flags",paraId:49,tocIndex:4},{value:"\u5176\u4ED6\u7C7B\u578B...",paraId:46,tocIndex:4},{value:"\u6839\u636E",paraId:45,tocIndex:4},{value:"ReactElement",paraId:45,tocIndex:4},{value:"\u5BF9\u8C61, \u8C03\u7528",paraId:45,tocIndex:4},{value:"reconcileChildren",paraId:45,tocIndex:4},{value:"\u751F\u6210",paraId:45,tocIndex:4},{value:"Fiber",paraId:45,tocIndex:4},{value:"\u5B50\u8282\u70B9(\u53EA\u751F\u6210",paraId:45,tocIndex:4},{value:"\u6B21\u7EA7\u5B50\u8282\u70B9",paraId:45,tocIndex:4},{value:`)
`,paraId:45,tocIndex:4},{value:"\u6839\u636E\u5B9E\u9645\u60C5\u51B5, \u8BBE\u7F6E",paraId:50,tocIndex:4},{value:"fiber.flags",paraId:50,tocIndex:4},{value:"\u4E0D\u540C\u7684",paraId:51,tocIndex:4},{value:"updateXXX",paraId:51,tocIndex:4},{value:"\u51FD\u6570\u5904\u7406\u7684",paraId:51,tocIndex:4},{value:"fiber",paraId:51,tocIndex:4},{value:"\u8282\u70B9\u7C7B\u578B\u4E0D\u540C, \u603B\u7684\u76EE\u7684\u662F\u4E3A\u4E86\u5411\u4E0B\u751F\u6210\u5B50\u8282\u70B9. \u5728\u8FD9\u4E2A\u8FC7\u7A0B\u4E2D\u628A\u4E00\u4E9B\u9700\u8981\u6301\u4E45\u5316\u7684\u6570\u636E\u6302\u8F7D\u5230",paraId:51,tocIndex:4},{value:"fiber",paraId:51,tocIndex:4},{value:"\u8282\u70B9\u4E0A(\u5982",paraId:51,tocIndex:4},{value:"fiber.stateNode",paraId:51,tocIndex:4},{value:",",paraId:51,tocIndex:4},{value:"fiber.memoizedState",paraId:51,tocIndex:4},{value:"\u7B49); \u628A",paraId:51,tocIndex:4},{value:"fiber",paraId:51,tocIndex:4},{value:"\u8282\u70B9\u7684\u7279\u6B8A\u64CD\u4F5C\u8BBE\u7F6E\u5230",paraId:51,tocIndex:4},{value:"fiber.flags",paraId:51,tocIndex:4},{value:"(\u5982:",paraId:51,tocIndex:4},{value:"\u8282\u70B9ref",paraId:51,tocIndex:4},{value:",",paraId:51,tocIndex:4},{value:"class\u7EC4\u4EF6\u7684\u751F\u547D\u5468\u671F",paraId:51,tocIndex:4},{value:",",paraId:51,tocIndex:4},{value:"function\u7EC4\u4EF6\u7684hook",paraId:51,tocIndex:4},{value:",",paraId:51,tocIndex:4},{value:"\u8282\u70B9\u5220\u9664",paraId:51,tocIndex:4},{value:"\u7B49).",paraId:51,tocIndex:4},{value:"\u8FD9\u91CC\u5217\u51FA",paraId:52,tocIndex:4},{value:"updateHostRoot",paraId:52,tocIndex:4},{value:", ",paraId:52,tocIndex:4},{value:"updateHostComponent",paraId:52,tocIndex:4},{value:"\u7684\u4EE3\u7801, \u5BF9\u4E8E\u5176\u4ED6\u5E38\u7528 case \u7684\u5206\u6790(\u5982",paraId:52,tocIndex:4},{value:"class",paraId:52,tocIndex:4},{value:"\u7C7B\u578B, ",paraId:52,tocIndex:4},{value:"function",paraId:52,tocIndex:4},{value:"\u7C7B\u578B), \u5728",paraId:52,tocIndex:4},{value:"\u72B6\u6001\u7EC4\u4EF6",paraId:52,tocIndex:4},{value:"\u7AE0\u8282\u4E2D\u8FDB\u884C\u63A2\u8BA8.",paraId:52,tocIndex:4},{value:"fiber\u6811",paraId:53,tocIndex:4},{value:"\u7684\u6839\u8282\u70B9\u662F",paraId:53,tocIndex:4},{value:"HostRootFiber",paraId:53,tocIndex:4},{value:"\u8282\u70B9, \u6240\u4EE5\u7B2C\u4E00\u6B21\u8FDB\u5165",paraId:53,tocIndex:4},{value:"beginWork",paraId:53,tocIndex:4},{value:"\u4F1A\u8C03\u7528",paraId:53,tocIndex:4},{value:"updateHostRoot(current, workInProgress, renderLanes)",paraId:53,tocIndex:4},{value:`// \u7701\u7565\u4E0E\u672C\u8282\u65E0\u5173\u4EE3\u7801
function updateHostRoot(current, workInProgress, renderLanes) {
  // 1. \u72B6\u6001\u8BA1\u7B97, \u66F4\u65B0\u6574\u5408\u5230 workInProgress.memoizedState\u4E2D\u6765
  const updateQueue = workInProgress.updateQueue;
  const nextProps = workInProgress.pendingProps;
  const prevState = workInProgress.memoizedState;
  const prevChildren = prevState !== null ? prevState.element : null;
  cloneUpdateQueue(current, workInProgress);
  // \u904D\u5386updateQueue.shared.pending, \u63D0\u53D6\u6709\u8DB3\u591F\u4F18\u5148\u7EA7\u7684update\u5BF9\u8C61, \u8BA1\u7B97\u51FA\u6700\u7EC8\u7684\u72B6\u6001 workInProgress.memoizedState
  processUpdateQueue(workInProgress, nextProps, null, renderLanes);
  const nextState = workInProgress.memoizedState;
  // 2. \u83B7\u53D6\u4E0B\u7EA7\`ReactElement\`\u5BF9\u8C61
  const nextChildren = nextState.element;
  const root: FiberRoot = workInProgress.stateNode;
  if (root.hydrate && enterHydrationState(workInProgress)) {
    // ...\u670D\u52A1\u7AEF\u6E32\u67D3\u76F8\u5173, \u6B64\u5904\u7701\u7565
  } else {
    // 3. \u6839\u636E\`ReactElement\`\u5BF9\u8C61, \u8C03\u7528\`reconcileChildren\`\u751F\u6210\`Fiber\`\u5B50\u8282\u70B9(\u53EA\u751F\u6210\`\u6B21\u7EA7\u5B50\u8282\u70B9\`)
    reconcileChildren(current, workInProgress, nextChildren, renderLanes);
  }
  return workInProgress.child;
}
`,paraId:54,tocIndex:4},{value:"\u666E\u901A DOM \u6807\u7B7E\u7C7B\u578B\u7684\u8282\u70B9(\u5982",paraId:55,tocIndex:4},{value:"div",paraId:55,tocIndex:4},{value:",",paraId:55,tocIndex:4},{value:"span",paraId:55,tocIndex:4},{value:",",paraId:55,tocIndex:4},{value:"p",paraId:55,tocIndex:4},{value:"),\u4F1A\u8FDB\u5165",paraId:55,tocIndex:4},{value:"updateHostComponent",paraId:55,tocIndex:4},{value:":",paraId:55,tocIndex:4},{value:`// ...\u7701\u7565\u90E8\u5206\u65E0\u5173\u4EE3\u7801
function updateHostComponent(
  current: Fiber | null,
  workInProgress: Fiber,
  renderLanes: Lanes,
) {
  // 1. \u72B6\u6001\u8BA1\u7B97, \u7531\u4E8EHostComponent\u662F\u65E0\u72B6\u6001\u7EC4\u4EF6, \u6240\u4EE5\u53EA\u9700\u8981\u6536\u96C6 nextProps\u5373\u53EF, \u5B83\u6CA1\u6709 memoizedState
  const type = workInProgress.type;
  const nextProps = workInProgress.pendingProps;
  const prevProps = current !== null ? current.memoizedProps : null;
  // 2. \u83B7\u53D6\u4E0B\u7EA7\`ReactElement\`\u5BF9\u8C61
  let nextChildren = nextProps.children;
  const isDirectTextChild = shouldSetTextContent(type, nextProps);

  if (isDirectTextChild) {
    // \u5982\u679C\u5B50\u8282\u70B9\u53EA\u6709\u4E00\u4E2A\u6587\u672C\u8282\u70B9, \u4E0D\u7528\u518D\u521B\u5EFA\u4E00\u4E2AHostText\u7C7B\u578B\u7684fiber
    nextChildren = null;
  } else if (prevProps !== null && shouldSetTextContent(type, prevProps)) {
    // \u7279\u6B8A\u64CD\u4F5C\u9700\u8981\u8BBE\u7F6Efiber.flags
    workInProgress.flags |= ContentReset;
  }
  // \u7279\u6B8A\u64CD\u4F5C\u9700\u8981\u8BBE\u7F6Efiber.flags
  markRef(current, workInProgress);
  // 3. \u6839\u636E\`ReactElement\`\u5BF9\u8C61, \u8C03\u7528\`reconcileChildren\`\u751F\u6210\`Fiber\`\u5B50\u8282\u70B9(\u53EA\u751F\u6210\`\u6B21\u7EA7\u5B50\u8282\u70B9\`)
  reconcileChildren(current, workInProgress, nextChildren, renderLanes);
  return workInProgress.child;
}
`,paraId:56,tocIndex:4},{value:"completeUnitOfWork(unitOfWork)",paraId:57,tocIndex:5},{value:"(",paraId:57,tocIndex:5},{value:"\u6E90\u7801\u5730\u5740",paraId:57,tocIndex:5},{value:"), \u5904\u7406 ",paraId:57,tocIndex:5},{value:"beginWork",paraId:57,tocIndex:5},{value:" \u9636\u6BB5\u5DF2\u7ECF\u521B\u5EFA\u51FA\u6765\u7684 ",paraId:57,tocIndex:5},{value:"fiber",paraId:57,tocIndex:5},{value:" \u8282\u70B9, \u6838\u5FC3\u903B\u8F91:",paraId:57,tocIndex:5},{value:"\u8C03\u7528",paraId:58,tocIndex:5},{value:"completeWork",paraId:58,tocIndex:5},{value:"\u7ED9",paraId:59,tocIndex:5},{value:"fiber",paraId:59,tocIndex:5},{value:"\u8282\u70B9(tag=HostComponent, HostText)\u521B\u5EFA DOM \u5B9E\u4F8B, \u8BBE\u7F6E",paraId:59,tocIndex:5},{value:"fiber.stateNode",paraId:59,tocIndex:5},{value:"\u5C40\u90E8\u72B6\u6001(\u5982",paraId:59,tocIndex:5},{value:"tag=HostComponent, HostText",paraId:59,tocIndex:5},{value:"\u8282\u70B9: fiber.stateNode \u6307\u5411\u8FD9\u4E2A DOM \u5B9E\u4F8B).",paraId:59,tocIndex:5},{value:"\u4E3A DOM \u8282\u70B9\u8BBE\u7F6E\u5C5E\u6027, \u7ED1\u5B9A\u4E8B\u4EF6(\u8FD9\u91CC\u5148\u8BF4\u660E\u6709\u8FD9\u4E2A\u6B65\u9AA4, \u8BE6\u7EC6\u7684\u4E8B\u4EF6\u5904\u7406\u6D41\u7A0B, \u5728",paraId:59,tocIndex:5},{value:"\u5408\u6210\u4E8B\u4EF6\u539F\u7406",paraId:59,tocIndex:5},{value:"\u4E2D\u8BE6\u7EC6\u8BF4\u660E).",paraId:59,tocIndex:5},{value:"\u8BBE\u7F6E",paraId:59,tocIndex:5},{value:"fiber.flags",paraId:59,tocIndex:5},{value:"\u6807\u8BB0",paraId:59,tocIndex:5},{value:"\u628A\u5F53\u524D ",paraId:58,tocIndex:5},{value:"fiber",paraId:58,tocIndex:5},{value:" \u5BF9\u8C61\u7684\u526F\u4F5C\u7528\u961F\u5217(",paraId:58,tocIndex:5},{value:"firstEffect",paraId:58,tocIndex:5},{value:"\u548C",paraId:58,tocIndex:5},{value:"lastEffect",paraId:58,tocIndex:5},{value:")\u6DFB\u52A0\u5230\u7236\u8282\u70B9\u7684\u526F\u4F5C\u7528\u961F\u5217\u4E4B\u540E, \u66F4\u65B0\u7236\u8282\u70B9\u7684",paraId:58,tocIndex:5},{value:"firstEffect",paraId:58,tocIndex:5},{value:"\u548C",paraId:58,tocIndex:5},{value:"lastEffect",paraId:58,tocIndex:5},{value:"\u6307\u9488.",paraId:58,tocIndex:5},{value:"\u8BC6\u522B",paraId:58,tocIndex:5},{value:"beginWork",paraId:58,tocIndex:5},{value:"\u9636\u6BB5\u8BBE\u7F6E\u7684",paraId:58,tocIndex:5},{value:"fiber.flags",paraId:58,tocIndex:5},{value:", \u5224\u65AD\u5F53\u524D ",paraId:58,tocIndex:5},{value:"fiber",paraId:58,tocIndex:5},{value:" \u662F\u5426\u6709\u526F\u4F5C\u7528(\u589E,\u5220,\u6539), \u5982\u679C\u6709, \u9700\u8981\u5C06\u5F53\u524D ",paraId:58,tocIndex:5},{value:"fiber",paraId:58,tocIndex:5},{value:" \u52A0\u5165\u5230\u7236\u8282\u70B9\u7684",paraId:58,tocIndex:5},{value:"effects",paraId:58,tocIndex:5},{value:"\u961F\u5217, \u7B49\u5F85",paraId:58,tocIndex:5},{value:"commit",paraId:58,tocIndex:5},{value:"\u9636\u6BB5\u5904\u7406.",paraId:58,tocIndex:5},{value:`function completeUnitOfWork(unitOfWork: Fiber): void {
  let completedWork = unitOfWork;
  // \u5916\u5C42\u5FAA\u73AF\u63A7\u5236\u5E76\u79FB\u52A8\u6307\u9488(\`workInProgress\`,\`completedWork\`\u7B49)
  do {
    const current = completedWork.alternate;
    const returnFiber = completedWork.return;
    if ((completedWork.flags & Incomplete) === NoFlags) {
      let next;
      // 1. \u5904\u7406Fiber\u8282\u70B9, \u4F1A\u8C03\u7528\u6E32\u67D3\u5668(\u8C03\u7528react-dom\u5305, \u5173\u8054Fiber\u8282\u70B9\u548Cdom\u5BF9\u8C61, \u7ED1\u5B9A\u4E8B\u4EF6\u7B49)
      next = completeWork(current, completedWork, subtreeRenderLanes); // \u5904\u7406\u5355\u4E2A\u8282\u70B9
      if (next !== null) {
        // \u5982\u679C\u6D3E\u751F\u51FA\u5176\u4ED6\u7684\u5B50\u8282\u70B9, \u5219\u56DE\u5230\`beginWork\`\u9636\u6BB5\u8FDB\u884C\u5904\u7406
        workInProgress = next;
        return;
      }
      // \u91CD\u7F6E\u5B50\u8282\u70B9\u7684\u4F18\u5148\u7EA7
      resetChildLanes(completedWork);
      if (
        returnFiber !== null &&
        (returnFiber.flags & Incomplete) === NoFlags
      ) {
        // 2. \u6536\u96C6\u5F53\u524DFiber\u8282\u70B9\u4EE5\u53CA\u5176\u5B50\u6811\u7684\u526F\u4F5C\u7528effects
        // 2.1 \u628A\u5B50\u8282\u70B9\u7684\u526F\u4F5C\u7528\u961F\u5217\u6DFB\u52A0\u5230\u7236\u8282\u70B9\u4E0A
        if (returnFiber.firstEffect === null) {
          returnFiber.firstEffect = completedWork.firstEffect;
        }
        if (completedWork.lastEffect !== null) {
          if (returnFiber.lastEffect !== null) {
            returnFiber.lastEffect.nextEffect = completedWork.firstEffect;
          }
          returnFiber.lastEffect = completedWork.lastEffect;
        }
        // 2.2 \u5982\u679C\u5F53\u524Dfiber\u8282\u70B9\u6709\u526F\u4F5C\u7528, \u5C06\u5176\u6DFB\u52A0\u5230\u5B50\u8282\u70B9\u7684\u526F\u4F5C\u7528\u961F\u5217\u4E4B\u540E.
        const flags = completedWork.flags;
        if (flags > PerformedWork) {
          // PerformedWork\u662F\u63D0\u4F9B\u7ED9 React DevTools\u8BFB\u53D6\u7684, \u6240\u4EE5\u7565\u8FC7PerformedWork
          if (returnFiber.lastEffect !== null) {
            returnFiber.lastEffect.nextEffect = completedWork;
          } else {
            returnFiber.firstEffect = completedWork;
          }
          returnFiber.lastEffect = completedWork;
        }
      }
    } else {
      // \u5F02\u5E38\u5904\u7406, \u672C\u8282\u4E0D\u8BA8\u8BBA
    }

    const siblingFiber = completedWork.sibling;
    if (siblingFiber !== null) {
      // \u5982\u679C\u6709\u5144\u5F1F\u8282\u70B9, \u8FD4\u56DE\u4E4B\u540E\u518D\u6B21\u8FDB\u5165\`beginWork\`\u9636\u6BB5
      workInProgress = siblingFiber;
      return;
    }
    // \u79FB\u52A8\u6307\u9488, \u6307\u5411\u4E0B\u4E00\u4E2A\u8282\u70B9
    completedWork = returnFiber;
    workInProgress = completedWork;
  } while (completedWork !== null);
  // \u5DF2\u56DE\u6EAF\u5230\u6839\u8282\u70B9, \u8BBE\u7F6EworkInProgressRootExitStatus = RootCompleted
  if (workInProgressRootExitStatus === RootIncomplete) {
    workInProgressRootExitStatus = RootCompleted;
  }
}
`,paraId:60,tocIndex:5},{value:"\u63A5\u4E0B\u6765\u5206\u6790",paraId:61,tocIndex:5},{value:"fiber",paraId:61,tocIndex:5},{value:"\u5904\u7406\u51FD\u6570",paraId:61,tocIndex:5},{value:"completeWork",paraId:61,tocIndex:5},{value:`function completeWork(
  current: Fiber | null,
  workInProgress: Fiber,
  renderLanes: Lanes,
): Fiber | null {
  const newProps = workInProgress.pendingProps;
  switch (workInProgress.tag) {
    case ClassComponent: {
      // Class\u7C7B\u578B\u4E0D\u505A\u5904\u7406
      return null;
    }
    case HostRoot: {
      const fiberRoot = (workInProgress.stateNode: FiberRoot);
      if (fiberRoot.pendingContext) {
        fiberRoot.context = fiberRoot.pendingContext;
        fiberRoot.pendingContext = null;
      }
      if (current === null || current.child === null) {
         // \u8BBE\u7F6Efiber.flags\u6807\u8BB0
         workInProgress.flags |= Snapshot;
      }
      return null;
    }
    case HostComponent: {
      popHostContext(workInProgress);
      const rootContainerInstance = getRootHostContainer();
      const type = workInProgress.type;
      if (current !== null && workInProgress.stateNode != null) {
        // update\u903B\u8F91, \u521D\u6B21render\u4E0D\u4F1A\u8FDB\u5165
      } else {
        const currentHostContext = getHostContext();
        // 1. \u521B\u5EFADOM\u5BF9\u8C61
        const instance = createInstance(
          type,
          newProps,
          rootContainerInstance,
          currentHostContext,
          workInProgress,
        );
        // 2. \u628A\u5B50\u6811\u4E2D\u7684DOM\u5BF9\u8C61append\u5230\u672C\u8282\u70B9\u7684DOM\u5BF9\u8C61\u4E4B\u540E
        appendAllChildren(instance, workInProgress, false, false);
        // \u8BBE\u7F6EstateNode\u5C5E\u6027, \u6307\u5411DOM\u5BF9\u8C61
        workInProgress.stateNode = instance;
        if (
          // 3. \u8BBE\u7F6EDOM\u5BF9\u8C61\u7684\u5C5E\u6027, \u7ED1\u5B9A\u4E8B\u4EF6\u7B49
          finalizeInitialChildren(
            instance,
            type,
            newProps,
            rootContainerInstance,
            currentHostContext,
          )
        ) {
          // \u8BBE\u7F6Efiber.flags\u6807\u8BB0(Update)
          markUpdate(workInProgress);
        }
        if (workInProgress.ref !== null) {
          // \u8BBE\u7F6Efiber.flags\u6807\u8BB0(Ref)
          markRef(workInProgress);
        }
        return null;
    }
  }
}
`,paraId:62,tocIndex:5},{value:"\u53EF\u4EE5\u770B\u5230\u5728\u6EE1\u8DB3\u6761\u4EF6\u7684\u65F6\u5019\u4E5F\u4F1A\u8BBE\u7F6E",paraId:63,tocIndex:5},{value:"fiber.flags",paraId:63,tocIndex:5},{value:", \u6240\u4EE5\u8BBE\u7F6E",paraId:63,tocIndex:5},{value:"fiber.flags",paraId:63,tocIndex:5},{value:"\u5E76\u975E\u53EA\u5728",paraId:63,tocIndex:5},{value:"beginWork",paraId:63,tocIndex:5},{value:"\u9636\u6BB5.",paraId:63,tocIndex:5},{value:"\u9488\u5BF9\u672C\u8282\u7684\u793A\u4F8B\u4EE3\u7801, \u5C06\u6574\u4E2A",paraId:64,tocIndex:6},{value:"fiber",paraId:64,tocIndex:6},{value:"\u6811\u6784\u9020\u8FC7\u7A0B\u8868\u793A\u51FA\u6765:",paraId:64,tocIndex:6},{value:"\u6784\u9020\u524D:",paraId:65,tocIndex:6},{value:"\u5728\u4E0A\u6587\u5DF2\u7ECF\u8BF4\u660E, \u8FDB\u5165\u5FAA\u73AF\u6784\u9020\u524D\u4F1A\u8C03\u7528",paraId:66,tocIndex:6},{value:"prepareFreshStack",paraId:66,tocIndex:6},{value:"\u5237\u65B0\u6808\u5E27, \u5728\u8FDB\u5165",paraId:66,tocIndex:6},{value:"fiber\u6811\u6784\u9020",paraId:66,tocIndex:6},{value:"\u5FAA\u73AF\u4E4B\u524D, \u4FDD\u6301\u8FD9\u8FD9\u4E2A\u521D\u59CB\u5316\u72B6\u6001:",paraId:66,tocIndex:6},{value:"performUnitOfWork",paraId:67,tocIndex:6},{value:"\u7B2C 1 \u6B21\u8C03\u7528(\u53EA\u6267\u884C",paraId:67,tocIndex:6},{value:"beginWork",paraId:67,tocIndex:6},{value:"):",paraId:67,tocIndex:6},{value:"\u6267\u884C\u524D: ",paraId:68,tocIndex:6},{value:"workInProgress",paraId:68,tocIndex:6},{value:"\u6307\u9488\u6307\u5411",paraId:68,tocIndex:6},{value:"HostRootFiber.alternate",paraId:68,tocIndex:6},{value:"\u5BF9\u8C61, \u6B64\u65F6",paraId:68,tocIndex:6},{value:"current = workInProgress.alternate",paraId:68,tocIndex:6},{value:"\u6307\u5411",paraId:68,tocIndex:6},{value:"fiberRoot.current",paraId:68,tocIndex:6},{value:"\u662F\u975E\u7A7A\u7684(\u521D\u6B21\u6784\u9020, \u53EA\u5728\u6839\u8282\u70B9\u65F6, ",paraId:68,tocIndex:6},{value:"current",paraId:68,tocIndex:6},{value:"\u975E\u7A7A).",paraId:68,tocIndex:6},{value:"\u6267\u884C\u8FC7\u7A0B: \u8C03\u7528",paraId:68,tocIndex:6},{value:"updateHostRoot",paraId:68,tocIndex:6},{value:"\u5728",paraId:69,tocIndex:6},{value:"reconcileChildren",paraId:69,tocIndex:6},{value:"\u9636\u6BB5, \u5411\u4E0B\u6784\u9020",paraId:69,tocIndex:6},{value:"\u6B21\u7EA7\u5B50\u8282\u70B9fiber(<App/>)",paraId:69,tocIndex:6},{value:", \u540C\u65F6\u8BBE\u7F6E\u5B50\u8282\u70B9(",paraId:69,tocIndex:6},{value:"fiber(<App/>)",paraId:69,tocIndex:6},{value:")",paraId:69,tocIndex:6},{value:"fiber.flags |= Placement",paraId:69,tocIndex:6},{value:"\u6267\u884C\u540E: \u8FD4\u56DE\u4E0B\u7EA7\u8282\u70B9",paraId:68,tocIndex:6},{value:"fiber(<App/>)",paraId:68,tocIndex:6},{value:", \u79FB\u52A8",paraId:68,tocIndex:6},{value:"workInProgress",paraId:68,tocIndex:6},{value:"\u6307\u9488\u6307\u5411\u5B50\u8282\u70B9",paraId:68,tocIndex:6},{value:"fiber(<App/>)",paraId:68,tocIndex:6},{value:"performUnitOfWork",paraId:70,tocIndex:6},{value:"\u7B2C 2 \u6B21\u8C03\u7528(\u53EA\u6267\u884C",paraId:70,tocIndex:6},{value:"beginWork",paraId:70,tocIndex:6},{value:"):",paraId:70,tocIndex:6},{value:"\u6267\u884C\u524D: ",paraId:71,tocIndex:6},{value:"workInProgress",paraId:71,tocIndex:6},{value:"\u6307\u9488\u6307\u5411",paraId:71,tocIndex:6},{value:"fiber(<App/>)",paraId:71,tocIndex:6},{value:"\u8282\u70B9, \u6B64\u65F6",paraId:71,tocIndex:6},{value:"current = null",paraId:71,tocIndex:6},{value:"\u6267\u884C\u8FC7\u7A0B: \u8C03\u7528",paraId:71,tocIndex:6},{value:"updateClassComponent",paraId:71,tocIndex:6},{value:"\u672C\u793A\u4F8B\u4E2D, class \u5B9E\u4F8B\u5B58\u5728\u751F\u547D\u5468\u671F\u51FD\u6570",paraId:72,tocIndex:6},{value:"componentDidMount",paraId:72,tocIndex:6},{value:", \u6240\u4EE5\u4F1A\u8BBE\u7F6E",paraId:72,tocIndex:6},{value:"fiber(<App/>)",paraId:72,tocIndex:6},{value:"\u8282\u70B9",paraId:72,tocIndex:6},{value:"workInProgress.flags |= Update",paraId:72,tocIndex:6},{value:"\u53E6\u5916\u4E5F\u4F1A\u4E3A\u4E86",paraId:72,tocIndex:6},{value:"React DevTools",paraId:72,tocIndex:6},{value:"\u80FD\u591F\u8BC6\u522B\u72B6\u6001\u7EC4\u4EF6\u7684\u6267\u884C\u8FDB\u5EA6, \u4F1A\u8BBE\u7F6E",paraId:72,tocIndex:6},{value:"workInProgress.flags |= PerformedWork",paraId:72,tocIndex:6},{value:"(\u5728",paraId:72,tocIndex:6},{value:"commit",paraId:72,tocIndex:6},{value:"\u9636\u6BB5\u4F1A\u6392\u9664\u8FD9\u4E2A",paraId:72,tocIndex:6},{value:"flag",paraId:72,tocIndex:6},{value:", \u6B64\u5904\u53EA\u662F\u5217\u51FA",paraId:72,tocIndex:6},{value:"workInProgress.flags",paraId:72,tocIndex:6},{value:"\u7684\u8BBE\u7F6E\u573A\u666F, \u4E0D\u8BA8\u8BBA",paraId:72,tocIndex:6},{value:"React DevTools",paraId:72,tocIndex:6},{value:")",paraId:72,tocIndex:6},{value:"\u9700\u8981\u6CE8\u610F",paraId:72,tocIndex:6},{value:"classInstance.render()",paraId:72,tocIndex:6},{value:"\u5728\u672C\u6B65\u9AA4\u6267\u884C\u540E, \u867D\u7136\u8FD4\u56DE\u4E86",paraId:72,tocIndex:6},{value:"render",paraId:72,tocIndex:6},{value:"\u65B9\u6CD5\u4E2D\u6240\u6709\u7684",paraId:72,tocIndex:6},{value:"ReactElement",paraId:72,tocIndex:6},{value:"\u5BF9\u8C61, \u4F46\u662F\u968F\u540E",paraId:72,tocIndex:6},{value:"reconcileChildren",paraId:72,tocIndex:6},{value:"\u53EA\u6784\u9020",paraId:72,tocIndex:6},{value:"\u6B21\u7EA7\u5B50\u8282\u70B9",paraId:72,tocIndex:6},{value:"\u5728",paraId:72,tocIndex:6},{value:"reconcileChildren",paraId:72,tocIndex:6},{value:"\u9636\u6BB5, \u5411\u4E0B\u6784\u9020",paraId:72,tocIndex:6},{value:"\u6B21\u7EA7\u5B50\u8282\u70B9div",paraId:72,tocIndex:6},{value:"\u6267\u884C\u540E: \u8FD4\u56DE\u4E0B\u7EA7\u8282\u70B9",paraId:71,tocIndex:6},{value:"fiber(div)",paraId:71,tocIndex:6},{value:", \u79FB\u52A8",paraId:71,tocIndex:6},{value:"workInProgress",paraId:71,tocIndex:6},{value:"\u6307\u9488\u6307\u5411\u5B50\u8282\u70B9",paraId:71,tocIndex:6},{value:"fiber(div)",paraId:71,tocIndex:6},{value:"performUnitOfWork",paraId:73,tocIndex:6},{value:"\u7B2C 3 \u6B21\u8C03\u7528(\u53EA\u6267\u884C",paraId:73,tocIndex:6},{value:"beginWork",paraId:73,tocIndex:6},{value:"):",paraId:73,tocIndex:6},{value:"\u6267\u884C\u524D: ",paraId:74,tocIndex:6},{value:"workInProgress",paraId:74,tocIndex:6},{value:"\u6307\u9488\u6307\u5411",paraId:74,tocIndex:6},{value:"fiber(div)",paraId:74,tocIndex:6},{value:"\u8282\u70B9, \u6B64\u65F6",paraId:74,tocIndex:6},{value:"current = null",paraId:74,tocIndex:6},{value:"\u6267\u884C\u8FC7\u7A0B: \u8C03\u7528",paraId:74,tocIndex:6},{value:"updateHostComponent",paraId:74,tocIndex:6},{value:"\u5728",paraId:75,tocIndex:6},{value:"reconcileChildren",paraId:75,tocIndex:6},{value:"\u9636\u6BB5, \u5411\u4E0B\u6784\u9020",paraId:75,tocIndex:6},{value:"\u6B21\u7EA7\u5B50\u8282\u70B9",paraId:75,tocIndex:6},{value:"(\u672C\u793A\u4F8B\u4E2D, ",paraId:75,tocIndex:6},{value:"div",paraId:75,tocIndex:6},{value:"\u6709 2 \u4E2A\u6B21\u7EA7\u5B50\u8282\u70B9)",paraId:75,tocIndex:6},{value:"\u6267\u884C\u540E: \u8FD4\u56DE\u4E0B\u7EA7\u8282\u70B9",paraId:74,tocIndex:6},{value:"fiber(header)",paraId:74,tocIndex:6},{value:", \u79FB\u52A8",paraId:74,tocIndex:6},{value:"workInProgress",paraId:74,tocIndex:6},{value:"\u6307\u9488\u6307\u5411\u5B50\u8282\u70B9",paraId:74,tocIndex:6},{value:"fiber(header)",paraId:74,tocIndex:6},{value:"performUnitOfWork",paraId:76,tocIndex:6},{value:"\u7B2C 4 \u6B21\u8C03\u7528(\u6267\u884C",paraId:76,tocIndex:6},{value:"beginWork",paraId:76,tocIndex:6},{value:"\u548C",paraId:76,tocIndex:6},{value:"completeUnitOfWork",paraId:76,tocIndex:6},{value:"):",paraId:76,tocIndex:6},{value:"beginWork",paraId:77,tocIndex:6},{value:"\u6267\u884C\u524D: ",paraId:77,tocIndex:6},{value:"workInProgress",paraId:77,tocIndex:6},{value:"\u6307\u9488\u6307\u5411",paraId:77,tocIndex:6},{value:"fiber(header)",paraId:77,tocIndex:6},{value:"\u8282\u70B9, \u6B64\u65F6",paraId:77,tocIndex:6},{value:"current = null",paraId:77,tocIndex:6},{value:"beginWork",paraId:77,tocIndex:6},{value:"\u6267\u884C\u8FC7\u7A0B: \u8C03\u7528",paraId:77,tocIndex:6},{value:"updateHostComponent",paraId:77,tocIndex:6},{value:"\u672C\u793A\u4F8B\u4E2D",paraId:78,tocIndex:6},{value:"header",paraId:78,tocIndex:6},{value:"\u7684\u5B50\u8282\u70B9\u662F\u4E00\u4E2A",paraId:78,tocIndex:6},{value:"\u76F4\u63A5\u6587\u672C\u8282\u70B9",paraId:78,tocIndex:6},{value:",\u8BBE\u7F6E",paraId:78,tocIndex:6},{value:"nextChildren = null",paraId:78,tocIndex:6},{value:"(\u76F4\u63A5\u6587\u672C\u8282\u70B9\u5E76\u4E0D\u4F1A\u88AB\u5F53\u6210\u5177\u4F53\u7684",paraId:78,tocIndex:6},{value:"fiber",paraId:78,tocIndex:6},{value:"\u8282\u70B9\u8FDB\u884C\u5904\u7406, \u800C\u662F\u5728\u5BBF\u4E3B\u73AF\u5883(\u7236\u7EC4\u4EF6)\u4E2D\u901A\u8FC7\u5C5E\u6027\u8FDB\u884C\u8BBE\u7F6E. \u6240\u4EE5\u65E0\u9700\u521B\u5EFA",paraId:78,tocIndex:6},{value:"HostText",paraId:78,tocIndex:6},{value:"\u7C7B\u578B\u7684 fiber \u8282\u70B9, \u540C\u65F6\u8282\u7701\u4E86\u5411\u4E0B\u904D\u5386\u5F00\u9500.).",paraId:78,tocIndex:6},{value:"\u7531\u4E8E",paraId:78,tocIndex:6},{value:"nextChildren = null",paraId:78,tocIndex:6},{value:", \u7ECF\u8FC7",paraId:78,tocIndex:6},{value:"reconcileChildren",paraId:78,tocIndex:6},{value:"\u9636\u6BB5\u5904\u7406\u540E, \u8FD4\u56DE\u503C\u4E5F\u662F",paraId:78,tocIndex:6},{value:"null",paraId:78,tocIndex:6},{value:"beginWork",paraId:77,tocIndex:6},{value:"\u6267\u884C\u540E: \u7531\u4E8E\u4E0B\u7EA7\u8282\u70B9\u4E3A",paraId:77,tocIndex:6},{value:"null",paraId:77,tocIndex:6},{value:", \u6240\u4EE5\u8FDB\u5165",paraId:77,tocIndex:6},{value:"completeUnitOfWork(unitOfWork)",paraId:77,tocIndex:6},{value:"\u51FD\u6570, \u4F20\u5165\u7684\u53C2\u6570",paraId:77,tocIndex:6},{value:"unitOfWork",paraId:77,tocIndex:6},{value:"\u5B9E\u9645\u4E0A\u5C31\u662F",paraId:77,tocIndex:6},{value:"workInProgress",paraId:77,tocIndex:6},{value:"(\u6B64\u65F6\u6307\u5411",paraId:77,tocIndex:6},{value:"fiber(header)",paraId:77,tocIndex:6},{value:"\u8282\u70B9)",paraId:77,tocIndex:6},{value:"completeUnitOfWork",paraId:79,tocIndex:6},{value:"\u6267\u884C\u524D: ",paraId:79,tocIndex:6},{value:"workInProgress",paraId:79,tocIndex:6},{value:"\u6307\u9488\u6307\u5411",paraId:79,tocIndex:6},{value:"fiber(header)",paraId:79,tocIndex:6},{value:"\u8282\u70B9",paraId:79,tocIndex:6},{value:"completeUnitOfWork",paraId:79,tocIndex:6},{value:"\u6267\u884C\u8FC7\u7A0B: \u4EE5",paraId:79,tocIndex:6},{value:"fiber(header)",paraId:79,tocIndex:6},{value:"\u4E3A\u8D77\u70B9, \u5411\u4E0A\u56DE\u6EAF",paraId:79,tocIndex:6},{value:"\u7B2C 1 \u6B21\u5FAA\u73AF:",paraId:80,tocIndex:6},{value:"\u6267\u884C",paraId:81,tocIndex:6},{value:"completeWork",paraId:81,tocIndex:6},{value:`\u51FD\u6570
`,paraId:81,tocIndex:6},{value:"\u521B\u5EFA",paraId:82,tocIndex:6},{value:"fiber(header)",paraId:82,tocIndex:6},{value:"\u8282\u70B9\u5BF9\u5E94\u7684",paraId:82,tocIndex:6},{value:"DOM",paraId:82,tocIndex:6},{value:"\u5B9E\u4F8B, \u5E76",paraId:82,tocIndex:6},{value:"append",paraId:82,tocIndex:6},{value:"\u5B50\u8282\u70B9\u7684",paraId:82,tocIndex:6},{value:"DOM",paraId:82,tocIndex:6},{value:"\u5B9E\u4F8B",paraId:82,tocIndex:6},{value:"\u8BBE\u7F6E",paraId:82,tocIndex:6},{value:"DOM",paraId:82,tocIndex:6},{value:"\u5C5E\u6027, \u7ED1\u5B9A\u4E8B\u4EF6\u7B49(\u672C\u793A\u4F8B\u4E2D, \u8282\u70B9",paraId:82,tocIndex:6},{value:"fiber(header)",paraId:82,tocIndex:6},{value:"\u6CA1\u6709\u4E8B\u4EF6\u7ED1\u5B9A)",paraId:82,tocIndex:6},{value:"\u4E0A\u79FB\u526F\u4F5C\u7528\u961F\u5217: \u7531\u4E8E\u672C\u8282\u70B9",paraId:81,tocIndex:6},{value:"fiber(header)",paraId:81,tocIndex:6},{value:"\u6CA1\u6709\u526F\u4F5C\u7528(",paraId:81,tocIndex:6},{value:"fiber.flags = 0",paraId:81,tocIndex:6},{value:"), \u6240\u4EE5\u6267\u884C\u4E4B\u540E\u526F\u4F5C\u7528\u961F\u5217\u6CA1\u6709\u5B9E\u8D28\u53D8\u5316(\u76EE\u524D\u4E3A\u7A7A).",paraId:81,tocIndex:6},{value:"\u5411\u4E0A\u56DE\u6EAF: \u7531\u4E8E\u8FD8\u6709\u5144\u5F1F\u8282\u70B9, \u628A",paraId:81,tocIndex:6},{value:"workInProgress",paraId:81,tocIndex:6},{value:"\u6307\u9488\u6307\u5411\u4E0B\u4E00\u4E2A\u5144\u5F1F\u8282\u70B9",paraId:81,tocIndex:6},{value:"fiber(<Content/>)",paraId:81,tocIndex:6},{value:", \u9000\u51FA",paraId:81,tocIndex:6},{value:"completeUnitOfWork",paraId:81,tocIndex:6},{value:".",paraId:81,tocIndex:6},{value:"performUnitOfWork",paraId:83,tocIndex:6},{value:"\u7B2C 5 \u6B21\u8C03\u7528(\u6267\u884C",paraId:83,tocIndex:6},{value:"beginWork",paraId:83,tocIndex:6},{value:"):",paraId:83,tocIndex:6},{value:"\u6267\u884C\u524D:",paraId:84,tocIndex:6},{value:"workInProgress",paraId:84,tocIndex:6},{value:"\u6307\u9488\u6307\u5411",paraId:84,tocIndex:6},{value:"fiber(<Content/>)",paraId:84,tocIndex:6},{value:"\u8282\u70B9.",paraId:84,tocIndex:6},{value:"\u6267\u884C\u8FC7\u7A0B: \u8FD9\u662F\u4E00\u4E2A",paraId:84,tocIndex:6},{value:"class",paraId:84,tocIndex:6},{value:"\u7C7B\u578B\u7684\u8282\u70B9, \u4E0E\u7B2C 2 \u6B21\u8C03\u7528\u903B\u8F91\u4E00\u81F4.",paraId:84,tocIndex:6},{value:"\u6267\u884C\u540E: \u8FD4\u56DE\u4E0B\u7EA7\u8282\u70B9",paraId:84,tocIndex:6},{value:"fiber(p)",paraId:84,tocIndex:6},{value:", \u79FB\u52A8",paraId:84,tocIndex:6},{value:"workInProgress",paraId:84,tocIndex:6},{value:"\u6307\u9488\u6307\u5411\u5B50\u8282\u70B9",paraId:84,tocIndex:6},{value:"fiber(p)",paraId:84,tocIndex:6},{value:"performUnitOfWork",paraId:85,tocIndex:6},{value:"\u7B2C 6 \u6B21\u8C03\u7528(\u6267\u884C",paraId:85,tocIndex:6},{value:"beginWork",paraId:85,tocIndex:6},{value:"\u548C",paraId:85,tocIndex:6},{value:"completeUnitOfWork",paraId:85,tocIndex:6},{value:"):\u4E0E\u7B2C 4 \u6B21\u8C03\u7528\u4E2D\u521B\u5EFA",paraId:85,tocIndex:6},{value:"fiber(header)",paraId:85,tocIndex:6},{value:"\u8282\u70B9\u7684\u903B\u8F91\u4E00\u81F4. \u5148\u540E\u4F1A\u6267\u884C",paraId:85,tocIndex:6},{value:"beginWork",paraId:85,tocIndex:6},{value:"\u548C",paraId:85,tocIndex:6},{value:"completeUnitOfWork",paraId:85,tocIndex:6},{value:", \u6700\u540E\u6784\u9020 DOM \u5B9E\u4F8B, \u5E76\u5C06\u628A",paraId:85,tocIndex:6},{value:"workInProgress",paraId:85,tocIndex:6},{value:"\u6307\u9488\u6307\u5411\u4E0B\u4E00\u4E2A\u5144\u5F1F\u8282\u70B9",paraId:85,tocIndex:6},{value:"fiber(p)",paraId:85,tocIndex:6},{value:".",paraId:85,tocIndex:6},{value:"performUnitOfWork",paraId:86,tocIndex:6},{value:"\u7B2C 7 \u6B21\u8C03\u7528(\u6267\u884C",paraId:86,tocIndex:6},{value:"beginWork",paraId:86,tocIndex:6},{value:"\u548C",paraId:86,tocIndex:6},{value:"completeUnitOfWork",paraId:86,tocIndex:6},{value:"):",paraId:86,tocIndex:6},{value:"beginWork",paraId:87,tocIndex:6},{value:"\u6267\u884C\u8FC7\u7A0B: \u4E0E\u4E0A\u6B21\u8C03\u7528\u4E2D\u521B\u5EFA",paraId:87,tocIndex:6},{value:"fiber(p)",paraId:87,tocIndex:6},{value:"\u8282\u70B9\u7684\u903B\u8F91\u4E00\u81F4",paraId:87,tocIndex:6},{value:"completeUnitOfWork",paraId:87,tocIndex:6},{value:"\u6267\u884C\u8FC7\u7A0B: \u4EE5",paraId:87,tocIndex:6},{value:"fiber(p)",paraId:87,tocIndex:6},{value:"\u4E3A\u8D77\u70B9, \u5411\u4E0A\u56DE\u6EAF",paraId:87,tocIndex:6},{value:"\u7B2C 1 \u6B21\u5FAA\u73AF:",paraId:88,tocIndex:6},{value:"\u6267\u884C",paraId:89,tocIndex:6},{value:"completeWork",paraId:89,tocIndex:6},{value:"\u51FD\u6570: \u521B\u5EFA",paraId:89,tocIndex:6},{value:"fiber(p)",paraId:89,tocIndex:6},{value:"\u8282\u70B9\u5BF9\u5E94\u7684",paraId:89,tocIndex:6},{value:"DOM",paraId:89,tocIndex:6},{value:"\u5B9E\u4F8B, \u5E76",paraId:89,tocIndex:6},{value:"append",paraId:89,tocIndex:6},{value:"\u5B50\u6811\u8282\u70B9\u7684",paraId:89,tocIndex:6},{value:"DOM",paraId:89,tocIndex:6},{value:"\u5B9E\u4F8B",paraId:89,tocIndex:6},{value:"\u4E0A\u79FB\u526F\u4F5C\u7528\u961F\u5217: \u7531\u4E8E\u672C\u8282\u70B9",paraId:89,tocIndex:6},{value:"fiber(p)",paraId:89,tocIndex:6},{value:"\u6CA1\u6709\u526F\u4F5C\u7528, \u6240\u4EE5\u6267\u884C\u4E4B\u540E\u526F\u4F5C\u7528\u961F\u5217\u6CA1\u6709\u5B9E\u8D28\u53D8\u5316(\u76EE\u524D\u4E3A\u7A7A).",paraId:89,tocIndex:6},{value:"\u5411\u4E0A\u56DE\u6EAF: \u7531\u4E8E\u6CA1\u6709\u5144\u5F1F\u8282\u70B9, \u628A",paraId:89,tocIndex:6},{value:"workInProgress",paraId:89,tocIndex:6},{value:"\u6307\u9488\u6307\u5411\u7236\u8282\u70B9",paraId:89,tocIndex:6},{value:"fiber(<Content/>)",paraId:89,tocIndex:6},{value:"\u7B2C 2 \u6B21\u5FAA\u73AF:",paraId:90,tocIndex:6},{value:"\u6267\u884C",paraId:91,tocIndex:6},{value:"completeWork",paraId:91,tocIndex:6},{value:"\u51FD\u6570: class \u7C7B\u578B\u7684\u8282\u70B9\u4E0D\u505A\u5904\u7406",paraId:91,tocIndex:6},{value:`\u4E0A\u79FB\u526F\u4F5C\u7528\u961F\u5217:
`,paraId:91,tocIndex:6},{value:"\u672C\u8282\u70B9",paraId:92,tocIndex:6},{value:"fiber(<Content/>)",paraId:92,tocIndex:6},{value:"\u7684",paraId:92,tocIndex:6},{value:"flags",paraId:92,tocIndex:6},{value:"\u6807\u5FD7\u4F4D\u6709\u6539\u52A8(",paraId:92,tocIndex:6},{value:"completedWork.flags > PerformedWork",paraId:92,tocIndex:6},{value:"), \u5C06\u672C\u8282\u70B9\u6DFB\u52A0\u5230\u7236\u8282\u70B9(",paraId:92,tocIndex:6},{value:"fiber(div)",paraId:92,tocIndex:6},{value:")\u7684\u526F\u4F5C\u7528\u961F\u5217\u4E4B\u540E(",paraId:92,tocIndex:6},{value:"firstEffect",paraId:92,tocIndex:6},{value:"\u548C",paraId:92,tocIndex:6},{value:"lastEffect",paraId:92,tocIndex:6},{value:"\u5C5E\u6027\u5206\u522B\u6307\u5411\u526F\u4F5C\u7528\u961F\u5217\u7684\u9996\u90E8\u548C\u5C3E\u90E8).",paraId:92,tocIndex:6},{value:"\u5411\u4E0A\u56DE\u6EAF: \u628A",paraId:91,tocIndex:6},{value:"workInProgress",paraId:91,tocIndex:6},{value:"\u6307\u9488\u6307\u5411\u7236\u8282\u70B9",paraId:91,tocIndex:6},{value:"fiber(div)",paraId:91,tocIndex:6},{value:"\u7B2C 3 \u6B21\u5FAA\u73AF:",paraId:93,tocIndex:6},{value:"\u6267\u884C",paraId:94,tocIndex:6},{value:"completeWork",paraId:94,tocIndex:6},{value:"\u51FD\u6570: \u521B\u5EFA",paraId:94,tocIndex:6},{value:"fiber(div)",paraId:94,tocIndex:6},{value:"\u8282\u70B9\u5BF9\u5E94\u7684",paraId:94,tocIndex:6},{value:"DOM",paraId:94,tocIndex:6},{value:"\u5B9E\u4F8B, \u5E76",paraId:94,tocIndex:6},{value:"append",paraId:94,tocIndex:6},{value:"\u5B50\u6811\u8282\u70B9\u7684",paraId:94,tocIndex:6},{value:"DOM",paraId:94,tocIndex:6},{value:"\u5B9E\u4F8B",paraId:94,tocIndex:6},{value:`\u4E0A\u79FB\u526F\u4F5C\u7528\u961F\u5217:
`,paraId:94,tocIndex:6},{value:"\u672C\u8282\u70B9",paraId:95,tocIndex:6},{value:"fiber(div)",paraId:95,tocIndex:6},{value:"\u7684\u526F\u4F5C\u7528\u961F\u5217\u4E0D\u4E3A\u7A7A, \u5C06\u5176\u62FC\u63A5\u5230\u7236\u8282\u70B9",paraId:95,tocIndex:6},{value:"fiber<App/>",paraId:95,tocIndex:6},{value:"\u7684\u526F\u4F5C\u7528\u961F\u5217\u540E\u9762.",paraId:95,tocIndex:6},{value:"\u5411\u4E0A\u56DE\u6EAF: \u628A",paraId:94,tocIndex:6},{value:"workInProgress",paraId:94,tocIndex:6},{value:"\u6307\u9488\u6307\u5411\u7236\u8282\u70B9",paraId:94,tocIndex:6},{value:"fiber(<App/>)",paraId:94,tocIndex:6},{value:"\u7B2C 4 \u6B21\u5FAA\u73AF:",paraId:96,tocIndex:6},{value:"\u6267\u884C",paraId:97,tocIndex:6},{value:"completeWork",paraId:97,tocIndex:6},{value:"\u51FD\u6570: class \u7C7B\u578B\u7684\u8282\u70B9\u4E0D\u505A\u5904\u7406",paraId:97,tocIndex:6},{value:`\u4E0A\u79FB\u526F\u4F5C\u7528\u961F\u5217:
`,paraId:97,tocIndex:6},{value:"\u672C\u8282\u70B9",paraId:98,tocIndex:6},{value:"fiber(<App/>)",paraId:98,tocIndex:6},{value:"\u7684\u526F\u4F5C\u7528\u961F\u5217\u4E0D\u4E3A\u7A7A, \u5C06\u5176\u62FC\u63A5\u5230\u7236\u8282\u70B9",paraId:98,tocIndex:6},{value:"fiber(HostRootFiber)",paraId:98,tocIndex:6},{value:"\u7684\u526F\u4F5C\u7528\u961F\u5217\u4E0A.",paraId:98,tocIndex:6},{value:"\u672C\u8282\u70B9",paraId:98,tocIndex:6},{value:"fiber(<App/>)",paraId:98,tocIndex:6},{value:"\u7684",paraId:98,tocIndex:6},{value:"flags",paraId:98,tocIndex:6},{value:"\u6807\u5FD7\u4F4D\u6709\u6539\u52A8(",paraId:98,tocIndex:6},{value:"completedWork.flags > PerformedWork",paraId:98,tocIndex:6},{value:"), \u5C06\u672C\u8282\u70B9\u6DFB\u52A0\u5230\u7236\u8282\u70B9",paraId:98,tocIndex:6},{value:"fiber(HostRootFiber)",paraId:98,tocIndex:6},{value:"\u7684\u526F\u4F5C\u7528\u961F\u5217\u4E4B\u540E.",paraId:98,tocIndex:6},{value:"\u6700\u540E\u961F\u5217\u7684\u987A\u5E8F\u662F",paraId:98,tocIndex:6},{value:"\u5B50\u8282\u70B9\u5728\u524D, \u672C\u8282\u70B9\u5728\u540E",paraId:98,tocIndex:6},{value:"\u5411\u4E0A\u56DE\u6EAF: \u628A",paraId:97,tocIndex:6},{value:"workInProgress",paraId:97,tocIndex:6},{value:"\u6307\u9488\u6307\u5411\u7236\u8282\u70B9",paraId:97,tocIndex:6},{value:"fiber(HostRootFiber)",paraId:97,tocIndex:6},{value:"\u7B2C 5 \u6B21\u5FAA\u73AF:",paraId:99,tocIndex:6},{value:"\u6267\u884C",paraId:100,tocIndex:6},{value:"completeWork",paraId:100,tocIndex:6},{value:"\u51FD\u6570: \u5BF9\u4E8E",paraId:100,tocIndex:6},{value:"HostRoot",paraId:100,tocIndex:6},{value:"\u7C7B\u578B\u7684\u8282\u70B9, \u521D\u6B21\u6784\u9020\u65F6\u8BBE\u7F6E",paraId:100,tocIndex:6},{value:"workInProgress.flags |= Snapshot",paraId:100,tocIndex:6},{value:"\u5411\u4E0A\u56DE\u6EAF: \u7531\u4E8E\u7236\u8282\u70B9\u4E3A\u7A7A, \u65E0\u9700\u8FDB\u5165\u5904\u7406\u526F\u4F5C\u7528\u961F\u5217\u7684\u903B\u8F91. \u6700\u540E\u8BBE\u7F6E",paraId:100,tocIndex:6},{value:"workInProgress=null",paraId:100,tocIndex:6},{value:", \u5E76\u9000\u51FA",paraId:100,tocIndex:6},{value:"completeUnitOfWork",paraId:100,tocIndex:6},{value:"\u5230\u6B64\u6574\u4E2A",paraId:101,tocIndex:6},{value:"fiber\u6811\u6784\u9020\u5FAA\u73AF",paraId:101,tocIndex:6},{value:"\u5DF2\u7ECF\u6267\u884C\u5B8C\u6BD5, \u62E5\u6709\u4E00\u68F5\u5B8C\u6574\u7684",paraId:101,tocIndex:6},{value:"fiber\u6811",paraId:101,tocIndex:6},{value:", \u5E76\u4E14\u5728",paraId:101,tocIndex:6},{value:"fiber\u6811",paraId:101,tocIndex:6},{value:"\u7684\u6839\u8282\u70B9\u4E0A\u6302\u8F7D\u4E86\u526F\u4F5C\u7528\u961F\u5217, \u526F\u4F5C\u7528\u961F\u5217\u7684\u987A\u5E8F\u662F\u5C42\u7EA7\u8D8A\u6DF1\u5B50\u8282\u70B9\u8D8A\u9760\u524D.",paraId:101,tocIndex:6},{value:"renderRootSync",paraId:102,tocIndex:6},{value:"\u51FD\u6570\u9000\u51FA\u4E4B\u524D, \u4F1A\u91CD\u7F6E",paraId:102,tocIndex:6},{value:"workInProgressRoot = null",paraId:102,tocIndex:6},{value:", \u8868\u660E\u6CA1\u6709\u6B63\u5728\u8FDB\u884C\u4E2D\u7684",paraId:102,tocIndex:6},{value:"render",paraId:102,tocIndex:6},{value:". \u4E14\u628A\u6700\u65B0\u7684",paraId:102,tocIndex:6},{value:"fiber\u6811",paraId:102,tocIndex:6},{value:"\u6302\u8F7D\u5230",paraId:102,tocIndex:6},{value:"fiberRoot.finishedWork",paraId:102,tocIndex:6},{value:"\u4E0A. \u8FD9\u65F6\u6574\u4E2A fiber \u6811\u7684\u5185\u5B58\u7ED3\u6784\u5982\u4E0B(\u6CE8\u610F",paraId:102,tocIndex:6},{value:"fiberRoot.finishedWork",paraId:102,tocIndex:6},{value:"\u548C",paraId:102,tocIndex:6},{value:"fiberRoot.current",paraId:102,tocIndex:6},{value:"\u6307\u9488,\u5728",paraId:102,tocIndex:6},{value:"commitRoot",paraId:102,tocIndex:6},{value:"\u9636\u6BB5\u4F1A\u8FDB\u884C\u5904\u7406):",paraId:102,tocIndex:6},{value:"\u672C\u8282\u6F14\u793A\u4E86\u521D\u6B21\u521B\u5EFA",paraId:103,tocIndex:7},{value:"fiber\u6811",paraId:103,tocIndex:7},{value:"\u7684\u5168\u90E8\u8FC7\u7A0B, \u8DDF\u8E2A\u4E86\u521B\u5EFA\u8FC7\u7A0B\u4E2D\u5185\u5B58\u5F15\u7528\u7684\u53D8\u5316\u60C5\u51B5. ",paraId:103,tocIndex:7},{value:"fiber\u6811\u6784\u9020\u5FAA\u73AF",paraId:103,tocIndex:7},{value:"\u8D1F\u8D23\u6784\u9020\u65B0\u7684",paraId:103,tocIndex:7},{value:"fiber",paraId:103,tocIndex:7},{value:"\u6811, \u6784\u9020\u8FC7\u7A0B\u4E2D\u540C\u65F6\u6807\u8BB0",paraId:103,tocIndex:7},{value:"fiber.flags",paraId:103,tocIndex:7},{value:", \u6700\u7EC8\u628A\u6240\u6709\u88AB\u6807\u8BB0\u7684",paraId:103,tocIndex:7},{value:"fiber",paraId:103,tocIndex:7},{value:"\u8282\u70B9\u6536\u96C6\u5230\u4E00\u4E2A\u526F\u4F5C\u7528\u961F\u5217\u4E2D, \u8FD9\u4E2A\u526F\u4F5C\u7528\u961F\u5217\u88AB\u6302\u8F7D\u5230\u6839\u8282\u70B9\u4E0A(",paraId:103,tocIndex:7},{value:"HostRootFiber.alternate.firstEffect",paraId:103,tocIndex:7},{value:"). \u6B64\u65F6\u7684",paraId:103,tocIndex:7},{value:"fiber\u6811",paraId:103,tocIndex:7},{value:"\u548C\u4E0E\u4E4B\u5BF9\u5E94\u7684",paraId:103,tocIndex:7},{value:"DOM\u8282\u70B9",paraId:103,tocIndex:7},{value:"\u90FD\u8FD8\u5728\u5185\u5B58\u5F53\u4E2D, \u7B49\u5F85",paraId:103,tocIndex:7},{value:"commitRoot",paraId:103,tocIndex:7},{value:"\u9636\u6BB5\u8FDB\u884C\u6E32\u67D3.",paraId:103,tocIndex:7}],Re={},N={title:"fiber \u6811\u6784\u9020(\u5BF9\u6BD4\u66F4\u65B0)",toc:"menu",filename:"docs/main/fibertree-update.md",group:"\u8FD0\u884C\u6838\u5FC3",order:6,description:"\u5728\u524D\u6587fiber \u6811\u6784\u9020(\u521D\u6B21\u521B\u5EFA)\u4E00\u6587\u7684\u4ECB\u7ECD\u4E2D, \u6F14\u793A\u4E86fiber\u6811\u6784\u9020\u5FAA\u73AF\u4E2D\u9010\u6B65\u6784\u9020fiber\u6811\u7684\u8FC7\u7A0B. \u7531\u4E8E\u662F\u521D\u6B21\u521B\u5EFA, \u6240\u4EE5\u5728\u6784\u9020\u8FC7\u7A0B\u4E2D, \u6240\u6709\u8282\u70B9\u90FD\u662F\u65B0\u5EFA, \u5E76\u6CA1\u6709\u590D\u7528\u65E7\u8282\u70B9."},Q=[{id:"fiber-\u6811\u6784\u9020\u5BF9\u6BD4\u66F4\u65B0",depth:1,title:"fiber \u6811\u6784\u9020(\u5BF9\u6BD4\u66F4\u65B0)"},{id:"\u66F4\u65B0\u5165\u53E3",depth:2,title:"\u66F4\u65B0\u5165\u53E3"},{id:"3-\u79CD\u66F4\u65B0\u65B9\u5F0F",depth:3,title:"3 \u79CD\u66F4\u65B0\u65B9\u5F0F"},{id:"setstate",depth:4,title:"setState"},{id:"dispatchaction",depth:4,title:"dispatchAction"},{id:"\u91CD\u590D\u8C03\u7528-render",depth:4,title:"\u91CD\u590D\u8C03\u7528 render"},{id:"\u6784\u9020\u9636\u6BB5",depth:2,title:"\u6784\u9020\u9636\u6BB5"},{id:"markupdatelanefromfibertoroot",depth:3,title:"markUpdateLaneFromFiberToRoot"},{id:"\u5FAA\u73AF\u6784\u9020",depth:3,title:"\u5FAA\u73AF\u6784\u9020"},{id:"\u63A2\u5BFB\u9636\u6BB5-beginwork",depth:3,title:"\u63A2\u5BFB\u9636\u6BB5 beginWork"},{id:"bailout\u903B\u8F91-bailout",depth:4,title:"bailout\u903B\u8F91 {#bailout}"},{id:"updatexxx\u51FD\u6570",depth:4,title:"updateXXX\u51FD\u6570"},{id:"\u56DE\u6EAF\u9636\u6BB5-completework",depth:3,title:"\u56DE\u6EAF\u9636\u6BB5 completeWork"},{id:"\u8FC7\u7A0B\u56FE\u89E3",depth:3,title:"\u8FC7\u7A0B\u56FE\u89E3"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"}],G=[{value:"\u5728\u524D\u6587",paraId:0,tocIndex:0},{value:"fiber \u6811\u6784\u9020(\u521D\u6B21\u521B\u5EFA)",paraId:1,tocIndex:0},{value:"\u4E00\u6587\u7684\u4ECB\u7ECD\u4E2D, \u6F14\u793A\u4E86",paraId:0,tocIndex:0},{value:"fiber\u6811\u6784\u9020\u5FAA\u73AF",paraId:0,tocIndex:0},{value:"\u4E2D\u9010\u6B65\u6784\u9020",paraId:0,tocIndex:0},{value:"fiber\u6811",paraId:0,tocIndex:0},{value:"\u7684\u8FC7\u7A0B. \u7531\u4E8E\u662F\u521D\u6B21\u521B\u5EFA, \u6240\u4EE5\u5728\u6784\u9020\u8FC7\u7A0B\u4E2D, \u6240\u6709\u8282\u70B9\u90FD\u662F\u65B0\u5EFA, \u5E76\u6CA1\u6709\u590D\u7528\u65E7\u8282\u70B9.",paraId:0,tocIndex:0},{value:"\u672C\u8282\u8BA8\u8BBA",paraId:2,tocIndex:0},{value:"\u5BF9\u6BD4\u66F4\u65B0",paraId:2,tocIndex:0},{value:"\u8FD9\u79CD\u60C5\u51B5(\u5728",paraId:2,tocIndex:0},{value:"Legacy",paraId:2,tocIndex:0},{value:"\u6A21\u5F0F\u4E0B\u8FDB\u884C\u5206\u6790). \u5728\u9605\u8BFB\u672C\u8282\u4E4B\u524D, \u6700\u597D\u5BF9",paraId:2,tocIndex:0},{value:"fiber \u6811\u6784\u9020(\u521D\u6B21\u521B\u5EFA)",paraId:3,tocIndex:0},{value:"\u6709\u4E00\u4E9B\u4E86\u89E3, \u5176\u4E2D\u6709\u5F88\u591A\u76F8\u4F3C\u903B\u8F91\u4E0D\u518D\u91CD\u590D\u53D9\u8FF0, \u672C\u8282\u91CD\u70B9\u7A81\u51FA",paraId:2,tocIndex:0},{value:"\u5BF9\u6BD4\u66F4\u65B0",paraId:2,tocIndex:0},{value:"\u4E0E",paraId:2,tocIndex:0},{value:"\u521D\u6B21\u521B\u5EFA",paraId:2,tocIndex:0},{value:"\u7684\u4E0D\u540C\u4E4B\u5904.",paraId:2,tocIndex:0},{value:"\u672C\u8282\u793A\u4F8B\u4EE3\u7801\u5982\u4E0B(",paraId:4,tocIndex:0},{value:"codesandbox \u5730\u5740",paraId:4,tocIndex:0},{value:"):",paraId:4,tocIndex:0},{value:`import React from 'react';

class App extends React.Component {
  state = {
    list: ['A', 'B', 'C'],
  };
  onChange = () => {
    this.setState({ list: ['C', 'A', 'X'] });
  };
  componentDidMount() {
    console.log(\`App Mount\`);
  }
  render() {
    return (
      <>
        <Header />
        <button onClick={this.onChange}>change</button>
        <div className="content">
          {this.state.list.map((item) => (
            <p key={item}>{item}</p>
          ))}
        </div>
      </>
    );
  }
}

class Header extends React.PureComponent {
  render() {
    return (
      <>
        <h1>title</h1>
        <h2>title2</h2>
      </>
    );
  }
}
export default App;
`,paraId:5,tocIndex:0},{value:"\u5728",paraId:6,tocIndex:0},{value:"\u521D\u6B21\u6E32\u67D3",paraId:6,tocIndex:0},{value:"\u5B8C\u6210\u4E4B\u540E, \u4E0E",paraId:6,tocIndex:0},{value:"fiber\u6811",paraId:6,tocIndex:0},{value:"\u76F8\u5173\u7684\u5185\u5B58\u7ED3\u6784\u5982\u4E0B(\u540E\u6587\u4EE5\u6B64\u56FE\u4E3A\u57FA\u7840, \u6F14\u793A",paraId:6,tocIndex:0},{value:"\u5BF9\u6BD4\u66F4\u65B0",paraId:6,tocIndex:0},{value:"\u8FC7\u7A0B):",paraId:6,tocIndex:0},{value:"\u524D\u6587",paraId:7,tocIndex:1},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:8,tocIndex:1},{value:"\u4E2D\u603B\u7ED3\u7684 4 \u4E2A\u9636\u6BB5(\u4ECE\u8F93\u5165\u5230\u8F93\u51FA), \u5176\u4E2D\u627F\u63A5\u8F93\u5165\u7684\u51FD\u6570\u53EA\u6709",paraId:7,tocIndex:1},{value:"scheduleUpdateOnFiber",paraId:7,tocIndex:1},{value:"(",paraId:7,tocIndex:1},{value:"\u6E90\u7801\u5730\u5740",paraId:7,tocIndex:1},{value:").\u5728",paraId:7,tocIndex:1},{value:"react-reconciler",paraId:7,tocIndex:1},{value:"\u5BF9\u5916\u66B4\u9732\u7684 api \u51FD\u6570\u4E2D, \u53EA\u8981\u6D89\u53CA\u5230\u9700\u8981\u6539\u53D8 fiber \u7684\u64CD\u4F5C(\u65E0\u8BBA\u662F",paraId:7,tocIndex:1},{value:"\u9996\u6B21\u6E32\u67D3",paraId:7,tocIndex:1},{value:"\u6216",paraId:7,tocIndex:1},{value:"\u5BF9\u6BD4\u66F4\u65B0",paraId:7,tocIndex:1},{value:"), \u6700\u540E\u90FD\u4F1A\u95F4\u63A5\u8C03\u7528",paraId:7,tocIndex:1},{value:"scheduleUpdateOnFiber",paraId:7,tocIndex:1},{value:", ",paraId:7,tocIndex:1},{value:"scheduleUpdateOnFiber",paraId:7,tocIndex:1},{value:"\u51FD\u6570\u662F\u8F93\u5165\u94FE\u8DEF\u4E2D\u7684",paraId:7,tocIndex:1},{value:"\u5FC5\u7ECF\u4E4B\u8DEF",paraId:7,tocIndex:1},{value:".",paraId:7,tocIndex:1},{value:"\u5982\u8981\u4E3B\u52A8\u53D1\u8D77\u66F4\u65B0, \u6709 3 \u79CD\u5E38\u89C1\u65B9\u5F0F:",paraId:9,tocIndex:2},{value:"Class",paraId:10,tocIndex:2},{value:"\u7EC4\u4EF6\u4E2D\u8C03\u7528",paraId:10,tocIndex:2},{value:"setState",paraId:10,tocIndex:2},{value:".",paraId:10,tocIndex:2},{value:"Function",paraId:10,tocIndex:2},{value:"\u7EC4\u4EF6\u4E2D\u8C03\u7528",paraId:10,tocIndex:2},{value:"hook",paraId:10,tocIndex:2},{value:"\u5BF9\u8C61\u66B4\u9732\u51FA\u7684",paraId:10,tocIndex:2},{value:"dispatchAction",paraId:10,tocIndex:2},{value:".",paraId:10,tocIndex:2},{value:"\u5728",paraId:10,tocIndex:2},{value:"container",paraId:10,tocIndex:2},{value:"\u8282\u70B9\u4E0A\u91CD\u590D\u8C03\u7528",paraId:10,tocIndex:2},{value:"render",paraId:10,tocIndex:2},{value:"(",paraId:10,tocIndex:2},{value:"\u5B98\u7F51\u793A\u4F8B",paraId:10,tocIndex:2},{value:")",paraId:10,tocIndex:2},{value:"\u4E0B\u9762\u5217\u51FA\u8FD9 3 \u79CD\u66F4\u65B0\u65B9\u5F0F\u7684\u6E90\u7801:",paraId:11,tocIndex:2},{value:"\u5728",paraId:12,tocIndex:3},{value:"Component",paraId:12,tocIndex:3},{value:"\u5BF9\u8C61\u7684\u539F\u578B\u4E0A\u6302\u8F7D\u6709",paraId:12,tocIndex:3},{value:"setState",paraId:12,tocIndex:3},{value:"(",paraId:12,tocIndex:3},{value:"\u6E90\u7801\u94FE\u63A5",paraId:12,tocIndex:3},{value:"):",paraId:12,tocIndex:3},{value:`Component.prototype.setState = function (partialState, callback) {
  this.updater.enqueueSetState(this, partialState, callback, 'setState');
};
`,paraId:13,tocIndex:3},{value:"\u5728",paraId:14,tocIndex:3},{value:"fiber \u6811\u6784\u9020(\u521D\u6B21\u521B\u5EFA)",paraId:15,tocIndex:3},{value:"\u4E2D\u7684",paraId:14,tocIndex:3},{value:"beginWork",paraId:14,tocIndex:3},{value:"\u9636\u6BB5, class \u7C7B\u578B\u7684\u7EC4\u4EF6\u521D\u59CB\u5316\u5B8C\u6210\u4E4B\u540E, ",paraId:14,tocIndex:3},{value:"this.updater",paraId:14,tocIndex:3},{value:"\u5BF9\u8C61\u5982\u4E0B(",paraId:14,tocIndex:3},{value:"\u6E90\u7801\u94FE\u63A5",paraId:14,tocIndex:3},{value:"):",paraId:14,tocIndex:3},{value:`const classComponentUpdater = {
  isMounted,
  enqueueSetState(inst, payload, callback) {
    // 1. \u83B7\u53D6class\u5B9E\u4F8B\u5BF9\u5E94\u7684fiber\u8282\u70B9
    const fiber = getInstance(inst);
    // 2. \u521B\u5EFAupdate\u5BF9\u8C61
    const eventTime = requestEventTime();
    const lane = requestUpdateLane(fiber); // \u786E\u5B9A\u5F53\u524Dupdate\u5BF9\u8C61\u7684\u4F18\u5148\u7EA7
    const update = createUpdate(eventTime, lane);
    update.payload = payload;
    if (callback !== undefined && callback !== null) {
      update.callback = callback;
    }
    // 3. \u5C06update\u5BF9\u8C61\u6DFB\u52A0\u5230\u5F53\u524DFiber\u8282\u70B9\u7684updateQueue\u961F\u5217\u5F53\u4E2D
    enqueueUpdate(fiber, update);
    // 4. \u8FDB\u5165reconciler\u8FD0\u4F5C\u6D41\u7A0B\u4E2D\u7684\`\u8F93\u5165\`\u73AF\u8282
    scheduleUpdateOnFiber(fiber, lane, eventTime); // \u4F20\u5165\u7684lane\u662Fupdate\u4F18\u5148\u7EA7
  },
};
`,paraId:16,tocIndex:3},{value:"\u6B64\u5904\u53EA\u662F\u4E3A\u4E86\u5BF9\u6BD4",paraId:17,tocIndex:4},{value:"dispatchAction",paraId:17,tocIndex:4},{value:"\u548C",paraId:17,tocIndex:4},{value:"setState",paraId:17,tocIndex:4},{value:". \u6709\u5173",paraId:17,tocIndex:4},{value:"hook",paraId:17,tocIndex:4},{value:"\u539F\u7406\u7684\u6DF1\u5165\u5206\u6790, \u5728",paraId:17,tocIndex:4},{value:"hook \u539F\u7406",paraId:17,tocIndex:4},{value:"\u7AE0\u8282\u4E2D\u8BE6\u7EC6\u8BA8\u8BBA.",paraId:17,tocIndex:4},{value:"\u5728",paraId:18,tocIndex:4},{value:"function\u7C7B\u578B",paraId:18,tocIndex:4},{value:"\u7EC4\u4EF6\u4E2D, \u5982\u679C\u4F7F\u7528",paraId:18,tocIndex:4},{value:"hook(useState)",paraId:18,tocIndex:4},{value:", \u5219\u53EF\u4EE5\u901A\u8FC7",paraId:18,tocIndex:4},{value:"hook api",paraId:18,tocIndex:4},{value:"\u66B4\u9732\u51FA\u7684",paraId:18,tocIndex:4},{value:"dispatchAction",paraId:18,tocIndex:4},{value:"(",paraId:18,tocIndex:4},{value:"\u6E90\u7801\u94FE\u63A5",paraId:18,tocIndex:4},{value:")\u6765\u66F4\u65B0",paraId:18,tocIndex:4},{value:`function dispatchAction<S, A>(
  fiber: Fiber,
  queue: UpdateQueue<S, A>,
  action: A,
) {
  // 1. \u521B\u5EFAupdate\u5BF9\u8C61
  const eventTime = requestEventTime();
  const lane = requestUpdateLane(fiber); // \u786E\u5B9A\u5F53\u524Dupdate\u5BF9\u8C61\u7684\u4F18\u5148\u7EA7
  const update: Update<S, A> = {
    lane,
    action,
    eagerReducer: null,
    eagerState: null,
    next: (null: any),
  };
  // 2. \u5C06update\u5BF9\u8C61\u6DFB\u52A0\u5230\u5F53\u524DHook\u5BF9\u8C61\u7684updateQueue\u961F\u5217\u5F53\u4E2D
  const pending = queue.pending;
  if (pending === null) {
    update.next = update;
  } else {
    update.next = pending.next;
    pending.next = update;
  }
  queue.pending = update;
  // 3. \u8BF7\u6C42\u8C03\u5EA6, \u8FDB\u5165reconciler\u8FD0\u4F5C\u6D41\u7A0B\u4E2D\u7684\`\u8F93\u5165\`\u73AF\u8282.
  scheduleUpdateOnFiber(fiber, lane, eventTime); // \u4F20\u5165\u7684lane\u662Fupdate\u4F18\u5148\u7EA7
}
`,paraId:19,tocIndex:4},{value:`import ReactDOM from 'react-dom';
function tick() {
  const element = (
    <div>
      <h1>Hello, world!</h1>
      <h2>It is {new Date().toLocaleTimeString()}.</h2>
    </div>
  );
  ReactDOM.render(element, document.getElementById('root'));
}
setInterval(tick, 1000);
`,paraId:20,tocIndex:5},{value:"\u5BF9\u4E8E\u91CD\u590D",paraId:21,tocIndex:5},{value:"render",paraId:21,tocIndex:5},{value:", \u5728",paraId:21,tocIndex:5},{value:"React \u5E94\u7528\u7684\u542F\u52A8\u8FC7\u7A0B",paraId:22,tocIndex:5},{value:"\u4E2D\u5DF2\u6709\u8BF4\u660E, \u8C03\u7528\u8DEF\u5F84\u5305\u542B",paraId:21,tocIndex:5},{value:"updateContainer-->scheduleUpdateOnFiber",paraId:21,tocIndex:5},{value:"\u6545\u65E0\u8BBA\u4ECE\u54EA\u4E2A\u5165\u53E3\u8FDB\u884C\u66F4\u65B0, \u6700\u7EC8\u90FD\u4F1A\u8FDB\u5165",paraId:23,tocIndex:5},{value:"scheduleUpdateOnFiber",paraId:23,tocIndex:5},{value:", \u518D\u6B21\u8BC1\u660E",paraId:23,tocIndex:5},{value:"scheduleUpdateOnFiber",paraId:23,tocIndex:5},{value:"\u662F",paraId:23,tocIndex:5},{value:"\u8F93\u5165",paraId:23,tocIndex:5},{value:"\u9636\u6BB5\u7684\u5FC5\u7ECF\u51FD\u6570(\u53C2\u8003",paraId:23,tocIndex:5},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:24,tocIndex:5},{value:").",paraId:23,tocIndex:5},{value:"\u903B\u8F91\u6765\u5230",paraId:25,tocIndex:6},{value:"scheduleUpdateOnFiber",paraId:25,tocIndex:6},{value:"\u51FD\u6570:",paraId:25,tocIndex:6},{value:`// ...\u7701\u7565\u90E8\u5206\u4EE3\u7801
export function scheduleUpdateOnFiber(
  fiber: Fiber, // fiber\u8868\u793A\u88AB\u66F4\u65B0\u7684\u8282\u70B9
  lane: Lane, // lane\u8868\u793Aupdate\u4F18\u5148\u7EA7
  eventTime: number,
) {
  const root = markUpdateLaneFromFiberToRoot(fiber, lane);
  if (lane === SyncLane) {
    if (
      (executionContext & LegacyUnbatchedContext) !== NoContext &&
      (executionContext & (RenderContext | CommitContext)) === NoContext
    ) {
      // \u521D\u6B21\u6E32\u67D3
      performSyncWorkOnRoot(root);
    } else {
      // \u5BF9\u6BD4\u66F4\u65B0
      ensureRootIsScheduled(root, eventTime);
    }
  }
  mostRecentlyUpdatedRoot = root;
}
`,paraId:26,tocIndex:6},{value:"\u5BF9\u6BD4\u66F4\u65B0",paraId:27,tocIndex:6},{value:"\u4E0E",paraId:27,tocIndex:6},{value:"\u521D\u6B21\u6E32\u67D3",paraId:27,tocIndex:6},{value:"\u7684\u4E0D\u540C\u70B9:",paraId:27,tocIndex:6},{value:"markUpdateLaneFromFiberToRoot",paraId:28,tocIndex:6},{value:"\u51FD\u6570, \u53EA\u5728",paraId:28,tocIndex:6},{value:"\u5BF9\u6BD4\u66F4\u65B0",paraId:28,tocIndex:6},{value:"\u9636\u6BB5\u624D\u53D1\u6325\u51FA\u5B83\u7684\u4F5C\u7528, \u5B83\u627E\u51FA\u4E86",paraId:28,tocIndex:6},{value:"fiber\u6811",paraId:28,tocIndex:6},{value:"\u4E2D\u53D7\u5230\u672C\u6B21",paraId:28,tocIndex:6},{value:"update",paraId:28,tocIndex:6},{value:"\u5F71\u54CD\u7684\u6240\u6709\u8282\u70B9, \u5E76\u8BBE\u7F6E\u8FD9\u4E9B\u8282\u70B9\u7684",paraId:28,tocIndex:6},{value:"fiber.lanes",paraId:28,tocIndex:6},{value:"\u6216",paraId:28,tocIndex:6},{value:"fiber.childLanes",paraId:28,tocIndex:6},{value:"(\u5728",paraId:28,tocIndex:6},{value:"legacy",paraId:28,tocIndex:6},{value:"\u6A21\u5F0F\u4E0B\u4E3A",paraId:28,tocIndex:6},{value:"SyncLane",paraId:28,tocIndex:6},{value:")\u4EE5\u5907",paraId:28,tocIndex:6},{value:"fiber\u6811\u6784\u9020",paraId:28,tocIndex:6},{value:"\u9636\u6BB5\u4F7F\u7528.",paraId:28,tocIndex:6},{value:`function markUpdateLaneFromFiberToRoot(
  sourceFiber: Fiber, // sourceFiber\u8868\u793A\u88AB\u66F4\u65B0\u7684\u8282\u70B9
  lane: Lane, // lane\u8868\u793Aupdate\u4F18\u5148\u7EA7
): FiberRoot | null {
  // 1. \u5C06update\u4F18\u5148\u7EA7\u8BBE\u7F6E\u5230sourceFiber.lanes
  sourceFiber.lanes = mergeLanes(sourceFiber.lanes, lane);
  let alternate = sourceFiber.alternate;
  if (alternate !== null) {
    // \u540C\u65F6\u8BBE\u7F6EsourceFiber.alternate\u7684\u4F18\u5148\u7EA7
    alternate.lanes = mergeLanes(alternate.lanes, lane);
  }
  // 2. \u4ECEsourceFiber\u5F00\u59CB, \u5411\u4E0A\u904D\u5386\u6240\u6709\u8282\u70B9, \u76F4\u5230HostRoot. \u8BBE\u7F6E\u6CBF\u9014\u6240\u6709\u8282\u70B9(\u5305\u62ECalternate)\u7684childLanes
  let node = sourceFiber;
  let parent = sourceFiber.return;
  while (parent !== null) {
    parent.childLanes = mergeLanes(parent.childLanes, lane);
    alternate = parent.alternate;
    if (alternate !== null) {
      alternate.childLanes = mergeLanes(alternate.childLanes, lane);
    }
    node = parent;
    parent = parent.return;
  }
  if (node.tag === HostRoot) {
    const root: FiberRoot = node.stateNode;
    return root;
  } else {
    return null;
  }
}
`,paraId:29,tocIndex:6},{value:"\u4E0B\u56FE\u8868\u793A\u4E86",paraId:30,tocIndex:7},{value:"markUpdateLaneFromFiberToRoot",paraId:30,tocIndex:7},{value:"\u7684\u5177\u4F53\u4F5C\u7528:",paraId:30,tocIndex:7},{value:"\u4EE5",paraId:31,tocIndex:7},{value:"sourceFiber",paraId:31,tocIndex:7},{value:"\u4E3A\u8D77\u70B9, \u8BBE\u7F6E\u8D77\u70B9\u7684",paraId:31,tocIndex:7},{value:"fiber.lanes",paraId:31,tocIndex:7},{value:"\u4ECE\u8D77\u70B9\u5F00\u59CB, \u76F4\u5230",paraId:31,tocIndex:7},{value:"HostRootFiber",paraId:31,tocIndex:7},{value:", \u8BBE\u7F6E\u7236\u8DEF\u5F84\u4E0A\u6240\u6709\u8282\u70B9(\u4E5F\u5305\u62EC",paraId:31,tocIndex:7},{value:"fiber.alternate",paraId:31,tocIndex:7},{value:")\u7684",paraId:31,tocIndex:7},{value:"fiber.childLanes",paraId:31,tocIndex:7},{value:".",paraId:31,tocIndex:7},{value:"\u901A\u8FC7\u8BBE\u7F6E",paraId:31,tocIndex:7},{value:"fiber.lanes",paraId:31,tocIndex:7},{value:"\u548C",paraId:31,tocIndex:7},{value:"fiber.childLanes",paraId:31,tocIndex:7},{value:"\u5C31\u53EF\u4EE5\u8F85\u52A9\u5224\u65AD\u5B50\u6811\u662F\u5426\u9700\u8981\u66F4\u65B0(\u5728\u4E0B\u6587",paraId:31,tocIndex:7},{value:"\u5FAA\u73AF\u6784\u9020",paraId:31,tocIndex:7},{value:"\u4E2D\u8BE6\u7EC6\u8BF4\u660E).",paraId:31,tocIndex:7},{value:"\u5BF9\u6BD4\u66F4\u65B0",paraId:32,tocIndex:7},{value:"\u6CA1\u6709\u76F4\u63A5\u8C03\u7528",paraId:32,tocIndex:7},{value:"performSyncWorkOnRoot",paraId:32,tocIndex:7},{value:", \u800C\u662F\u901A\u8FC7\u8C03\u5EA6\u4E2D\u5FC3\u6765\u5904\u7406, \u7531\u4E8E\u672C\u793A\u4F8B\u662F\u5728",paraId:32,tocIndex:7},{value:"Legacy",paraId:32,tocIndex:7},{value:"\u6A21\u5F0F\u4E0B\u8FDB\u884C, \u6700\u540E\u4F1A\u540C\u6B65\u6267\u884C",paraId:32,tocIndex:7},{value:"performSyncWorkOnRoot",paraId:32,tocIndex:7},{value:".(\u8BE6\u7EC6\u539F\u7406\u53EF\u4EE5\u53C2\u8003",paraId:32,tocIndex:7},{value:"React \u8C03\u5EA6\u539F\u7406(scheduler)",paraId:33,tocIndex:7},{value:"). \u6240\u4EE5\u5176\u8C03\u7528\u94FE\u8DEF",paraId:32,tocIndex:7},{value:"performSyncWorkOnRoot--->renderRootSync--->workLoopSync",paraId:32,tocIndex:7},{value:"\u4E0E",paraId:32,tocIndex:7},{value:"\u521D\u6B21\u6784\u9020",paraId:32,tocIndex:7},{value:"\u4E2D\u7684\u4E00\u81F4.",paraId:32,tocIndex:7},{value:"\u5728",paraId:34,tocIndex:7},{value:"renderRootSync",paraId:34,tocIndex:7},{value:"\u4E2D:",paraId:34,tocIndex:7},{value:`function renderRootSync(root: FiberRoot, lanes: Lanes) {
  const prevExecutionContext = executionContext;
  executionContext |= RenderContext;
  // \u5982\u679CfiberRoot\u53D8\u52A8, \u6216\u8005update.lane\u53D8\u52A8, \u90FD\u4F1A\u5237\u65B0\u6808\u5E27, \u4E22\u5F03\u4E0A\u4E00\u6B21\u6E32\u67D3\u8FDB\u5EA6
  if (workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes) {
    // \u5237\u65B0\u6808\u5E27, legacy\u6A21\u5F0F\u4E0B\u90FD\u4F1A\u8FDB\u5165
    prepareFreshStack(root, lanes);
  }
  do {
    try {
      workLoopSync();
      break;
    } catch (thrownValue) {
      handleError(root, thrownValue);
    }
  } while (true);
  executionContext = prevExecutionContext;
  // \u91CD\u7F6E\u5168\u5C40\u53D8\u91CF, \u8868\u660Erender\u7ED3\u675F
  workInProgressRoot = null;
  workInProgressRootRenderLanes = NoLanes;
  return workInProgressRootExitStatus;
}
`,paraId:35,tocIndex:7},{value:"\u8FDB\u5165\u5FAA\u73AF\u6784\u9020(",paraId:36,tocIndex:7},{value:"workLoopSync",paraId:36,tocIndex:7},{value:")\u524D, \u4F1A\u5237\u65B0\u6808\u5E27(\u8C03\u7528",paraId:36,tocIndex:7},{value:"prepareFreshStack",paraId:36,tocIndex:7},{value:")(\u53C2\u8003",paraId:36,tocIndex:7},{value:"fiber \u6811\u6784\u9020(\u57FA\u7840\u51C6\u5907)",paraId:37,tocIndex:7},{value:"\u4E2D",paraId:36,tocIndex:7},{value:"\u6808\u5E27\u7BA1\u7406",paraId:36,tocIndex:7},{value:").",paraId:36,tocIndex:7},{value:"\u6B64\u65F6\u7684\u5185\u5B58\u7ED3\u6784\u5982\u4E0B:",paraId:38,tocIndex:7},{value:"\u6CE8\u610F:",paraId:39,tocIndex:7},{value:"fiberRoot.current",paraId:40,tocIndex:7},{value:"\u6307\u5411\u4E0E\u5F53\u524D\u9875\u9762\u5BF9\u5E94\u7684",paraId:40,tocIndex:7},{value:"fiber\u6811",paraId:40,tocIndex:7},{value:", ",paraId:40,tocIndex:7},{value:"workInProgress",paraId:40,tocIndex:7},{value:"\u6307\u5411\u6B63\u5728\u6784\u9020\u7684",paraId:40,tocIndex:7},{value:"fiber\u6811",paraId:40,tocIndex:7},{value:".",paraId:40,tocIndex:7},{value:"\u5237\u65B0\u6808\u5E27\u4F1A\u8C03\u7528",paraId:40,tocIndex:7},{value:"createWorkInProgress()",paraId:40,tocIndex:7},{value:", \u4F7F\u5F97",paraId:40,tocIndex:7},{value:"workInProgress.flags\u548CworkInProgress.effects",paraId:40,tocIndex:7},{value:"\u90FD\u5DF2\u7ECF\u88AB\u91CD\u7F6E. \u4E14",paraId:40,tocIndex:7},{value:"workInProgress.child = current.child",paraId:40,tocIndex:7},{value:". \u6240\u4EE5\u5728\u8FDB\u5165",paraId:40,tocIndex:7},{value:"\u5FAA\u73AF\u6784\u9020",paraId:40,tocIndex:7},{value:"\u4E4B\u524D, ",paraId:40,tocIndex:7},{value:"HostRootFiber",paraId:40,tocIndex:7},{value:"\u4E0E",paraId:40,tocIndex:7},{value:"HostRootFiber.alternate",paraId:40,tocIndex:7},{value:"\u5171\u7528\u4E00\u4E2A",paraId:40,tocIndex:7},{value:"child",paraId:40,tocIndex:7},{value:"(\u8FD9\u91CC\u662F",paraId:40,tocIndex:7},{value:"fiber(<App/>)",paraId:40,tocIndex:7},{value:").",paraId:40,tocIndex:7},{value:"\u56DE\u987E\u4E00\u4E0B",paraId:41,tocIndex:8},{value:"fiber \u6811\u6784\u9020(\u521D\u6B21\u521B\u5EFA)",paraId:42,tocIndex:8},{value:"\u4E2D\u7684\u4ECB\u7ECD. \u6574\u4E2A",paraId:41,tocIndex:8},{value:"fiber\u6811\u6784\u9020",paraId:41,tocIndex:8},{value:"\u662F\u4E00\u4E2A\u6DF1\u5EA6\u4F18\u5148\u904D\u5386(\u53EF\u53C2\u8003",paraId:41,tocIndex:8},{value:"React \u7B97\u6CD5\u4E4B\u6DF1\u5EA6\u4F18\u5148\u904D\u5386",paraId:43,tocIndex:8},{value:"), \u5176\u4E2D\u6709 2 \u4E2A\u91CD\u8981\u7684\u53D8\u91CF",paraId:41,tocIndex:8},{value:"workInProgress",paraId:41,tocIndex:8},{value:"\u548C",paraId:41,tocIndex:8},{value:"current",paraId:41,tocIndex:8},{value:"(\u53EF\u53C2\u8003",paraId:41,tocIndex:8},{value:"fiber \u6811\u6784\u9020(\u57FA\u7840\u51C6\u5907)",paraId:44,tocIndex:8},{value:"\u4E2D\u4ECB\u7ECD\u7684",paraId:41,tocIndex:8},{value:"\u53CC\u7F13\u51B2\u6280\u672F",paraId:41,tocIndex:8},{value:"):",paraId:41,tocIndex:8},{value:"workInProgress",paraId:45,tocIndex:8},{value:"\u548C",paraId:45,tocIndex:8},{value:"current",paraId:45,tocIndex:8},{value:"\u90FD\u89C6\u4E3A\u6307\u9488",paraId:45,tocIndex:8},{value:"workInProgress",paraId:45,tocIndex:8},{value:"\u6307\u5411\u5F53\u524D\u6B63\u5728\u6784\u9020\u7684",paraId:45,tocIndex:8},{value:"fiber",paraId:45,tocIndex:8},{value:"\u8282\u70B9",paraId:45,tocIndex:8},{value:"current = workInProgress.alternate",paraId:45,tocIndex:8},{value:"(\u5373",paraId:45,tocIndex:8},{value:"fiber.alternate",paraId:45,tocIndex:8},{value:"), \u6307\u5411\u5F53\u524D\u9875\u9762\u6B63\u5728\u4F7F\u7528\u7684",paraId:45,tocIndex:8},{value:"fiber",paraId:45,tocIndex:8},{value:"\u8282\u70B9.",paraId:45,tocIndex:8},{value:"\u5728\u6DF1\u5EA6\u4F18\u5148\u904D\u5386\u4E2D, \u6BCF\u4E2A",paraId:46,tocIndex:8},{value:"fiber",paraId:46,tocIndex:8},{value:"\u8282\u70B9\u90FD\u4F1A\u7ECF\u5386 2 \u4E2A\u9636\u6BB5:",paraId:46,tocIndex:8},{value:"\u63A2\u5BFB\u9636\u6BB5 ",paraId:47,tocIndex:8},{value:"beginWork",paraId:47,tocIndex:8},{value:"\u56DE\u6EAF\u9636\u6BB5 ",paraId:47,tocIndex:8},{value:"completeWork",paraId:47,tocIndex:8},{value:"\u8FD9 2 \u4E2A\u9636\u6BB5\u5171\u540C\u5B8C\u6210\u4E86\u6BCF\u4E00\u4E2A",paraId:48,tocIndex:8},{value:"fiber",paraId:48,tocIndex:8},{value:"\u8282\u70B9\u7684\u521B\u5EFA(\u6216\u66F4\u65B0), \u6240\u6709",paraId:48,tocIndex:8},{value:"fiber",paraId:48,tocIndex:8},{value:"\u8282\u70B9\u5219\u6784\u6210\u4E86",paraId:48,tocIndex:8},{value:"fiber\u6811",paraId:48,tocIndex:8},{value:".",paraId:48,tocIndex:8},{value:`function workLoopSync() {
  while (workInProgress !== null) {
    performUnitOfWork(workInProgress);
  }
}

// ... \u7701\u7565\u90E8\u5206\u65E0\u5173\u4EE3\u7801
function performUnitOfWork(unitOfWork: Fiber): void {
  // unitOfWork\u5C31\u662F\u88AB\u4F20\u5165\u7684workInProgress
  const current = unitOfWork.alternate;
  let next;
  next = beginWork(current, unitOfWork, subtreeRenderLanes);
  unitOfWork.memoizedProps = unitOfWork.pendingProps;
  if (next === null) {
    // \u5982\u679C\u6CA1\u6709\u6D3E\u751F\u51FA\u65B0\u7684\u8282\u70B9, \u5219\u8FDB\u5165completeWork\u9636\u6BB5, \u4F20\u5165\u7684\u662F\u5F53\u524DunitOfWork
    completeUnitOfWork(unitOfWork);
  } else {
    workInProgress = next;
  }
}
`,paraId:49,tocIndex:8},{value:"\u6CE8\u610F: \u5728",paraId:50,tocIndex:8},{value:"\u5BF9\u6BD4\u66F4\u65B0",paraId:50,tocIndex:8},{value:"\u8FC7\u7A0B\u4E2D",paraId:50,tocIndex:8},{value:"current = unitOfWork.alternate;",paraId:50,tocIndex:8},{value:"\u4E0D\u4E3A",paraId:50,tocIndex:8},{value:"null",paraId:50,tocIndex:8},{value:", \u540E\u7EED\u7684\u8C03\u7528\u903B\u8F91\u4E2D\u4F1A\u5927\u91CF\u4F7F\u7528\u6B64\u5904\u4F20\u5165\u7684",paraId:50,tocIndex:8},{value:"current",paraId:50,tocIndex:8},{value:".",paraId:50,tocIndex:8},{value:"beginWork(current, unitOfWork, subtreeRenderLanes)",paraId:51,tocIndex:9},{value:"(",paraId:51,tocIndex:9},{value:"\u6E90\u7801\u5730\u5740",paraId:51,tocIndex:9},{value:").",paraId:51,tocIndex:9},{value:`function beginWork(
  current: Fiber | null,
  workInProgress: Fiber,
  renderLanes: Lanes,
): Fiber | null {
  const updateLanes = workInProgress.lanes;
  if (current !== null) {
    // \u8FDB\u5165\u5BF9\u6BD4
    const oldProps = current.memoizedProps;
    const newProps = workInProgress.pendingProps;
    if (
      oldProps !== newProps ||
      hasLegacyContextChanged() ||
      (__DEV__ ? workInProgress.type !== current.type : false)
    ) {
      didReceiveUpdate = true;
    } else if (!includesSomeLane(renderLanes, updateLanes)) {
      // \u5F53\u524D\u6E32\u67D3\u4F18\u5148\u7EA7renderLanes\u4E0D\u5305\u62ECfiber.lanes, \u8868\u660E\u5F53\u524Dfiber\u8282\u70B9\u65E0\u9700\u66F4\u65B0
      didReceiveUpdate = false;
      switch (
        workInProgress.tag
        // switch \u8BED\u53E5\u4E2D\u5305\u62EC context\u76F8\u5173\u903B\u8F91, \u672C\u8282\u6682\u4E0D\u8BA8\u8BBA(\u4E0D\u5F71\u54CD\u5206\u6790fiber\u6811\u6784\u9020)
      ) {
      }
      // \u5F53\u524Dfiber\u8282\u70B9\u65E0\u9700\u66F4\u65B0, \u8C03\u7528bailoutOnAlreadyFinishedWork\u5FAA\u73AF\u68C0\u6D4B\u5B50\u8282\u70B9\u662F\u5426\u9700\u8981\u66F4\u65B0
      return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);
    }
  }
  // \u4F59\u4E0B\u903B\u8F91\u4E0E\u521D\u6B21\u521B\u5EFA\u5171\u7528
  // 1. \u8BBE\u7F6EworkInProgress\u4F18\u5148\u7EA7\u4E3ANoLanes(\u6700\u9AD8\u4F18\u5148\u7EA7)
  workInProgress.lanes = NoLanes;
  // 2. \u6839\u636EworkInProgress\u8282\u70B9\u7684\u7C7B\u578B, \u7528\u4E0D\u540C\u7684\u65B9\u6CD5\u6D3E\u751F\u51FA\u5B50\u8282\u70B9
  switch (
    workInProgress.tag // \u53EA\u5217\u51FA\u90E8\u5206case
  ) {
    case ClassComponent: {
      const Component = workInProgress.type;
      const unresolvedProps = workInProgress.pendingProps;
      const resolvedProps =
        workInProgress.elementType === Component
          ? unresolvedProps
          : resolveDefaultProps(Component, unresolvedProps);
      return updateClassComponent(
        current,
        workInProgress,
        Component,
        resolvedProps,
        renderLanes,
      );
    }
    case HostRoot:
      return updateHostRoot(current, workInProgress, renderLanes);
    case HostComponent:
      return updateHostComponent(current, workInProgress, renderLanes);
    case HostText:
      return updateHostText(current, workInProgress);
    case Fragment:
      return updateFragment(current, workInProgress, renderLanes);
  }
}
`,paraId:52,tocIndex:9},{value:"bailout",paraId:53},{value:"bail out",paraId:54,tocIndex:10},{value:"\u82F1\u6587\u77ED\u8BED\u7FFB\u8BD1\u4E3A",paraId:54,tocIndex:10},{value:"\u89E3\u6551, \u7EBE\u56F0",paraId:54,tocIndex:10},{value:", \u5728\u6E90\u7801\u4E2D, ",paraId:54,tocIndex:10},{value:"bailout",paraId:54,tocIndex:10},{value:"\u7528\u4E8E\u5224\u65AD\u5B50\u6811\u8282\u70B9\u662F\u5426\u5B8C\u5168\u590D\u7528, \u5982\u679C\u53EF\u4EE5\u590D\u7528, \u5219\u4F1A\u7565\u8FC7 fiber \u6811\u6784\u9020.",paraId:54,tocIndex:10},{value:"\u4E0E",paraId:55,tocIndex:10},{value:"\u521D\u6B21\u521B\u5EFA",paraId:55,tocIndex:10},{value:"\u4E0D\u540C, \u5728",paraId:55,tocIndex:10},{value:"\u5BF9\u6BD4\u66F4\u65B0",paraId:55,tocIndex:10},{value:"\u8FC7\u7A0B\u4E2D, \u5982\u679C\u662F",paraId:55,tocIndex:10},{value:"\u8001\u8282\u70B9",paraId:55,tocIndex:10},{value:", \u90A3\u4E48",paraId:55,tocIndex:10},{value:"current !== null",paraId:55,tocIndex:10},{value:", \u9700\u8981\u8FDB\u884C\u5BF9\u6BD4, \u7136\u540E\u51B3\u5B9A\u662F\u5426\u590D\u7528\u8001\u8282\u70B9\u53CA\u5176\u5B50\u6811(\u5373",paraId:55,tocIndex:10},{value:"bailout",paraId:55,tocIndex:10},{value:"\u903B\u8F91).",paraId:55,tocIndex:10},{value:"!includesSomeLane(renderLanes, updateLanes)",paraId:56,tocIndex:10},{value:"\u8FD9\u4E2A\u5224\u65AD\u5206\u652F, \u5305\u542B\u4E86",paraId:56,tocIndex:10},{value:"\u6E32\u67D3\u4F18\u5148\u7EA7",paraId:56,tocIndex:10},{value:"\u548C",paraId:56,tocIndex:10},{value:"update\u4F18\u5148\u7EA7",paraId:56,tocIndex:10},{value:"\u7684\u6BD4\u8F83(\u8BE6\u60C5\u53EF\u4EE5\u56DE\u987E",paraId:56,tocIndex:10},{value:"fiber \u6811\u6784\u9020(\u57FA\u7840\u51C6\u5907)",paraId:57,tocIndex:10},{value:"\u4E2D",paraId:56,tocIndex:10},{value:"\u4F18\u5148\u7EA7",paraId:56,tocIndex:10},{value:"\u76F8\u5173\u89E3\u8BFB), \u5982\u679C\u5F53\u524D\u8282\u70B9\u65E0\u9700\u66F4\u65B0, \u5219\u4F1A\u8FDB\u5165",paraId:56,tocIndex:10},{value:"bailout",paraId:56,tocIndex:10},{value:"\u903B\u8F91.",paraId:56,tocIndex:10},{value:"\u6700\u540E\u4F1A\u8C03\u7528",paraId:56,tocIndex:10},{value:"bailoutOnAlreadyFinishedWork",paraId:56,tocIndex:10},{value:`:
`,paraId:56,tocIndex:10},{value:"\u5982\u679C\u540C\u65F6\u6EE1\u8DB3",paraId:58,tocIndex:10},{value:"!includesSomeLane(renderLanes, workInProgress.childLanes)",paraId:58,tocIndex:10},{value:", \u8868\u660E\u8BE5 fiber \u8282\u70B9\u53CA\u5176\u5B50\u6811\u90FD\u65E0\u9700\u66F4\u65B0, \u53EF\u76F4\u63A5\u8FDB\u5165\u56DE\u6EAF\u9636\u6BB5(",paraId:58,tocIndex:10},{value:"completeUnitOfWork",paraId:58,tocIndex:10},{value:")",paraId:58,tocIndex:10},{value:"\u5982\u679C\u4E0D\u6EE1\u8DB3",paraId:58,tocIndex:10},{value:"!includesSomeLane(renderLanes, workInProgress.childLanes)",paraId:58,tocIndex:10},{value:", \u610F\u5473\u7740\u5B50\u8282\u70B9\u9700\u8981\u66F4\u65B0, ",paraId:58,tocIndex:10},{value:"clone",paraId:58,tocIndex:10},{value:"\u5E76\u8FD4\u56DE\u5B50\u8282\u70B9.",paraId:58,tocIndex:10},{value:`// \u7701\u7565\u90E8\u5206\u65E0\u5173\u4EE3\u7801
function bailoutOnAlreadyFinishedWork(
  current: Fiber | null,
  workInProgress: Fiber,
  renderLanes: Lanes,
): Fiber | null {
  if (!includesSomeLane(renderLanes, workInProgress.childLanes)) {
    // \u6E32\u67D3\u4F18\u5148\u7EA7\u4E0D\u5305\u62EC workInProgress.childLanes, \u8868\u660E\u5B50\u8282\u70B9\u4E5F\u65E0\u9700\u66F4\u65B0. \u8FD4\u56DEnull, \u76F4\u63A5\u8FDB\u5165\u56DE\u6EAF\u9636\u6BB5.
    return null;
  } else {
    // \u672Cfiber\u867D\u7136\u4E0D\u7528\u66F4\u65B0, \u4F46\u662F\u5B50\u8282\u70B9\u9700\u8981\u66F4\u65B0. clone\u5E76\u8FD4\u56DE\u5B50\u8282\u70B9
    cloneChildFibers(current, workInProgress);
    return workInProgress.child;
  }
}
`,paraId:59,tocIndex:10},{value:"\u6CE8\u610F: ",paraId:60,tocIndex:10},{value:"cloneChildFibers",paraId:60,tocIndex:10},{value:"\u5185\u90E8\u8C03\u7528",paraId:60,tocIndex:10},{value:"createWorkInProgress",paraId:60,tocIndex:10},{value:", \u5728\u6784\u9020",paraId:60,tocIndex:10},{value:"fiber",paraId:60,tocIndex:10},{value:"\u8282\u70B9\u65F6\u4F1A\u4F18\u5148\u590D\u7528",paraId:60,tocIndex:10},{value:"workInProgress.alternate",paraId:60,tocIndex:10},{value:"(\u4E0D\u5F00\u8F9F\u65B0\u7684\u5185\u5B58\u7A7A\u95F4), \u5426\u5219\u624D\u4F1A\u521B\u5EFA\u65B0\u7684",paraId:60,tocIndex:10},{value:"fiber",paraId:60,tocIndex:10},{value:"\u5BF9\u8C61.",paraId:60,tocIndex:10},{value:"updateXXX",paraId:53},{value:"updateXXX",paraId:61,tocIndex:11},{value:"\u51FD\u6570(\u5982: updateHostRoot, updateClassComponent \u7B49)\u7684\u4E3B\u5E72\u903B\u8F91\u4E0E",paraId:61,tocIndex:11},{value:"\u521D\u6B21\u6784\u9020",paraId:61,tocIndex:11},{value:"\u8FC7\u7A0B\u5B8C\u5168\u4E00\u81F4, \u603B\u7684\u76EE\u7684\u662F\u4E3A\u4E86\u5411\u4E0B\u751F\u6210\u5B50\u8282\u70B9, \u5E76\u5728\u8FD9\u4E2A\u8FC7\u7A0B\u4E2D\u8C03\u7528",paraId:61,tocIndex:11},{value:"reconcileChildren",paraId:61,tocIndex:11},{value:"\u8C03\u548C\u51FD\u6570, \u53EA\u8981",paraId:61,tocIndex:11},{value:"fiber",paraId:61,tocIndex:11},{value:"\u8282\u70B9\u6709\u526F\u4F5C\u7528, \u5C31\u4F1A\u628A\u7279\u6B8A\u64CD\u4F5C\u8BBE\u7F6E\u5230",paraId:61,tocIndex:11},{value:"fiber.flags",paraId:61,tocIndex:11},{value:"(\u5982:",paraId:61,tocIndex:11},{value:"\u8282\u70B9ref",paraId:61,tocIndex:11},{value:",",paraId:61,tocIndex:11},{value:"class\u7EC4\u4EF6\u7684\u751F\u547D\u5468\u671F",paraId:61,tocIndex:11},{value:",",paraId:61,tocIndex:11},{value:"function\u7EC4\u4EF6\u7684hook",paraId:61,tocIndex:11},{value:",",paraId:61,tocIndex:11},{value:"\u8282\u70B9\u5220\u9664",paraId:61,tocIndex:11},{value:"\u7B49).",paraId:61,tocIndex:11},{value:"\u5BF9\u6BD4\u66F4\u65B0",paraId:62,tocIndex:11},{value:"\u8FC7\u7A0B\u7684\u4E0D\u540C\u4E4B\u5904:",paraId:62,tocIndex:11},{value:"bailoutOnAlreadyFinishedWork",paraId:63,tocIndex:11},{value:"\u5BF9\u6BD4\u66F4\u65B0",paraId:64,tocIndex:11},{value:"\u65F6\u5982\u679C\u9047\u5230\u5F53\u524D\u8282\u70B9\u65E0\u9700\u66F4\u65B0(\u5982: ",paraId:64,tocIndex:11},{value:"class",paraId:64,tocIndex:11},{value:"\u7C7B\u578B\u7684\u8282\u70B9\u4E14",paraId:64,tocIndex:11},{value:"shouldComponentUpdate",paraId:64,tocIndex:11},{value:"\u8FD4\u56DE",paraId:64,tocIndex:11},{value:"false",paraId:64,tocIndex:11},{value:"), \u4F1A\u518D\u6B21\u8FDB\u5165",paraId:64,tocIndex:11},{value:"bailout",paraId:64,tocIndex:11},{value:"\u903B\u8F91.",paraId:64,tocIndex:11},{value:"reconcileChildren",paraId:63,tocIndex:11},{value:`\u8C03\u548C\u51FD\u6570
`,paraId:63,tocIndex:11},{value:"\u8C03\u548C\u51FD\u6570\u662F",paraId:65,tocIndex:11},{value:"updateXXX",paraId:65,tocIndex:11},{value:"\u51FD\u6570\u4E2D\u7684\u4E00\u9879\u91CD\u8981\u903B\u8F91, \u5B83\u7684\u4F5C\u7528\u662F\u5411\u4E0B\u751F\u6210\u5B50\u8282\u70B9, \u5E76\u8BBE\u7F6E",paraId:65,tocIndex:11},{value:"fiber.flags",paraId:65,tocIndex:11},{value:".",paraId:65,tocIndex:11},{value:"\u521D\u6B21\u521B\u5EFA",paraId:65,tocIndex:11},{value:"\u65F6",paraId:65,tocIndex:11},{value:"fiber",paraId:65,tocIndex:11},{value:"\u8282\u70B9\u6CA1\u6709\u6BD4\u8F83\u5BF9\u8C61, \u6240\u4EE5\u5728\u5411\u4E0B\u751F\u6210\u5B50\u8282\u70B9\u7684\u65F6\u5019\u6CA1\u6709\u4EFB\u4F55\u591A\u4F59\u7684\u903B\u8F91, \u53EA\u7BA1\u521B\u5EFA\u5C31\u884C.",paraId:65,tocIndex:11},{value:"\u5BF9\u6BD4\u66F4\u65B0",paraId:65,tocIndex:11},{value:"\u65F6\u9700\u8981\u628A",paraId:65,tocIndex:11},{value:"ReactElement",paraId:65,tocIndex:11},{value:"\u5BF9\u8C61\u4E0E",paraId:65,tocIndex:11},{value:"\u65E7fiber",paraId:65,tocIndex:11},{value:"\u5BF9\u8C61\u8FDB\u884C\u6BD4\u8F83, \u6765\u5224\u65AD\u662F\u5426\u9700\u8981\u590D\u7528",paraId:65,tocIndex:11},{value:"\u65E7fiber",paraId:65,tocIndex:11},{value:"\u5BF9\u8C61.",paraId:65,tocIndex:11},{value:"\u6CE8: \u672C\u8282\u7684\u91CD\u70B9\u662F",paraId:66,tocIndex:11},{value:"fiber\u6811\u6784\u9020",paraId:66,tocIndex:11},{value:", \u5728",paraId:66,tocIndex:11},{value:"\u5BF9\u6BD4\u66F4\u65B0",paraId:66,tocIndex:11},{value:"\u8FC7\u7A0B\u4E2D",paraId:66,tocIndex:11},{value:"reconcileChildren()\u51FD\u6570",paraId:66,tocIndex:11},{value:"\u5B9E\u73B0\u7684",paraId:66,tocIndex:11},{value:"diff",paraId:66,tocIndex:11},{value:"\u7B97\u6CD5\u5341\u5206\u91CD\u8981, \u4F46\u662F\u5B83\u53EA\u662F\u5904\u4E8E\u7B97\u6CD5\u5C42\u9762, \u5BF9\u4E8E",paraId:66,tocIndex:11},{value:"diff",paraId:66,tocIndex:11},{value:"\u7B97\u6CD5\u7684\u5B9E\u73B0,\u5728",paraId:66,tocIndex:11},{value:"React \u7B97\u6CD5\u4E4B\u8C03\u548C\u7B97\u6CD5",paraId:67,tocIndex:11},{value:"\u4E2D\u5355\u72EC\u5206\u6790.",paraId:66,tocIndex:11},{value:"\u672C\u8282\u53EA\u9700\u8981\u5148\u4E86\u89E3\u8C03\u548C\u51FD\u6570\u76EE\u7684:",paraId:68,tocIndex:11},{value:"\u7ED9\u65B0\u589E,\u79FB\u52A8,\u548C\u5220\u9664\u8282\u70B9\u8BBE\u7F6E",paraId:69,tocIndex:11},{value:"fiber.flags",paraId:69,tocIndex:11},{value:"(\u65B0\u589E,\u79FB\u52A8: ",paraId:69,tocIndex:11},{value:"Placement",paraId:69,tocIndex:11},{value:", \u5220\u9664: ",paraId:69,tocIndex:11},{value:"Deletion",paraId:69,tocIndex:11},{value:")",paraId:69,tocIndex:11},{value:"\u5982\u679C\u662F\u9700\u8981\u5220\u9664\u7684",paraId:69,tocIndex:11},{value:"fiber",paraId:69,tocIndex:11},{value:", ",paraId:69,tocIndex:11},{value:"\u9664\u4E86\u81EA\u8EAB\u6253\u4E0A",paraId:69,tocIndex:11},{value:"Deletion",paraId:69,tocIndex:11},{value:"\u4E4B\u5916, \u8FD8\u8981\u5C06\u5176\u6DFB\u52A0\u5230\u7236\u8282\u70B9\u7684",paraId:69,tocIndex:11},{value:"effects",paraId:69,tocIndex:11},{value:"\u94FE\u8868\u4E2D",paraId:69,tocIndex:11},{value:"(\u6B63\u5E38\u526F\u4F5C\u7528\u961F\u5217\u7684\u5904\u7406\u662F\u5728",paraId:69,tocIndex:11},{value:"completeWork",paraId:69,tocIndex:11},{value:"\u51FD\u6570, \u4F46\u662F\u8BE5\u8282\u70B9(\u88AB\u5220\u9664)\u4F1A\u8131\u79BB",paraId:69,tocIndex:11},{value:"fiber",paraId:69,tocIndex:11},{value:"\u6811, \u4E0D\u4F1A\u518D\u8FDB\u5165",paraId:69,tocIndex:11},{value:"completeWork",paraId:69,tocIndex:11},{value:"\u9636\u6BB5, \u6240\u4EE5\u5728",paraId:69,tocIndex:11},{value:"beginWork",paraId:69,tocIndex:11},{value:"\u9636\u6BB5\u63D0\u524D\u52A0\u5165\u526F\u4F5C\u7528\u961F\u5217).",paraId:69,tocIndex:11},{value:"completeUnitOfWork(unitOfWork)\u51FD\u6570",paraId:70,tocIndex:12},{value:"(",paraId:70,tocIndex:12},{value:"\u6E90\u7801\u5730\u5740",paraId:70,tocIndex:12},{value:")\u5728",paraId:70,tocIndex:12},{value:"\u521D\u6B21\u521B\u5EFA",paraId:70,tocIndex:12},{value:"\u548C",paraId:70,tocIndex:12},{value:"\u5BF9\u6BD4\u66F4\u65B0",paraId:70,tocIndex:12},{value:"\u903B\u8F91\u4E00\u81F4, \u90FD\u662F\u5904\u7406",paraId:70,tocIndex:12},{value:"beginWork",paraId:70,tocIndex:12},{value:" \u9636\u6BB5\u5DF2\u7ECF\u521B\u5EFA\u51FA\u6765\u7684 ",paraId:70,tocIndex:12},{value:"fiber",paraId:70,tocIndex:12},{value:" \u8282\u70B9, \u6700\u540E\u521B\u5EFA(\u66F4\u65B0)DOM \u5BF9\u8C61, \u5E76\u4E0A\u79FB\u526F\u4F5C\u7528\u961F\u5217.",paraId:70,tocIndex:12},{value:"\u5728\u8FD9\u91CC\u6211\u4EEC\u91CD\u70B9\u5173\u6CE8",paraId:71,tocIndex:12},{value:"completeWork",paraId:71,tocIndex:12},{value:"\u51FD\u6570\u4E2D, ",paraId:71,tocIndex:12},{value:"current !== null",paraId:71,tocIndex:12},{value:"\u7684\u60C5\u51B5:",paraId:71,tocIndex:12},{value:`// ...\u7701\u7565\u65E0\u5173\u4EE3\u7801
function completeWork(
  current: Fiber | null,
  workInProgress: Fiber,
  renderLanes: Lanes,
): Fiber | null {
  const newProps = workInProgress.pendingProps;
  switch (workInProgress.tag) {
    case HostComponent: {
      // \u975E\u6587\u672C\u8282\u70B9
      popHostContext(workInProgress);
      const rootContainerInstance = getRootHostContainer();
      const type = workInProgress.type;
      if (current !== null && workInProgress.stateNode != null) {
        // \u5904\u7406\u6539\u52A8
        updateHostComponent(
          current,
          workInProgress,
          type,
          newProps,
          rootContainerInstance,
        );
        if (current.ref !== workInProgress.ref) {
          markRef(workInProgress);
        }
      } else {
        // ...\u7701\u7565\u65E0\u5173\u4EE3\u7801
      }
      return null;
    }
    case HostText: {
      // \u6587\u672C\u8282\u70B9
      const newText = newProps;
      if (current && workInProgress.stateNode != null) {
        const oldText = current.memoizedProps;
        // \u5904\u7406\u6539\u52A8
        updateHostText(current, workInProgress, oldText, newText);
      } else {
        // ...\u7701\u7565\u65E0\u5173\u4EE3\u7801
      }
      return null;
    }
  }
}
`,paraId:72,tocIndex:12},{value:`updateHostComponent = function (
  current: Fiber,
  workInProgress: Fiber,
  type: Type,
  newProps: Props,
  rootContainerInstance: Container,
) {
  const oldProps = current.memoizedProps;
  if (oldProps === newProps) {
    return;
  }
  const instance: Instance = workInProgress.stateNode;
  const currentHostContext = getHostContext();
  const updatePayload = prepareUpdate(
    instance,
    type,
    oldProps,
    newProps,
    rootContainerInstance,
    currentHostContext,
  );
  workInProgress.updateQueue = (updatePayload: any);
  // \u5982\u679C\u6709\u5C5E\u6027\u53D8\u52A8, \u8BBE\u7F6Efiber.flags |= Update, \u7B49\u5F85\`commit\`\u9636\u6BB5\u7684\u5904\u7406
  if (updatePayload) {
    markUpdate(workInProgress);
  }
};
updateHostText = function (
  current: Fiber,
  workInProgress: Fiber,
  oldText: string,
  newText: string,
) {
  // \u5982\u679C\u6709\u5C5E\u6027\u53D8\u52A8, \u8BBE\u7F6Efiber.flags |= Update, \u7B49\u5F85\`commit\`\u9636\u6BB5\u7684\u5904\u7406
  if (oldText !== newText) {
    markUpdate(workInProgress);
  }
};
`,paraId:73,tocIndex:12},{value:"\u53EF\u4EE5\u770B\u5230\u5728\u66F4\u65B0\u8FC7\u7A0B\u4E2D, \u5982\u679C DOM \u5C5E\u6027\u6709\u53D8\u5316, \u4E0D\u4F1A\u518D\u6B21\u65B0\u5EFA DOM \u5BF9\u8C61, \u800C\u662F\u8BBE\u7F6E",paraId:74,tocIndex:12},{value:"fiber.flags |= Update",paraId:74,tocIndex:12},{value:", \u7B49\u5F85",paraId:74,tocIndex:12},{value:"commit",paraId:74,tocIndex:12},{value:"\u9636\u6BB5\u5904\u7406(",paraId:74,tocIndex:12},{value:"\u6E90\u7801\u94FE\u63A5",paraId:74,tocIndex:12},{value:").",paraId:74,tocIndex:12},{value:"\u9488\u5BF9\u672C\u8282\u7684\u793A\u4F8B\u4EE3\u7801, \u5C06\u6574\u4E2A",paraId:75,tocIndex:13},{value:"fiber",paraId:75,tocIndex:13},{value:"\u6811\u6784\u9020\u8FC7\u7A0B\u8868\u793A\u51FA\u6765:",paraId:75,tocIndex:13},{value:"\u6784\u9020\u524D:",paraId:76,tocIndex:13},{value:"\u5728\u4E0A\u6587\u5DF2\u7ECF\u8BF4\u660E, \u8FDB\u5165\u5FAA\u73AF\u6784\u9020\u524D\u4F1A\u8C03\u7528",paraId:77,tocIndex:13},{value:"prepareFreshStack",paraId:77,tocIndex:13},{value:"\u5237\u65B0\u6808\u5E27, \u5728\u8FDB\u5165",paraId:77,tocIndex:13},{value:"fiber\u6811\u6784\u9020",paraId:77,tocIndex:13},{value:"\u5FAA\u73AF\u4E4B\u524D, \u4FDD\u6301\u8FD9\u8FD9\u4E2A\u521D\u59CB\u5316\u72B6\u6001:",paraId:77,tocIndex:13},{value:"performUnitOfWork",paraId:78,tocIndex:13},{value:"\u7B2C 1 \u6B21\u8C03\u7528(\u53EA\u6267\u884C",paraId:78,tocIndex:13},{value:"beginWork",paraId:78,tocIndex:13},{value:"):",paraId:78,tocIndex:13},{value:"\u6267\u884C\u524D: ",paraId:79,tocIndex:13},{value:"workInProgress",paraId:79,tocIndex:13},{value:"\u6307\u5411",paraId:79,tocIndex:13},{value:"HostRootFiber.alternate",paraId:79,tocIndex:13},{value:"\u5BF9\u8C61, \u6B64\u65F6",paraId:79,tocIndex:13},{value:"current = workInProgress.alternate",paraId:79,tocIndex:13},{value:"\u6307\u5411\u5F53\u524D\u9875\u9762\u5BF9\u5E94\u7684",paraId:79,tocIndex:13},{value:"fiber",paraId:79,tocIndex:13},{value:"\u6811.",paraId:79,tocIndex:13},{value:`\u6267\u884C\u8FC7\u7A0B:
`,paraId:79,tocIndex:13},{value:"\u56E0\u4E3A",paraId:80,tocIndex:13},{value:"current !== null",paraId:80,tocIndex:13},{value:"\u4E14\u5F53\u524D\u8282\u70B9",paraId:80,tocIndex:13},{value:"fiber.lanes",paraId:80,tocIndex:13},{value:"\u4E0D\u5728",paraId:80,tocIndex:13},{value:"\u6E32\u67D3\u4F18\u5148\u7EA7",paraId:80,tocIndex:13},{value:"\u8303\u56F4\u5185, \u6545\u8FDB\u5165",paraId:80,tocIndex:13},{value:"bailoutOnAlreadyFinishedWork",paraId:80,tocIndex:13},{value:"\u903B\u8F91",paraId:80,tocIndex:13},{value:"\u53C8\u56E0\u4E3A",paraId:80,tocIndex:13},{value:"fiber.childLanes",paraId:80,tocIndex:13},{value:"\u5904\u4E8E",paraId:80,tocIndex:13},{value:"\u6E32\u67D3\u4F18\u5148\u7EA7",paraId:80,tocIndex:13},{value:"\u8303\u56F4\u5185, \u8BC1\u660E",paraId:80,tocIndex:13},{value:"child",paraId:80,tocIndex:13},{value:"\u8282\u70B9\u9700\u8981\u66F4\u65B0, \u514B\u9686",paraId:80,tocIndex:13},{value:"workInProgress.child",paraId:80,tocIndex:13},{value:"\u8282\u70B9.",paraId:80,tocIndex:13},{value:"clone",paraId:80,tocIndex:13},{value:"\u4E4B\u540E, ",paraId:80,tocIndex:13},{value:"\u65B0fiber",paraId:80,tocIndex:13},{value:"\u8282\u70B9\u4F1A\u4E22\u5F03",paraId:80,tocIndex:13},{value:"\u65E7fiber",paraId:80,tocIndex:13},{value:"\u4E0A\u7684\u6807\u5FD7\u4F4D(",paraId:80,tocIndex:13},{value:"flags",paraId:80,tocIndex:13},{value:")\u548C\u526F\u4F5C\u7528(",paraId:80,tocIndex:13},{value:"effects",paraId:80,tocIndex:13},{value:"), \u5176\u4ED6\u5C5E\u6027\u4F1A\u7EE7\u7EED\u4FDD\u7559.",paraId:80,tocIndex:13},{value:"\u6267\u884C\u540E: \u8FD4\u56DE\u88AB",paraId:79,tocIndex:13},{value:"clone",paraId:79,tocIndex:13},{value:"\u7684\u4E0B\u7EA7\u8282\u70B9",paraId:79,tocIndex:13},{value:"fiber(<App/>)",paraId:79,tocIndex:13},{value:", \u79FB\u52A8",paraId:79,tocIndex:13},{value:"workInProgress",paraId:79,tocIndex:13},{value:"\u6307\u5411\u5B50\u8282\u70B9",paraId:79,tocIndex:13},{value:"fiber(<App/>)",paraId:79,tocIndex:13},{value:"performUnitOfWork",paraId:81,tocIndex:13},{value:"\u7B2C 2 \u6B21\u8C03\u7528(\u53EA\u6267\u884C",paraId:81,tocIndex:13},{value:"beginWork",paraId:81,tocIndex:13},{value:"):",paraId:81,tocIndex:13},{value:"\u6267\u884C\u524D: ",paraId:82,tocIndex:13},{value:"workInProgress",paraId:82,tocIndex:13},{value:"\u6307\u5411",paraId:82,tocIndex:13},{value:"fiber(<App/>)",paraId:82,tocIndex:13},{value:"\u8282\u70B9, \u4E14",paraId:82,tocIndex:13},{value:"current = workInProgress.alternate",paraId:82,tocIndex:13},{value:"\u6709\u503C",paraId:82,tocIndex:13},{value:`\u6267\u884C\u8FC7\u7A0B:
`,paraId:82,tocIndex:13},{value:"\u5F53\u524D\u8282\u70B9",paraId:83,tocIndex:13},{value:"fiber.lanes",paraId:83,tocIndex:13},{value:"\u5904\u4E8E",paraId:83,tocIndex:13},{value:"\u6E32\u67D3\u4F18\u5148\u7EA7",paraId:83,tocIndex:13},{value:"\u8303\u56F4\u5185, \u4F1A\u8FDB\u5165",paraId:83,tocIndex:13},{value:"updateClassComponent()",paraId:83,tocIndex:13},{value:"\u51FD\u6570",paraId:83,tocIndex:13},{value:"\u5728",paraId:83,tocIndex:13},{value:"updateClassComponent()",paraId:83,tocIndex:13},{value:"\u51FD\u6570\u4E2D, \u8C03\u7528",paraId:83,tocIndex:13},{value:"reconcileChildren()",paraId:83,tocIndex:13},{value:"\u751F\u6210\u4E0B\u7EA7\u5B50\u8282\u70B9.",paraId:83,tocIndex:13},{value:"\u6267\u884C\u540E: \u8FD4\u56DE\u4E0B\u7EA7\u8282\u70B9",paraId:82,tocIndex:13},{value:"fiber(<Header/>)",paraId:82,tocIndex:13},{value:", \u79FB\u52A8",paraId:82,tocIndex:13},{value:"workInProgress",paraId:82,tocIndex:13},{value:"\u6307\u5411\u5B50\u8282\u70B9",paraId:82,tocIndex:13},{value:"fiber(<Header/>)",paraId:82,tocIndex:13},{value:"performUnitOfWork",paraId:84,tocIndex:13},{value:"\u7B2C 3 \u6B21\u8C03\u7528(\u6267\u884C",paraId:84,tocIndex:13},{value:"beginWork",paraId:84,tocIndex:13},{value:"\u548C",paraId:84,tocIndex:13},{value:"completeUnitOfWork",paraId:84,tocIndex:13},{value:"):",paraId:84,tocIndex:13},{value:"beginWork",paraId:85,tocIndex:13},{value:"\u6267\u884C\u524D: ",paraId:85,tocIndex:13},{value:"workInProgress",paraId:85,tocIndex:13},{value:"\u6307\u5411",paraId:85,tocIndex:13},{value:"fiber(<Header/>)",paraId:85,tocIndex:13},{value:", \u4E14",paraId:85,tocIndex:13},{value:"current = workInProgress.alternate",paraId:85,tocIndex:13},{value:"\u6709\u503C",paraId:85,tocIndex:13},{value:"beginWork",paraId:85,tocIndex:13},{value:`\u6267\u884C\u8FC7\u7A0B:
`,paraId:85,tocIndex:13},{value:"\u5F53\u524D\u8282\u70B9",paraId:86,tocIndex:13},{value:"fiber.lanes",paraId:86,tocIndex:13},{value:"\u5904\u4E8E",paraId:86,tocIndex:13},{value:"\u6E32\u67D3\u4F18\u5148\u7EA7",paraId:86,tocIndex:13},{value:"\u8303\u56F4\u5185, \u4F1A\u8FDB\u5165",paraId:86,tocIndex:13},{value:"updateClassComponent()",paraId:86,tocIndex:13},{value:"\u51FD\u6570",paraId:86,tocIndex:13},{value:"\u5728",paraId:86,tocIndex:13},{value:"updateClassComponent()",paraId:86,tocIndex:13},{value:"\u51FD\u6570\u4E2D, \u7531\u4E8E\u6B64\u7EC4\u4EF6\u662F",paraId:86,tocIndex:13},{value:"PureComponent",paraId:86,tocIndex:13},{value:", ",paraId:86,tocIndex:13},{value:"shouldComponentUpdate",paraId:86,tocIndex:13},{value:"\u5224\u5B9A\u4E3A",paraId:86,tocIndex:13},{value:"false",paraId:86,tocIndex:13},{value:",\u6545\u8FDB\u5165",paraId:86,tocIndex:13},{value:"bailoutOnAlreadyFinishedWork",paraId:86,tocIndex:13},{value:"\u903B\u8F91.",paraId:86,tocIndex:13},{value:"\u53C8\u56E0\u4E3A",paraId:86,tocIndex:13},{value:"fiber.childLanes",paraId:86,tocIndex:13},{value:"\u4E0D\u5728",paraId:86,tocIndex:13},{value:"\u6E32\u67D3\u4F18\u5148\u7EA7",paraId:86,tocIndex:13},{value:"\u8303\u56F4\u5185, \u8BC1\u660E",paraId:86,tocIndex:13},{value:"child",paraId:86,tocIndex:13},{value:"\u8282\u70B9\u4E5F\u4E0D\u9700\u8981\u66F4\u65B0",paraId:86,tocIndex:13},{value:"beginWork",paraId:85,tocIndex:13},{value:"\u6267\u884C\u540E: \u56E0\u4E3A\u5B8C\u5168\u6EE1\u8DB3",paraId:85,tocIndex:13},{value:"bailout",paraId:85,tocIndex:13},{value:"\u903B\u8F91, \u8FD4\u56DE",paraId:85,tocIndex:13},{value:"null",paraId:85,tocIndex:13},{value:". \u6240\u4EE5\u8FDB\u5165",paraId:85,tocIndex:13},{value:"completeUnitOfWork(unitOfWork)",paraId:85,tocIndex:13},{value:"\u51FD\u6570, \u4F20\u5165\u7684\u53C2\u6570",paraId:85,tocIndex:13},{value:"unitOfWork",paraId:85,tocIndex:13},{value:"\u5B9E\u9645\u4E0A\u5C31\u662F",paraId:85,tocIndex:13},{value:"workInProgress",paraId:85,tocIndex:13},{value:"(\u6B64\u65F6\u6307\u5411",paraId:85,tocIndex:13},{value:"fiber(<Header/>)",paraId:85,tocIndex:13},{value:")",paraId:85,tocIndex:13},{value:"completeUnitOfWork",paraId:87,tocIndex:13},{value:"\u6267\u884C\u524D: ",paraId:87,tocIndex:13},{value:"workInProgress",paraId:87,tocIndex:13},{value:"\u6307\u5411",paraId:87,tocIndex:13},{value:"fiber(<Header/>)",paraId:87,tocIndex:13},{value:"completeUnitOfWork",paraId:87,tocIndex:13},{value:"\u6267\u884C\u8FC7\u7A0B: \u4EE5",paraId:87,tocIndex:13},{value:"fiber(<Header/>)",paraId:87,tocIndex:13},{value:"\u4E3A\u8D77\u70B9, \u5411\u4E0A\u56DE\u6EAF",paraId:87,tocIndex:13},{value:"completeUnitOfWork",paraId:88,tocIndex:13},{value:"\u7B2C 1 \u6B21\u5FAA\u73AF:",paraId:88,tocIndex:13},{value:"\u6267\u884C",paraId:89,tocIndex:13},{value:"completeWork",paraId:89,tocIndex:13},{value:"\u51FD\u6570: ",paraId:89,tocIndex:13},{value:"class",paraId:89,tocIndex:13},{value:"\u7C7B\u578B\u7684\u7EC4\u4EF6\u65E0\u9700\u5904\u7406.",paraId:89,tocIndex:13},{value:"\u4E0A\u79FB\u526F\u4F5C\u7528\u961F\u5217: \u7531\u4E8E\u672C\u8282\u70B9",paraId:89,tocIndex:13},{value:"fiber(header)",paraId:89,tocIndex:13},{value:"\u6CA1\u6709\u526F\u4F5C\u7528(",paraId:89,tocIndex:13},{value:"fiber.flags = 0",paraId:89,tocIndex:13},{value:"), \u6240\u4EE5\u6267\u884C\u4E4B\u540E\u526F\u4F5C\u7528\u961F\u5217\u6CA1\u6709\u5B9E\u8D28\u53D8\u5316(\u76EE\u524D\u4E3A\u7A7A).",paraId:89,tocIndex:13},{value:"\u5411\u4E0A\u56DE\u6EAF: \u7531\u4E8E\u8FD8\u6709\u5144\u5F1F\u8282\u70B9, \u628A",paraId:89,tocIndex:13},{value:"workInProgress",paraId:89,tocIndex:13},{value:"\u6307\u5411\u4E0B\u4E00\u4E2A\u5144\u5F1F\u8282\u70B9",paraId:89,tocIndex:13},{value:"fiber(button)",paraId:89,tocIndex:13},{value:", \u9000\u51FA",paraId:89,tocIndex:13},{value:"completeUnitOfWork",paraId:89,tocIndex:13},{value:".",paraId:89,tocIndex:13},{value:"performUnitOfWork",paraId:90,tocIndex:13},{value:"\u7B2C 4 \u6B21\u8C03\u7528(\u6267\u884C",paraId:90,tocIndex:13},{value:"beginWork",paraId:90,tocIndex:13},{value:"\u548C",paraId:90,tocIndex:13},{value:"completeUnitOfWork",paraId:90,tocIndex:13},{value:"):",paraId:90,tocIndex:13},{value:"beginWork",paraId:91,tocIndex:13},{value:"\u6267\u884C\u8FC7\u7A0B: \u8C03\u7528",paraId:91,tocIndex:13},{value:"updateHostComponent",paraId:91,tocIndex:13},{value:"\u672C\u793A\u4F8B\u4E2D",paraId:92,tocIndex:13},{value:"button",paraId:92,tocIndex:13},{value:"\u7684\u5B50\u8282\u70B9\u662F\u4E00\u4E2A",paraId:92,tocIndex:13},{value:"\u76F4\u63A5\u6587\u672C\u8282\u70B9",paraId:92,tocIndex:13},{value:",\u8BBE\u7F6E",paraId:92,tocIndex:13},{value:"nextChildren = null",paraId:92,tocIndex:13},{value:"(\u6E90\u7801\u6CE8\u91CA\u7684\u89E3\u91CA\u662F\u4E0D\u7528\u5728\u5F00\u8F9F\u5185\u5B58\u53BB\u521B\u5EFA\u4E00\u4E2A\u6587\u672C\u8282\u70B9, \u540C\u65F6\u8FD8\u80FD\u51CF\u5C11\u5411\u4E0B\u904D\u5386).",paraId:92,tocIndex:13},{value:"\u7531\u4E8E",paraId:92,tocIndex:13},{value:"nextChildren = null",paraId:92,tocIndex:13},{value:", \u7ECF\u8FC7",paraId:92,tocIndex:13},{value:"reconcileChildren",paraId:92,tocIndex:13},{value:"\u9636\u6BB5\u5904\u7406\u540E, \u8FD4\u56DE\u503C\u4E5F\u662F",paraId:92,tocIndex:13},{value:"null",paraId:92,tocIndex:13},{value:"beginWork",paraId:93,tocIndex:13},{value:"\u6267\u884C\u540E: \u7531\u4E8E\u4E0B\u7EA7\u8282\u70B9\u4E3A",paraId:93,tocIndex:13},{value:"null",paraId:93,tocIndex:13},{value:", \u6240\u4EE5\u8FDB\u5165",paraId:93,tocIndex:13},{value:"completeUnitOfWork(unitOfWork)",paraId:93,tocIndex:13},{value:"\u51FD\u6570, \u4F20\u5165\u7684\u53C2\u6570",paraId:93,tocIndex:13},{value:"unitOfWork",paraId:93,tocIndex:13},{value:"\u5B9E\u9645\u4E0A\u5C31\u662F",paraId:93,tocIndex:13},{value:"workInProgress",paraId:93,tocIndex:13},{value:"(\u6B64\u65F6\u6307\u5411",paraId:93,tocIndex:13},{value:"fiber(button)",paraId:93,tocIndex:13},{value:"\u8282\u70B9)",paraId:93,tocIndex:13},{value:"completeUnitOfWork",paraId:94,tocIndex:13},{value:"\u6267\u884C\u8FC7\u7A0B: \u4EE5",paraId:94,tocIndex:13},{value:"fiber(button)",paraId:94,tocIndex:13},{value:"\u4E3A\u8D77\u70B9, \u5411\u4E0A\u56DE\u6EAF",paraId:94,tocIndex:13},{value:"completeUnitOfWork",paraId:95,tocIndex:13},{value:"\u7B2C 1 \u6B21\u5FAA\u73AF:",paraId:95,tocIndex:13},{value:"\u6267\u884C",paraId:96,tocIndex:13},{value:"completeWork",paraId:96,tocIndex:13},{value:`\u51FD\u6570
`,paraId:96,tocIndex:13},{value:"\u56E0\u4E3A",paraId:97,tocIndex:13},{value:"fiber(button).stateNode != null",paraId:97,tocIndex:13},{value:", \u6240\u4EE5\u65E0\u9700\u518D\u6B21\u521B\u5EFA DOM \u5BF9\u8C61. \u53EA\u9700\u8981\u8FDB\u4E00\u6B65\u8C03\u7528",paraId:97,tocIndex:13},{value:"updateHostComponent()",paraId:97,tocIndex:13},{value:"\u8BB0\u5F55 DOM \u5C5E\u6027\u6539\u52A8\u60C5\u51B5",paraId:97,tocIndex:13},{value:"\u5728",paraId:97,tocIndex:13},{value:"updateHostComponent()",paraId:97,tocIndex:13},{value:"\u51FD\u6570\u4E2D, \u53C8\u56E0\u4E3A",paraId:97,tocIndex:13},{value:"oldProps === newProps",paraId:97,tocIndex:13},{value:", \u6240\u4EE5\u65E0\u9700\u8BB0\u5F55\u6539\u52A8\u60C5\u51B5, \u76F4\u63A5\u8FD4\u56DE",paraId:97,tocIndex:13},{value:"\u4E0A\u79FB\u526F\u4F5C\u7528\u961F\u5217: \u7531\u4E8E\u672C\u8282\u70B9",paraId:96,tocIndex:13},{value:"fiber(button)",paraId:96,tocIndex:13},{value:"\u6CA1\u6709\u526F\u4F5C\u7528(",paraId:96,tocIndex:13},{value:"fiber.flags = 0",paraId:96,tocIndex:13},{value:"), \u6240\u4EE5\u6267\u884C\u4E4B\u540E\u526F\u4F5C\u7528\u961F\u5217\u6CA1\u6709\u5B9E\u8D28\u53D8\u5316(\u76EE\u524D\u4E3A\u7A7A).",paraId:96,tocIndex:13},{value:"\u5411\u4E0A\u56DE\u6EAF: \u7531\u4E8E\u8FD8\u6709\u5144\u5F1F\u8282\u70B9, \u628A",paraId:96,tocIndex:13},{value:"workInProgress",paraId:96,tocIndex:13},{value:"\u6307\u5411\u4E0B\u4E00\u4E2A\u5144\u5F1F\u8282\u70B9",paraId:96,tocIndex:13},{value:"fiber(div)",paraId:96,tocIndex:13},{value:", \u9000\u51FA",paraId:96,tocIndex:13},{value:"completeUnitOfWork",paraId:96,tocIndex:13},{value:".",paraId:96,tocIndex:13},{value:"performUnitOfWork",paraId:98,tocIndex:13},{value:"\u7B2C 5 \u6B21\u8C03\u7528(\u6267\u884C",paraId:98,tocIndex:13},{value:"beginWork",paraId:98,tocIndex:13},{value:"):",paraId:98,tocIndex:13},{value:"\u6267\u884C\u524D: ",paraId:99,tocIndex:13},{value:"workInProgress",paraId:99,tocIndex:13},{value:"\u6307\u5411",paraId:99,tocIndex:13},{value:"fiber(div)",paraId:99,tocIndex:13},{value:"\u8282\u70B9, \u4E14",paraId:99,tocIndex:13},{value:"current = workInProgress.alternate",paraId:99,tocIndex:13},{value:"\u6709\u503C",paraId:99,tocIndex:13},{value:`\u6267\u884C\u8FC7\u7A0B:
`,paraId:99,tocIndex:13},{value:"\u5728",paraId:100,tocIndex:13},{value:"updateHostComponent()",paraId:100,tocIndex:13},{value:"\u51FD\u6570\u4E2D, \u8C03\u7528",paraId:100,tocIndex:13},{value:"reconcileChildren()",paraId:100,tocIndex:13},{value:"\u751F\u6210\u4E0B\u7EA7\u5B50\u8282\u70B9.",paraId:100,tocIndex:13},{value:"\u9700\u8981\u6CE8\u610F\u7684\u662F, \u4E0B\u7EA7\u5B50\u8282\u70B9\u662F\u4E00\u4E2A\u53EF\u8FED\u4EE3\u6570\u7EC4, \u4F1A\u628A",paraId:100,tocIndex:13},{value:"fiber.child.sibling",paraId:100,tocIndex:13},{value:"\u4E00\u8D77\u6784\u9020\u51FA\u6765, \u540C\u65F6\u6839\u636E\u9700\u8981\u8BBE\u7F6E",paraId:100,tocIndex:13},{value:"fiber.flags",paraId:100,tocIndex:13},{value:". \u5728\u672C\u4F8B\u4E2D, \u4E0B\u7EA7\u8282\u70B9\u6709\u88AB\u5220\u9664\u7684\u60C5\u51B5, \u88AB\u5220\u9664\u7684\u8282\u70B9\u4F1A\u88AB\u6DFB\u52A0\u5230\u7236\u8282\u70B9\u7684\u526F\u4F5C\u7528\u961F\u5217\u4E2D(\u5177\u4F53\u5B9E\u73B0\u65B9\u5F0F\u8BF7\u53C2\u8003",paraId:100,tocIndex:13},{value:"React \u7B97\u6CD5\u4E4B\u8C03\u548C\u7B97\u6CD5",paraId:101,tocIndex:13},{value:").",paraId:100,tocIndex:13},{value:"\u6267\u884C\u540E: \u8FD4\u56DE\u4E0B\u7EA7\u8282\u70B9",paraId:99,tocIndex:13},{value:"fiber(p)",paraId:99,tocIndex:13},{value:", \u79FB\u52A8",paraId:99,tocIndex:13},{value:"workInProgress",paraId:99,tocIndex:13},{value:"\u6307\u5411\u5B50\u8282\u70B9",paraId:99,tocIndex:13},{value:"fiber(p)",paraId:99,tocIndex:13},{value:"performUnitOfWork",paraId:102,tocIndex:13},{value:"\u7B2C 6 \u6B21\u8C03\u7528(\u6267\u884C",paraId:102,tocIndex:13},{value:"beginWork",paraId:102,tocIndex:13},{value:"\u548C",paraId:102,tocIndex:13},{value:"completeUnitOfWork",paraId:102,tocIndex:13},{value:"):",paraId:102,tocIndex:13},{value:"beginWork",paraId:103,tocIndex:13},{value:"\u6267\u884C\u8FC7\u7A0B: \u4E0E\u7B2C 4 \u6B21\u8C03\u7528\u4E2D\u6784\u5EFA",paraId:103,tocIndex:13},{value:"fiber(button)",paraId:103,tocIndex:13},{value:"\u7684\u903B\u8F91\u5B8C\u5168\u4E00\u81F4, \u56E0\u4E3A\u90FD\u662F\u76F4\u63A5\u6587\u672C\u8282\u70B9, ",paraId:103,tocIndex:13},{value:"reconcileChildren()",paraId:103,tocIndex:13},{value:"\u8FD4\u56DE\u7684\u4E0B\u7EA7\u5B50\u8282\u70B9\u4E3A null.",paraId:103,tocIndex:13},{value:"beginWork",paraId:104,tocIndex:13},{value:"\u6267\u884C\u540E: \u7531\u4E8E\u4E0B\u7EA7\u8282\u70B9\u4E3A",paraId:104,tocIndex:13},{value:"null",paraId:104,tocIndex:13},{value:", \u6240\u4EE5\u8FDB\u5165",paraId:104,tocIndex:13},{value:"completeUnitOfWork(unitOfWork)",paraId:104,tocIndex:13},{value:"\u51FD\u6570",paraId:104,tocIndex:13},{value:"completeUnitOfWork",paraId:105,tocIndex:13},{value:"\u6267\u884C\u8FC7\u7A0B: \u4EE5",paraId:105,tocIndex:13},{value:"fiber(p)",paraId:105,tocIndex:13},{value:"\u4E3A\u8D77\u70B9, \u5411\u4E0A\u56DE\u6EAF",paraId:105,tocIndex:13},{value:"completeUnitOfWork",paraId:106,tocIndex:13},{value:"\u7B2C 1 \u6B21\u5FAA\u73AF:",paraId:106,tocIndex:13},{value:"\u6267\u884C",paraId:107,tocIndex:13},{value:"completeWork",paraId:107,tocIndex:13},{value:`\u51FD\u6570
`,paraId:107,tocIndex:13},{value:"\u56E0\u4E3A",paraId:108,tocIndex:13},{value:"fiber(p).stateNode != null",paraId:108,tocIndex:13},{value:", \u6240\u4EE5\u65E0\u9700\u518D\u6B21\u521B\u5EFA DOM \u5BF9\u8C61. \u5728",paraId:108,tocIndex:13},{value:"updateHostComponent()",paraId:108,tocIndex:13},{value:"\u51FD\u6570\u4E2D, \u53C8\u56E0\u4E3A\u8282\u70B9\u5C5E\u6027\u6CA1\u6709\u53D8\u52A8, \u6240\u4EE5\u65E0\u9700\u6253\u6807\u8BB0",paraId:108,tocIndex:13},{value:"\u4E0A\u79FB\u526F\u4F5C\u7528\u961F\u5217: \u672C\u8282\u70B9",paraId:107,tocIndex:13},{value:"fiber(p)",paraId:107,tocIndex:13},{value:"\u6CA1\u6709\u526F\u4F5C\u7528(",paraId:107,tocIndex:13},{value:"fiber.flags = 0",paraId:107,tocIndex:13},{value:").",paraId:107,tocIndex:13},{value:"\u5411\u4E0A\u56DE\u6EAF: \u7531\u4E8E\u8FD8\u6709\u5144\u5F1F\u8282\u70B9, \u628A",paraId:107,tocIndex:13},{value:"workInProgress",paraId:107,tocIndex:13},{value:"\u6307\u5411\u4E0B\u4E00\u4E2A\u5144\u5F1F\u8282\u70B9",paraId:107,tocIndex:13},{value:"fiber(p)",paraId:107,tocIndex:13},{value:", \u9000\u51FA",paraId:107,tocIndex:13},{value:"completeUnitOfWork",paraId:107,tocIndex:13},{value:".",paraId:107,tocIndex:13},{value:"performUnitOfWork",paraId:109,tocIndex:13},{value:"\u7B2C 7 \u6B21\u8C03\u7528(\u6267\u884C",paraId:109,tocIndex:13},{value:"beginWork",paraId:109,tocIndex:13},{value:"\u548C",paraId:109,tocIndex:13},{value:"completeUnitOfWork",paraId:109,tocIndex:13},{value:"):",paraId:109,tocIndex:13},{value:"beginWork",paraId:110,tocIndex:13},{value:"\u6267\u884C\u8FC7\u7A0B: \u4E0E\u7B2C 4 \u6B21\u8C03\u7528\u4E2D\u6784\u5EFA",paraId:110,tocIndex:13},{value:"fiber(button)",paraId:110,tocIndex:13},{value:"\u7684\u903B\u8F91\u5B8C\u5168\u4E00\u81F4, \u56E0\u4E3A\u90FD\u662F\u76F4\u63A5\u6587\u672C\u8282\u70B9, ",paraId:110,tocIndex:13},{value:"reconcileChildren()",paraId:110,tocIndex:13},{value:"\u8FD4\u56DE\u7684\u4E0B\u7EA7\u5B50\u8282\u70B9\u4E3A null.",paraId:110,tocIndex:13},{value:"beginWork",paraId:111,tocIndex:13},{value:"\u6267\u884C\u540E: \u7531\u4E8E\u4E0B\u7EA7\u8282\u70B9\u4E3A",paraId:111,tocIndex:13},{value:"null",paraId:111,tocIndex:13},{value:", \u6240\u4EE5\u8FDB\u5165",paraId:111,tocIndex:13},{value:"completeUnitOfWork(unitOfWork)",paraId:111,tocIndex:13},{value:"\u51FD\u6570",paraId:111,tocIndex:13},{value:"completeUnitOfWork",paraId:112,tocIndex:13},{value:"\u6267\u884C\u8FC7\u7A0B: \u4EE5",paraId:112,tocIndex:13},{value:"fiber(p)",paraId:112,tocIndex:13},{value:"\u4E3A\u8D77\u70B9, \u5411\u4E0A\u56DE\u6EAF",paraId:112,tocIndex:13},{value:"completeUnitOfWork",paraId:113,tocIndex:13},{value:"\u7B2C 1 \u6B21\u5FAA\u73AF:",paraId:113,tocIndex:13},{value:"\u6267\u884C",paraId:114,tocIndex:13},{value:"completeWork",paraId:114,tocIndex:13},{value:"\u51FD\u6570:",paraId:114,tocIndex:13},{value:"\u56E0\u4E3A",paraId:115,tocIndex:13},{value:"fiber(p).stateNode != null",paraId:115,tocIndex:13},{value:", \u6240\u4EE5\u65E0\u9700\u518D\u6B21\u521B\u5EFA DOM \u5BF9\u8C61. \u5728",paraId:115,tocIndex:13},{value:"updateHostComponent()",paraId:115,tocIndex:13},{value:"\u51FD\u6570\u4E2D, \u53C8\u56E0\u4E3A\u8282\u70B9\u5C5E\u6027\u6CA1\u6709\u53D8\u52A8, \u6240\u4EE5\u65E0\u9700\u6253\u6807\u8BB0",paraId:115,tocIndex:13},{value:"\u4E0A\u79FB\u526F\u4F5C\u7528\u961F\u5217: \u672C\u8282\u70B9",paraId:116,tocIndex:13},{value:"fiber(p)",paraId:116,tocIndex:13},{value:"\u6709\u526F\u4F5C\u7528(",paraId:116,tocIndex:13},{value:"fiber.flags = Placement",paraId:116,tocIndex:13},{value:"), \u9700\u8981\u5C06\u5176\u6DFB\u52A0\u5230\u7236\u8282\u70B9\u7684\u526F\u4F5C\u7528\u961F\u5217\u4E4B\u540E.",paraId:116,tocIndex:13},{value:"\u5411\u4E0A\u56DE\u6EAF: \u7531\u4E8E\u8FD8\u6709\u5144\u5F1F\u8282\u70B9, \u628A",paraId:117,tocIndex:13},{value:"workInProgress",paraId:117,tocIndex:13},{value:"\u6307\u5411\u4E0B\u4E00\u4E2A\u5144\u5F1F\u8282\u70B9",paraId:117,tocIndex:13},{value:"fiber(p)",paraId:117,tocIndex:13},{value:", \u9000\u51FA",paraId:117,tocIndex:13},{value:"completeUnitOfWork",paraId:117,tocIndex:13},{value:".",paraId:117,tocIndex:13},{value:"performUnitOfWork",paraId:118,tocIndex:13},{value:"\u7B2C 8 \u6B21\u8C03\u7528(\u6267\u884C",paraId:118,tocIndex:13},{value:"beginWork",paraId:118,tocIndex:13},{value:"\u548C",paraId:118,tocIndex:13},{value:"completeUnitOfWork",paraId:118,tocIndex:13},{value:"):",paraId:118,tocIndex:13},{value:"beginWork",paraId:119,tocIndex:13},{value:"\u6267\u884C\u8FC7\u7A0B: \u672C\u8282\u70B9",paraId:119,tocIndex:13},{value:"fiber(p)",paraId:119,tocIndex:13},{value:"\u662F\u4E00\u4E2A\u65B0\u589E\u8282\u70B9, \u5176",paraId:119,tocIndex:13},{value:"current === null",paraId:119,tocIndex:13},{value:", \u4F1A\u8FDB\u5165",paraId:119,tocIndex:13},{value:"updateHostComponent()",paraId:119,tocIndex:13},{value:"\u51FD\u6570. \u56E0\u4E3A\u662F\u76F4\u63A5\u6587\u672C\u8282\u70B9, ",paraId:119,tocIndex:13},{value:"reconcileChildren()",paraId:119,tocIndex:13},{value:"\u8FD4\u56DE\u7684\u4E0B\u7EA7\u5B50\u8282\u70B9\u4E3A null.",paraId:119,tocIndex:13},{value:"beginWork",paraId:120,tocIndex:13},{value:"\u6267\u884C\u540E: \u7531\u4E8E\u4E0B\u7EA7\u8282\u70B9\u4E3A",paraId:120,tocIndex:13},{value:"null",paraId:120,tocIndex:13},{value:", \u6240\u4EE5\u8FDB\u5165",paraId:120,tocIndex:13},{value:"completeUnitOfWork(unitOfWork)",paraId:120,tocIndex:13},{value:"\u51FD\u6570",paraId:120,tocIndex:13},{value:"completeUnitOfWork",paraId:121,tocIndex:13},{value:"\u6267\u884C\u8FC7\u7A0B: \u4EE5",paraId:121,tocIndex:13},{value:"fiber(p)",paraId:121,tocIndex:13},{value:"\u4E3A\u8D77\u70B9, \u5411\u4E0A\u56DE\u6EAF",paraId:121,tocIndex:13},{value:"completeUnitOfWork",paraId:122,tocIndex:13},{value:"\u7B2C 1 \u6B21\u5FAA\u73AF:",paraId:122,tocIndex:13},{value:"\u6267\u884C",paraId:123,tocIndex:13},{value:"completeWork",paraId:123,tocIndex:13},{value:"\u51FD\u6570: \u7531\u4E8E\u672C\u8282\u70B9\u662F\u4E00\u4E2A\u65B0\u589E\u8282\u70B9,\u4E14",paraId:123,tocIndex:13},{value:"fiber(p).stateNode === null",paraId:123,tocIndex:13},{value:", \u6240\u4EE5\u521B\u5EFA",paraId:123,tocIndex:13},{value:"fiber(p)",paraId:123,tocIndex:13},{value:"\u8282\u70B9\u5BF9\u5E94\u7684",paraId:123,tocIndex:13},{value:"DOM",paraId:123,tocIndex:13},{value:"\u5B9E\u4F8B, \u6302\u8F7D\u5230",paraId:123,tocIndex:13},{value:"fiber.stateNode",paraId:123,tocIndex:13},{value:"\u4E4B\u4E0A.",paraId:123,tocIndex:13},{value:"\u4E0A\u79FB\u526F\u4F5C\u7528\u961F\u5217: \u672C\u8282\u70B9",paraId:123,tocIndex:13},{value:"fiber(p)",paraId:123,tocIndex:13},{value:"\u6709\u526F\u4F5C\u7528(",paraId:123,tocIndex:13},{value:"fiber.flags = Placement",paraId:123,tocIndex:13},{value:"), \u9700\u8981\u5C06\u5176\u6DFB\u52A0\u5230\u7236\u8282\u70B9\u7684\u526F\u4F5C\u7528\u961F\u5217\u4E4B\u540E.",paraId:123,tocIndex:13},{value:"\u5411\u4E0A\u56DE\u6EAF: \u7531\u4E8E\u6CA1\u6709\u5144\u5F1F\u8282\u70B9, \u628A",paraId:123,tocIndex:13},{value:"workInProgress",paraId:123,tocIndex:13},{value:"\u6307\u9488\u6307\u5411\u7236\u8282\u70B9",paraId:123,tocIndex:13},{value:"fiber(div)",paraId:123,tocIndex:13},{value:".",paraId:123,tocIndex:13},{value:"completeUnitOfWork",paraId:124,tocIndex:13},{value:"\u7B2C 2 \u6B21\u5FAA\u73AF:",paraId:124,tocIndex:13},{value:"\u6267\u884C",paraId:125,tocIndex:13},{value:"completeWork",paraId:125,tocIndex:13},{value:"\u51FD\u6570: \u7531\u4E8E",paraId:125,tocIndex:13},{value:"div",paraId:125,tocIndex:13},{value:"\u7EC4\u4EF6\u6CA1\u6709\u5C5E\u6027\u53D8\u52A8, \u6545",paraId:125,tocIndex:13},{value:"updateHostComponent()",paraId:125,tocIndex:13},{value:"\u6CA1\u6709\u8BBE\u7F6E\u526F\u4F5C\u7528\u6807\u8BB0",paraId:125,tocIndex:13},{value:"\u4E0A\u79FB\u526F\u4F5C\u7528\u961F\u5217: \u672C\u8282\u70B9",paraId:125,tocIndex:13},{value:"fiber(div)",paraId:125,tocIndex:13},{value:"\u7684\u526F\u4F5C\u7528\u961F\u5217\u6DFB\u52A0\u5230\u7236\u8282\u70B9\u7684\u526F\u4F5C\u7528\u961F\u5217\u4E4B\u540E.",paraId:125,tocIndex:13},{value:"\u5411\u4E0A\u56DE\u6EAF: \u7531\u4E8E\u6CA1\u6709\u5144\u5F1F\u8282\u70B9, \u628A",paraId:125,tocIndex:13},{value:"workInProgress",paraId:125,tocIndex:13},{value:"\u6307\u9488\u6307\u5411\u7236\u8282\u70B9",paraId:125,tocIndex:13},{value:"fiber(<App/>)",paraId:125,tocIndex:13},{value:"completeUnitOfWork",paraId:126,tocIndex:13},{value:"\u7B2C 3 \u6B21\u5FAA\u73AF:",paraId:126,tocIndex:13},{value:"\u6267\u884C",paraId:127,tocIndex:13},{value:"completeWork",paraId:127,tocIndex:13},{value:"\u51FD\u6570: class \u7C7B\u578B\u7684\u8282\u70B9\u65E0\u9700\u5904\u7406",paraId:127,tocIndex:13},{value:"\u4E0A\u79FB\u526F\u4F5C\u7528\u961F\u5217: \u672C\u8282\u70B9",paraId:127,tocIndex:13},{value:"fiber(<App/>)",paraId:127,tocIndex:13},{value:"\u7684\u526F\u4F5C\u7528\u961F\u5217\u6DFB\u52A0\u5230\u7236\u8282\u70B9\u7684\u526F\u4F5C\u7528\u961F\u5217\u4E4B\u540E.",paraId:127,tocIndex:13},{value:"\u5411\u4E0A\u56DE\u6EAF: \u7531\u4E8E\u6CA1\u6709\u5144\u5F1F\u8282\u70B9, \u628A",paraId:127,tocIndex:13},{value:"workInProgress",paraId:127,tocIndex:13},{value:"\u6307\u9488\u6307\u5411\u7236\u8282\u70B9",paraId:127,tocIndex:13},{value:"fiber(HostRootFiber)",paraId:127,tocIndex:13},{value:"completeUnitOfWork",paraId:128,tocIndex:13},{value:"\u7B2C 4 \u6B21\u5FAA\u73AF:",paraId:128,tocIndex:13},{value:"\u6267\u884C",paraId:129,tocIndex:13},{value:"completeWork",paraId:129,tocIndex:13},{value:"\u51FD\u6570: ",paraId:129,tocIndex:13},{value:"HostRoot",paraId:129,tocIndex:13},{value:"\u7C7B\u578B\u7684\u8282\u70B9\u65E0\u9700\u5904\u7406",paraId:129,tocIndex:13},{value:"\u5411\u4E0A\u56DE\u6EAF: \u7531\u4E8E\u7236\u8282\u70B9\u4E3A\u7A7A, \u65E0\u9700\u8FDB\u5165\u5904\u7406\u526F\u4F5C\u7528\u961F\u5217\u7684\u903B\u8F91. \u6700\u540E\u8BBE\u7F6E",paraId:129,tocIndex:13},{value:"workInProgress=null",paraId:129,tocIndex:13},{value:", \u5E76\u9000\u51FA",paraId:129,tocIndex:13},{value:"completeUnitOfWork",paraId:129,tocIndex:13},{value:"\u91CD\u7F6E",paraId:129,tocIndex:13},{value:"fiber.childLanes",paraId:129,tocIndex:13},{value:"\u5230\u6B64\u6574\u4E2A",paraId:130,tocIndex:13},{value:"fiber\u6811\u6784\u9020\u5FAA\u73AF(\u5BF9\u6BD4\u66F4\u65B0)",paraId:130,tocIndex:13},{value:"\u5DF2\u7ECF\u6267\u884C\u5B8C\u6BD5, \u62E5\u6709\u4E00\u68F5\u65B0\u7684",paraId:130,tocIndex:13},{value:"fiber\u6811",paraId:130,tocIndex:13},{value:", \u5E76\u4E14\u5728",paraId:130,tocIndex:13},{value:"fiber\u6811",paraId:130,tocIndex:13},{value:"\u7684\u6839\u8282\u70B9\u4E0A\u6302\u8F7D\u4E86\u526F\u4F5C\u7528\u961F\u5217. ",paraId:130,tocIndex:13},{value:"renderRootSync",paraId:130,tocIndex:13},{value:"\u51FD\u6570\u9000\u51FA\u4E4B\u524D, \u4F1A\u91CD\u7F6E",paraId:130,tocIndex:13},{value:"workInProgressRoot = null",paraId:130,tocIndex:13},{value:", \u8868\u660E\u6CA1\u6709\u6B63\u5728\u8FDB\u884C\u4E2D\u7684",paraId:130,tocIndex:13},{value:"render",paraId:130,tocIndex:13},{value:". \u4E14\u628A\u6700\u65B0\u7684",paraId:130,tocIndex:13},{value:"fiber\u6811",paraId:130,tocIndex:13},{value:"\u6302\u8F7D\u5230",paraId:130,tocIndex:13},{value:"fiberRoot.finishedWork",paraId:130,tocIndex:13},{value:"\u4E0A. \u8FD9\u65F6\u6574\u4E2A fiber \u6811\u7684\u5185\u5B58\u7ED3\u6784\u5982\u4E0B(\u6CE8\u610F",paraId:130,tocIndex:13},{value:"fiberRoot.finishedWork",paraId:130,tocIndex:13},{value:"\u548C",paraId:130,tocIndex:13},{value:"fiberRoot.current",paraId:130,tocIndex:13},{value:"\u6307\u9488,\u5728",paraId:130,tocIndex:13},{value:"commitRoot",paraId:130,tocIndex:13},{value:"\u9636\u6BB5\u4F1A\u8FDB\u884C\u5904\u7406):",paraId:130,tocIndex:13},{value:"\u65E0\u8BBA\u662F",paraId:131,tocIndex:13},{value:"\u521D\u6B21\u6784\u9020",paraId:131,tocIndex:13},{value:"\u6216\u8005\u662F",paraId:131,tocIndex:13},{value:"\u5BF9\u6BD4\u66F4\u65B0",paraId:131,tocIndex:13},{value:", \u5F53",paraId:131,tocIndex:13},{value:"fiber\u6811\u6784\u9020",paraId:131,tocIndex:13},{value:"\u5B8C\u6210\u4E4B\u540E, \u4F59\u4E0B\u7684\u903B\u8F91\u51E0\u4E4E\u4E00\u81F4, \u5728",paraId:131,tocIndex:13},{value:"fiber \u6811\u6E32\u67D3",paraId:132,tocIndex:13},{value:"\u4E2D\u7EE7\u7EED\u8BA8\u8BBA.",paraId:131,tocIndex:13},{value:"\u672C\u8282\u6F14\u793A\u4E86\u66F4\u65B0\u9636\u6BB5",paraId:133,tocIndex:14},{value:"fiber\u6811\u6784\u9020(\u5BF9\u6BD4\u66F4\u65B0)",paraId:133,tocIndex:14},{value:"\u7684\u5168\u90E8\u8FC7\u7A0B, \u8DDF\u8E2A\u4E86\u521B\u5EFA\u8FC7\u7A0B\u4E2D\u5185\u5B58\u5F15\u7528\u7684\u53D8\u5316\u60C5\u51B5. \u4E0E",paraId:133,tocIndex:14},{value:"\u521D\u6B21\u6784\u9020",paraId:133,tocIndex:14},{value:"\u6700\u5927\u7684\u4E0D\u540C\u5728\u4E8E",paraId:133,tocIndex:14},{value:"fiber\u8282\u70B9",paraId:133,tocIndex:14},{value:"\u662F\u5426\u53EF\u4EE5\u590D\u7528, \u5176\u4E2D",paraId:133,tocIndex:14},{value:"bailout",paraId:133,tocIndex:14},{value:"\u903B\u8F91\u662F",paraId:133,tocIndex:14},{value:"fiber\u5B50\u6811",paraId:133,tocIndex:14},{value:"\u80FD\u5426\u590D\u7528\u7684\u5224\u65AD\u4F9D\u636E.",paraId:133,tocIndex:14}],Y={},ue={title:"\u9AD8\u9891\u5BF9\u8C61",toc:"menu",filename:"docs/main/object-structure.md",group:"\u57FA\u672C\u6982\u5FF5",order:2,description:"\u5728 React \u5E94\u7528\u4E2D, \u6709\u5F88\u591A\u7279\u5B9A\u7684\u5BF9\u8C61\u6216\u6570\u636E\u7ED3\u6784. \u4E86\u89E3\u8FD9\u4E9B\u5185\u90E8\u7684\u8BBE\u8BA1, \u53EF\u4EE5\u66F4\u5BB9\u6613\u7406\u89E3 react \u8FD0\u884C\u539F\u7406. \u672C\u7AE0\u4E3B\u8981\u5217\u4E3E\u4ECE react \u542F\u52A8\u5230\u6E32\u67D3\u8FC7\u7A0B\u51FA\u73B0\u9891\u7387\u8F83\u9AD8, \u5F71\u54CD\u8303\u56F4\u8F83\u5927\u7684\u5BF9\u8C61, \u5B83\u4EEC\u8D2F\u7A7F\u6574\u4E2A react \u8FD0\u884C\u65F6."},Me=[{id:"react-\u5E94\u7528\u4E2D\u7684\u9AD8\u9891\u5BF9\u8C61",depth:1,title:"React \u5E94\u7528\u4E2D\u7684\u9AD8\u9891\u5BF9\u8C61"},{id:"react-\u5305",depth:2,title:"react \u5305"},{id:"reactelement-\u5BF9\u8C61",depth:3,title:"ReactElement \u5BF9\u8C61"},{id:"reactcomponent\u5BF9\u8C61",depth:3,title:"ReactComponent\u5BF9\u8C61"},{id:"\u5176\u4ED6reactelement",depth:3,title:"\u5176\u4ED6ReactElement"},{id:"reactelement\u5185\u5B58\u7ED3\u6784",depth:3,title:"ReactElement\u5185\u5B58\u7ED3\u6784"},{id:"react-reconciler-\u5305",depth:2,title:"react-reconciler \u5305"},{id:"fiber-\u5BF9\u8C61",depth:3,title:"Fiber \u5BF9\u8C61"},{id:"update-\u4E0E-updatequeue-\u5BF9\u8C61",depth:3,title:"Update \u4E0E UpdateQueue \u5BF9\u8C61"},{id:"hook-\u5BF9\u8C61",depth:3,title:"Hook \u5BF9\u8C61"},{id:"scheduler-\u5305",depth:2,title:"scheduler \u5305"},{id:"task-\u5BF9\u8C61",depth:3,title:"Task \u5BF9\u8C61"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"}],He=[{value:"\u5728 React \u5E94\u7528\u4E2D, \u6709\u5F88\u591A\u7279\u5B9A\u7684\u5BF9\u8C61\u6216\u6570\u636E\u7ED3\u6784. \u4E86\u89E3\u8FD9\u4E9B\u5185\u90E8\u7684\u8BBE\u8BA1, \u53EF\u4EE5\u66F4\u5BB9\u6613\u7406\u89E3 react \u8FD0\u884C\u539F\u7406. \u672C\u7AE0\u4E3B\u8981\u5217\u4E3E\u4ECE react \u542F\u52A8\u5230\u6E32\u67D3\u8FC7\u7A0B\u51FA\u73B0\u9891\u7387\u8F83\u9AD8, \u5F71\u54CD\u8303\u56F4\u8F83\u5927\u7684\u5BF9\u8C61, \u5B83\u4EEC\u8D2F\u7A7F\u6574\u4E2A react \u8FD0\u884C\u65F6.",paraId:0,tocIndex:0},{value:"\u5176\u4ED6\u8FC7\u7A0B\u7684\u91CD\u8981\u5BF9\u8C61:",paraId:1,tocIndex:0},{value:"\u5982",paraId:2,tocIndex:0},{value:"\u4E8B\u4EF6\u5BF9\u8C61",paraId:2,tocIndex:0},{value:"(\u4F4D\u4E8E",paraId:2,tocIndex:0},{value:"react-dom/events",paraId:2,tocIndex:0},{value:"\u4FDD\u969C react \u5E94\u7528\u80FD\u591F\u54CD\u5E94 ui \u4EA4\u4E92), \u5728\u4E8B\u4EF6\u673A\u5236\u7AE0\u8282\u4E2D\u8BE6\u7EC6\u89E3\u8BFB.",paraId:2,tocIndex:0},{value:"\u5982",paraId:2,tocIndex:0},{value:"ReactContext, ReactProvider, ReactConsumer",paraId:2,tocIndex:0},{value:"\u5BF9\u8C61, \u5728 context \u673A\u5236\u7AE0\u8282\u4E2D\u8BE6\u7EC6\u89E3\u8BFB.",paraId:2,tocIndex:0},{value:"\u5728",paraId:3,tocIndex:1},{value:"React \u5E94\u7528\u7684\u5B8F\u89C2\u5305\u7ED3\u6784",paraId:4,tocIndex:1},{value:"\u4E2D\u4ECB\u7ECD\u8FC7, \u6B64\u5305\u5B9A\u4E49 react \u7EC4\u4EF6(",paraId:3,tocIndex:1},{value:"ReactElement",paraId:3,tocIndex:1},{value:")\u7684\u5FC5\u8981\u51FD\u6570, \u63D0\u4F9B\u4E00\u4E9B\u64CD\u4F5C",paraId:3,tocIndex:1},{value:"ReactElement",paraId:3,tocIndex:1},{value:"\u5BF9\u8C61\u7684 api.",paraId:3,tocIndex:1},{value:"\u6240\u4EE5\u8FD9\u4E2A\u5305\u7684\u6838\u5FC3\u9700\u8981\u7406\u89E3",paraId:5,tocIndex:1},{value:"ReactElement",paraId:5,tocIndex:1},{value:"\u5BF9\u8C61, \u5047\u8BBE\u6709\u5982\u4E0B\u5165\u53E3\u51FD\u6570:",paraId:5,tocIndex:1},{value:`// \u5165\u53E3\u51FD\u6570
ReactDOM.render(<App />, document.getElementById('root'));
`,paraId:6,tocIndex:1},{value:"\u53EF\u4EE5\u7B80\u5355\u7684\u8BA4\u4E3A, \u5305\u62EC",paraId:7,tocIndex:1},{value:"<App/>",paraId:7,tocIndex:1},{value:"\u53CA\u5176\u6240\u6709\u5B50\u8282\u70B9\u90FD\u662F",paraId:7,tocIndex:1},{value:"ReactElement",paraId:7,tocIndex:1},{value:"\u5BF9\u8C61(\u5728 render \u4E4B\u540E\u624D\u4F1A\u751F\u6210\u5B50\u8282\u70B9, \u540E\u6587\u8BE6\u7EC6\u89E3\u8BFB), \u6BCF\u4E2A",paraId:7,tocIndex:1},{value:"ReactElement",paraId:7,tocIndex:1},{value:"\u5BF9\u8C61\u7684\u533A\u522B\u5728\u4E8E type \u4E0D\u540C.",paraId:7,tocIndex:1},{value:"ReactElement \u5BF9\u8C61",paraId:8},{value:"\u5176 type \u5B9A\u4E49\u5728",paraId:9,tocIndex:2},{value:"shared",paraId:9,tocIndex:2},{value:"\u5305\u4E2D",paraId:9,tocIndex:2},{value:".",paraId:9,tocIndex:2},{value:"\u6240\u6709\u91C7\u7528",paraId:10,tocIndex:2},{value:"jsx",paraId:10,tocIndex:2},{value:"\u8BED\u6CD5\u4E66\u5199\u7684\u8282\u70B9, \u90FD\u4F1A\u88AB\u7F16\u8BD1\u5668\u8F6C\u6362, \u6700\u7EC8\u4F1A\u4EE5",paraId:10,tocIndex:2},{value:"React.createElement(...)",paraId:10,tocIndex:2},{value:"\u7684\u65B9\u5F0F, \u521B\u5EFA\u51FA\u6765\u4E00\u4E2A\u4E0E\u4E4B\u5BF9\u5E94\u7684",paraId:10,tocIndex:2},{value:"ReactElement",paraId:10,tocIndex:2},{value:"\u5BF9\u8C61.",paraId:10,tocIndex:2},{value:"ReactElement",paraId:11,tocIndex:2},{value:"\u5BF9\u8C61\u7684\u6570\u636E\u7ED3\u6784\u5982\u4E0B:",paraId:11,tocIndex:2},{value:`export type ReactElement = {|
  // \u7528\u4E8E\u8FA8\u522BReactElement\u5BF9\u8C61
  $$typeof: any,

  // \u5185\u90E8\u5C5E\u6027
  type: any, // \u8868\u660E\u5176\u79CD\u7C7B
  key: any,
  ref: any,
  props: any,

  // ReactFiber \u8BB0\u5F55\u521B\u5EFA\u672C\u5BF9\u8C61\u7684Fiber\u8282\u70B9, \u8FD8\u672A\u4E0EFiber\u6811\u5173\u8054\u4E4B\u524D, \u8BE5\u5C5E\u6027\u4E3Anull
  _owner: any,

  // __DEV__ dev\u73AF\u5883\u4E0B\u7684\u4E00\u4E9B\u989D\u5916\u4FE1\u606F, \u5982\u6587\u4EF6\u8DEF\u5F84, \u6587\u4EF6\u540D, \u884C\u5217\u4FE1\u606F\u7B49
  _store: {validated: boolean, ...},
  _self: React$Element<any>,
  _shadowChildren: any,
  _source: Source,
|};

`,paraId:12,tocIndex:2},{value:"\u9700\u8981\u7279\u522B\u6CE8\u610F 2 \u4E2A\u5C5E\u6027:",paraId:13,tocIndex:2},{value:"key",paraId:14,tocIndex:2},{value:"\u5C5E\u6027\u5728",paraId:14,tocIndex:2},{value:"reconciler",paraId:14,tocIndex:2},{value:"\u9636\u6BB5\u4F1A\u7528\u5230, \u76EE\u524D\u53EA\u9700\u8981\u77E5\u9053\u6240\u6709\u7684",paraId:14,tocIndex:2},{value:"ReactElement",paraId:14,tocIndex:2},{value:"\u5BF9\u8C61\u90FD\u6709 key \u5C5E\u6027(\u4E14",paraId:14,tocIndex:2},{value:"\u5176\u9ED8\u8BA4\u503C\u662F null",paraId:14,tocIndex:2},{value:", \u8FD9\u70B9\u5341\u5206\u91CD\u8981, \u5728 diff \u7B97\u6CD5\u4E2D\u4F1A\u4F7F\u7528\u5230).",paraId:14,tocIndex:2},{value:"type",paraId:15,tocIndex:2},{value:"\u5C5E\u6027\u51B3\u5B9A\u4E86\u8282\u70B9\u7684\u79CD\u7C7B:",paraId:15,tocIndex:2},{value:"\u5B83\u7684\u503C\u53EF\u4EE5\u662F\u5B57\u7B26\u4E32(\u4EE3\u8868",paraId:16,tocIndex:2},{value:"div,span",paraId:16,tocIndex:2},{value:"\u7B49 dom \u8282\u70B9), \u51FD\u6570(\u4EE3\u8868",paraId:16,tocIndex:2},{value:"function, class",paraId:16,tocIndex:2},{value:"\u7B49\u8282\u70B9), \u6216\u8005 react \u5185\u90E8\u5B9A\u4E49\u7684\u8282\u70B9\u7C7B\u578B(",paraId:16,tocIndex:2},{value:"portal,context,fragment",paraId:16,tocIndex:2},{value:"\u7B49)",paraId:16,tocIndex:2},{value:"\u5728",paraId:16,tocIndex:2},{value:"reconciler",paraId:16,tocIndex:2},{value:`\u9636\u6BB5, \u4F1A\u6839\u636E type \u6267\u884C\u4E0D\u540C\u7684\u903B\u8F91(\u5728 fiber \u6784\u5EFA\u9636\u6BB5\u8BE6\u7EC6\u89E3\u8BFB).
`,paraId:16,tocIndex:2},{value:"\u5982 type \u662F\u4E00\u4E2A\u5B57\u7B26\u4E32\u7C7B\u578B, \u5219\u76F4\u63A5\u4F7F\u7528.",paraId:17,tocIndex:2},{value:"\u5982 type \u662F\u4E00\u4E2A",paraId:17,tocIndex:2},{value:"ReactComponent",paraId:17,tocIndex:2},{value:"\u7C7B\u578B, \u5219\u4F1A\u8C03\u7528\u5176 render \u65B9\u6CD5\u83B7\u53D6\u5B50\u8282\u70B9.",paraId:17,tocIndex:2},{value:"\u5982 type \u662F\u4E00\u4E2A",paraId:17,tocIndex:2},{value:"function",paraId:17,tocIndex:2},{value:"\u7C7B\u578B,\u5219\u4F1A\u8C03\u7528\u8BE5\u65B9\u6CD5\u83B7\u53D6\u5B50\u8282\u70B9",paraId:17,tocIndex:2},{value:"...",paraId:17,tocIndex:2},{value:"\u5728",paraId:18,tocIndex:2},{value:"v17.0.2",paraId:18,tocIndex:2},{value:"\u4E2D, ",paraId:18,tocIndex:2},{value:"\u5B9A\u4E49\u4E86 20 \u79CD",paraId:18,tocIndex:2},{value:"\u5185\u90E8\u8282\u70B9\u7C7B\u578B. \u6839\u636E\u8FD0\u884C\u65F6\u73AF\u5883\u4E0D\u540C, \u5206\u522B\u91C7\u7528 16 \u8FDB\u5236\u7684\u5B57\u9762\u91CF\u548C",paraId:18,tocIndex:2},{value:"Symbol",paraId:18,tocIndex:2},{value:"\u8FDB\u884C\u8868\u793A.",paraId:18,tocIndex:2},{value:"ReactComponent",paraId:8},{value:"\u5BF9\u4E8E",paraId:19,tocIndex:3},{value:"ReactElement",paraId:19,tocIndex:3},{value:"\u6765\u8BB2, ",paraId:19,tocIndex:3},{value:"ReactComponent",paraId:19,tocIndex:3},{value:"\u4EC5\u4EC5\u662F\u8BF8\u591A",paraId:19,tocIndex:3},{value:"type",paraId:19,tocIndex:3},{value:"\u7C7B\u578B\u4E2D\u7684\u4E00\u79CD.",paraId:19,tocIndex:3},{value:"\u5BF9\u4E8E\u5F00\u53D1\u8005\u6765\u8BB2, ",paraId:20,tocIndex:3},{value:"ReactComponent",paraId:20,tocIndex:3},{value:"\u4F7F\u7528\u975E\u5E38\u9AD8\u9891(\u5728\u72B6\u6001\u7EC4\u4EF6\u7AE0\u8282\u4E2D\u8BE6\u7EC6\u89E3\u8BFB), \u5728\u672C\u8282\u53EA\u662F\u5148\u8BC1\u660E\u5B83\u53EA\u662F\u4E00\u79CD\u7279\u6B8A\u7684",paraId:20,tocIndex:3},{value:"ReactElement",paraId:20,tocIndex:3},{value:".",paraId:20,tocIndex:3},{value:"\u8FD9\u91CC\u7528\u4E00\u4E2A\u7B80\u5355\u7684\u793A\u4F8B, \u901A\u8FC7\u67E5\u770B\u7F16\u8BD1\u540E\u7684\u4EE3\u7801\u6765\u8BF4\u660E",paraId:21,tocIndex:3},{value:`class App extends React.Component {
  render() {
    return (
      <div className="app">
        <header>header</header>
        <Content />
        <footer>footer</footer>
      </div>
    );
  }
}

class Content extends React.Component {
  render() {
    return (
      <React.Fragment>
        <p>1</p>
        <p>2</p>
        <p>3</p>
      </React.Fragment>
    );
  }
}

export default App;
`,paraId:22,tocIndex:3},{value:"\u7F16\u8BD1\u4E4B\u540E\u7684\u4EE3\u7801(\u6B64\u5904\u53EA\u7F16\u8BD1\u4E86 jsx \u8BED\u6CD5, \u5E76\u6CA1\u6709\u5C06 class \u8BED\u6CD5\u7F16\u8BD1\u6210 es5 \u4E2D\u7684 function), \u53EF\u4EE5\u66F4\u76F4\u89C2\u7684\u770B\u51FA\u8C03\u7528\u903B\u8F91.",paraId:23,tocIndex:3},{value:"createElement",paraId:24,tocIndex:3},{value:"\u51FD\u6570\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u5C06\u4F5C\u4E3A\u521B\u5EFA",paraId:24,tocIndex:3},{value:"ReactElement",paraId:24,tocIndex:3},{value:"\u7684",paraId:24,tocIndex:3},{value:"type",paraId:24,tocIndex:3},{value:". \u53EF\u4EE5\u770B\u5230",paraId:24,tocIndex:3},{value:"Content",paraId:24,tocIndex:3},{value:"\u8FD9\u4E2A\u53D8\u91CF\u88AB\u7F16\u8BD1\u5668\u547D\u540D\u4E3A",paraId:24,tocIndex:3},{value:"App_Content",paraId:24,tocIndex:3},{value:", \u5E76\u4F5C\u4E3A\u7B2C\u4E00\u4E2A\u53C2\u6570(\u5F15\u7528\u4F20\u9012), \u4F20\u5165\u4E86",paraId:24,tocIndex:3},{value:"createElement",paraId:24,tocIndex:3},{value:".",paraId:24,tocIndex:3},{value:`class App_App extends react_default.a.Component {
  render() {
    return /*#__PURE__*/ react_default.a.createElement(
      'div',
      {
        className: 'app',
      } /*#__PURE__*/,
      react_default.a.createElement('header', null, 'header') /*#__PURE__*/,

      // \u6B64\u5904\u76F4\u63A5\u5C06Content\u4F20\u5165, \u662F\u4E00\u4E2A\u6307\u9488\u4F20\u9012
      react_default.a.createElement(App_Content, null) /*#__PURE__*/,
      react_default.a.createElement('footer', null, 'footer'),
    );
  }
}
class App_Content extends react_default.a.Component {
  render() {
    return /*#__PURE__*/ react_default.a.createElement(
      react_default.a.Fragment,
      null /*#__PURE__*/,
      react_default.a.createElement('p', null, '1'),
      /*#__PURE__*/

      react_default.a.createElement('p', null, '2'),
      /*#__PURE__*/

      react_default.a.createElement('p', null, '3'),
    );
  }
}
`,paraId:25,tocIndex:3},{value:"\u4E0A\u8FF0\u793A\u4F8B\u6F14\u793A\u4E86",paraId:26,tocIndex:3},{value:"ReactComponent",paraId:26,tocIndex:3},{value:"\u662F\u8BF8\u591A",paraId:26,tocIndex:3},{value:"ReactElement",paraId:26,tocIndex:3},{value:"\u79CD\u7C7B\u4E2D\u7684\u4E00\u79CD\u60C5\u51B5, \u4F46\u662F\u7531\u4E8E",paraId:26,tocIndex:3},{value:"ReactComponent",paraId:26,tocIndex:3},{value:"\u662F class \u7C7B\u578B, \u81EA\u6709\u5B83\u7684\u7279\u6B8A\u6027(\u53EF",paraId:26,tocIndex:3},{value:"\u5BF9\u7167\u6E90\u7801",paraId:26,tocIndex:3},{value:", \u66F4\u5BB9\u6613\u7406\u89E3).",paraId:26,tocIndex:3},{value:"ReactComponent",paraId:27,tocIndex:3},{value:"\u662F class \u7C7B\u578B, \u7EE7\u627F\u7236\u7C7B",paraId:27,tocIndex:3},{value:"Component",paraId:27,tocIndex:3},{value:", \u62E5\u6709\u7279\u6B8A\u7684\u65B9\u6CD5(",paraId:27,tocIndex:3},{value:"setState",paraId:27,tocIndex:3},{value:",",paraId:27,tocIndex:3},{value:"forceUpdate",paraId:27,tocIndex:3},{value:")\u548C\u7279\u6B8A\u7684\u5C5E\u6027(",paraId:27,tocIndex:3},{value:"context",paraId:27,tocIndex:3},{value:",",paraId:27,tocIndex:3},{value:"updater",paraId:27,tocIndex:3},{value:"\u7B49).",paraId:27,tocIndex:3},{value:"\u5728",paraId:27,tocIndex:3},{value:"reconciler",paraId:27,tocIndex:3},{value:"\u9636\u6BB5, \u4F1A\u4F9D\u636E",paraId:27,tocIndex:3},{value:"ReactElement",paraId:27,tocIndex:3},{value:"\u5BF9\u8C61\u7684\u7279\u5F81, \u751F\u6210\u5BF9\u5E94\u7684 fiber \u8282\u70B9. \u5F53\u8BC6\u522B\u5230",paraId:27,tocIndex:3},{value:"ReactElement",paraId:27,tocIndex:3},{value:"\u5BF9\u8C61\u662F class \u7C7B\u578B\u7684\u65F6\u5019, \u4F1A\u89E6\u53D1",paraId:27,tocIndex:3},{value:"ReactComponent",paraId:27,tocIndex:3},{value:"\u5BF9\u8C61\u7684\u751F\u547D\u5468\u671F, \u5E76\u8C03\u7528\u5176 ",paraId:27,tocIndex:3},{value:"render",paraId:27,tocIndex:3},{value:"\u65B9\u6CD5, \u751F\u6210",paraId:27,tocIndex:3},{value:"ReactElement",paraId:27,tocIndex:3},{value:"\u5B50\u8282\u70B9.",paraId:27,tocIndex:3},{value:"ReactElement",paraId:8},{value:"\u4E0A\u6587\u4ECB\u7ECD\u4E86\u7B2C\u4E00\u79CD\u7279\u6B8A\u7684",paraId:28,tocIndex:4},{value:"ReactElement",paraId:28,tocIndex:4},{value:"(",paraId:28,tocIndex:4},{value:"class",paraId:28,tocIndex:4},{value:"\u7C7B\u578B\u7684\u7EC4\u4EF6), \u9664\u6B64\u4E4B\u5916",paraId:28,tocIndex:4},{value:"function",paraId:28,tocIndex:4},{value:"\u7C7B\u578B\u7684\u7EC4\u4EF6\u4E5F\u9700\u8981\u6DF1\u5165\u4E86\u89E3, \u56E0\u4E3A",paraId:28,tocIndex:4},{value:"Hook",paraId:28,tocIndex:4},{value:"\u53EA\u80FD\u5728",paraId:28,tocIndex:4},{value:"function",paraId:28,tocIndex:4},{value:"\u7C7B\u578B\u7684\u7EC4\u4EF6\u4E2D\u4F7F\u7528.",paraId:28,tocIndex:4},{value:"\u5982\u679C\u5728",paraId:29,tocIndex:4},{value:"function",paraId:29,tocIndex:4},{value:"\u7C7B\u578B\u7684\u7EC4\u4EF6\u4E2D\u6CA1\u6709\u4F7F\u7528",paraId:29,tocIndex:4},{value:"Hook",paraId:29,tocIndex:4},{value:"(\u5982: ",paraId:29,tocIndex:4},{value:"useState",paraId:29,tocIndex:4},{value:", ",paraId:29,tocIndex:4},{value:"useEffect",paraId:29,tocIndex:4},{value:"\u7B49), \u5728",paraId:29,tocIndex:4},{value:"reconciler",paraId:29,tocIndex:4},{value:"\u9636\u6BB5\u6240\u6709\u6709\u5173",paraId:29,tocIndex:4},{value:"Hook",paraId:29,tocIndex:4},{value:"\u7684\u5904\u7406\u90FD\u4F1A\u7565\u8FC7, \u6700\u540E\u8C03\u7528\u8BE5",paraId:29,tocIndex:4},{value:"function",paraId:29,tocIndex:4},{value:"\u62FF\u5230\u5B50\u8282\u70B9",paraId:29,tocIndex:4},{value:"ReactElement",paraId:29,tocIndex:4},{value:".",paraId:29,tocIndex:4},{value:"\u5982\u679C\u4F7F\u7528\u4E86",paraId:30,tocIndex:4},{value:"Hook",paraId:30,tocIndex:4},{value:", \u903B\u8F91\u5C31\u76F8\u5BF9\u590D\u6742, \u6D89\u53CA\u5230",paraId:30,tocIndex:4},{value:"Hook",paraId:30,tocIndex:4},{value:"\u521B\u5EFA\u548C\u72B6\u6001\u4FDD\u5B58(\u6709\u5173 Hook \u7684\u539F\u7406\u90E8\u5206, \u5728 Hook \u539F\u7406\u7AE0\u8282\u4E2D\u8BE6\u7EC6\u89E3\u8BFB). \u6B64\u5904\u53EA\u9700\u8981\u4E86\u89E3",paraId:30,tocIndex:4},{value:"function",paraId:30,tocIndex:4},{value:"\u7C7B\u578B\u7684\u7EC4\u4EF6\u548C",paraId:30,tocIndex:4},{value:"class",paraId:30,tocIndex:4},{value:"\u7C7B\u578B\u7684\u7EC4\u4EF6\u4E00\u6837, \u662F\u8BF8\u591A",paraId:30,tocIndex:4},{value:"ReactElement",paraId:30,tocIndex:4},{value:"\u5F62\u5F0F\u4E2D\u7684\u4E00\u79CD.",paraId:30,tocIndex:4},{value:"ReactElement",paraId:8},{value:"\u901A\u8FC7\u524D\u6587\u5BF9",paraId:31,tocIndex:5},{value:"ReactElement",paraId:31,tocIndex:5},{value:"\u7684\u4ECB\u7ECD, \u53EF\u4EE5\u6BD4\u8F83\u5BB9\u6613\u7684\u753B\u51FA",paraId:31,tocIndex:5},{value:"<App/>",paraId:31,tocIndex:5},{value:"\u8FD9\u4E2A",paraId:31,tocIndex:5},{value:"ReactElement",paraId:31,tocIndex:5},{value:"\u5BF9\u8C61\u5728\u5185\u5B58\u4E2D\u7684\u7ED3\u6784(",paraId:31,tocIndex:5},{value:"reconciler",paraId:31,tocIndex:5},{value:"\u9636\u6BB5\u5B8C\u6210\u4E4B\u540E\u624D\u4F1A\u5F62\u6210\u5B8C\u6574\u7684\u7ED3\u6784).",paraId:31,tocIndex:5},{value:"\u6CE8\u610F:",paraId:32,tocIndex:5},{value:"class",paraId:33,tocIndex:5},{value:"\u548C",paraId:33,tocIndex:5},{value:"function",paraId:33,tocIndex:5},{value:"\u7C7B\u578B\u7684\u7EC4\u4EF6,\u5176\u5B50\u8282\u70B9\u662F\u5728 render \u4E4B\u540E(",paraId:33,tocIndex:5},{value:"reconciler",paraId:33,tocIndex:5},{value:"\u9636\u6BB5)\u624D\u751F\u6210\u7684. \u6B64\u5904\u53EA\u662F\u5355\u72EC\u8868\u793A",paraId:33,tocIndex:5},{value:"ReactElement",paraId:33,tocIndex:5},{value:"\u7684\u6570\u636E\u7ED3\u6784.",paraId:33,tocIndex:5},{value:"\u7236\u7EA7\u5BF9\u8C61\u548C\u5B50\u7EA7\u5BF9\u8C61\u4E4B\u95F4\u662F\u901A\u8FC7",paraId:33,tocIndex:5},{value:"props.children",paraId:33,tocIndex:5},{value:"\u5C5E\u6027\u8FDB\u884C\u5173\u8054\u7684(\u4E0E fiber \u6811\u4E0D\u540C).",paraId:33,tocIndex:5},{value:"ReactElement",paraId:33,tocIndex:5},{value:"\u867D\u7136\u4E0D\u80FD\u7B97\u662F\u4E00\u4E2A\u4E25\u683C\u7684\u6811, \u4E5F\u4E0D\u80FD\u7B97\u662F\u4E00\u4E2A\u4E25\u683C\u7684\u94FE\u8868. \u5B83\u7684\u751F\u6210\u8FC7\u7A0B\u662F\u81EA\u9876\u5411\u4E0B\u7684, \u662F\u6240\u6709\u7EC4\u4EF6\u8282\u70B9\u7684\u603B\u548C.",paraId:33,tocIndex:5},{value:"ReactElement",paraId:33,tocIndex:5},{value:"\u6811(\u6682\u4E14\u7528\u6811\u6765\u8868\u8FF0)\u548C",paraId:33,tocIndex:5},{value:"fiber",paraId:33,tocIndex:5},{value:"\u6811\u662F\u4EE5",paraId:33,tocIndex:5},{value:"props.children",paraId:33,tocIndex:5},{value:"\u4E3A\u5355\u4F4D",paraId:33,tocIndex:5},{value:"\u5148\u540E\u4EA4\u66FF",paraId:33,tocIndex:5},{value:"\u751F\u6210\u7684(\u5728 fiber \u6811\u6784\u5EFA\u7AE0\u8282\u8BE6\u7EC6\u89E3\u8BFB), \u5F53",paraId:33,tocIndex:5},{value:"ReactElement",paraId:33,tocIndex:5},{value:"\u6811\u6784\u9020\u5B8C\u6BD5, fiber \u6811\u4E5F\u968F\u540E\u6784\u9020\u5B8C\u6BD5.",paraId:33,tocIndex:5},{value:"reconciler",paraId:33,tocIndex:5},{value:"\u9636\u6BB5\u4F1A\u6839\u636E",paraId:33,tocIndex:5},{value:"ReactElement",paraId:33,tocIndex:5},{value:"\u7684\u7C7B\u578B\u751F\u6210\u5BF9\u5E94\u7684",paraId:33,tocIndex:5},{value:"fiber",paraId:33,tocIndex:5},{value:"\u8282\u70B9(\u4E0D\u662F\u4E00\u4E00\u5BF9\u5E94, \u6BD4\u5982",paraId:33,tocIndex:5},{value:"Fragment",paraId:33,tocIndex:5},{value:"\u7C7B\u578B\u7684\u7EC4\u4EF6\u5728\u751F\u6210",paraId:33,tocIndex:5},{value:"fiber",paraId:33,tocIndex:5},{value:"\u8282\u70B9\u7684\u65F6\u5019\u4F1A\u7565\u8FC7).",paraId:33,tocIndex:5},{value:"react-reconciler",paraId:8},{value:"\u5728",paraId:34,tocIndex:6},{value:"\u5B8F\u89C2\u7ED3\u6784",paraId:35,tocIndex:6},{value:"\u4E2D\u4ECB\u7ECD\u8FC7, ",paraId:34,tocIndex:6},{value:"react-reconciler",paraId:34,tocIndex:6},{value:"\u5305\u662F",paraId:34,tocIndex:6},{value:"react",paraId:34,tocIndex:6},{value:"\u5E94\u7528\u7684\u4E2D\u67A2, \u8FDE\u63A5\u6E32\u67D3\u5668(",paraId:34,tocIndex:6},{value:"react-dom",paraId:34,tocIndex:6},{value:")\u548C\u8C03\u5EA6\u4E2D\u5FC3(",paraId:34,tocIndex:6},{value:"scheduler",paraId:34,tocIndex:6},{value:"), \u540C\u65F6\u81EA\u8EAB\u4E5F\u8D1F\u8D23 fiber \u6811\u7684\u6784\u9020.",paraId:34,tocIndex:6},{value:"\u5BF9\u4E8E\u6B64\u5305\u7684\u6DF1\u5165\u5206\u6790, \u653E\u5728",paraId:36,tocIndex:6},{value:"fiber \u6811\u6784\u5EFA",paraId:36,tocIndex:6},{value:", ",paraId:36,tocIndex:6},{value:"reconciler \u5DE5\u4F5C\u7A7A\u95F4",paraId:36,tocIndex:6},{value:"\u7B49\u7AE0\u8282\u4E2D.",paraId:36,tocIndex:6},{value:"\u6B64\u5904\u5148\u8981\u77E5\u9053",paraId:37,tocIndex:6},{value:"fiber",paraId:37,tocIndex:6},{value:"\u662F\u6838\u5FC3, react \u4F53\u7CFB\u7684\u6E32\u67D3\u548C\u66F4\u65B0\u90FD\u8981\u4EE5 fiber \u4F5C\u4E3A\u6570\u636E\u6A21\u578B, \u5982\u679C\u4E0D\u80FD\u7406\u89E3 fiber, \u4E5F\u65E0\u6CD5\u6DF1\u5165\u7406\u89E3 react.",paraId:37,tocIndex:6},{value:"\u672C\u7AE0\u5148\u9884\u89C8\u4E00\u4E0B\u6B64\u5305\u4E2D\u4E0E",paraId:38,tocIndex:6},{value:"fiber",paraId:38,tocIndex:6},{value:"\u5BF9\u8C61\u5173\u8054\u5EA6\u8F83\u9AD8\u7684\u5BF9\u8C61.",paraId:38,tocIndex:6},{value:"\u5148\u770B\u6570\u636E\u7ED3\u6784, \u5176 type \u7C7B\u578B\u7684\u5B9A\u4E49\u5728",paraId:39,tocIndex:7},{value:"ReactInternalTypes.js",paraId:39,tocIndex:7},{value:"\u4E2D:",paraId:39,tocIndex:7},{value:`// \u4E00\u4E2AFiber\u5BF9\u8C61\u4EE3\u8868\u4E00\u4E2A\u5373\u5C06\u6E32\u67D3\u6216\u8005\u5DF2\u7ECF\u6E32\u67D3\u7684\u7EC4\u4EF6(ReactElement), \u4E00\u4E2A\u7EC4\u4EF6\u53EF\u80FD\u5BF9\u5E94\u4E24\u4E2Afiber(current\u548CWorkInProgress)
// \u5355\u4E2A\u5C5E\u6027\u7684\u89E3\u91CA\u5728\u540E\u6587(\u5728\u6CE8\u91CA\u4E2D\u65E0\u6CD5\u6DFB\u52A0\u8D85\u94FE\u63A5)
export type Fiber = {|
  tag: WorkTag,
  key: null | string,
  elementType: any,
  type: any,
  stateNode: any,
  return: Fiber | null,
  child: Fiber | null,
  sibling: Fiber | null,
  index: number,
  ref:
    | null
    | (((handle: mixed) => void) & { _stringRef: ?string, ... })
    | RefObject,
  pendingProps: any, // \u4ECE\`ReactElement\`\u5BF9\u8C61\u4F20\u5165\u7684 props. \u7528\u4E8E\u548C\`fiber.memoizedProps\`\u6BD4\u8F83\u53EF\u4EE5\u5F97\u51FA\u5C5E\u6027\u662F\u5426\u53D8\u52A8
  memoizedProps: any, // \u4E0A\u4E00\u6B21\u751F\u6210\u5B50\u8282\u70B9\u65F6\u7528\u5230\u7684\u5C5E\u6027, \u751F\u6210\u5B50\u8282\u70B9\u4E4B\u540E\u4FDD\u6301\u5728\u5185\u5B58\u4E2D
  updateQueue: mixed, // \u5B58\u50A8state\u66F4\u65B0\u7684\u961F\u5217, \u5F53\u524D\u8282\u70B9\u7684state\u6539\u52A8\u4E4B\u540E, \u90FD\u4F1A\u521B\u5EFA\u4E00\u4E2Aupdate\u5BF9\u8C61\u6DFB\u52A0\u5230\u8FD9\u4E2A\u961F\u5217\u4E2D.
  memoizedState: any, // \u7528\u4E8E\u8F93\u51FA\u7684state, \u6700\u7EC8\u6E32\u67D3\u6240\u4F7F\u7528\u7684state
  dependencies: Dependencies | null, // \u8BE5fiber\u8282\u70B9\u6240\u4F9D\u8D56\u7684(contexts, events)\u7B49
  mode: TypeOfMode, // \u4E8C\u8FDB\u5236\u4F4DBitfield,\u7EE7\u627F\u81F3\u7236\u8282\u70B9,\u5F71\u54CD\u672Cfiber\u8282\u70B9\u53CA\u5176\u5B50\u6811\u4E2D\u6240\u6709\u8282\u70B9. \u4E0Ereact\u5E94\u7528\u7684\u8FD0\u884C\u6A21\u5F0F\u6709\u5173(\u6709ConcurrentMode, BlockingMode, NoMode\u7B49\u9009\u9879).

  // Effect \u526F\u4F5C\u7528\u76F8\u5173
  flags: Flags, // \u6807\u5FD7\u4F4D
  subtreeFlags: Flags, //\u66FF\u4EE316.x\u7248\u672C\u4E2D\u7684 firstEffect, nextEffect. \u5F53\u8BBE\u7F6E\u4E86 enableNewReconciler=true\u624D\u4F1A\u542F\u7528
  deletions: Array<Fiber> | null, // \u5B58\u50A8\u5C06\u8981\u88AB\u5220\u9664\u7684\u5B50\u8282\u70B9. \u5F53\u8BBE\u7F6E\u4E86 enableNewReconciler=true\u624D\u4F1A\u542F\u7528

  nextEffect: Fiber | null, // \u5355\u5411\u94FE\u8868, \u6307\u5411\u4E0B\u4E00\u4E2A\u6709\u526F\u4F5C\u7528\u7684fiber\u8282\u70B9
  firstEffect: Fiber | null, // \u6307\u5411\u526F\u4F5C\u7528\u94FE\u8868\u4E2D\u7684\u7B2C\u4E00\u4E2Afiber\u8282\u70B9
  lastEffect: Fiber | null, // \u6307\u5411\u526F\u4F5C\u7528\u94FE\u8868\u4E2D\u7684\u6700\u540E\u4E00\u4E2Afiber\u8282\u70B9

  // \u4F18\u5148\u7EA7\u76F8\u5173
  lanes: Lanes, // \u672Cfiber\u8282\u70B9\u7684\u4F18\u5148\u7EA7
  childLanes: Lanes, // \u5B50\u8282\u70B9\u7684\u4F18\u5148\u7EA7
  alternate: Fiber | null, // \u6307\u5411\u5185\u5B58\u4E2D\u7684\u53E6\u4E00\u4E2Afiber, \u6BCF\u4E2A\u88AB\u66F4\u65B0\u8FC7fiber\u8282\u70B9\u5728\u5185\u5B58\u4E2D\u90FD\u662F\u6210\u5BF9\u51FA\u73B0(current\u548CworkInProgress)

  // \u6027\u80FD\u7EDF\u8BA1\u76F8\u5173(\u5F00\u542FenableProfilerTimer\u540E\u624D\u4F1A\u7EDF\u8BA1)
  // react-dev-tool\u4F1A\u6839\u636E\u8FD9\u4E9B\u65F6\u95F4\u7EDF\u8BA1\u6765\u8BC4\u4F30\u6027\u80FD
  actualDuration?: number, // \u672C\u6B21\u66F4\u65B0\u8FC7\u7A0B, \u672C\u8282\u70B9\u4EE5\u53CA\u5B50\u6811\u6240\u6D88\u8017\u7684\u603B\u65F6\u95F4
  actualStartTime?: number, // \u6807\u8BB0\u672Cfiber\u8282\u70B9\u5F00\u59CB\u6784\u5EFA\u7684\u65F6\u95F4
  selfBaseDuration?: number, // \u7528\u4E8E\u6700\u8FD1\u4E00\u6B21\u751F\u6210\u672Cfiber\u8282\u70B9\u6240\u6D88\u8017\u7684\u65F6\u95F4
  treeBaseDuration?: number, // \u751F\u6210\u5B50\u6811\u6240\u6D88\u8017\u7684\u65F6\u95F4\u7684\u603B\u548C
|};
`,paraId:40,tocIndex:7},{value:"\u5C5E\u6027\u89E3\u91CA:",paraId:41,tocIndex:7},{value:"fiber.tag",paraId:42,tocIndex:7},{value:": \u8868\u793A fiber \u7C7B\u578B, \u6839\u636E",paraId:42,tocIndex:7},{value:"ReactElement",paraId:42,tocIndex:7},{value:"\u7EC4\u4EF6\u7684 type \u8FDB\u884C\u751F\u6210, \u5728 react \u5185\u90E8\u5171\u5B9A\u4E49\u4E86",paraId:42,tocIndex:7},{value:"25 \u79CD tag",paraId:42,tocIndex:7},{value:".",paraId:42,tocIndex:7},{value:"fiber.key",paraId:42,tocIndex:7},{value:": \u548C",paraId:42,tocIndex:7},{value:"ReactElement",paraId:42,tocIndex:7},{value:"\u7EC4\u4EF6\u7684 key \u4E00\u81F4.",paraId:42,tocIndex:7},{value:"fiber.elementType",paraId:42,tocIndex:7},{value:": \u4E00\u822C\u6765\u8BB2\u548C",paraId:42,tocIndex:7},{value:"ReactElement",paraId:42,tocIndex:7},{value:"\u7EC4\u4EF6\u7684 type \u4E00\u81F4",paraId:42,tocIndex:7},{value:"fiber.type",paraId:42,tocIndex:7},{value:": \u4E00\u822C\u6765\u8BB2\u548C",paraId:42,tocIndex:7},{value:"fiber.elementType",paraId:42,tocIndex:7},{value:"\u4E00\u81F4. \u4E00\u4E9B\u7279\u6B8A\u60C5\u5F62\u4E0B, \u6BD4\u5982\u5728\u5F00\u53D1\u73AF\u5883\u4E0B\u4E3A\u4E86\u517C\u5BB9\u70ED\u66F4\u65B0(",paraId:42,tocIndex:7},{value:"HotReloading",paraId:42,tocIndex:7},{value:"), \u4F1A\u5BF9",paraId:42,tocIndex:7},{value:"function, class, ForwardRef",paraId:42,tocIndex:7},{value:"\u7C7B\u578B\u7684",paraId:42,tocIndex:7},{value:"ReactElement",paraId:42,tocIndex:7},{value:"\u505A\u4E00\u5B9A\u7684\u5904\u7406, \u8FD9\u79CD\u60C5\u51B5\u4F1A\u533A\u522B\u4E8E",paraId:42,tocIndex:7},{value:"fiber.elementType",paraId:42,tocIndex:7},{value:", \u5177\u4F53\u8D4B\u503C\u5173\u7CFB\u53EF\u4EE5\u67E5\u770B",paraId:42,tocIndex:7},{value:"\u6E90\u6587\u4EF6",paraId:42,tocIndex:7},{value:".",paraId:42,tocIndex:7},{value:"fiber.stateNode",paraId:42,tocIndex:7},{value:": \u4E0E",paraId:42,tocIndex:7},{value:"fiber",paraId:42,tocIndex:7},{value:"\u5173\u8054\u7684\u5C40\u90E8\u72B6\u6001\u8282\u70B9(\u6BD4\u5982: ",paraId:42,tocIndex:7},{value:"HostComponent",paraId:42,tocIndex:7},{value:"\u7C7B\u578B\u6307\u5411\u4E0E",paraId:42,tocIndex:7},{value:"fiber",paraId:42,tocIndex:7},{value:"\u8282\u70B9\u5BF9\u5E94\u7684 dom \u8282\u70B9; \u6839\u8282\u70B9",paraId:42,tocIndex:7},{value:"fiber.stateNode",paraId:42,tocIndex:7},{value:"\u6307\u5411\u7684\u662F",paraId:42,tocIndex:7},{value:"FiberRoot",paraId:42,tocIndex:7},{value:"; class \u7C7B\u578B\u8282\u70B9\u5176",paraId:42,tocIndex:7},{value:"stateNode",paraId:42,tocIndex:7},{value:"\u6307\u5411\u7684\u662F class \u5B9E\u4F8B).",paraId:42,tocIndex:7},{value:"fiber.return",paraId:42,tocIndex:7},{value:": \u6307\u5411\u7236\u8282\u70B9.",paraId:42,tocIndex:7},{value:"fiber.child",paraId:42,tocIndex:7},{value:": \u6307\u5411\u7B2C\u4E00\u4E2A\u5B50\u8282\u70B9.",paraId:42,tocIndex:7},{value:"fiber.sibling",paraId:42,tocIndex:7},{value:": \u6307\u5411\u4E0B\u4E00\u4E2A\u5144\u5F1F\u8282\u70B9.",paraId:42,tocIndex:7},{value:"fiber.index",paraId:42,tocIndex:7},{value:": fiber \u5728\u5144\u5F1F\u8282\u70B9\u4E2D\u7684\u7D22\u5F15, \u5982\u679C\u662F\u5355\u8282\u70B9\u9ED8\u8BA4\u4E3A 0.",paraId:42,tocIndex:7},{value:"fiber.ref",paraId:42,tocIndex:7},{value:": \u6307\u5411\u5728",paraId:42,tocIndex:7},{value:"ReactElement",paraId:42,tocIndex:7},{value:"\u7EC4\u4EF6\u4E0A\u8BBE\u7F6E\u7684 ref(",paraId:42,tocIndex:7},{value:"string",paraId:42,tocIndex:7},{value:"\u7C7B\u578B\u7684",paraId:42,tocIndex:7},{value:"ref",paraId:42,tocIndex:7},{value:"\u9664\u5916, \u8FD9\u79CD\u7C7B\u578B\u7684",paraId:42,tocIndex:7},{value:"ref",paraId:42,tocIndex:7},{value:"\u5DF2\u7ECF\u4E0D\u63A8\u8350\u4F7F\u7528, ",paraId:42,tocIndex:7},{value:"reconciler",paraId:42,tocIndex:7},{value:"\u9636\u6BB5\u4F1A\u5C06",paraId:42,tocIndex:7},{value:"string",paraId:42,tocIndex:7},{value:"\u7C7B\u578B\u7684",paraId:42,tocIndex:7},{value:"ref",paraId:42,tocIndex:7},{value:"\u8F6C\u6362\u6210\u4E00\u4E2A",paraId:42,tocIndex:7},{value:"function",paraId:42,tocIndex:7},{value:"\u7C7B\u578B).",paraId:42,tocIndex:7},{value:"fiber.pendingProps",paraId:42,tocIndex:7},{value:": \u8F93\u5165\u5C5E\u6027, \u4ECE",paraId:42,tocIndex:7},{value:"ReactElement",paraId:42,tocIndex:7},{value:"\u5BF9\u8C61\u4F20\u5165\u7684 props. \u7528\u4E8E\u548C",paraId:42,tocIndex:7},{value:"fiber.memoizedProps",paraId:42,tocIndex:7},{value:"\u6BD4\u8F83\u53EF\u4EE5\u5F97\u51FA\u5C5E\u6027\u662F\u5426\u53D8\u52A8.",paraId:42,tocIndex:7},{value:"fiber.memoizedProps",paraId:42,tocIndex:7},{value:": \u4E0A\u4E00\u6B21\u751F\u6210\u5B50\u8282\u70B9\u65F6\u7528\u5230\u7684\u5C5E\u6027, \u751F\u6210\u5B50\u8282\u70B9\u4E4B\u540E\u4FDD\u6301\u5728\u5185\u5B58\u4E2D. \u5411\u4E0B\u751F\u6210\u5B50\u8282\u70B9\u4E4B\u524D\u53EB\u505A",paraId:42,tocIndex:7},{value:"pendingProps",paraId:42,tocIndex:7},{value:", \u751F\u6210\u5B50\u8282\u70B9\u4E4B\u540E\u4F1A\u628A",paraId:42,tocIndex:7},{value:"pendingProps",paraId:42,tocIndex:7},{value:"\u8D4B\u503C\u7ED9",paraId:42,tocIndex:7},{value:"memoizedProps",paraId:42,tocIndex:7},{value:"\u7528\u4E8E\u4E0B\u4E00\u6B21\u6BD4\u8F83.",paraId:42,tocIndex:7},{value:"pendingProps",paraId:42,tocIndex:7},{value:"\u548C",paraId:42,tocIndex:7},{value:"memoizedProps",paraId:42,tocIndex:7},{value:"\u6BD4\u8F83\u53EF\u4EE5\u5F97\u51FA\u5C5E\u6027\u662F\u5426\u53D8\u52A8.",paraId:42,tocIndex:7},{value:"fiber.updateQueue",paraId:42,tocIndex:7},{value:": \u5B58\u50A8",paraId:42,tocIndex:7},{value:"update\u66F4\u65B0\u5BF9\u8C61",paraId:42,tocIndex:7},{value:"\u7684\u961F\u5217, \u6BCF\u4E00\u6B21\u53D1\u8D77\u66F4\u65B0, \u90FD\u9700\u8981\u5728\u8BE5\u961F\u5217\u4E0A\u521B\u5EFA\u4E00\u4E2A",paraId:42,tocIndex:7},{value:"update\u5BF9\u8C61",paraId:42,tocIndex:7},{value:".",paraId:42,tocIndex:7},{value:"fiber.memoizedState",paraId:42,tocIndex:7},{value:": \u4E0A\u4E00\u6B21\u751F\u6210\u5B50\u8282\u70B9\u4E4B\u540E\u4FDD\u6301\u5728\u5185\u5B58\u4E2D\u7684\u5C40\u90E8\u72B6\u6001.",paraId:42,tocIndex:7},{value:"fiber.dependencies",paraId:42,tocIndex:7},{value:": \u8BE5 fiber \u8282\u70B9\u6240\u4F9D\u8D56\u7684(contexts, events)\u7B49, \u5728",paraId:42,tocIndex:7},{value:"context",paraId:42,tocIndex:7},{value:"\u673A\u5236\u7AE0\u8282\u8BE6\u7EC6\u8BF4\u660E.",paraId:42,tocIndex:7},{value:"fiber.mode",paraId:42,tocIndex:7},{value:": \u4E8C\u8FDB\u5236\u4F4D Bitfield,\u7EE7\u627F\u81F3\u7236\u8282\u70B9,\u5F71\u54CD\u672C fiber \u8282\u70B9\u53CA\u5176\u5B50\u6811\u4E2D\u6240\u6709\u8282\u70B9. \u4E0E react \u5E94\u7528\u7684\u8FD0\u884C\u6A21\u5F0F\u6709\u5173(\u6709 ConcurrentMode, BlockingMode, NoMode \u7B49\u9009\u9879).",paraId:42,tocIndex:7},{value:"fiber.flags",paraId:42,tocIndex:7},{value:": \u6807\u5FD7\u4F4D, \u526F\u4F5C\u7528\u6807\u8BB0(\u5728 16.x \u7248\u672C\u4E2D\u53EB\u505A",paraId:42,tocIndex:7},{value:"effectTag",paraId:42,tocIndex:7},{value:", \u76F8\u5E94",paraId:42,tocIndex:7},{value:"pr",paraId:42,tocIndex:7},{value:"), \u5728",paraId:42,tocIndex:7},{value:"ReactFiberFlags.js",paraId:42,tocIndex:7},{value:"\u4E2D\u5B9A\u4E49\u4E86\u6240\u6709\u7684\u6807\u5FD7\u4F4D. ",paraId:42,tocIndex:7},{value:"reconciler",paraId:42,tocIndex:7},{value:"\u9636\u6BB5\u4F1A\u5C06\u6240\u6709\u62E5\u6709",paraId:42,tocIndex:7},{value:"flags",paraId:42,tocIndex:7},{value:"\u6807\u8BB0\u7684\u8282\u70B9\u6DFB\u52A0\u5230\u526F\u4F5C\u7528\u94FE\u8868\u4E2D, \u7B49\u5F85 commit \u9636\u6BB5\u7684\u5904\u7406.",paraId:42,tocIndex:7},{value:"fiber.subtreeFlags",paraId:42,tocIndex:7},{value:": \u66FF\u4EE3 16.x \u7248\u672C\u4E2D\u7684 firstEffect, nextEffect. \u9ED8\u8BA4\u672A\u5F00\u542F, \u5F53\u8BBE\u7F6E\u4E86",paraId:42,tocIndex:7},{value:"enableNewReconciler=true",paraId:42,tocIndex:7},{value:" \u624D\u4F1A\u542F\u7528, \u672C\u7CFB\u5217\u53EA\u8DDF\u8E2A\u7A33\u5B9A\u7248\u7684\u4EE3\u7801, \u672A\u6765\u7248\u672C\u4E0D\u4F1A\u6DF1\u5165\u89E3\u8BFB, ",paraId:42,tocIndex:7},{value:"\u4F7F\u7528\u793A\u4F8B\u89C1\u6E90\u7801",paraId:42,tocIndex:7},{value:".",paraId:42,tocIndex:7},{value:"fiber.deletions",paraId:42,tocIndex:7},{value:": \u5B58\u50A8\u5C06\u8981\u88AB\u5220\u9664\u7684\u5B50\u8282\u70B9. \u9ED8\u8BA4\u672A\u5F00\u542F, \u5F53\u8BBE\u7F6E\u4E86",paraId:42,tocIndex:7},{value:"enableNewReconciler=true",paraId:42,tocIndex:7},{value:" \u624D\u4F1A\u542F\u7528, \u672C\u7CFB\u5217\u53EA\u8DDF\u8E2A\u7A33\u5B9A\u7248\u7684\u4EE3\u7801, \u672A\u6765\u7248\u672C\u4E0D\u4F1A\u6DF1\u5165\u89E3\u8BFB, ",paraId:42,tocIndex:7},{value:"\u4F7F\u7528\u793A\u4F8B\u89C1\u6E90\u7801",paraId:42,tocIndex:7},{value:".",paraId:42,tocIndex:7},{value:"fiber.nextEffect",paraId:42,tocIndex:7},{value:": \u5355\u5411\u94FE\u8868, \u6307\u5411\u4E0B\u4E00\u4E2A\u6709\u526F\u4F5C\u7528\u7684 fiber \u8282\u70B9.",paraId:42,tocIndex:7},{value:"fiber.firstEffect",paraId:42,tocIndex:7},{value:": \u6307\u5411\u526F\u4F5C\u7528\u94FE\u8868\u4E2D\u7684\u7B2C\u4E00\u4E2A fiber \u8282\u70B9.",paraId:42,tocIndex:7},{value:"fiber.lastEffect",paraId:42,tocIndex:7},{value:": \u6307\u5411\u526F\u4F5C\u7528\u94FE\u8868\u4E2D\u7684\u6700\u540E\u4E00\u4E2A fiber \u8282\u70B9.",paraId:42,tocIndex:7},{value:"fiber.lanes",paraId:42,tocIndex:7},{value:": \u672C fiber \u8282\u70B9\u6240\u5C5E\u7684\u4F18\u5148\u7EA7, \u521B\u5EFA fiber \u7684\u65F6\u5019\u8BBE\u7F6E.",paraId:42,tocIndex:7},{value:"fiber.childLanes",paraId:42,tocIndex:7},{value:": \u5B50\u8282\u70B9\u6240\u5C5E\u7684\u4F18\u5148\u7EA7.",paraId:42,tocIndex:7},{value:"fiber.alternate",paraId:42,tocIndex:7},{value:": \u6307\u5411\u5185\u5B58\u4E2D\u7684\u53E6\u4E00\u4E2A fiber, \u6BCF\u4E2A\u88AB\u66F4\u65B0\u8FC7 fiber \u8282\u70B9\u5728\u5185\u5B58\u4E2D\u90FD\u662F\u6210\u5BF9\u51FA\u73B0(current \u548C workInProgress)",paraId:42,tocIndex:7},{value:"\u901A\u8FC7\u4EE5\u4E0A 25 \u4E2A\u5C5E\u6027\u7684\u89E3\u91CA, \u5BF9",paraId:43,tocIndex:7},{value:"fiber",paraId:43,tocIndex:7},{value:"\u5BF9\u8C61\u6709\u4E00\u4E2A\u521D\u6B65\u7684\u8BA4\u8BC6.",paraId:43,tocIndex:7},{value:"\u6700\u540E\u7ED8\u5236\u4E00\u9897 fiber \u6811\u4E0E\u4E0A\u6587\u4E2D\u7684",paraId:44,tocIndex:7},{value:"ReactElement",paraId:44,tocIndex:7},{value:"\u6811\u5BF9\u7167\u8D77\u6765:",paraId:44,tocIndex:7},{value:`
\u6CE8\u610F:
`,paraId:8},{value:"\u8FD9\u91CC\u7684",paraId:45,tocIndex:7},{value:"fiber",paraId:45,tocIndex:7},{value:"\u6811\u53EA\u662F\u4E3A\u4E86\u548C\u4E0A\u6587\u4E2D\u7684",paraId:45,tocIndex:7},{value:"ReactElement",paraId:45,tocIndex:7},{value:"\u6811\u5BF9\u7167, \u6240\u4EE5\u53EA\u7528\u89C2\u5BDF\u7EA2\u8272\u865A\u7EBF\u6846\u5185\u7684\u8282\u70B9. \u6839\u8282\u70B9",paraId:45,tocIndex:7},{value:"HostRootFiber",paraId:45,tocIndex:7},{value:"\u5728",paraId:45,tocIndex:7},{value:"react \u5E94\u7528\u7684\u542F\u52A8\u6A21\u5F0F\u7AE0\u8282\u4E2D",paraId:46,tocIndex:7},{value:"\u8BE6\u7EC6\u89E3\u8BFB.",paraId:45,tocIndex:7},{value:"\u5176\u4E2D",paraId:45,tocIndex:7},{value:"<App/>",paraId:45,tocIndex:7},{value:",",paraId:45,tocIndex:7},{value:"<Content/>",paraId:45,tocIndex:7},{value:"\u4E3A",paraId:45,tocIndex:7},{value:"ClassComponent",paraId:45,tocIndex:7},{value:"\u7C7B\u578B\u7684",paraId:45,tocIndex:7},{value:"fiber",paraId:45,tocIndex:7},{value:"\u8282\u70B9, \u5176\u4F59\u8282\u70B9\u90FD\u662F\u666E\u901A",paraId:45,tocIndex:7},{value:"HostComponent",paraId:45,tocIndex:7},{value:"\u7C7B\u578B\u8282\u70B9.",paraId:45,tocIndex:7},{value:"<Content/>",paraId:45,tocIndex:7},{value:"\u7684\u5B50\u8282\u70B9\u5728",paraId:45,tocIndex:7},{value:"ReactElement",paraId:45,tocIndex:7},{value:"\u6811\u4E2D\u662F",paraId:45,tocIndex:7},{value:"React.Fragment",paraId:45,tocIndex:7},{value:", \u4F46\u662F\u5728",paraId:45,tocIndex:7},{value:"fiber",paraId:45,tocIndex:7},{value:"\u6811\u4E2D",paraId:45,tocIndex:7},{value:"React.Fragment",paraId:45,tocIndex:7},{value:"\u5E76\u6CA1\u6709\u4E0E\u4E4B\u5BF9\u5E94\u7684",paraId:45,tocIndex:7},{value:"fiber",paraId:45,tocIndex:7},{value:"\u8282\u70B9(",paraId:45,tocIndex:7},{value:"reconciler",paraId:45,tocIndex:7},{value:"\u9636\u6BB5\u5BF9\u6B64\u7C7B\u578B\u8282\u70B9\u505A\u4E86\u5355\u72EC\u5904\u7406, \u6240\u4EE5",paraId:45,tocIndex:7},{value:"ReactElement",paraId:45,tocIndex:7},{value:"\u8282\u70B9\u548C",paraId:45,tocIndex:7},{value:"fiber",paraId:45,tocIndex:7},{value:"\u8282\u70B9\u4E0D\u662F\u4E00\u5BF9\u4E00\u5339\u914D).",paraId:45,tocIndex:7},{value:"\u5728",paraId:47,tocIndex:8},{value:"fiber",paraId:47,tocIndex:8},{value:"\u5BF9\u8C61\u4E2D\u6709\u4E00\u4E2A\u5C5E\u6027",paraId:47,tocIndex:8},{value:"fiber.updateQueue",paraId:47,tocIndex:8},{value:", \u662F\u4E00\u4E2A\u94FE\u5F0F\u961F\u5217(\u5373\u4F7F\u7528\u94FE\u8868\u5B9E\u73B0\u7684\u961F\u5217\u5B58\u50A8\u7ED3\u6784), \u540E\u6587\u4F1A\u6839\u636E\u573A\u666F\u8868\u8FF0\u6210\u94FE\u8868\u6216\u961F\u5217.",paraId:47,tocIndex:8},{value:"\u9996\u5148\u89C2\u5BDF",paraId:48,tocIndex:8},{value:"Update",paraId:48,tocIndex:8},{value:"\u5BF9\u8C61\u7684\u6570\u636E\u7ED3\u6784(",paraId:48,tocIndex:8},{value:"\u5BF9\u7167\u6E90\u7801",paraId:48,tocIndex:8},{value:"):",paraId:48,tocIndex:8},{value:`export type Update<State> = {|
  eventTime: number, // \u53D1\u8D77update\u4E8B\u4EF6\u7684\u65F6\u95F4(17.0.2\u4E2D\u4F5C\u4E3A\u4E34\u65F6\u5B57\u6BB5, \u5373\u5C06\u79FB\u51FA)
  lane: Lane, // update\u6240\u5C5E\u7684\u4F18\u5148\u7EA7

  tag: 0 | 1 | 2 | 3, //
  payload: any, // \u8F7D\u8377, \u6839\u636E\u573A\u666F\u53EF\u4EE5\u8BBE\u7F6E\u6210\u4E00\u4E2A\u56DE\u8C03\u51FD\u6570\u6216\u8005\u5BF9\u8C61
  callback: (() => mixed) | null, // \u56DE\u8C03\u51FD\u6570

  next: Update<State> | null, // \u6307\u5411\u94FE\u8868\u4E2D\u7684\u4E0B\u4E00\u4E2A, \u7531\u4E8EUpdateQueue\u662F\u4E00\u4E2A\u73AF\u5F62\u94FE\u8868, \u6700\u540E\u4E00\u4E2Aupdate.next\u6307\u5411\u7B2C\u4E00\u4E2Aupdate\u5BF9\u8C61
|};

// =============== UpdateQueue ==============
type SharedQueue<State> = {|
  pending: Update<State> | null,
|};

export type UpdateQueue<State> = {|
  baseState: State,
  firstBaseUpdate: Update<State> | null,
  lastBaseUpdate: Update<State> | null,
  shared: SharedQueue<State>,
  effects: Array<Update<State>> | null,
|};
`,paraId:49,tocIndex:8},{value:"\u5C5E\u6027\u89E3\u91CA:",paraId:50,tocIndex:8},{value:"UpdateQueue",paraId:51,tocIndex:8},{value:"baseState",paraId:52,tocIndex:8},{value:": \u8868\u793A\u6B64\u961F\u5217\u7684\u57FA\u7840 state",paraId:52,tocIndex:8},{value:"firstBaseUpdate",paraId:52,tocIndex:8},{value:": \u6307\u5411\u57FA\u7840\u961F\u5217\u7684\u961F\u9996",paraId:52,tocIndex:8},{value:"lastBaseUpdate",paraId:52,tocIndex:8},{value:": \u6307\u5411\u57FA\u7840\u961F\u5217\u7684\u961F\u5C3E",paraId:52,tocIndex:8},{value:"shared",paraId:52,tocIndex:8},{value:": \u5171\u4EAB\u961F\u5217",paraId:52,tocIndex:8},{value:"effects",paraId:52,tocIndex:8},{value:": \u7528\u4E8E\u4FDD\u5B58\u6709",paraId:52,tocIndex:8},{value:"callback",paraId:52,tocIndex:8},{value:"\u56DE\u8C03\u51FD\u6570\u7684 update \u5BF9\u8C61, \u5728",paraId:52,tocIndex:8},{value:"commit",paraId:52,tocIndex:8},{value:"\u4E4B\u540E, \u4F1A\u4F9D\u6B21\u8C03\u7528\u8FD9\u91CC\u7684\u56DE\u8C03\u51FD\u6570.",paraId:52,tocIndex:8},{value:"SharedQueue",paraId:53,tocIndex:8},{value:"pending",paraId:54,tocIndex:8},{value:": \u6307\u5411\u5373\u5C06\u8F93\u5165\u7684",paraId:54,tocIndex:8},{value:"update",paraId:54,tocIndex:8},{value:"\u961F\u5217. \u5728",paraId:54,tocIndex:8},{value:"class",paraId:54,tocIndex:8},{value:"\u7EC4\u4EF6\u4E2D\u8C03\u7528",paraId:54,tocIndex:8},{value:"setState()",paraId:54,tocIndex:8},{value:"\u4E4B\u540E, \u4F1A\u5C06\u65B0\u7684 update \u5BF9\u8C61\u6DFB\u52A0\u5230\u8FD9\u4E2A\u961F\u5217\u4E2D\u6765.",paraId:54,tocIndex:8},{value:"Update",paraId:55,tocIndex:8},{value:"eventTime",paraId:56,tocIndex:8},{value:": \u53D1\u8D77",paraId:56,tocIndex:8},{value:"update",paraId:56,tocIndex:8},{value:"\u4E8B\u4EF6\u7684\u65F6\u95F4(17.0.2 \u4E2D\u4F5C\u4E3A\u4E34\u65F6\u5B57\u6BB5, \u5373\u5C06\u79FB\u51FA)",paraId:56,tocIndex:8},{value:"lane",paraId:56,tocIndex:8},{value:": ",paraId:56,tocIndex:8},{value:"update",paraId:56,tocIndex:8},{value:"\u6240\u5C5E\u7684\u4F18\u5148\u7EA7",paraId:56,tocIndex:8},{value:"tag",paraId:56,tocIndex:8},{value:": \u8868\u793A",paraId:56,tocIndex:8},{value:"update",paraId:56,tocIndex:8},{value:"\u79CD\u7C7B, \u5171 4 \u79CD. ",paraId:56,tocIndex:8},{value:"UpdateState,ReplaceState,ForceUpdate,CaptureUpdate",paraId:56,tocIndex:8},{value:"payload",paraId:56,tocIndex:8},{value:": \u8F7D\u8377, ",paraId:56,tocIndex:8},{value:"update",paraId:56,tocIndex:8},{value:"\u5BF9\u8C61\u771F\u6B63\u9700\u8981\u66F4\u65B0\u7684\u6570\u636E, \u53EF\u4EE5\u8BBE\u7F6E\u6210\u4E00\u4E2A\u56DE\u8C03\u51FD\u6570\u6216\u8005\u5BF9\u8C61.",paraId:56,tocIndex:8},{value:"callback",paraId:56,tocIndex:8},{value:": \u56DE\u8C03\u51FD\u6570. ",paraId:56,tocIndex:8},{value:"commit",paraId:56,tocIndex:8},{value:"\u5B8C\u6210\u4E4B\u540E\u4F1A\u8C03\u7528.",paraId:56,tocIndex:8},{value:"next",paraId:56,tocIndex:8},{value:": \u6307\u5411\u94FE\u8868\u4E2D\u7684\u4E0B\u4E00\u4E2A, \u7531\u4E8E",paraId:56,tocIndex:8},{value:"UpdateQueue",paraId:56,tocIndex:8},{value:"\u662F\u4E00\u4E2A\u73AF\u5F62\u94FE\u8868, \u6700\u540E\u4E00\u4E2A",paraId:56,tocIndex:8},{value:"update.next",paraId:56,tocIndex:8},{value:"\u6307\u5411\u7B2C\u4E00\u4E2A",paraId:56,tocIndex:8},{value:"update",paraId:56,tocIndex:8},{value:"\u5BF9\u8C61.",paraId:56,tocIndex:8},{value:"updateQueue",paraId:57,tocIndex:8},{value:"\u662F",paraId:57,tocIndex:8},{value:"fiber",paraId:57,tocIndex:8},{value:"\u5BF9\u8C61\u7684\u4E00\u4E2A\u5C5E\u6027, \u6240\u4EE5\u4E0D\u80FD\u8131\u79BB",paraId:57,tocIndex:8},{value:"fiber",paraId:57,tocIndex:8},{value:"\u5B58\u5728. \u5B83\u4EEC\u4E4B\u95F4\u6570\u636E\u7ED3\u6784\u548C\u5F15\u7528\u5173\u7CFB\u5982\u4E0B:",paraId:57,tocIndex:8},{value:"\u6CE8\u610F:",paraId:58,tocIndex:8},{value:"\u6B64\u5904\u53EA\u662F\u5C55\u793A\u6570\u636E\u7ED3\u6784\u548C\u5F15\u7528\u5173\u7CFB.\u5BF9\u4E8E",paraId:59,tocIndex:8},{value:"updateQueue",paraId:59,tocIndex:8},{value:"\u5728\u66F4\u65B0\u9636\u6BB5\u7684\u5B9E\u9645\u4F5C\u7528\u548C\u8FD0\u884C\u903B\u8F91, \u4F1A\u5728\u72B6\u6001\u7EC4\u4EF6(class \u4E0E function)\u7AE0\u8282\u4E2D\u8BE6\u7EC6\u89E3\u8BFB.",paraId:59,tocIndex:8},{value:"Hook",paraId:60,tocIndex:9},{value:"\u7528\u4E8E",paraId:60,tocIndex:9},{value:"function",paraId:60,tocIndex:9},{value:"\u7EC4\u4EF6\u4E2D, \u80FD\u591F\u4FDD\u6301",paraId:60,tocIndex:9},{value:"function",paraId:60,tocIndex:9},{value:"\u7EC4\u4EF6\u7684\u72B6\u6001(\u4E0E",paraId:60,tocIndex:9},{value:"class",paraId:60,tocIndex:9},{value:"\u7EC4\u4EF6\u4E2D\u7684",paraId:60,tocIndex:9},{value:"state",paraId:60,tocIndex:9},{value:"\u5728\u6027\u8D28\u4E0A\u662F\u76F8\u540C\u7684, \u90FD\u662F\u4E3A\u4E86\u4FDD\u6301\u7EC4\u4EF6\u7684\u72B6\u6001).\u5728",paraId:60,tocIndex:9},{value:"react@16.8",paraId:60,tocIndex:9},{value:"\u4EE5\u540E, \u5B98\u65B9\u5F00\u59CB\u63A8\u8350\u4F7F\u7528",paraId:60,tocIndex:9},{value:"Hook",paraId:60,tocIndex:9},{value:"\u8BED\u6CD5, \u5E38\u7528\u7684 api \u6709",paraId:60,tocIndex:9},{value:"useState",paraId:60,tocIndex:9},{value:",",paraId:60,tocIndex:9},{value:"useEffect",paraId:60,tocIndex:9},{value:",",paraId:60,tocIndex:9},{value:"useCallback",paraId:60,tocIndex:9},{value:"\u7B49, \u5B98\u65B9\u4E00\u5171\u5B9A\u4E49\u4E86",paraId:60,tocIndex:9},{value:"14 \u79CD",paraId:60,tocIndex:9},{value:"Hook",paraId:60,tocIndex:9},{value:"\u7C7B\u578B",paraId:60,tocIndex:9},{value:".",paraId:60,tocIndex:9},{value:"\u8FD9\u4E9B api \u80CC\u540E\u90FD\u4F1A\u521B\u5EFA\u4E00\u4E2A",paraId:61,tocIndex:9},{value:"Hook",paraId:61,tocIndex:9},{value:"\u5BF9\u8C61, \u5148\u89C2\u5BDF",paraId:61,tocIndex:9},{value:"Hook",paraId:61,tocIndex:9},{value:"\u5BF9\u8C61\u7684\u6570\u636E\u7ED3\u6784",paraId:61,tocIndex:9},{value:":",paraId:61,tocIndex:9},{value:`export type Hook = {|
  memoizedState: any,
  baseState: any,
  baseQueue: Update<any, any> | null,
  queue: UpdateQueue<any, any> | null,
  next: Hook | null,
|};

type Update<S, A> = {|
  lane: Lane,
  action: A,
  eagerReducer: ((S, A) => S) | null,
  eagerState: S | null,
  next: Update<S, A>,
  priority?: ReactPriorityLevel,
|};

type UpdateQueue<S, A> = {|
  pending: Update<S, A> | null,
  dispatch: ((A) => mixed) | null,
  lastRenderedReducer: ((S, A) => S) | null,
  lastRenderedState: S | null,
|};
`,paraId:62,tocIndex:9},{value:"\u5C5E\u6027\u89E3\u91CA:",paraId:63,tocIndex:9},{value:"Hook",paraId:64,tocIndex:9},{value:"memoizedState",paraId:65,tocIndex:9},{value:": \u5185\u5B58\u72B6\u6001, \u7528\u4E8E\u8F93\u51FA\u6210\u6700\u7EC8\u7684",paraId:65,tocIndex:9},{value:"fiber",paraId:65,tocIndex:9},{value:"\u6811",paraId:65,tocIndex:9},{value:"baseState",paraId:65,tocIndex:9},{value:": \u57FA\u7840\u72B6\u6001, \u5F53",paraId:65,tocIndex:9},{value:"Hook.queue",paraId:65,tocIndex:9},{value:"\u66F4\u65B0\u8FC7\u540E, ",paraId:65,tocIndex:9},{value:"baseState",paraId:65,tocIndex:9},{value:"\u4E5F\u4F1A\u66F4\u65B0.",paraId:65,tocIndex:9},{value:"baseQueue",paraId:65,tocIndex:9},{value:": \u57FA\u7840\u72B6\u6001\u961F\u5217, \u5728",paraId:65,tocIndex:9},{value:"reconciler",paraId:65,tocIndex:9},{value:"\u9636\u6BB5\u4F1A\u8F85\u52A9\u72B6\u6001\u5408\u5E76.",paraId:65,tocIndex:9},{value:"queue",paraId:65,tocIndex:9},{value:": \u6307\u5411\u4E00\u4E2A",paraId:65,tocIndex:9},{value:"Update",paraId:65,tocIndex:9},{value:"\u961F\u5217",paraId:65,tocIndex:9},{value:"next",paraId:65,tocIndex:9},{value:": \u6307\u5411\u8BE5",paraId:65,tocIndex:9},{value:"function",paraId:65,tocIndex:9},{value:"\u7EC4\u4EF6\u7684\u4E0B\u4E00\u4E2A",paraId:65,tocIndex:9},{value:"Hook",paraId:65,tocIndex:9},{value:"\u5BF9\u8C61, \u4F7F\u5F97\u591A\u4E2A",paraId:65,tocIndex:9},{value:"Hook",paraId:65,tocIndex:9},{value:"\u4E4B\u95F4\u4E5F\u6784\u6210\u4E86\u4E00\u4E2A\u94FE\u8868.",paraId:65,tocIndex:9},{value:"Hook.queue",paraId:66,tocIndex:9},{value:"\u548C ",paraId:66,tocIndex:9},{value:"Hook.baseQueue",paraId:66,tocIndex:9},{value:"(\u5373",paraId:66,tocIndex:9},{value:"UpdateQueue",paraId:66,tocIndex:9},{value:"\u548C",paraId:66,tocIndex:9},{value:"Update",paraId:66,tocIndex:9},{value:"\uFF09\u662F\u4E3A\u4E86\u4FDD\u8BC1",paraId:66,tocIndex:9},{value:"Hook",paraId:66,tocIndex:9},{value:"\u5BF9\u8C61\u80FD\u591F\u987A\u5229\u66F4\u65B0, \u4E0E\u4E0A\u6587",paraId:66,tocIndex:9},{value:"fiber.updateQueue",paraId:66,tocIndex:9},{value:"\u4E2D\u7684",paraId:66,tocIndex:9},{value:"UpdateQueue\u548CUpdate",paraId:66,tocIndex:9},{value:"\u662F\u4E0D\u4E00\u6837\u7684(\u4E14\u5B83\u4EEC\u5728\u4E0D\u540C\u7684\u6587\u4EF6), \u5176\u903B\u8F91\u4F1A\u5728\u72B6\u6001\u7EC4\u4EF6(class \u4E0E function)\u7AE0\u8282\u4E2D\u8BE6\u7EC6\u89E3\u8BFB.",paraId:66,tocIndex:9},{value:"Hook",paraId:67,tocIndex:9},{value:"\u4E0E",paraId:67,tocIndex:9},{value:"fiber",paraId:67,tocIndex:9},{value:"\u7684\u5173\u7CFB:",paraId:67,tocIndex:9},{value:"\u5728",paraId:68,tocIndex:9},{value:"fiber",paraId:68,tocIndex:9},{value:"\u5BF9\u8C61\u4E2D\u6709\u4E00\u4E2A\u5C5E\u6027",paraId:68,tocIndex:9},{value:"fiber.memoizedState",paraId:68,tocIndex:9},{value:"\u6307\u5411",paraId:68,tocIndex:9},{value:"fiber",paraId:68,tocIndex:9},{value:"\u8282\u70B9\u7684\u5185\u5B58\u72B6\u6001. \u5728",paraId:68,tocIndex:9},{value:"function",paraId:68,tocIndex:9},{value:"\u7C7B\u578B\u7684\u7EC4\u4EF6\u4E2D, ",paraId:68,tocIndex:9},{value:"fiber.memoizedState",paraId:68,tocIndex:9},{value:"\u5C31\u6307\u5411",paraId:68,tocIndex:9},{value:"Hook",paraId:68,tocIndex:9},{value:"\u961F\u5217(",paraId:68,tocIndex:9},{value:"Hook",paraId:68,tocIndex:9},{value:"\u961F\u5217\u4FDD\u5B58\u4E86",paraId:68,tocIndex:9},{value:"function",paraId:68,tocIndex:9},{value:"\u7C7B\u578B\u7684\u7EC4\u4EF6\u72B6\u6001).",paraId:68,tocIndex:9},{value:"\u6240\u4EE5",paraId:69,tocIndex:9},{value:"Hook",paraId:69,tocIndex:9},{value:"\u4E5F\u4E0D\u80FD\u8131\u79BB",paraId:69,tocIndex:9},{value:"fiber",paraId:69,tocIndex:9},{value:"\u800C\u5B58\u5728, \u5B83\u4EEC\u4E4B\u95F4\u7684\u5F15\u7528\u5173\u7CFB\u5982\u4E0B:",paraId:69,tocIndex:9},{value:"\u6CE8\u610F:",paraId:70,tocIndex:9},{value:"\u6B64\u5904\u53EA\u662F\u5C55\u793A\u6570\u636E\u7ED3\u6784\u548C\u5F15\u7528\u5173\u7CFB.\u5BF9\u4E8E",paraId:71,tocIndex:9},{value:"Hook",paraId:71,tocIndex:9},{value:"\u5728\u8FD0\u884C\u65F6\u7684\u5B9E\u9645\u4F5C\u7528\u548C\u903B\u8F91, \u4F1A\u5728\u72B6\u6001\u7EC4\u4EF6(class \u4E0E function)\u7AE0\u8282\u4E2D\u8BE6\u7EC6\u89E3\u8BFB.",paraId:71,tocIndex:9},{value:"\u5982",paraId:72,tocIndex:10},{value:"\u5B8F\u89C2\u7ED3\u6784",paraId:73,tocIndex:10},{value:"\u4E2D\u6240\u4ECB\u7ECD, ",paraId:72,tocIndex:10},{value:"scheduler",paraId:72,tocIndex:10},{value:"\u5305\u8D1F\u8D23\u8C03\u5EA6, \u5728\u5185\u90E8\u7EF4\u62A4\u4E00\u4E2A\u4EFB\u52A1\u961F\u5217(",paraId:72,tocIndex:10},{value:"taskQueue",paraId:72,tocIndex:10},{value:"). \u8FD9\u4E2A\u961F\u5217\u662F\u4E00\u4E2A\u6700\u5C0F\u5806\u6570\u7EC4(\u8BE6\u89C1",paraId:72,tocIndex:10},{value:"React \u7B97\u6CD5\u4E4B\u5806\u6392\u5E8F",paraId:74,tocIndex:10},{value:"), \u5176\u4E2D\u5B58\u50A8\u4E86 task \u5BF9\u8C61.",paraId:72,tocIndex:10},{value:"scheduler",paraId:75,tocIndex:11},{value:"\u5305\u4E2D, \u6CA1\u6709\u4E3A task \u5BF9\u8C61\u5B9A\u4E49 type, \u5176",paraId:75,tocIndex:11},{value:"\u5B9A\u4E49\u662F\u76F4\u63A5\u5728 js \u4EE3\u7801",paraId:75,tocIndex:11},{value:"\u4E2D:",paraId:75,tocIndex:11},{value:`var newTask = {
  id: taskIdCounter++,
  callback,
  priorityLevel,
  startTime,
  expirationTime,
  sortIndex: -1,
};
`,paraId:76,tocIndex:11},{value:"\u5C5E\u6027\u89E3\u91CA:",paraId:77,tocIndex:11},{value:"id",paraId:78,tocIndex:11},{value:": \u552F\u4E00\u6807\u8BC6",paraId:78,tocIndex:11},{value:"callback",paraId:78,tocIndex:11},{value:": task \u6700\u6838\u5FC3\u7684\u5B57\u6BB5, \u6307\u5411",paraId:78,tocIndex:11},{value:"react-reconciler",paraId:78,tocIndex:11},{value:"\u5305\u6240\u63D0\u4F9B\u7684\u56DE\u8C03\u51FD\u6570.",paraId:78,tocIndex:11},{value:"priorityLevel",paraId:78,tocIndex:11},{value:": \u4F18\u5148\u7EA7",paraId:78,tocIndex:11},{value:"startTime",paraId:78,tocIndex:11},{value:": \u4E00\u4E2A\u65F6\u95F4\u6233,\u4EE3\u8868 task \u7684\u5F00\u59CB\u65F6\u95F4(\u521B\u5EFA\u65F6\u95F4 + \u5EF6\u65F6\u65F6\u95F4).",paraId:78,tocIndex:11},{value:"expirationTime",paraId:78,tocIndex:11},{value:": \u8FC7\u671F\u65F6\u95F4.",paraId:78,tocIndex:11},{value:"sortIndex",paraId:78,tocIndex:11},{value:": \u63A7\u5236 task \u5728\u961F\u5217\u4E2D\u7684\u6B21\u5E8F, \u503C\u8D8A\u5C0F\u7684\u8D8A\u9760\u524D.",paraId:78,tocIndex:11},{value:"\u6CE8\u610F",paraId:79,tocIndex:11},{value:"task",paraId:79,tocIndex:11},{value:"\u4E2D\u6CA1\u6709",paraId:79,tocIndex:11},{value:"next",paraId:79,tocIndex:11},{value:"\u5C5E\u6027, \u5B83\u4E0D\u662F\u4E00\u4E2A\u94FE\u8868, \u5176\u987A\u5E8F\u662F\u901A\u8FC7\u5806\u6392\u5E8F\u6765\u5B9E\u73B0\u7684(\u5C0F\u9876\u5806\u6570\u7EC4, \u59CB\u7EC8\u4FDD\u8BC1\u6570\u7EC4\u4E2D\u7684\u7B2C\u4E00\u4E2A",paraId:79,tocIndex:11},{value:"task",paraId:79,tocIndex:11},{value:"\u5BF9\u8C61\u4F18\u5148\u7EA7\u6700\u9AD8).",paraId:79,tocIndex:11},{value:"\u672C\u7AE0\u4E3B\u8981\u6D4F\u89C8\u4E86 react \u8FD0\u884C\u94FE\u8DEF\u4E2D\u51FA\u73B0\u7684\u9AD8\u9891\u5BF9\u8C61, \u5E76\u5BF9\u5B83\u4EEC\u7684\u6570\u636E\u7ED3\u6784\u505A\u51FA\u4E86\u5355\u72EC\u89E3\u91CA. \u63D0\u524D\u4E86\u89E3\u8FD9\u4E9B\u5BF9\u8C61\u7684\u6570\u636E\u7ED3\u6784, \u66F4\u52A0\u6709\u5229\u4E8E\u4E4B\u540E\u5BF9 react \u6E90\u7801\u7684\u6DF1\u5165\u5206\u6790. \u5728\u540E\u7EED\u5BF9\u6574\u4E2A\u8FD0\u884C\u6838\u5FC3\u7684\u89E3\u8BFB\u4E2D\u4F1A\u591A\u6B21\u5F15\u7528\u5230\u8FD9\u4E9B\u5BF9\u8C61, \u5E76\u5BF9\u5176\u5728\u8FD0\u884C\u65F6\u7684\u5177\u4F53\u4F5C\u7528\u6DF1\u5165\u89E3\u8BFB.",paraId:80,tocIndex:12}],Je={},Xe={title:"\u94FE\u8868\u64CD\u4F5C",toc:"menu",filename:"docs/algorithm/linkedlist.md",order:4,description:"\u6765\u81EA wiki \u4E0A\u7684\u89E3\u91CA: \u94FE\u8868\uFF08Linked list\uFF09\u662F\u4E00\u79CD\u5E38\u89C1\u7684\u57FA\u7840\u6570\u636E\u7ED3\u6784, \u662F\u4E00\u79CD\u7EBF\u6027\u8868, \u4F46\u662F\u5E76\u4E0D\u4F1A\u6309\u7EBF\u6027\u7684\u987A\u5E8F\u5B58\u50A8\u6570\u636E, \u800C\u662F\u5728\u6BCF\u4E00\u4E2A\u8282\u70B9\u91CC\u5B58\u5230\u4E0B\u4E00\u4E2A\u8282\u70B9\u7684\u6307\u9488(Pointer).\u7531\u4E8E\u4E0D\u5FC5\u987B\u6309\u987A\u5E8F\u5B58\u50A8\uFF0C\u94FE\u8868\u5728\u63D2\u5165\u7684\u65F6\u5019\u53EF\u4EE5\u8FBE\u5230 O(1)\u7684\u590D\u6742\u5EA6, \u4F46\u662F\u67E5\u627E\u4E00\u4E2A\u8282\u70B9\u6216\u8005\u8BBF\u95EE\u7279\u5B9A\u7F16\u53F7\u7684\u8282\u70B9\u5219\u9700\u8981 O(n)\u7684\u65F6\u95F4."},et=[{id:"react-\u7B97\u6CD5\u4E4B\u94FE\u8868\u64CD\u4F5C",depth:1,title:"React \u7B97\u6CD5\u4E4B\u94FE\u8868\u64CD\u4F5C"},{id:"\u6982\u5FF5",depth:2,title:"\u6982\u5FF5"},{id:"\u57FA\u672C\u4F7F\u7528",depth:2,title:"\u57FA\u672C\u4F7F\u7528"},{id:"react-\u5F53\u4E2D\u7684\u4F7F\u7528\u573A\u666F",depth:2,title:"React \u5F53\u4E2D\u7684\u4F7F\u7528\u573A\u666F"},{id:"fiber-\u5BF9\u8C61",depth:3,title:"fiber \u5BF9\u8C61"},{id:"hook-\u5BF9\u8C61",depth:3,title:"Hook \u5BF9\u8C61"},{id:"\u94FE\u8868\u5408\u5E76",depth:3,title:"\u94FE\u8868\u5408\u5E76"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"},{id:"\u53C2\u8003\u8D44\u6599",depth:2,title:"\u53C2\u8003\u8D44\u6599"}],ct=[{value:"\u6765\u81EA wiki \u4E0A\u7684\u89E3\u91CA: \u94FE\u8868\uFF08Linked list\uFF09\u662F\u4E00\u79CD\u5E38\u89C1\u7684\u57FA\u7840\u6570\u636E\u7ED3\u6784, \u662F\u4E00\u79CD\u7EBF\u6027\u8868, \u4F46\u662F\u5E76\u4E0D\u4F1A\u6309\u7EBF\u6027\u7684\u987A\u5E8F\u5B58\u50A8\u6570\u636E, \u800C\u662F\u5728\u6BCF\u4E00\u4E2A\u8282\u70B9\u91CC\u5B58\u5230\u4E0B\u4E00\u4E2A\u8282\u70B9\u7684\u6307\u9488(Pointer).\u7531\u4E8E\u4E0D\u5FC5\u987B\u6309\u987A\u5E8F\u5B58\u50A8\uFF0C\u94FE\u8868\u5728\u63D2\u5165\u7684\u65F6\u5019\u53EF\u4EE5\u8FBE\u5230 O(1)\u7684\u590D\u6742\u5EA6, \u4F46\u662F\u67E5\u627E\u4E00\u4E2A\u8282\u70B9\u6216\u8005\u8BBF\u95EE\u7279\u5B9A\u7F16\u53F7\u7684\u8282\u70B9\u5219\u9700\u8981 O(n)\u7684\u65F6\u95F4.",paraId:0,tocIndex:1},{value:"\u5355\u5411\u94FE\u8868: \u6BCF\u4E2A\u8282\u70B9\u5305\u542B\u4E24\u4E2A\u57DF, \u4E00\u4E2A\u4FE1\u606F\u57DF\u548C\u4E00\u4E2A\u6307\u9488\u57DF. \u8FD9\u4E2A\u6307\u9488\u6307\u5411\u5217\u8868\u4E2D\u7684\u4E0B\u4E00\u4E2A\u8282\u70B9, \u800C\u6700\u540E\u4E00\u4E2A\u8282\u70B9\u5219\u6307\u5411\u4E00\u4E2A\u7A7A\u503C.",paraId:1,tocIndex:1},{value:"\u53CC\u5411\u94FE\u8868: \u6BCF\u4E2A\u8282\u70B9\u6709\u4E24\u4E2A\u8FDE\u63A5, \u4E00\u4E2A\u6307\u5411\u524D\u4E00\u4E2A\u8282\u70B9(\u7B2C\u4E00\u4E2A\u8282\u70B9\u6307\u5411\u7A7A\u503C), \u800C\u53E6\u4E00\u4E2A\u6307\u5411\u4E0B\u4E00\u4E2A\u8282\u70B9(\u6700\u540E\u4E00\u4E2A\u8282\u70B9\u6307\u5411\u7A7A\u503C).",paraId:1,tocIndex:1},{value:"\u5FAA\u73AF\u94FE\u8868: \u5728\u5355\u5411\u94FE\u8868\u7684\u57FA\u7840\u4E0A, \u9996\u8282\u70B9\u548C\u672B\u8282\u70B9\u88AB\u8FDE\u63A5\u5728\u4E00\u8D77.",paraId:1,tocIndex:1},{value:"\u8282\u70B9\u63D2\u5165, \u65F6\u95F4\u590D\u6742\u5EA6",paraId:2,tocIndex:2},{value:"O(1)",paraId:2,tocIndex:2},{value:"\u8282\u70B9\u67E5\u627E, \u65F6\u95F4\u590D\u6742\u5EA6",paraId:2,tocIndex:2},{value:"O(n)",paraId:2,tocIndex:2},{value:"\u8282\u70B9\u5220\u9664, \u65F6\u95F4\u590D\u6742\u5EA6",paraId:2,tocIndex:2},{value:"O(1)",paraId:2,tocIndex:2},{value:"\u53CD\u8F6C\u94FE\u8868, \u65F6\u95F4\u590D\u6742\u5EA6",paraId:2,tocIndex:2},{value:"O(n)",paraId:2,tocIndex:2},{value:`// \u5B9A\u4E49Node\u8282\u70B9\u7C7B\u578B
function Node(name) {
  this.name = name;
  this.next = null;
}

// \u94FE\u8868
function LinkedList() {
  this.head = new Node('head');

  // \u67E5\u627Enode\u8282\u70B9\u7684\u524D\u4E00\u4E2A\u8282\u70B9
  this.findPrevious = function (node) {
    let currentNode = this.head;
    while (currentNode && currentNode.next !== node) {
      currentNode = currentNode.next;
    }
    return currentNode;
  };

  // \u5728node\u540E\u63D2\u5165\u65B0\u8282\u70B9newElement
  this.insert = function (name, node) {
    const newNode = new Node(name);
    newNode.next = node.next;
    node.next = newNode;
  };

  // \u5220\u9664\u8282\u70B9
  this.remove = function (node) {
    const previousNode = this.findPrevious(node);
    if (previousNode) {
      previousNode.next = node.next;
    }
  };

  // \u53CD\u8F6C\u94FE\u8868
  this.reverse = function () {
    let prev = null;
    let current = this.head;
    while (current) {
      const tempNode = current.next;
      // \u91CD\u65B0\u8BBE\u7F6Enext\u6307\u9488, \u4F7F\u5176\u6307\u5411\u524D\u4E00\u4E2A\u8282\u70B9
      current.next = prev;
      // \u6E38\u6807\u540E\u79FB
      prev = current;
      current = tempNode;
    }
    // \u91CD\u65B0\u8BBE\u7F6Ehead\u8282\u70B9
    this.head = prev;
  };
}
`,paraId:3,tocIndex:2},{value:"\u5728 react \u4E2D, \u94FE\u8868\u7684\u4F7F\u7528\u975E\u5E38\u9AD8\u9891, \u4E3B\u8981\u96C6\u4E2D\u5728",paraId:4,tocIndex:3},{value:"fiber",paraId:4,tocIndex:3},{value:"\u548C",paraId:4,tocIndex:3},{value:"hook",paraId:4,tocIndex:3},{value:"\u5BF9\u8C61\u7684\u5C5E\u6027\u4E2D.",paraId:4,tocIndex:3},{value:"\u5728",paraId:5,tocIndex:4},{value:"react \u9AD8\u9891\u5BF9\u8C61",paraId:6,tocIndex:4},{value:"\u4E2D\u5BF9",paraId:5,tocIndex:4},{value:"fiber",paraId:5,tocIndex:4},{value:"\u5BF9\u8C61\u7684\u5C5E\u6027\u505A\u4E86\u8BF4\u660E, \u8FD9\u91CC\u5217\u4E3E\u51FA 4 \u4E2A\u94FE\u8868\u5C5E\u6027.",paraId:5,tocIndex:4},{value:"effect",paraId:7,tocIndex:4},{value:"\u94FE\u8868(\u94FE\u5F0F\u961F\u5217): \u5B58\u50A8\u6709\u526F\u4F5C\u7528\u7684\u5B50\u8282\u70B9, \u6784\u6210\u8BE5\u961F\u5217\u7684\u5143\u7D20\u662F",paraId:7,tocIndex:4},{value:"fiber",paraId:7,tocIndex:4},{value:"\u5BF9\u8C61",paraId:7,tocIndex:4},{value:"fiber.nextEffect",paraId:8,tocIndex:4},{value:": \u5355\u5411\u94FE\u8868, \u6307\u5411\u4E0B\u4E00\u4E2A\u6709\u526F\u4F5C\u7528\u7684 fiber \u8282\u70B9.",paraId:8,tocIndex:4},{value:"fiber.firstEffect",paraId:8,tocIndex:4},{value:": \u6307\u5411\u526F\u4F5C\u7528\u94FE\u8868\u4E2D\u7684\u7B2C\u4E00\u4E2A fiber \u8282\u70B9.",paraId:8,tocIndex:4},{value:"fiber.lastEffect",paraId:8,tocIndex:4},{value:": \u6307\u5411\u526F\u4F5C\u7528\u94FE\u8868\u4E2D\u7684\u6700\u540E\u4E00\u4E2A fiber \u8282\u70B9.",paraId:8,tocIndex:4},{value:"\u6CE8\u610F: \u6B64\u5904\u53EA\u8868\u793A\u51FA\u94FE\u8868\u7684\u7ED3\u6784\u793A\u610F\u56FE, \u5728",paraId:9,tocIndex:4},{value:"fiber \u6811\u6784\u9020",paraId:9,tocIndex:4},{value:"\u7AE0\u8282\u4E2D\u4F1A\u5BF9\u4E0A\u56FE\u7684\u7ED3\u6784\u8FDB\u884C\u8BE6\u7EC6\u89E3\u8BFB.",paraId:9,tocIndex:4},{value:"updateQueue",paraId:10,tocIndex:4},{value:"\u94FE\u8868(\u94FE\u5F0F\u961F\u5217): \u5B58\u50A8\u5C06\u8981\u66F4\u65B0\u7684\u72B6\u6001, \u6784\u6210\u8BE5\u961F\u5217\u7684\u5143\u7D20\u662F",paraId:10,tocIndex:4},{value:"update",paraId:10,tocIndex:4},{value:"\u5BF9\u8C61",paraId:10,tocIndex:4},{value:"fiber.updateQueue.pending",paraId:11,tocIndex:4},{value:": \u5B58\u50A8",paraId:11,tocIndex:4},{value:"state",paraId:11,tocIndex:4},{value:"\u66F4\u65B0\u7684\u961F\u5217(\u94FE\u5F0F\u961F\u5217), ",paraId:11,tocIndex:4},{value:"class",paraId:11,tocIndex:4},{value:"\u7C7B\u578B\u8282\u70B9\u7684",paraId:11,tocIndex:4},{value:"state",paraId:11,tocIndex:4},{value:"\u6539\u52A8\u4E4B\u540E, \u90FD\u4F1A\u521B\u5EFA\u4E00\u4E2A",paraId:11,tocIndex:4},{value:"update",paraId:11,tocIndex:4},{value:"\u5BF9\u8C61\u6DFB\u52A0\u5230\u8FD9\u4E2A\u961F\u5217\u4E2D. \u7531\u4E8E\u6B64\u961F\u5217\u662F\u4E00\u4E2A\u73AF\u5F62\u961F\u5217, \u4E3A\u4E86\u65B9\u4FBF\u6DFB\u52A0\u65B0\u5143\u7D20\u548C\u5FEB\u901F\u62FF\u5230\u961F\u9996\u5143\u7D20, \u6240\u4EE5",paraId:11,tocIndex:4},{value:"pending",paraId:11,tocIndex:4},{value:"\u6307\u9488\u6307\u5411\u4E86\u961F\u5217\u4E2D\u6700\u540E\u4E00\u4E2A\u5143\u7D20.",paraId:11,tocIndex:4},{value:"\u6CE8\u610F: \u6B64\u5904\u53EA\u8868\u793A\u51FA\u94FE\u8868\u7684\u7ED3\u6784\u793A\u610F\u56FE, \u5728",paraId:12,tocIndex:4},{value:"\u72B6\u6001\u7EC4\u4EF6(class \u4E0E function)",paraId:12,tocIndex:4},{value:"\u7AE0\u8282\u4E2D\u4F1A\u5BF9\u4E0A\u56FE\u7684\u7ED3\u6784\u8FDB\u884C\u8BE6\u7EC6\u89E3\u8BFB.",paraId:12,tocIndex:4},{value:"\u5728",paraId:13,tocIndex:5},{value:"react \u9AD8\u9891\u5BF9\u8C61",paraId:14,tocIndex:5},{value:"\u4E2D\u5BF9",paraId:13,tocIndex:5},{value:"Hook",paraId:13,tocIndex:5},{value:"\u5BF9\u8C61\u7684\u5C5E\u6027\u505A\u4E86\u8BF4\u660E, ",paraId:13,tocIndex:5},{value:"Hook",paraId:13,tocIndex:5},{value:"\u5BF9\u8C61\u5177\u5907",paraId:13,tocIndex:5},{value:".next",paraId:13,tocIndex:5},{value:"\u5C5E\u6027, \u6240\u4EE5",paraId:13,tocIndex:5},{value:"Hook",paraId:13,tocIndex:5},{value:"\u5BF9\u8C61\u672C\u8EAB\u5C31\u662F\u94FE\u8868\u4E2D\u7684\u4E00\u4E2A\u8282\u70B9.",paraId:13,tocIndex:5},{value:"\u6B64\u5916",paraId:15,tocIndex:5},{value:"hook.queue.pending",paraId:15,tocIndex:5},{value:"\u4E5F\u6784\u6210\u4E86\u4E00\u4E2A\u94FE\u8868, \u5C06",paraId:15,tocIndex:5},{value:"hook",paraId:15,tocIndex:5},{value:"\u94FE\u8868\u4E0E",paraId:15,tocIndex:5},{value:"hook.queue.pending",paraId:15,tocIndex:5},{value:"\u94FE\u8868\u540C\u65F6\u8868\u793A\u5728\u56FE\u4E2D, \u5F97\u5230\u7684\u7ED3\u6784\u5982\u4E0B:",paraId:15,tocIndex:5},{value:"\u6CE8\u610F: \u6B64\u5904\u53EA\u8868\u793A\u51FA\u94FE\u8868\u7684\u7ED3\u6784\u793A\u610F\u56FE, \u5728",paraId:16,tocIndex:5},{value:"hook \u539F\u7406",paraId:16,tocIndex:5},{value:"\u7AE0\u8282\u4E2D\u4F1A\u5BF9\u4E0A\u56FE\u7684\u7ED3\u6784\u8FDB\u884C\u8BE6\u7EC6\u89E3\u8BFB.",paraId:16,tocIndex:5},{value:"\u5728",paraId:17,tocIndex:6},{value:"react",paraId:17,tocIndex:6},{value:"\u4E2D, \u53D1\u8D77\u66F4\u65B0\u4E4B\u540E, \u4F1A\u901A\u8FC7",paraId:17,tocIndex:6},{value:"\u94FE\u8868\u5408\u5E76",paraId:17,tocIndex:6},{value:"\u7684\u65B9\u5F0F\u628A\u7B49\u5F85(",paraId:17,tocIndex:6},{value:"pending",paraId:17,tocIndex:6},{value:"\u72B6\u6001)\u66F4\u65B0\u7684\u961F\u5217(",paraId:17,tocIndex:6},{value:"updateQueue",paraId:17,tocIndex:6},{value:")\u5408\u5E76\u5230\u57FA\u7840\u961F\u5217(",paraId:17,tocIndex:6},{value:"class",paraId:17,tocIndex:6},{value:"\u7EC4\u4EF6:",paraId:17,tocIndex:6},{value:"fiber.updateQueue.firstBaseUpdate",paraId:17,tocIndex:6},{value:";",paraId:17,tocIndex:6},{value:"function",paraId:17,tocIndex:6},{value:"\u7EC4\u4EF6: ",paraId:17,tocIndex:6},{value:"hook.baseQueue",paraId:17,tocIndex:6},{value:"), \u6700\u540E\u901A\u8FC7\u904D\u5386",paraId:17,tocIndex:6},{value:"baseQueue",paraId:17,tocIndex:6},{value:"\u7B5B\u9009\u51FA\u4F18\u5148\u7EA7\u8DB3\u591F\u7684",paraId:17,tocIndex:6},{value:"update",paraId:17,tocIndex:6},{value:"\u5BF9\u8C61, \u7EC4\u5408\u6210\u6700\u7EC8\u7684\u7EC4\u4EF6\u72B6\u6001(",paraId:17,tocIndex:6},{value:"state",paraId:17,tocIndex:6},{value:"). \u8FD9\u4E2A\u8FC7\u7A0B\u53D1\u751F\u5728",paraId:17,tocIndex:6},{value:"reconciler",paraId:17,tocIndex:6},{value:"\u9636\u6BB5, \u5206\u522B\u6D89\u53CA\u5230",paraId:17,tocIndex:6},{value:"class",paraId:17,tocIndex:6},{value:"\u7EC4\u4EF6\u548C",paraId:17,tocIndex:6},{value:"function",paraId:17,tocIndex:6},{value:"\u7EC4\u4EF6.",paraId:17,tocIndex:6},{value:"\u5177\u4F53\u573A\u666F:",paraId:18,tocIndex:6},{value:"class",paraId:19,tocIndex:6},{value:"\u7EC4\u4EF6\u4E2D",paraId:19,tocIndex:6},{value:"\u5728",paraId:20,tocIndex:6},{value:"class",paraId:20,tocIndex:6},{value:"\u7EC4\u4EF6\u4E2D\u8C03\u7528",paraId:20,tocIndex:6},{value:"setState",paraId:20,tocIndex:6},{value:", \u4F1A\u521B\u5EFA",paraId:20,tocIndex:6},{value:"update",paraId:20,tocIndex:6},{value:"\u5BF9\u8C61\u5E76\u6DFB\u52A0\u5230",paraId:20,tocIndex:6},{value:"fiber.updateQueue.shared.pending",paraId:20,tocIndex:6},{value:"\u94FE\u5F0F\u961F\u5217(",paraId:20,tocIndex:6},{value:"\u6E90\u7801\u5730\u5740",paraId:20,tocIndex:6},{value:").",paraId:20,tocIndex:6},{value:`export function enqueueUpdate<State>(fiber: Fiber, update: Update<State>) {
  const updateQueue = fiber.updateQueue;
  // ...
  const sharedQueue: SharedQueue<State> = (updateQueue: any).shared;
  // \u5C06\u65B0\u7684update\u5BF9\u8C61\u6DFB\u52A0\u5230fiber.updateQueue.shared.pending\u94FE\u8868\u4E0A
  const pending = sharedQueue.pending;
  if (pending === null) {
    update.next = update;
  } else {
    update.next = pending.next;
    pending.next = update;
  }
  sharedQueue.pending = update;
}
`,paraId:21,tocIndex:6},{value:"\u7531\u4E8E",paraId:22,tocIndex:6},{value:"fiber.updateQueue.shared.pending",paraId:22,tocIndex:6},{value:"\u662F\u4E00\u4E2A\u73AF\u5F62\u94FE\u8868, \u6240\u4EE5",paraId:22,tocIndex:6},{value:"fiber.updateQueue.shared.pending",paraId:22,tocIndex:6},{value:"\u6C38\u8FDC\u6307\u5411\u672B\u5C3E\u5143\u7D20(\u4FDD\u8BC1\u5FEB\u901F\u6DFB\u52A0\u65B0\u5143\u7D20)",paraId:22,tocIndex:6},{value:"\u5728",paraId:23,tocIndex:6},{value:"fiber",paraId:23,tocIndex:6},{value:"\u6811\u6784\u5EFA\u9636\u6BB5(\u6216",paraId:23,tocIndex:6},{value:"reconciler",paraId:23,tocIndex:6},{value:"\u9636\u6BB5), \u4F1A\u628A",paraId:23,tocIndex:6},{value:"fiber.updateQueue.shared.pending",paraId:23,tocIndex:6},{value:"\u5408\u5E76\u5230",paraId:23,tocIndex:6},{value:"fiber.updateQueue.firstBaseUpdate",paraId:23,tocIndex:6},{value:"\u961F\u5217\u4E0A(",paraId:23,tocIndex:6},{value:"\u6E90\u7801\u5730\u5740",paraId:23,tocIndex:6},{value:").",paraId:23,tocIndex:6},{value:`export function processUpdateQueue<State>(
  workInProgress: Fiber,
  props: any,
  instance: any,
  renderLanes: Lanes,
): void {
  // This is always non-null on a ClassComponent or HostRoot
  const queue: UpdateQueue<State> = (workInProgress.updateQueue: any);
  let firstBaseUpdate = queue.firstBaseUpdate;
  let lastBaseUpdate = queue.lastBaseUpdate;
  // Check if there are pending updates. If so, transfer them to the base queue.
  let pendingQueue = queue.shared.pending;
  if (pendingQueue !== null) {
    queue.shared.pending = null;
    // The pending queue is circular. Disconnect the pointer between first
    // and last so that it's non-circular.
    const lastPendingUpdate = pendingQueue;
    const firstPendingUpdate = lastPendingUpdate.next;
    lastPendingUpdate.next = null;
    // Append pending updates to base queue
    if (lastBaseUpdate === null) {
      firstBaseUpdate = firstPendingUpdate;
    } else {
      lastBaseUpdate.next = firstPendingUpdate;
    }
    lastBaseUpdate = lastPendingUpdate;
  }
}
`,paraId:24,tocIndex:6},{value:"function",paraId:25,tocIndex:6},{value:"\u7EC4\u4EF6\u4E2D",paraId:25,tocIndex:6},{value:"\u5728",paraId:26,tocIndex:6},{value:"function",paraId:26,tocIndex:6},{value:"\u7EC4\u4EF6\u4E2D\u4F7F\u7528",paraId:26,tocIndex:6},{value:"Hook",paraId:26,tocIndex:6},{value:"\u5BF9\u8C61(",paraId:26,tocIndex:6},{value:"useState",paraId:26,tocIndex:6},{value:"), \u5E76\u6539\u53D8",paraId:26,tocIndex:6},{value:"Hook",paraId:26,tocIndex:6},{value:"\u5BF9\u8C61\u7684\u503C(\u5185\u90E8\u4F1A\u8C03\u7528",paraId:26,tocIndex:6},{value:"dispatchAction",paraId:26,tocIndex:6},{value:"), \u6B64\u65F6\u4E5F\u4F1A\u521B\u5EFA",paraId:26,tocIndex:6},{value:"update(hook)",paraId:26,tocIndex:6},{value:"\u5BF9\u8C61\u5E76\u6DFB\u52A0\u5230",paraId:26,tocIndex:6},{value:"hook.queue.pending",paraId:26,tocIndex:6},{value:"\u94FE\u5F0F\u961F\u5217(",paraId:26,tocIndex:6},{value:"\u6E90\u7801\u5730\u5740",paraId:26,tocIndex:6},{value:").",paraId:26,tocIndex:6},{value:"hook.queue.pending",paraId:27,tocIndex:6},{value:"\u4E5F\u662F\u4E00\u4E2A\u73AF\u5F62\u94FE\u8868(\u4E0E",paraId:27,tocIndex:6},{value:"fiber.updateQueue.shared.pending",paraId:27,tocIndex:6},{value:"\u7684\u7ED3\u6784\u5F88\u76F8\u4F3C)",paraId:27,tocIndex:6},{value:`function dispatchAction<S, A>(
  fiber: Fiber,
  queue: UpdateQueue<S, A>,
  action: A,
) {
  // ... \u7701\u7565\u90E8\u5206\u4EE3\u7801
  const pending = queue.pending;
  if (pending === null) {
    // This is the first update. Create a circular list.
    update.next = update;
  } else {
    update.next = pending.next;
    pending.next = update;
  }
  queue.pending = update;
}
`,paraId:28,tocIndex:6},{value:"\u5728",paraId:29,tocIndex:6},{value:"fiber",paraId:29,tocIndex:6},{value:"\u6811\u6784\u5EFA\u9636\u6BB5(\u6216",paraId:29,tocIndex:6},{value:"reconciler",paraId:29,tocIndex:6},{value:"\u9636\u6BB5), \u4F1A\u5C06",paraId:29,tocIndex:6},{value:"hook.queue.pending",paraId:29,tocIndex:6},{value:"\u5408\u5E76\u5230",paraId:29,tocIndex:6},{value:"hook.baseQueue",paraId:29,tocIndex:6},{value:"\u961F\u5217\u4E0A(",paraId:29,tocIndex:6},{value:"\u6E90\u7801\u5730\u5740",paraId:29,tocIndex:6},{value:").",paraId:29,tocIndex:6},{value:`function updateReducer<S, I, A>(
  reducer: (S, A) => S,
  initialArg: I,
  init?: (I) => S,
): [S, Dispatch<A>] {
  // ... \u7701\u7565\u90E8\u5206\u4EE3\u7801
  if (pendingQueue !== null) {
    if (baseQueue !== null) {
      // \u5728\u8FD9\u91CC\u8FDB\u884C\u961F\u5217\u7684\u5408\u5E76
      const baseFirst = baseQueue.next;
      const pendingFirst = pendingQueue.next;
      baseQueue.next = pendingFirst;
      pendingQueue.next = baseFirst;
    }
    current.baseQueue = baseQueue = pendingQueue;
    queue.pending = null;
  }
}
`,paraId:30,tocIndex:6},{value:"\u672C\u8282\u4E3B\u8981\u4ECB\u7ECD\u4E86",paraId:31,tocIndex:7},{value:"\u94FE\u8868",paraId:31,tocIndex:7},{value:"\u7684\u6982\u5FF5\u548C\u5B83\u5728",paraId:31,tocIndex:7},{value:"react",paraId:31,tocIndex:7},{value:"\u6E90\u7801\u4E2D\u7684\u4F7F\u7528\u60C5\u51B5. ",paraId:31,tocIndex:7},{value:"react",paraId:31,tocIndex:7},{value:"\u4E2D\u4E3B\u8981\u7684\u6570\u636E\u7ED3\u6784\u90FD\u548C\u94FE\u8868\u6709\u5173, \u4F7F\u7528\u975E\u5E38\u9AD8\u9891. \u6E90\u7801\u4E2D",paraId:31,tocIndex:7},{value:"\u94FE\u8868\u5408\u5E76",paraId:31,tocIndex:7},{value:", ",paraId:31,tocIndex:7},{value:"\u73AF\u5F62\u94FE\u8868\u62C6\u89E3",paraId:31,tocIndex:7},{value:", ",paraId:31,tocIndex:7},{value:"\u94FE\u8868\u904D\u5386",paraId:31,tocIndex:7},{value:"\u7684\u4EE3\u7801\u7BC7\u5E45\u5F88\u591A, \u6240\u4EE5\u6DF1\u5165\u7406\u89E3\u94FE\u8868\u7684\u4F7F\u7528, \u5BF9\u7406\u89E3",paraId:31,tocIndex:7},{value:"react\u539F\u7406",paraId:31,tocIndex:7},{value:"\u5927\u6709\u76CA\u5904.",paraId:31,tocIndex:7},{value:"\u94FE\u8868",paraId:32,tocIndex:8}],oe={},xe={title:"\u5B8F\u89C2\u5305\u7ED3\u6784",toc:"menu",filename:"docs/main/macro-structure.md",nav:{title:"\u539F\u7406\u89E3\u6790",order:0},group:{title:"\u57FA\u672C\u6982\u5FF5",order:0},order:0,description:`React \u5DE5\u7A0B\u76EE\u5F55\u7684 packages \u4E0B\u5305\u542B 35 \u4E2A\u5305(@17.0.2\u7248\u672C).
\u5176\u4E2D\u4E0Eweb\u5F00\u53D1\u76F8\u5173\u7684\u6838\u5FC3\u5305\u5171\u6709 4 \u4E2A, \u672C\u7CFB\u5217\u8FD1 20 \u7BC7\u6587\u7AE0, \u4EE5\u8FD9 4 \u4E2A\u5305\u4E3A\u7EBF\u7D22\u8FDB\u884C\u5C55\u5F00, \u6DF1\u5165\u7406\u89E3 react \u5185\u90E8\u4F5C\u7528\u539F\u7406.`},le=[{id:"react-\u5E94\u7528\u7684\u5B8F\u89C2\u5305\u7ED3\u6784web-\u5F00\u53D1",depth:1,title:"React \u5E94\u7528\u7684\u5B8F\u89C2\u5305\u7ED3\u6784(web \u5F00\u53D1)"},{id:"\u57FA\u7840\u5305\u7ED3\u6784",depth:2,title:"\u57FA\u7840\u5305\u7ED3\u6784"},{id:"\u5B8F\u89C2\u603B\u89C8",depth:2,title:"\u5B8F\u89C2\u603B\u89C8"},{id:"\u67B6\u6784\u5206\u5C42",depth:3,title:"\u67B6\u6784\u5206\u5C42"},{id:"\u5185\u6838\u5173\u7CFB",depth:3,title:"\u5185\u6838\u5173\u7CFB"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"}],se=[{value:"React \u5DE5\u7A0B\u76EE\u5F55\u7684 packages \u4E0B\u5305\u542B 35 \u4E2A\u5305(",paraId:0,tocIndex:0},{value:"@17.0.2",paraId:0,tocIndex:0},{value:"\u7248\u672C",paraId:0,tocIndex:0},{value:").",paraId:0,tocIndex:0},{value:`
\u5176\u4E2D\u4E0E`,paraId:0,tocIndex:0},{value:"web",paraId:0,tocIndex:0},{value:"\u5F00\u53D1\u76F8\u5173\u7684\u6838\u5FC3\u5305\u5171\u6709 4 \u4E2A, \u672C\u7CFB\u5217\u8FD1 20 \u7BC7\u6587\u7AE0, \u4EE5\u8FD9 4 \u4E2A\u5305\u4E3A\u7EBF\u7D22\u8FDB\u884C\u5C55\u5F00, \u6DF1\u5165\u7406\u89E3 react \u5185\u90E8\u4F5C\u7528\u539F\u7406.",paraId:0,tocIndex:0},{value:"react",paraId:1,tocIndex:1},{value:"react \u57FA\u7840\u5305, \u53EA\u63D0\u4F9B\u5B9A\u4E49 react \u7EC4\u4EF6(",paraId:2,tocIndex:1},{value:"ReactElement",paraId:2,tocIndex:1},{value:")\u7684\u5FC5\u8981\u51FD\u6570, \u4E00\u822C\u6765\u8BF4\u9700\u8981\u548C\u6E32\u67D3\u5668(",paraId:2,tocIndex:1},{value:"react-dom",paraId:2,tocIndex:1},{value:",",paraId:2,tocIndex:1},{value:"react-native",paraId:2,tocIndex:1},{value:")\u4E00\u540C\u4F7F\u7528. \u5728\u7F16\u5199",paraId:2,tocIndex:1},{value:"react",paraId:2,tocIndex:1},{value:"\u5E94\u7528\u7684\u4EE3\u7801\u65F6, \u5927\u90E8\u5206\u90FD\u662F\u8C03\u7528\u6B64\u5305\u7684 api.",paraId:2,tocIndex:1},{value:"react-dom",paraId:3,tocIndex:1},{value:"react \u6E32\u67D3\u5668\u4E4B\u4E00, \u662F react \u4E0E web \u5E73\u53F0\u8FDE\u63A5\u7684\u6865\u6881(\u53EF\u4EE5\u5728\u6D4F\u89C8\u5668\u548C nodejs \u73AF\u5883\u4E2D\u4F7F\u7528), \u5C06",paraId:4,tocIndex:1},{value:"react-reconciler",paraId:4,tocIndex:1},{value:"\u4E2D\u7684\u8FD0\u884C\u7ED3\u679C\u8F93\u51FA\u5230 web \u754C\u9762\u4E0A. \u5728\u7F16\u5199",paraId:4,tocIndex:1},{value:"react",paraId:4,tocIndex:1},{value:"\u5E94\u7528\u7684\u4EE3\u7801\u65F6,\u5927\u591A\u6570\u573A\u666F\u4E0B, \u80FD\u7528\u5230\u6B64\u5305\u7684\u5C31\u662F\u4E00\u4E2A\u5165\u53E3\u51FD\u6570",paraId:4,tocIndex:1},{value:"ReactDOM.render(<App/>, document.getElementById('root'))",paraId:4,tocIndex:1},{value:", \u5176\u4F59\u4F7F\u7528\u7684 api, \u57FA\u672C\u662F",paraId:4,tocIndex:1},{value:"react",paraId:4,tocIndex:1},{value:"\u5305\u63D0\u4F9B\u7684.",paraId:4,tocIndex:1},{value:"react-reconciler",paraId:5,tocIndex:1},{value:"react \u5F97\u4EE5\u8FD0\u884C\u7684\u6838\u5FC3\u5305(\u7EFC\u5408\u534F\u8C03",paraId:6,tocIndex:1},{value:"react-dom",paraId:6,tocIndex:1},{value:",",paraId:6,tocIndex:1},{value:"react",paraId:6,tocIndex:1},{value:",",paraId:6,tocIndex:1},{value:"scheduler",paraId:6,tocIndex:1},{value:"\u5404\u5305\u4E4B\u95F4\u7684\u8C03\u7528\u4E0E\u914D\u5408).",paraId:6,tocIndex:1},{value:`
\u7BA1\u7406 react \u5E94\u7528\u72B6\u6001\u7684\u8F93\u5165\u548C\u7ED3\u679C\u7684\u8F93\u51FA. \u5C06\u8F93\u5165\u4FE1\u53F7\u6700\u7EC8\u8F6C\u6362\u6210\u8F93\u51FA\u4FE1\u53F7\u4F20\u9012\u7ED9\u6E32\u67D3\u5668.`,paraId:6,tocIndex:1},{value:"\u63A5\u53D7\u8F93\u5165(",paraId:7,tocIndex:1},{value:"scheduleUpdateOnFiber",paraId:7,tocIndex:1},{value:"), \u5C06",paraId:7,tocIndex:1},{value:"fiber",paraId:7,tocIndex:1},{value:"\u6811\u751F\u6210\u903B\u8F91\u5C01\u88C5\u5230\u4E00\u4E2A\u56DE\u8C03\u51FD\u6570\u4E2D(\u6D89\u53CA",paraId:7,tocIndex:1},{value:"fiber",paraId:7,tocIndex:1},{value:"\u6811\u5F62\u7ED3\u6784, ",paraId:7,tocIndex:1},{value:"fiber.updateQueue",paraId:7,tocIndex:1},{value:"\u961F\u5217, \u8C03\u548C\u7B97\u6CD5\u7B49),",paraId:7,tocIndex:1},{value:"\u628A\u6B64\u56DE\u8C03\u51FD\u6570(",paraId:7,tocIndex:1},{value:"performSyncWorkOnRoot",paraId:7,tocIndex:1},{value:"\u6216",paraId:7,tocIndex:1},{value:"performConcurrentWorkOnRoot",paraId:7,tocIndex:1},{value:")\u9001\u5165",paraId:7,tocIndex:1},{value:"scheduler",paraId:7,tocIndex:1},{value:"\u8FDB\u884C\u8C03\u5EA6",paraId:7,tocIndex:1},{value:"scheduler",paraId:7,tocIndex:1},{value:"\u4F1A\u63A7\u5236\u56DE\u8C03\u51FD\u6570\u6267\u884C\u7684\u65F6\u673A, \u56DE\u8C03\u51FD\u6570\u6267\u884C\u5B8C\u6210\u540E\u5F97\u5230\u5168\u65B0\u7684 fiber \u6811",paraId:7,tocIndex:1},{value:"\u518D\u8C03\u7528\u6E32\u67D3\u5668(\u5982",paraId:7,tocIndex:1},{value:"react-dom",paraId:7,tocIndex:1},{value:", ",paraId:7,tocIndex:1},{value:"react-native",paraId:7,tocIndex:1},{value:"\u7B49)\u5C06 fiber \u6811\u5F62\u7ED3\u6784\u6700\u7EC8\u53CD\u6620\u5230\u754C\u9762\u4E0A",paraId:7,tocIndex:1},{value:"scheduler",paraId:8,tocIndex:1},{value:"\u8C03\u5EA6\u673A\u5236\u7684\u6838\u5FC3\u5B9E\u73B0, \u63A7\u5236\u7531",paraId:9,tocIndex:1},{value:"react-reconciler",paraId:9,tocIndex:1},{value:"\u9001\u5165\u7684\u56DE\u8C03\u51FD\u6570\u7684\u6267\u884C\u65F6\u673A, \u5728",paraId:9,tocIndex:1},{value:"concurrent",paraId:9,tocIndex:1},{value:"\u6A21\u5F0F\u4E0B\u53EF\u4EE5\u5B9E\u73B0\u4EFB\u52A1\u5206\u7247. \u5728\u7F16\u5199",paraId:9,tocIndex:1},{value:"react",paraId:9,tocIndex:1},{value:"\u5E94\u7528\u7684\u4EE3\u7801\u65F6, \u540C\u6837\u51E0\u4E4E\u4E0D\u4F1A\u76F4\u63A5\u7528\u5230\u6B64\u5305\u63D0\u4F9B\u7684 api.",paraId:9,tocIndex:1},{value:"\u6838\u5FC3\u4EFB\u52A1\u5C31\u662F\u6267\u884C\u56DE\u8C03(\u56DE\u8C03\u51FD\u6570\u7531",paraId:10,tocIndex:1},{value:"react-reconciler",paraId:10,tocIndex:1},{value:"\u63D0\u4F9B)",paraId:10,tocIndex:1},{value:"\u901A\u8FC7\u63A7\u5236\u56DE\u8C03\u51FD\u6570\u7684\u6267\u884C\u65F6\u673A, \u6765\u8FBE\u5230\u4EFB\u52A1\u5206\u7247\u7684\u76EE\u7684, \u5B9E\u73B0\u53EF\u4E2D\u65AD\u6E32\u67D3(",paraId:10,tocIndex:1},{value:"concurrent",paraId:10,tocIndex:1},{value:"\u6A21\u5F0F\u4E0B\u624D\u6709\u6B64\u7279\u6027)",paraId:10,tocIndex:1},{value:"\u4E3A\u4E86\u4FBF\u4E8E\u7406\u89E3, \u53EF\u5C06 react \u5E94\u7528\u6574\u4F53\u7ED3\u6784\u5206\u4E3A\u63A5\u53E3\u5C42(",paraId:11,tocIndex:3},{value:"api",paraId:11,tocIndex:3},{value:")\u548C\u5185\u6838\u5C42(",paraId:11,tocIndex:3},{value:"core",paraId:11,tocIndex:3},{value:")2 \u4E2A\u90E8\u5206",paraId:11,tocIndex:3},{value:"\u63A5\u53E3\u5C42(api)",paraId:12,tocIndex:3},{value:"react",paraId:12,tocIndex:3},{value:"\u5305, \u5E73\u65F6\u5728\u5F00\u53D1\u8FC7\u7A0B\u4E2D\u4F7F\u7528\u7684\u7EDD\u5927\u90E8\u5206",paraId:12,tocIndex:3},{value:"api",paraId:12,tocIndex:3},{value:"\u5747\u6765\u81EA\u6B64\u5305(\u4E0D\u662F\u6240\u6709). \u5728",paraId:12,tocIndex:3},{value:"react",paraId:12,tocIndex:3},{value:"\u542F\u52A8\u4E4B\u540E, \u6B63\u5E38\u53EF\u4EE5\u6539\u53D8\u6E32\u67D3\u7684\u57FA\u672C\u64CD\u4F5C\u6709 3 \u4E2A.",paraId:12,tocIndex:3},{value:"class \u7EC4\u4EF6\u4E2D\u4F7F\u7528",paraId:13,tocIndex:3},{value:"setState()",paraId:13,tocIndex:3},{value:"function \u7EC4\u4EF6\u91CC\u9762\u4F7F\u7528 hook,\u5E76\u53D1\u8D77",paraId:13,tocIndex:3},{value:"dispatchAction",paraId:13,tocIndex:3},{value:"\u53BB\u6539\u53D8 hook \u5BF9\u8C61",paraId:13,tocIndex:3},{value:"\u6539\u53D8 context(\u5176\u5B9E\u4E5F\u9700\u8981",paraId:13,tocIndex:3},{value:"setState",paraId:13,tocIndex:3},{value:"\u6216",paraId:13,tocIndex:3},{value:"dispatchAction",paraId:13,tocIndex:3},{value:"\u7684\u8F85\u52A9\u624D\u80FD\u6539\u53D8)",paraId:13,tocIndex:3},{value:"\u4EE5\u4E0A",paraId:14,tocIndex:3},{value:"setState",paraId:14,tocIndex:3},{value:"\u548C",paraId:14,tocIndex:3},{value:"dispatchAction",paraId:14,tocIndex:3},{value:"\u90FD\u7531",paraId:14,tocIndex:3},{value:"react",paraId:14,tocIndex:3},{value:"\u5305\u76F4\u63A5\u66B4\u9732. \u6240\u4EE5\u8981\u60F3 react \u5DE5\u4F5C, \u57FA\u672C\u4E0A\u662F\u8C03\u7528",paraId:14,tocIndex:3},{value:"react",paraId:14,tocIndex:3},{value:"\u5305\u7684 api \u53BB\u4E0E\u5176\u4ED6\u5305\u8FDB\u884C\u4EA4\u4E92.",paraId:14,tocIndex:3},{value:"\u5185\u6838\u5C42(core)",paraId:15,tocIndex:3},{value:`
\u6574\u4E2A\u5185\u6838\u90E8\u5206, \u7531 3 \u90E8\u5206\u6784\u6210:`,paraId:15,tocIndex:3},{value:"\u8C03\u5EA6\u5668",paraId:16,tocIndex:3},{value:"scheduler",paraId:16,tocIndex:3},{value:`\u5305, \u6838\u5FC3\u804C\u8D23\u53EA\u6709 1 \u4E2A, \u5C31\u662F\u6267\u884C\u56DE\u8C03.
`,paraId:16,tocIndex:3},{value:"\u628A",paraId:17,tocIndex:3},{value:"react-reconciler",paraId:17,tocIndex:3},{value:"\u63D0\u4F9B\u7684\u56DE\u8C03\u51FD\u6570, \u5305\u88C5\u5230\u4E00\u4E2A\u4EFB\u52A1\u5BF9\u8C61\u4E2D.",paraId:17,tocIndex:3},{value:"\u5728\u5185\u90E8\u7EF4\u62A4\u4E00\u4E2A\u4EFB\u52A1\u961F\u5217, \u4F18\u5148\u7EA7\u9AD8\u7684\u6392\u5728\u6700\u524D\u9762.",paraId:17,tocIndex:3},{value:"\u5FAA\u73AF\u6D88\u8D39\u4EFB\u52A1\u961F\u5217, \u76F4\u5230\u961F\u5217\u6E05\u7A7A.",paraId:17,tocIndex:3},{value:"\u6784\u9020\u5668",paraId:16,tocIndex:3},{value:"react-reconciler",paraId:16,tocIndex:3},{value:`\u5305, \u6709 3 \u4E2A\u6838\u5FC3\u804C\u8D23:
`,paraId:16,tocIndex:3},{value:"\u88C5\u8F7D\u6E32\u67D3\u5668, \u6E32\u67D3\u5668\u5FC5\u987B\u5B9E\u73B0",paraId:18,tocIndex:3},{value:"HostConfig",paraId:18,tocIndex:3},{value:"\u534F\u8BAE",paraId:18,tocIndex:3},{value:"(\u5982: ",paraId:18,tocIndex:3},{value:"react-dom",paraId:18,tocIndex:3},{value:"), \u4FDD\u8BC1\u5728\u9700\u8981\u7684\u65F6\u5019, \u80FD\u591F\u6B63\u786E\u8C03\u7528\u6E32\u67D3\u5668\u7684 api, \u751F\u6210\u5B9E\u9645\u8282\u70B9(\u5982: ",paraId:18,tocIndex:3},{value:"dom",paraId:18,tocIndex:3},{value:"\u8282\u70B9).",paraId:18,tocIndex:3},{value:"\u63A5\u6536",paraId:18,tocIndex:3},{value:"react-dom",paraId:18,tocIndex:3},{value:"\u5305(\u521D\u6B21",paraId:18,tocIndex:3},{value:"render",paraId:18,tocIndex:3},{value:")\u548C",paraId:18,tocIndex:3},{value:"react",paraId:18,tocIndex:3},{value:"\u5305(\u540E\u7EED\u66F4\u65B0",paraId:18,tocIndex:3},{value:"setState",paraId:18,tocIndex:3},{value:")\u53D1\u8D77\u7684\u66F4\u65B0\u8BF7\u6C42.",paraId:18,tocIndex:3},{value:"\u5C06",paraId:18,tocIndex:3},{value:"fiber",paraId:18,tocIndex:3},{value:"\u6811\u7684\u6784\u9020\u8FC7\u7A0B\u5305\u88C5\u5728\u4E00\u4E2A\u56DE\u8C03\u51FD\u6570\u4E2D, \u5E76\u5C06\u6B64\u56DE\u8C03\u51FD\u6570\u4F20\u5165\u5230",paraId:18,tocIndex:3},{value:"scheduler",paraId:18,tocIndex:3},{value:"\u5305\u7B49\u5F85\u8C03\u5EA6.",paraId:18,tocIndex:3},{value:"\u6E32\u67D3\u5668",paraId:16,tocIndex:3},{value:"react-dom",paraId:16,tocIndex:3},{value:`\u5305, \u6709 2 \u4E2A\u6838\u5FC3\u804C\u8D23:
`,paraId:16,tocIndex:3},{value:"\u5F15\u5BFC",paraId:19,tocIndex:3},{value:"react",paraId:19,tocIndex:3},{value:"\u5E94\u7528\u7684\u542F\u52A8(\u901A\u8FC7",paraId:19,tocIndex:3},{value:"ReactDOM.render",paraId:19,tocIndex:3},{value:").",paraId:19,tocIndex:3},{value:"\u5B9E\u73B0",paraId:19,tocIndex:3},{value:"HostConfig",paraId:19,tocIndex:3},{value:"\u534F\u8BAE",paraId:19,tocIndex:3},{value:"(",paraId:19,tocIndex:3},{value:"\u6E90\u7801\u5728 ReactDOMHostConfig.js \u4E2D",paraId:19,tocIndex:3},{value:"), \u80FD\u591F\u5C06",paraId:19,tocIndex:3},{value:"react-reconciler",paraId:19,tocIndex:3},{value:"\u5305\u6784\u9020\u51FA\u6765\u7684",paraId:19,tocIndex:3},{value:"fiber",paraId:19,tocIndex:3},{value:"\u6811\u8868\u73B0\u51FA\u6765, \u751F\u6210 dom \u8282\u70B9(\u6D4F\u89C8\u5668\u4E2D), \u751F\u6210\u5B57\u7B26\u4E32(ssr).",paraId:19,tocIndex:3},{value:"\u6CE8\u610F:",paraId:20,tocIndex:3},{value:"\u6B64\u5904\u5206\u5C42\u7684\u6807\u51C6\u5E76\u975E\u5B98\u65B9\u8BF4\u6CD5, \u56E0\u4E3A\u5B98\u65B9\u6CA1\u6709",paraId:21,tocIndex:3},{value:"\u67B6\u6784\u5206\u5C42",paraId:21,tocIndex:3},{value:"\u8FD9\u6837\u7684\u672F\u8BED.",paraId:21,tocIndex:3},{value:"\u672C\u6587\u53EA\u662F\u4E3A\u4E86\u6DF1\u5165\u7406\u89E3 react, \u5728\u5B98\u65B9\u6807\u51C6\u4E4B\u5916, \u5BF9\u5176\u8FDB\u884C\u5206\u89E3\u548C\u5256\u6790, \u65B9\u4FBF\u6211\u4EEC\u7406\u89E3 react \u67B6\u6784.",paraId:21,tocIndex:3},{value:"\u73B0\u5C06\u5185\u6838 3 \u4E2A\u5305\u7684\u4E3B\u8981\u804C\u8D23\u548C\u8C03\u7528\u5173\u7CFB, \u7ED8\u5236\u5230\u4E00\u5F20\u6982\u89C8\u56FE\u4E0A:",paraId:22,tocIndex:4},{value:"\u6CE8\u610F:",paraId:23,tocIndex:4},{value:"\u7EA2\u8272\u65B9\u5757\u4EE3\u8868\u5165\u53E3\u51FD\u6570, \u7EFF\u8272\u65B9\u5757\u4EE3\u8868\u51FA\u53E3\u51FD\u6570.",paraId:24,tocIndex:4},{value:"package \u4E4B\u95F4\u7684\u8C03\u7528\u8109\u7EDC\u5C31\u662F\u901A\u8FC7\u677F\u5757\u95F4\u7684\u5165\u53E3\u548C\u51FA\u53E3\u51FD\u6570\u8FDE\u63A5\u8D77\u6765\u7684.",paraId:24,tocIndex:4},{value:"\u901A\u8FC7\u6B64\u6982\u89C8\u56FE, \u57FA\u672C\u53EF\u4EE5\u8868\u8FF0 react \u5185\u6838\u5C42\u7684\u5B8F\u89C2\u7ED3\u6784. \u540E\u9762\u7684\u7AE0\u8282, \u4F1A\u6309\u7167\u6B64\u56FE\u7684\u601D\u8DEF\u6DF1\u5165\u5230\u5BF9\u5E94\u7684\u6A21\u5757\u9010\u4E00\u89E3\u8BFB.",paraId:25,tocIndex:4},{value:"\u672C\u6587\u4ECE\u5B8F\u89C2\u67B6\u6784\u7684\u89D2\u5EA6, \u9610\u8FF0\u4E86",paraId:26,tocIndex:5},{value:"react",paraId:26,tocIndex:5},{value:"\u6838\u5FC3\u5305\u4E4B\u95F4\u7684\u4F9D\u8D56\u548C\u8C03\u7528\u5173\u7CFB, \u4F7F\u8BFB\u8005\u5BF9",paraId:26,tocIndex:5},{value:"react",paraId:26,tocIndex:5},{value:"\u67B6\u6784\u6709\u7B80\u5355\u7684\u8BA4\u8BC6. \u53E6\u5916\u4E5F\u7ED9\u8BFB\u8005\u63D0\u4F9B\u4E00\u4E2A\u9605\u8BFB\u6E90\u7801\u7684\u601D\u8DEF, \u5148\u6574\u4F53\u6D4F\u89C8, \u518D\u6DF1\u5165\u5206\u6790, \u5404\u4E2A\u51FB\u7834.",paraId:26,tocIndex:5}],ke={},ne={title:"\u5408\u6210\u4E8B\u4EF6",toc:"menu",filename:"docs/main/synthetic-event.md",group:{title:"\u4EA4\u4E92",order:3},order:0,description:"\u4ECEv17.0.0\u5F00\u59CB, React \u4E0D\u4F1A\u518D\u5C06\u4E8B\u4EF6\u5904\u7406\u6DFB\u52A0\u5230 document \u4E0A, \u800C\u662F\u5C06\u4E8B\u4EF6\u5904\u7406\u6DFB\u52A0\u5230\u6E32\u67D3 React \u6811\u7684\u6839 DOM \u5BB9\u5668\u4E2D."},pe=[{id:"react-\u5408\u6210\u4E8B\u4EF6",depth:1,title:"React \u5408\u6210\u4E8B\u4EF6"},{id:"\u6982\u89C8",depth:2,title:"\u6982\u89C8"},{id:"\u4E8B\u4EF6\u7ED1\u5B9A",depth:2,title:"\u4E8B\u4EF6\u7ED1\u5B9A"},{id:"\u539F\u751F-listener",depth:3,title:"\u539F\u751F listener"},{id:"\u4E8B\u4EF6\u89E6\u53D1",depth:2,title:"\u4E8B\u4EF6\u89E6\u53D1"},{id:"\u5173\u8054-fiber",depth:3,title:"\u5173\u8054 fiber"},{id:"\u6536\u96C6-fiber-\u4E0A\u7684-listener",depth:3,title:"\u6536\u96C6 fiber \u4E0A\u7684 listener"},{id:"\u6784\u9020\u5408\u6210\u4E8B\u4EF6",depth:3,title:"\u6784\u9020\u5408\u6210\u4E8B\u4EF6"},{id:"\u6267\u884C\u6D3E\u53D1",depth:3,title:"\u6267\u884C\u6D3E\u53D1"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"}],V=[{value:"\u4ECE",paraId:0,tocIndex:1},{value:"v17.0.0",paraId:0,tocIndex:1},{value:"\u5F00\u59CB, React \u4E0D\u4F1A\u518D\u5C06\u4E8B\u4EF6\u5904\u7406\u6DFB\u52A0\u5230 ",paraId:0,tocIndex:1},{value:"document",paraId:0,tocIndex:1},{value:" \u4E0A, \u800C\u662F\u5C06\u4E8B\u4EF6\u5904\u7406\u6DFB\u52A0\u5230\u6E32\u67D3 React \u6811\u7684\u6839 DOM \u5BB9\u5668\u4E2D.",paraId:0,tocIndex:1},{value:"\u5F15\u5165\u5B98\u65B9\u63D0\u4F9B\u7684\u56FE\u7247:",paraId:1,tocIndex:1},{value:"\u56FE\u4E2D\u6E05\u6670\u7684\u5C55\u793A\u4E86",paraId:2,tocIndex:1},{value:"v17.0.0",paraId:2,tocIndex:1},{value:"\u7684\u6539\u52A8, \u65E0\u8BBA\u662F\u5728",paraId:2,tocIndex:1},{value:"document",paraId:2,tocIndex:1},{value:"\u8FD8\u662F",paraId:2,tocIndex:1},{value:"\u6839 DOM \u5BB9\u5668",paraId:2,tocIndex:1},{value:"\u4E0A\u76D1\u542C\u4E8B\u4EF6, \u90FD\u53EF\u4EE5\u5F52\u4E3A",paraId:2,tocIndex:1},{value:"\u4E8B\u4EF6\u59D4\u6258(\u4EE3\u7406)",paraId:2,tocIndex:1},{value:"(",paraId:2,tocIndex:1},{value:"mdn",paraId:2,tocIndex:1},{value:").",paraId:2,tocIndex:1},{value:"\u6CE8\u610F: ",paraId:3,tocIndex:1},{value:"react",paraId:3,tocIndex:1},{value:"\u7684\u4E8B\u4EF6\u4F53\u7CFB, \u4E0D\u662F\u5168\u90E8\u90FD\u901A\u8FC7",paraId:3,tocIndex:1},{value:"\u4E8B\u4EF6\u59D4\u6258",paraId:3,tocIndex:1},{value:"\u6765\u5B9E\u73B0\u7684. \u6709\u4E00\u4E9B",paraId:3,tocIndex:1},{value:"\u7279\u6B8A\u60C5\u51B5",paraId:3,tocIndex:1},{value:", \u662F\u76F4\u63A5\u7ED1\u5B9A\u5230\u5BF9\u5E94 DOM \u5143\u7D20\u4E0A\u7684(\u5982:",paraId:3,tocIndex:1},{value:"scroll",paraId:3,tocIndex:1},{value:", ",paraId:3,tocIndex:1},{value:"load",paraId:3,tocIndex:1},{value:"), \u5B83\u4EEC\u90FD\u901A\u8FC7",paraId:3,tocIndex:1},{value:"listenToNonDelegatedEvent",paraId:3,tocIndex:1},{value:"\u51FD\u6570\u8FDB\u884C\u7ED1\u5B9A.",paraId:3,tocIndex:1},{value:"\u4E0A\u8FF0\u7279\u6B8A\u4E8B\u4EF6\u6700\u5927\u7684\u4E0D\u540C\u662F\u76D1\u542C\u7684 DOM \u5143\u7D20\u4E0D\u540C, \u9664\u6B64\u4E4B\u5916, \u5176\u4ED6\u5730\u65B9\u7684\u5B9E\u73B0\u4E0E\u6B63\u5E38\u4E8B\u4EF6\u5927\u4F53\u4E00\u81F4.",paraId:4,tocIndex:1},{value:"\u672C\u8282\u8BA8\u8BBA\u7684\u662F\u53EF\u4EE5\u88AB",paraId:5,tocIndex:1},{value:"\u6839 DOM \u5BB9\u5668",paraId:5,tocIndex:1},{value:"\u4EE3\u7406\u7684\u6B63\u5E38\u4E8B\u4EF6.",paraId:5,tocIndex:1},{value:"\u5728\u524D\u6587",paraId:6,tocIndex:2},{value:"React \u5E94\u7528\u7684\u542F\u52A8\u8FC7\u7A0B",paraId:7,tocIndex:2},{value:"\u4E2D\u4ECB\u7ECD\u4E86",paraId:6,tocIndex:2},{value:"React",paraId:6,tocIndex:2},{value:"\u5728\u542F\u52A8\u65F6\u4F1A\u521B\u5EFA\u5168\u5C40\u5BF9\u8C61, \u5176\u4E2D\u5728\u521B\u5EFA",paraId:6,tocIndex:2},{value:"fiberRoot",paraId:8,tocIndex:2},{value:"\u5BF9\u8C61\u65F6, \u8C03\u7528",paraId:6,tocIndex:2},{value:"createRootImpl",paraId:6,tocIndex:2},{value:":",paraId:6,tocIndex:2},{value:`function createRootImpl(
  container: Container,
  tag: RootTag,
  options: void | RootOptions,
) {
  // ... \u7701\u7565\u65E0\u5173\u4EE3\u7801
  if (enableEagerRootListeners) {
    const rootContainerElement =
      container.nodeType === COMMENT_NODE ? container.parentNode : container;
    listenToAllSupportedEvents(rootContainerElement);
  }
  // ... \u7701\u7565\u65E0\u5173\u4EE3\u7801
}
`,paraId:9,tocIndex:2},{value:"listenToAllSupportedEvents",paraId:10,tocIndex:2},{value:"\u51FD\u6570, \u5B9E\u9645\u4E0A\u5B8C\u6210\u4E86\u4E8B\u4EF6\u4EE3\u7406:",paraId:10,tocIndex:2},{value:`// ... \u7701\u7565\u65E0\u5173\u4EE3\u7801
export function listenToAllSupportedEvents(rootContainerElement: EventTarget) {
  if (enableEagerRootListeners) {
    // 1. \u8282\u6D41\u4F18\u5316, \u4FDD\u8BC1\u5168\u5C40\u6CE8\u518C\u53EA\u88AB\u8C03\u7528\u4E00\u6B21
    if ((rootContainerElement: any)[listeningMarker]) {
      return;
    }
    (rootContainerElement: any)[listeningMarker] = true;
    // 2. \u904D\u5386allNativeEvents \u76D1\u542C\u5192\u6CE1\u548C\u6355\u83B7\u9636\u6BB5\u7684\u4E8B\u4EF6
    allNativeEvents.forEach((domEventName) => {
      if (!nonDelegatedEvents.has(domEventName)) {
        listenToNativeEvent(
          domEventName,
          false, // \u5192\u6CE1\u9636\u6BB5\u76D1\u542C
          ((rootContainerElement: any): Element),
          null,
        );
      }
      listenToNativeEvent(
        domEventName,
        true, // \u6355\u83B7\u9636\u6BB5\u76D1\u542C
        ((rootContainerElement: any): Element),
        null,
      );
    });
  }
}
`,paraId:11,tocIndex:2},{value:"\u6838\u5FC3\u903B\u8F91:",paraId:12,tocIndex:2},{value:"\u8282\u6D41\u4F18\u5316, \u4FDD\u8BC1\u5168\u5C40\u6CE8\u518C\u53EA\u88AB\u8C03\u7528\u4E00\u6B21.",paraId:13,tocIndex:2},{value:"\u904D\u5386",paraId:13,tocIndex:2},{value:"allNativeEvents",paraId:13,tocIndex:2},{value:", \u8C03\u7528",paraId:13,tocIndex:2},{value:"listenToNativeEvent",paraId:13,tocIndex:2},{value:`\u76D1\u542C\u5192\u6CE1\u548C\u6355\u83B7\u9636\u6BB5\u7684\u4E8B\u4EF6.
`,paraId:13,tocIndex:2},{value:"allNativeEvents",paraId:14,tocIndex:2},{value:"\u5305\u62EC\u4E86\u5927\u91CF\u7684\u539F\u751F\u4E8B\u4EF6\u540D\u79F0, \u5B83\u662F\u5728",paraId:14,tocIndex:2},{value:"DOMPluginEventSystem.js",paraId:14,tocIndex:2},{value:"\u4E2D",paraId:14,tocIndex:2},{value:"\u88AB\u521D\u59CB\u5316",paraId:14,tocIndex:2},{value:"listenToNativeEvent",paraId:15,tocIndex:2},{value:":",paraId:15,tocIndex:2},{value:`// ... \u7701\u7565\u65E0\u5173\u4EE3\u7801
export function listenToNativeEvent(
  domEventName: DOMEventName,
  isCapturePhaseListener: boolean,
  rootContainerElement: EventTarget,
  targetElement: Element | null,
  eventSystemFlags?: EventSystemFlags = 0,
): void {
  let target = rootContainerElement;

  const listenerSet = getEventListenerSet(target);
  const listenerSetKey = getListenerSetKey(
    domEventName,
    isCapturePhaseListener,
  );
  // \u5229\u7528set\u6570\u636E\u7ED3\u6784, \u4FDD\u8BC1\u76F8\u540C\u7684\u4E8B\u4EF6\u7C7B\u578B\u53EA\u4F1A\u88AB\u6CE8\u518C\u4E00\u6B21.
  if (!listenerSet.has(listenerSetKey)) {
    if (isCapturePhaseListener) {
      eventSystemFlags |= IS_CAPTURE_PHASE;
    }
    // \u6CE8\u518C\u4E8B\u4EF6\u76D1\u542C
    addTrappedEventListener(
      target,
      domEventName,
      eventSystemFlags,
      isCapturePhaseListener,
    );
    listenerSet.add(listenerSetKey);
  }
}
`,paraId:16,tocIndex:2},{value:"addTrappedEventListener",paraId:17,tocIndex:2},{value:":",paraId:17,tocIndex:2},{value:`// ... \u7701\u7565\u65E0\u5173\u4EE3\u7801
function addTrappedEventListener(
  targetContainer: EventTarget,
  domEventName: DOMEventName,
  eventSystemFlags: EventSystemFlags,
  isCapturePhaseListener: boolean,
  isDeferredListenerForLegacyFBSupport?: boolean,
) {
  // 1. \u6784\u9020listener
  let listener = createEventListenerWrapperWithPriority(
    targetContainer,
    domEventName,
    eventSystemFlags,
  );
  let unsubscribeListener;
  // 2. \u6CE8\u518C\u4E8B\u4EF6\u76D1\u542C
  if (isCapturePhaseListener) {
    unsubscribeListener = addEventCaptureListener(
      targetContainer,
      domEventName,
      listener,
    );
  } else {
    unsubscribeListener = addEventBubbleListener(
      targetContainer,
      domEventName,
      listener,
    );
  }
}

// \u6CE8\u518C\u539F\u751F\u4E8B\u4EF6 \u5192\u6CE1
export function addEventBubbleListener(
  target: EventTarget,
  eventType: string,
  listener: Function,
): Function {
  target.addEventListener(eventType, listener, false);
  return listener;
}

// \u6CE8\u518C\u539F\u751F\u4E8B\u4EF6 \u6355\u83B7
export function addEventCaptureListener(
  target: EventTarget,
  eventType: string,
  listener: Function,
): Function {
  target.addEventListener(eventType, listener, true);
  return listener;
}
`,paraId:18,tocIndex:2},{value:"\u4ECE",paraId:19,tocIndex:2},{value:"listenToAllSupportedEvents",paraId:19,tocIndex:2},{value:"\u5F00\u59CB, \u8C03\u7528\u94FE\u8DEF\u6BD4\u8F83\u957F, \u6700\u540E\u8C03\u7528",paraId:19,tocIndex:2},{value:"addEventBubbleListener",paraId:19,tocIndex:2},{value:"\u548C",paraId:19,tocIndex:2},{value:"addEventCaptureListener",paraId:19,tocIndex:2},{value:"\u76D1\u542C\u4E86\u539F\u751F\u4E8B\u4EF6.",paraId:19,tocIndex:2},{value:"\u5728\u6CE8\u518C\u539F\u751F\u4E8B\u4EF6\u7684\u8FC7\u7A0B\u4E2D, \u9700\u8981\u91CD\u70B9\u5173\u6CE8\u4E00\u4E0B\u76D1\u542C\u51FD\u6570, \u5373",paraId:20,tocIndex:3},{value:"listener",paraId:20,tocIndex:3},{value:"\u51FD\u6570. \u5B83\u5B9E\u73B0\u4E86\u628A\u539F\u751F\u4E8B\u4EF6\u6D3E\u53D1\u5230",paraId:20,tocIndex:3},{value:"react",paraId:20,tocIndex:3},{value:"\u4F53\u7CFB\u4E4B\u5185, \u975E\u5E38\u5173\u952E.",paraId:20,tocIndex:3},{value:"\u6BD4\u5982\u70B9\u51FB DOM \u89E6\u53D1\u539F\u751F\u4E8B\u4EF6, \u539F\u751F\u4E8B\u4EF6\u6700\u540E\u4F1A\u88AB\u6D3E\u53D1\u5230",paraId:21,tocIndex:3},{value:"react",paraId:21,tocIndex:3},{value:"\u5185\u90E8\u7684",paraId:21,tocIndex:3},{value:"onClick",paraId:21,tocIndex:3},{value:"\u51FD\u6570. ",paraId:21,tocIndex:3},{value:"listener",paraId:21,tocIndex:3},{value:"\u51FD\u6570\u5C31\u662F\u8FD9\u4E2A",paraId:21,tocIndex:3},{value:"\u7531\u5916\u81F3\u5185",paraId:21,tocIndex:3},{value:"\u7684\u5173\u952E\u73AF\u8282.",paraId:21,tocIndex:3},{value:"listener",paraId:22,tocIndex:3},{value:"\u662F\u901A\u8FC7",paraId:22,tocIndex:3},{value:"createEventListenerWrapperWithPriority",paraId:22,tocIndex:3},{value:"\u51FD\u6570\u4EA7\u751F:",paraId:22,tocIndex:3},{value:`export function createEventListenerWrapperWithPriority(
  targetContainer: EventTarget,
  domEventName: DOMEventName,
  eventSystemFlags: EventSystemFlags,
): Function {
  // 1. \u6839\u636E\u4F18\u5148\u7EA7\u8BBE\u7F6E listenerWrapper
  const eventPriority = getEventPriorityForPluginSystem(domEventName);
  let listenerWrapper;
  switch (eventPriority) {
    case DiscreteEvent:
      listenerWrapper = dispatchDiscreteEvent;
      break;
    case UserBlockingEvent:
      listenerWrapper = dispatchUserBlockingUpdate;
      break;
    case ContinuousEvent:
    default:
      listenerWrapper = dispatchEvent;
      break;
  }
  // 2. \u8FD4\u56DE listenerWrapper
  return listenerWrapper.bind(
    null,
    domEventName,
    eventSystemFlags,
    targetContainer,
  );
}
`,paraId:23,tocIndex:3},{value:"\u53EF\u4EE5\u770B\u5230, \u4E0D\u540C\u7684",paraId:24,tocIndex:3},{value:"domEventName",paraId:24,tocIndex:3},{value:"\u8C03\u7528",paraId:24,tocIndex:3},{value:"getEventPriorityForPluginSystem",paraId:24,tocIndex:3},{value:"\u540E\u8FD4\u56DE\u4E0D\u540C\u7684\u4F18\u5148\u7EA7, \u6700\u7EC8\u4F1A\u6709 3 \u79CD\u60C5\u51B5:",paraId:24,tocIndex:3},{value:"DiscreteEvent",paraId:25,tocIndex:3},{value:": \u4F18\u5148\u7EA7\u6700\u9AD8, \u5305\u62EC",paraId:25,tocIndex:3},{value:"click, keyDown, input",paraId:25,tocIndex:3},{value:"\u7B49\u4E8B\u4EF6, ",paraId:25,tocIndex:3},{value:"\u6E90\u7801",paraId:25,tocIndex:3},{value:"\u5BF9\u5E94\u7684",paraId:26,tocIndex:3},{value:"listener",paraId:26,tocIndex:3},{value:"\u662F",paraId:26,tocIndex:3},{value:"dispatchDiscreteEvent",paraId:26,tocIndex:3},{value:"UserBlockingEvent",paraId:25,tocIndex:3},{value:": \u4F18\u5148\u7EA7\u9002\u4E2D, \u5305\u62EC",paraId:25,tocIndex:3},{value:"drag, scroll",paraId:25,tocIndex:3},{value:"\u7B49\u4E8B\u4EF6, ",paraId:25,tocIndex:3},{value:"\u6E90\u7801",paraId:25,tocIndex:3},{value:"\u5BF9\u5E94\u7684",paraId:27,tocIndex:3},{value:"listener",paraId:27,tocIndex:3},{value:"\u662F",paraId:27,tocIndex:3},{value:"dispatchUserBlockingUpdate",paraId:27,tocIndex:3},{value:"ContinuousEvent",paraId:25,tocIndex:3},{value:": \u4F18\u5148\u7EA7\u6700\u4F4E,\u5305\u62EC",paraId:25,tocIndex:3},{value:"animation, load",paraId:25,tocIndex:3},{value:"\u7B49\u4E8B\u4EF6, ",paraId:25,tocIndex:3},{value:"\u6E90\u7801",paraId:25,tocIndex:3},{value:"\u5BF9\u5E94\u7684",paraId:28,tocIndex:3},{value:"listener",paraId:28,tocIndex:3},{value:"\u662F",paraId:28,tocIndex:3},{value:"dispatchEvent",paraId:28,tocIndex:3},{value:"\u8FD9 3 \u79CD",paraId:29,tocIndex:3},{value:"listener",paraId:29,tocIndex:3},{value:"\u5B9E\u9645\u4E0A\u90FD\u662F\u5BF9",paraId:29,tocIndex:3},{value:"dispatchEvent",paraId:29,tocIndex:3},{value:"\u7684\u5305\u88C5:",paraId:29,tocIndex:3},{value:`// ...\u7701\u7565\u65E0\u5173\u4EE3\u7801
export function dispatchEvent(
  domEventName: DOMEventName,
  eventSystemFlags: EventSystemFlags,
  targetContainer: EventTarget,
  nativeEvent: AnyNativeEvent,
): void {
  if (!_enabled) {
    return;
  }
  const blockedOn = attemptToDispatchEvent(
    domEventName,
    eventSystemFlags,
    targetContainer,
    nativeEvent,
  );
}
`,paraId:30,tocIndex:3},{value:"\u5F53\u539F\u751F\u4E8B\u4EF6\u89E6\u53D1\u4E4B\u540E, \u9996\u5148\u4F1A\u8FDB\u5165\u5230",paraId:31,tocIndex:4},{value:"dispatchEvent",paraId:31,tocIndex:4},{value:"\u8FD9\u4E2A\u56DE\u8C03\u51FD\u6570. \u800C",paraId:31,tocIndex:4},{value:"dispatchEvent",paraId:31,tocIndex:4},{value:"\u51FD\u6570\u662F",paraId:31,tocIndex:4},{value:"react",paraId:31,tocIndex:4},{value:"\u4E8B\u4EF6\u4F53\u7CFB\u4E2D\u6700\u5173\u952E\u7684\u51FD\u6570, \u5176\u8C03\u7528\u94FE\u8DEF\u8F83\u957F, \u6838\u5FC3\u6B65\u9AA4\u5982\u56FE\u6240\u793A:",paraId:31,tocIndex:4},{value:"\u91CD\u70B9\u5173\u6CE8\u5176\u4E2D 3 \u4E2A\u6838\u5FC3\u73AF\u8282:",paraId:32,tocIndex:4},{value:"attemptToDispatchEvent",paraId:33,tocIndex:4},{value:"SimpleEventPlugin.extractEvents",paraId:33,tocIndex:4},{value:"processDispatchQueue",paraId:33,tocIndex:4},{value:"attemptToDispatchEvent",paraId:34,tocIndex:5},{value:"\u628A\u539F\u751F\u4E8B\u4EF6\u548C",paraId:34,tocIndex:5},{value:"fiber\u6811",paraId:34,tocIndex:5},{value:"\u5173\u8054\u8D77\u6765.",paraId:34,tocIndex:5},{value:`export function attemptToDispatchEvent(
  domEventName: DOMEventName,
  eventSystemFlags: EventSystemFlags,
  targetContainer: EventTarget,
  nativeEvent: AnyNativeEvent,
): null | Container | SuspenseInstance {
  // ...\u7701\u7565\u65E0\u5173\u4EE3\u7801

  // 1. \u5B9A\u4F4D\u539F\u751FDOM\u8282\u70B9
  const nativeEventTarget = getEventTarget(nativeEvent);
  // 2. \u83B7\u53D6\u4E0EDOM\u8282\u70B9\u5BF9\u5E94\u7684fiber\u8282\u70B9
  let targetInst = getClosestInstanceFromNode(nativeEventTarget);
  // 3. \u901A\u8FC7\u63D2\u4EF6\u7CFB\u7EDF, \u6D3E\u53D1\u4E8B\u4EF6
  dispatchEventForPluginEventSystem(
    domEventName,
    eventSystemFlags,
    nativeEvent,
    targetInst,
    targetContainer,
  );
  return null;
}
`,paraId:35,tocIndex:5},{value:"\u6838\u5FC3\u903B\u8F91:",paraId:36,tocIndex:5},{value:"\u5B9A\u4F4D\u539F\u751F DOM \u8282\u70B9: \u8C03\u7528",paraId:37,tocIndex:5},{value:"getEventTarget",paraId:37,tocIndex:5},{value:"\u83B7\u53D6\u4E0E DOM \u8282\u70B9\u5BF9\u5E94\u7684 fiber \u8282\u70B9: \u8C03\u7528",paraId:37,tocIndex:5},{value:"getClosestInstanceFromNode",paraId:37,tocIndex:5},{value:"\u901A\u8FC7\u63D2\u4EF6\u7CFB\u7EDF, \u6D3E\u53D1\u4E8B\u4EF6: \u8C03\u7528 ",paraId:37,tocIndex:5},{value:"dispatchEventForPluginEventSystem",paraId:37,tocIndex:5},{value:"dispatchEvent",paraId:38,tocIndex:6},{value:"\u51FD\u6570\u7684\u8C03\u7528\u94FE\u8DEF\u4E2D, \u901A\u8FC7\u4E0D\u540C\u7684\u63D2\u4EF6, \u5904\u7406\u4E0D\u540C\u7684\u4E8B\u4EF6. \u5176\u4E2D\u6700\u5E38\u89C1\u7684\u4E8B\u4EF6\u90FD\u4F1A\u7531",paraId:38,tocIndex:6},{value:"SimpleEventPlugin.extractEvents",paraId:38,tocIndex:6},{value:"\u8FDB\u884C\u5904\u7406:",paraId:38,tocIndex:6},{value:`function extractEvents(
  dispatchQueue: DispatchQueue,
  domEventName: DOMEventName,
  targetInst: null | Fiber,
  nativeEvent: AnyNativeEvent,
  nativeEventTarget: null | EventTarget,
  eventSystemFlags: EventSystemFlags,
  targetContainer: EventTarget,
): void {
  const reactName = topLevelEventsToReactNames.get(domEventName);
  if (reactName === undefined) {
    return;
  }
  let SyntheticEventCtor = SyntheticEvent;
  let reactEventType: string = domEventName;

  const inCapturePhase = (eventSystemFlags & IS_CAPTURE_PHASE) !== 0;
  const accumulateTargetOnly = !inCapturePhase && domEventName === 'scroll';
  // 1. \u6536\u96C6\u6240\u6709\u76D1\u542C\u8BE5\u4E8B\u4EF6\u7684\u51FD\u6570.
  const listeners = accumulateSinglePhaseListeners(
    targetInst,
    reactName,
    nativeEvent.type,
    inCapturePhase,
    accumulateTargetOnly,
  );
  if (listeners.length > 0) {
    // 2. \u6784\u9020\u5408\u6210\u4E8B\u4EF6, \u6DFB\u52A0\u5230\u6D3E\u53D1\u961F\u5217
    const event = new SyntheticEventCtor(
      reactName,
      reactEventType,
      null,
      nativeEvent,
      nativeEventTarget,
    );
    dispatchQueue.push({ event, listeners });
  }
}
`,paraId:39,tocIndex:6},{value:"\u6838\u5FC3\u903B\u8F91:",paraId:40,tocIndex:6},{value:"\u6536\u96C6\u6240\u6709",paraId:41,tocIndex:6},{value:"listener",paraId:41,tocIndex:6},{value:"\u56DE\u8C03",paraId:41,tocIndex:6},{value:"\u8FD9\u91CC\u7684\u662F",paraId:42,tocIndex:6},{value:"fiber.memoizedProps.onClick/onClickCapture",paraId:42,tocIndex:6},{value:"\u7B49\u7ED1\u5B9A\u5728",paraId:42,tocIndex:6},{value:"fiber",paraId:42,tocIndex:6},{value:"\u8282\u70B9\u4E0A\u7684\u56DE\u8C03\u51FD\u6570",paraId:42,tocIndex:6},{value:"\u5177\u4F53\u903B\u8F91\u5728",paraId:43,tocIndex:6},{value:"accumulateSinglePhaseListeners",paraId:43,tocIndex:6},{value:":",paraId:43,tocIndex:6},{value:`export function accumulateSinglePhaseListeners(
  targetFiber: Fiber | null,
  reactName: string | null,
  nativeEventType: string,
  inCapturePhase: boolean,
  accumulateTargetOnly: boolean,
): Array<DispatchListener> {
  const captureName = reactName !== null ? reactName + 'Capture' : null;
  const reactEventName = inCapturePhase ? captureName : reactName;
  const listeners: Array<DispatchListener> = [];

  let instance = targetFiber;
  let lastHostComponent = null;

  // \u4ECEtargetFiber\u5F00\u59CB, \u5411\u4E0A\u904D\u5386, \u76F4\u5230 root \u4E3A\u6B62
  while (instance !== null) {
    const { stateNode, tag } = instance;
    // \u5F53\u8282\u70B9\u7C7B\u578B\u662FHostComponent\u65F6(\u5982: div, span, button\u7B49\u7C7B\u578B)
    if (tag === HostComponent && stateNode !== null) {
      lastHostComponent = stateNode;
      if (reactEventName !== null) {
        // \u83B7\u53D6\u6807\u51C6\u7684\u76D1\u542C\u51FD\u6570 (\u5982onClick , onClickCapture\u7B49)
        const listener = getListener(instance, reactEventName);
        if (listener != null) {
          listeners.push(
            createDispatchListener(instance, listener, lastHostComponent),
          );
        }
      }
    }
    // \u5982\u679C\u53EA\u6536\u96C6\u76EE\u6807\u8282\u70B9, \u5219\u4E0D\u7528\u5411\u4E0A\u904D\u5386, \u76F4\u63A5\u9000\u51FA
    if (accumulateTargetOnly) {
      break;
    }
    instance = instance.return;
  }
  return listeners;
}
`,paraId:44,tocIndex:6},{value:"\u6784\u9020\u5408\u6210\u4E8B\u4EF6(",paraId:45,tocIndex:6},{value:"SyntheticEvent",paraId:45,tocIndex:6},{value:"), \u6DFB\u52A0\u5230\u6D3E\u53D1\u961F\u5217(",paraId:45,tocIndex:6},{value:"dispatchQueue",paraId:45,tocIndex:6},{value:")",paraId:45,tocIndex:6},{value:"SyntheticEvent",paraId:46,tocIndex:7},{value:", \u662F",paraId:46,tocIndex:7},{value:"react",paraId:46,tocIndex:7},{value:"\u5185\u90E8\u521B\u5EFA\u7684\u4E00\u4E2A\u5BF9\u8C61, \u662F\u539F\u751F\u4E8B\u4EF6\u7684\u8DE8\u6D4F\u89C8\u5668\u5305\u88C5\u5668, \u62E5\u6709\u548C\u6D4F\u89C8\u5668\u539F\u751F\u4E8B\u4EF6\u76F8\u540C\u7684\u63A5\u53E3(",paraId:46,tocIndex:7},{value:"stopPropagation",paraId:46,tocIndex:7},{value:",",paraId:46,tocIndex:7},{value:"preventDefault",paraId:46,tocIndex:7},{value:"), \u62B9\u5E73\u4E0D\u540C\u6D4F\u89C8\u5668 api \u7684\u5DEE\u5F02, \u517C\u5BB9\u6027\u597D.",paraId:46,tocIndex:7},{value:"\u5177\u4F53\u7684\u6784\u9020\u8FC7\u7A0B\u5E76\u4E0D\u590D\u6742, \u53EF\u4EE5\u76F4\u63A5",paraId:47,tocIndex:7},{value:"\u67E5\u770B\u6E90\u7801",paraId:47,tocIndex:7},{value:".",paraId:47,tocIndex:7},{value:"\u6B64\u5904\u6211\u4EEC\u9700\u8981\u77E5\u9053, \u5728",paraId:48,tocIndex:7},{value:"Plugin.extractEvents",paraId:48,tocIndex:7},{value:"\u8FC7\u7A0B\u4E2D, \u904D\u5386",paraId:48,tocIndex:7},{value:"fiber\u6811",paraId:48,tocIndex:7},{value:"\u627E\u5230",paraId:48,tocIndex:7},{value:"listener",paraId:48,tocIndex:7},{value:"\u4E4B\u540E, \u5C31\u4F1A\u521B\u5EFA",paraId:48,tocIndex:7},{value:"SyntheticEvent",paraId:48,tocIndex:7},{value:", \u52A0\u5165\u5230",paraId:48,tocIndex:7},{value:"dispatchQueue",paraId:48,tocIndex:7},{value:"\u4E2D, \u7B49\u5F85\u6D3E\u53D1.",paraId:48,tocIndex:7},{value:"extractEvents",paraId:49,tocIndex:8},{value:"\u5B8C\u6210\u4E4B\u540E, \u903B\u8F91\u6765\u5230",paraId:49,tocIndex:8},{value:"processDispatchQueue",paraId:49,tocIndex:8},{value:", \u7EC8\u4E8E\u8981\u771F\u6B63\u6267\u884C\u6D3E\u53D1\u4E86.",paraId:49,tocIndex:8},{value:`export function processDispatchQueue(
  dispatchQueue: DispatchQueue,
  eventSystemFlags: EventSystemFlags,
): void {
  const inCapturePhase = (eventSystemFlags & IS_CAPTURE_PHASE) !== 0;
  for (let i = 0; i < dispatchQueue.length; i++) {
    const { event, listeners } = dispatchQueue[i];
    processDispatchQueueItemsInOrder(event, listeners, inCapturePhase);
  }
  // ...\u7701\u7565\u65E0\u5173\u4EE3\u7801
}

function processDispatchQueueItemsInOrder(
  event: ReactSyntheticEvent,
  dispatchListeners: Array<DispatchListener>,
  inCapturePhase: boolean,
): void {
  let previousInstance;
  if (inCapturePhase) {
    // 1. capture\u4E8B\u4EF6: \u5012\u5E8F\u904D\u5386listeners
    for (let i = dispatchListeners.length - 1; i >= 0; i--) {
      const { instance, currentTarget, listener } = dispatchListeners[i];
      if (instance !== previousInstance && event.isPropagationStopped()) {
        return;
      }
      executeDispatch(event, listener, currentTarget);
      previousInstance = instance;
    }
  } else {
    // 2. bubble\u4E8B\u4EF6: \u987A\u5E8F\u904D\u5386listeners
    for (let i = 0; i < dispatchListeners.length; i++) {
      const { instance, currentTarget, listener } = dispatchListeners[i];
      if (instance !== previousInstance && event.isPropagationStopped()) {
        return;
      }
      executeDispatch(event, listener, currentTarget);
      previousInstance = instance;
    }
  }
}
`,paraId:50,tocIndex:8},{value:"\u5728",paraId:51,tocIndex:8},{value:"processDispatchQueueItemsInOrder",paraId:51,tocIndex:8},{value:"\u904D\u5386",paraId:51,tocIndex:8},{value:"dispatchListeners",paraId:51,tocIndex:8},{value:"\u6570\u7EC4, \u6267\u884C",paraId:51,tocIndex:8},{value:"executeDispatch",paraId:51,tocIndex:8},{value:"\u6D3E\u53D1\u4E8B\u4EF6, \u5728",paraId:51,tocIndex:8},{value:"fiber",paraId:51,tocIndex:8},{value:"\u8282\u70B9\u4E0A\u7ED1\u5B9A\u7684",paraId:51,tocIndex:8},{value:"listener",paraId:51,tocIndex:8},{value:"\u51FD\u6570\u88AB\u6267\u884C.",paraId:51,tocIndex:8},{value:"\u5728",paraId:52,tocIndex:8},{value:"processDispatchQueueItemsInOrder",paraId:52,tocIndex:8},{value:"\u51FD\u6570\u4E2D, \u6839\u636E",paraId:52,tocIndex:8},{value:"\u6355\u83B7(capture)",paraId:52,tocIndex:8},{value:"\u6216",paraId:52,tocIndex:8},{value:"\u5192\u6CE1(bubble)",paraId:52,tocIndex:8},{value:"\u7684\u4E0D\u540C, \u91C7\u53D6\u4E86\u4E0D\u540C\u7684\u904D\u5386\u65B9\u5F0F:",paraId:52,tocIndex:8},{value:"capture",paraId:53,tocIndex:8},{value:"\u4E8B\u4EF6: ",paraId:53,tocIndex:8},{value:"\u4ECE\u4E0A\u81F3\u4E0B",paraId:53,tocIndex:8},{value:"\u8C03\u7528",paraId:53,tocIndex:8},{value:"fiber\u6811",paraId:53,tocIndex:8},{value:"\u4E2D\u7ED1\u5B9A\u7684\u56DE\u8C03\u51FD\u6570, \u6240\u4EE5",paraId:53,tocIndex:8},{value:"\u5012\u5E8F",paraId:53,tocIndex:8},{value:"\u904D\u5386",paraId:53,tocIndex:8},{value:"dispatchListeners",paraId:53,tocIndex:8},{value:".",paraId:53,tocIndex:8},{value:"bubble",paraId:53,tocIndex:8},{value:"\u4E8B\u4EF6: ",paraId:53,tocIndex:8},{value:"\u4ECE\u4E0B\u81F3\u4E0A",paraId:53,tocIndex:8},{value:"\u8C03\u7528",paraId:53,tocIndex:8},{value:"fiber\u6811",paraId:53,tocIndex:8},{value:"\u4E2D\u7ED1\u5B9A\u7684\u56DE\u8C03\u51FD\u6570, \u6240\u4EE5",paraId:53,tocIndex:8},{value:"\u987A\u5E8F",paraId:53,tocIndex:8},{value:"\u904D\u5386",paraId:53,tocIndex:8},{value:"dispatchListeners",paraId:53,tocIndex:8},{value:".",paraId:53,tocIndex:8},{value:"\u4ECE\u67B6\u6784\u4E0A\u6765\u8BB2, ",paraId:54,tocIndex:9},{value:"SyntheticEvent",paraId:54,tocIndex:9},{value:"\u6253\u901A\u4E86\u4ECE\u5916\u90E8",paraId:54,tocIndex:9},{value:"\u539F\u751F\u4E8B\u4EF6",paraId:54,tocIndex:9},{value:"\u5230\u5185\u90E8",paraId:54,tocIndex:9},{value:"fiber\u6811",paraId:54,tocIndex:9},{value:"\u7684\u4EA4\u4E92\u6E20\u9053, \u4F7F\u5F97",paraId:54,tocIndex:9},{value:"react",paraId:54,tocIndex:9},{value:"\u80FD\u591F\u611F\u77E5\u5230\u6D4F\u89C8\u5668\u63D0\u4F9B\u7684",paraId:54,tocIndex:9},{value:"\u539F\u751F\u4E8B\u4EF6",paraId:54,tocIndex:9},{value:", \u8FDB\u800C\u505A\u51FA\u4E0D\u540C\u7684\u54CD\u5E94, \u4FEE\u6539",paraId:54,tocIndex:9},{value:"fiber\u6811",paraId:54,tocIndex:9},{value:", \u53D8\u66F4\u89C6\u56FE\u7B49.",paraId:54,tocIndex:9},{value:"\u4ECE\u5B9E\u73B0\u4E0A\u8BB2, \u4E3B\u8981\u5206\u4E3A 3 \u6B65:",paraId:55,tocIndex:9},{value:"\u76D1\u542C\u539F\u751F\u4E8B\u4EF6: \u5BF9\u9F50",paraId:56,tocIndex:9},{value:"DOM\u5143\u7D20",paraId:56,tocIndex:9},{value:"\u548C",paraId:56,tocIndex:9},{value:"fiber\u5143\u7D20",paraId:56,tocIndex:9},{value:"\u6536\u96C6",paraId:56,tocIndex:9},{value:"listeners",paraId:56,tocIndex:9},{value:": \u904D\u5386",paraId:56,tocIndex:9},{value:"fiber\u6811",paraId:56,tocIndex:9},{value:", \u6536\u96C6\u6240\u6709\u76D1\u542C\u672C\u4E8B\u4EF6\u7684",paraId:56,tocIndex:9},{value:"listener",paraId:56,tocIndex:9},{value:"\u51FD\u6570.",paraId:56,tocIndex:9},{value:"\u6D3E\u53D1\u5408\u6210\u4E8B\u4EF6: \u6784\u9020\u5408\u6210\u4E8B\u4EF6, \u904D\u5386",paraId:56,tocIndex:9},{value:"listeners",paraId:56,tocIndex:9},{value:"\u8FDB\u884C\u6D3E\u53D1.",paraId:56,tocIndex:9}],de={},we={title:"\u4F4D\u8FD0\u7B97",toc:"menu",filename:"docs/algorithm/bitfield.md",order:1,description:"\u7F51\u7EDC\u4E0A\u4ECB\u7ECD\u4F4D\u8FD0\u7B97\u7684\u6587\u7AE0\u975E\u5E38\u591A(\u5982MDN \u4E0A\u7684\u4ECB\u7ECD\u5C31\u5F88\u4ED4\u7EC6)."},ze=[{id:"react-\u7B97\u6CD5\u4E4B\u4F4D\u8FD0\u7B97",depth:1,title:"React \u7B97\u6CD5\u4E4B\u4F4D\u8FD0\u7B97"},{id:"\u6982\u5FF5",depth:2,title:"\u6982\u5FF5"},{id:"\u7279\u6027",depth:2,title:"\u7279\u6027"},{id:"\u57FA\u672C\u4F7F\u7528",depth:2,title:"\u57FA\u672C\u4F7F\u7528"},{id:"react-\u5F53\u4E2D\u7684\u4F7F\u7528\u573A\u666F",depth:2,title:"React \u5F53\u4E2D\u7684\u4F7F\u7528\u573A\u666F"},{id:"\u4F18\u5148\u7EA7\u7BA1\u7406-lanes",depth:3,title:"\u4F18\u5148\u7EA7\u7BA1\u7406 lanes"},{id:"\u6267\u884C\u4E0A\u4E0B\u6587-executioncontext",depth:3,title:"\u6267\u884C\u4E0A\u4E0B\u6587 ExecutionContext"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"},{id:"\u53C2\u8003\u8D44\u6599",depth:2,title:"\u53C2\u8003\u8D44\u6599"}],Fe=[{value:"\u7F51\u7EDC\u4E0A\u4ECB\u7ECD\u4F4D\u8FD0\u7B97\u7684\u6587\u7AE0\u975E\u5E38\u591A(\u5982",paraId:0,tocIndex:0},{value:"MDN \u4E0A\u7684\u4ECB\u7ECD",paraId:0,tocIndex:0},{value:"\u5C31\u5F88\u4ED4\u7EC6).",paraId:0,tocIndex:0},{value:"\u672C\u6587\u7684\u76EE\u7684:",paraId:1,tocIndex:0},{value:"\u6E29\u6545\u77E5\u65B0, \u5BF9\u4F4D\u8FD0\u7B97\u7684\u57FA\u672C\u4F7F\u7528\u505A\u4E00\u4E0B\u7B80\u5355\u7684\u603B\u7ED3.",paraId:2,tocIndex:0},{value:"\u5F52\u7EB3\u5728",paraId:2,tocIndex:0},{value:"javascript",paraId:2,tocIndex:0},{value:"\u4E2D\u4F7F\u7528\u4F4D\u8FD0\u7B97\u7684\u6CE8\u610F\u4E8B\u9879.",paraId:2,tocIndex:0},{value:"\u5217\u4E3E\u5728",paraId:2,tocIndex:0},{value:"react",paraId:2,tocIndex:0},{value:"\u6E90\u7801\u4E2D, \u5BF9\u4E8E\u4F4D\u8FD0\u7B97\u7684\u9AD8\u9891\u4F7F\u7528\u573A\u666F.",paraId:2,tocIndex:0},{value:"\u4F4D\u8FD0\u7B97\u76F4\u63A5\u5904\u7406\u6BCF\u4E00\u4E2A\u6BD4\u7279\u4F4D(bit), \u662F\u975E\u5E38\u5E95\u5C42\u7684\u8FD0\u7B97, \u4F18\u52BF\u662F\u901F\u5EA6\u5FEB, \u52A3\u52BF\u5C31\u662F\u4E0D\u76F4\u89C2\u4E14\u53EA\u652F\u6301\u6574\u6570\u8FD0\u7B97.",paraId:3,tocIndex:1},{value:"\u4F4D\u8FD0\u7B97",paraId:4,tocIndex:2},{value:"\u7528\u6CD5",paraId:4,tocIndex:2},{value:"\u63CF\u8FF0",paraId:4,tocIndex:2},{value:"\u6309\u4F4D\u4E0E(",paraId:4,tocIndex:2},{value:"&",paraId:4,tocIndex:2},{value:")",paraId:4,tocIndex:2},{value:"a & b",paraId:4,tocIndex:2},{value:"\u5BF9\u4E8E\u6BCF\u4E00\u4E2A\u6BD4\u7279\u4F4D,\u4E24\u4E2A\u64CD\u4F5C\u6570\u90FD\u4E3A 1 \u65F6, \u7ED3\u679C\u4E3A 1, \u5426\u5219\u4E3A 0",paraId:4,tocIndex:2},{value:"\u6309\u4F4D\u6216(",paraId:4,tocIndex:2},{value:"|",paraId:4,tocIndex:2},{value:")",paraId:4,tocIndex:2},{value:"a | b",paraId:4,tocIndex:2},{value:"\u5BF9\u4E8E\u6BCF\u4E00\u4E2A\u6BD4\u7279\u4F4D,\u4E24\u4E2A\u64CD\u4F5C\u6570\u90FD\u4E3A 0 \u65F6, \u7ED3\u679C\u4E3A 0, \u5426\u5219\u4E3A 1",paraId:4,tocIndex:2},{value:"\u6309\u4F4D\u5F02\u6216(",paraId:4,tocIndex:2},{value:"^",paraId:4,tocIndex:2},{value:")",paraId:4,tocIndex:2},{value:"a ^ b",paraId:4,tocIndex:2},{value:"\u5BF9\u4E8E\u6BCF\u4E00\u4E2A\u6BD4\u7279\u4F4D,\u4E24\u4E2A\u64CD\u4F5C\u6570\u76F8\u540C\u65F6, \u7ED3\u679C\u4E3A 0, \u5426\u5219\u4E3A 1",paraId:4,tocIndex:2},{value:"\u6309\u4F4D\u975E(",paraId:4,tocIndex:2},{value:"~",paraId:4,tocIndex:2},{value:")",paraId:4,tocIndex:2},{value:"~ a",paraId:4,tocIndex:2},{value:"\u53CD\u8F6C\u64CD\u4F5C\u6570\u7684\u6BD4\u7279\u4F4D, \u5373 0 \u53D8\u6210 1, 1 \u53D8\u6210 0",paraId:4,tocIndex:2},{value:"\u5DE6\u79FB(",paraId:4,tocIndex:2},{value:"<<",paraId:4,tocIndex:2},{value:")",paraId:4,tocIndex:2},{value:"a << b",paraId:4,tocIndex:2},{value:"\u5C06 a \u7684\u4E8C\u8FDB\u5236\u5F62\u5F0F\u5411\u5DE6\u79FB b (< 32) \u6BD4\u7279\u4F4D, \u53F3\u8FB9\u7528 0 \u586B\u5145",paraId:4,tocIndex:2},{value:"\u6709\u7B26\u53F7\u53F3\u79FB(",paraId:4,tocIndex:2},{value:">>",paraId:4,tocIndex:2},{value:")",paraId:4,tocIndex:2},{value:"a >> b",paraId:4,tocIndex:2},{value:"\u5C06 a \u7684\u4E8C\u8FDB\u5236\u5F62\u5F0F\u5411\u53F3\u79FB b (< 32) \u6BD4\u7279\u4F4D, \u4E22\u5F03\u88AB\u79FB\u9664\u7684\u4F4D, \u5DE6\u4FA7\u4EE5\u6700\u9AD8\u4F4D\u6765\u586B\u5145",paraId:4,tocIndex:2},{value:"\u65E0\u7B26\u53F7\u53F3\u79FB(",paraId:4,tocIndex:2},{value:">>>",paraId:4,tocIndex:2},{value:")",paraId:4,tocIndex:2},{value:"a >>> b",paraId:4,tocIndex:2},{value:"\u5C06 a \u7684\u4E8C\u8FDB\u5236\u5F62\u5F0F\u5411\u53F3\u79FB b (< 32) \u6BD4\u7279\u4F4D, \u4E22\u5F03\u88AB\u79FB\u9664\u7684\u4F4D, \u5E76\u7528 0 \u5728\u5DE6\u4FA7\u586B\u5145",paraId:4,tocIndex:2},{value:"\u5728",paraId:5,tocIndex:2},{value:"ES5",paraId:5,tocIndex:2},{value:"\u89C4\u8303\u4E2D",paraId:5,tocIndex:2},{value:", \u5BF9\u4E8C\u8FDB\u5236\u4F4D\u8FD0\u7B97\u7684\u8BF4\u660E\u5982\u4E0B:",paraId:5,tocIndex:2},{value:`The production A : A @ B, where @ is one of the bitwise operators in the productions above, is evaluated as follows:
1. Let lref be the result of evaluating A.
2. Let lval be GetValue(lref).
3. Let rref be the result of evaluating B.
4. Let rval be GetValue(rref).
5. Let lnum be ToInt32(lval).
6. Let rnum be ToInt32(rval).
7. Return the result of applying the bitwise operator @ to lnum and rnum. The result is a signed 32 bit integer.
`,paraId:6,tocIndex:2},{value:"\u610F\u601D\u662F\u4F1A\u5C06\u4F4D\u8FD0\u7B97\u4E2D\u7684\u5DE6\u53F3\u64CD\u4F5C\u6570\u90FD\u8F6C\u6362\u4E3A",paraId:7,tocIndex:2},{value:"\u6709\u7B26\u53F732\u4F4D\u6574\u578B",paraId:7,tocIndex:2},{value:", \u4E14\u8FD4\u56DE\u7ED3\u679C\u4E5F\u662F",paraId:7,tocIndex:2},{value:"\u6709\u7B26\u53F732\u4F4D\u6574\u578B",paraId:7,tocIndex:2},{value:"\u6240\u4EE5\u5F53\u64CD\u4F5C\u6570\u662F\u6D6E\u70B9\u578B\u65F6\u9996\u5148\u4F1A\u88AB\u8F6C\u6362\u6210\u6574\u578B, \u518D\u8FDB\u884C\u4F4D\u8FD0\u7B97",paraId:8,tocIndex:2},{value:"\u5F53\u64CD\u4F5C\u6570\u8FC7\u5927, \u8D85\u8FC7\u4E86",paraId:8,tocIndex:2},{value:"Int32",paraId:8,tocIndex:2},{value:"\u8303\u56F4, \u8D85\u8FC7\u7684\u90E8\u5206\u4F1A\u88AB\u622A\u53D6",paraId:8,tocIndex:2},{value:"\u901A\u8FC7\u4EE5\u4E0A\u77E5\u8BC6\u7684\u56DE\u987E, \u8981\u70B9\u5982\u4E0B:",paraId:9,tocIndex:2},{value:"\u4F4D\u8FD0\u7B97\u53EA\u80FD\u5728\u6574\u578B\u53D8\u91CF\u4E4B\u95F4\u8FDB\u884C\u8FD0\u7B97",paraId:10,tocIndex:2},{value:"js \u4E2D\u7684",paraId:10,tocIndex:2},{value:"Number",paraId:10,tocIndex:2},{value:"\u7C7B\u578B\u5728\u5E95\u5C42\u90FD\u662F\u4EE5\u6D6E\u70B9\u6570(\u53C2\u8003 IEEE754 \u6807\u51C6)\u8FDB\u884C\u5B58\u50A8.",paraId:10,tocIndex:2},{value:"js \u4E2D\u6240\u6709\u7684\u6309\u4F4D\u64CD\u4F5C\u7B26\u7684\u64CD\u4F5C\u6570\u90FD\u4F1A\u88AB",paraId:10,tocIndex:2},{value:"\u8F6C\u6210\u8865\u7801\uFF08two's complement\uFF09",paraId:10,tocIndex:2},{value:"\u5F62\u5F0F\u7684",paraId:10,tocIndex:2},{value:"\u6709\u7B26\u53F732\u4F4D\u6574\u6570",paraId:10,tocIndex:2},{value:".",paraId:10,tocIndex:2},{value:"\u6240\u4EE5\u5728 js \u4E2D\u4F7F\u7528\u4F4D\u8FD0\u7B97\u65F6, \u6709 2 \u79CD\u60C5\u51B5\u4F1A\u9020\u6210\u7ED3\u679C\u5F02\u5E38:",paraId:11,tocIndex:2},{value:"\u64CD\u4F5C\u6570\u4E3A\u6D6E\u70B9\u578B(\u867D\u7136\u5E95\u5C42\u90FD\u662F\u6D6E\u70B9\u578B, \u6B64\u5904\u7406\u89E3\u4E3A\u663E\u793A\u6027\u7684\u6D6E\u70B9\u578B)",paraId:12,tocIndex:2},{value:"\u8F6C\u6362\u6D41\u7A0B: \u6D6E\u70B9\u6570 -> \u6574\u6570(\u4E22\u5F03\u5C0F\u6570\u4F4D) -> \u4F4D\u8FD0\u7B97",paraId:13,tocIndex:2},{value:"\u64CD\u4F5C\u6570\u7684\u5927\u5C0F\u8D85\u8FC7",paraId:14,tocIndex:2},{value:"Int32",paraId:14,tocIndex:2},{value:"\u8303\u56F4(",paraId:14,tocIndex:2},{value:"-2^31 ~ 2^31-1",paraId:14,tocIndex:2},{value:"). \u8D85\u8FC7\u8303\u56F4\u7684\u4E8C\u8FDB\u5236\u4F4D\u4F1A\u88AB\u622A\u65AD, \u53D6",paraId:14,tocIndex:2},{value:"\u4F4E\u4F4D32bit",paraId:14,tocIndex:2},{value:".",paraId:14,tocIndex:2},{value:`      Before: 11100110111110100000000000000110000000000001
      After:              10100000000000000110000000000001
`,paraId:15,tocIndex:2},{value:"\u53E6\u5916\u7531\u4E8E js \u8BED\u8A00\u7684",paraId:16,tocIndex:2},{value:"\u9690\u5F0F\u8F6C\u6362",paraId:16,tocIndex:2},{value:", \u5BF9\u975E",paraId:16,tocIndex:2},{value:"Number",paraId:16,tocIndex:2},{value:"\u7C7B\u578B\u4F7F\u7528\u4F4D\u8FD0\u7B97\u64CD\u4F5C\u7B26\u65F6\u4F1A\u53D1\u751F\u9690\u5F0F\u8F6C\u6362, \u76F8\u5F53\u4E8E\u5148\u4F7F\u7528",paraId:16,tocIndex:2},{value:"Number(xxx)",paraId:16,tocIndex:2},{value:"\u5C06\u5176\u8F6C\u6362\u4E3A",paraId:16,tocIndex:2},{value:"number",paraId:16,tocIndex:2},{value:"\u7C7B\u578B, \u518D\u8FDB\u884C\u4F4D\u8FD0\u7B97:",paraId:16,tocIndex:2},{value:`'str' >>> 0; //  ===> Number('str') >>> 0  ===> NaN >>> 0 = 0
`,paraId:17,tocIndex:2},{value:"\u4E3A\u4E86\u65B9\u4FBF\u6BD4\u8F83, \u4EE5\u4E0B\u6F14\u793A\u4EE3\u7801\u4E2D\u7684\u6CE8\u91CA, \u90FD\u5199\u6210\u4E86 8 \u4F4D\u4E8C\u8FDB\u5236\u6570(\u4E0A\u6587\u5DF2\u7ECF\u8BF4\u660E, \u4E8B\u5B9E\u4E0A\u5728 js \u4E2D, \u4F4D\u8FD0\u7B97\u6700\u7EC8\u7684\u7ED3\u679C\u90FD\u662F Int32).",paraId:18,tocIndex:3},{value:"\u679A\u4E3E\u5C5E\u6027:",paraId:19,tocIndex:3},{value:"\u901A\u8FC7\u4F4D\u79FB\u7684\u65B9\u5F0F, \u5B9A\u4E49\u4E00\u4E9B\u679A\u4E3E\u5E38\u91CF",paraId:20,tocIndex:3},{value:`const A = 1 << 0; // 0b00000001
const B = 1 << 1; // 0b00000010
const C = 1 << 2; // 0b00000100
`,paraId:21,tocIndex:3},{value:"\u4F4D\u63A9\u7801:",paraId:22,tocIndex:3},{value:"\u901A\u8FC7\u4F4D\u79FB\u5B9A\u4E49\u7684\u4E00\u7EC4\u679A\u4E3E\u5E38\u91CF, \u53EF\u4EE5\u5229\u7528\u4F4D\u63A9\u7801\u7684\u7279\u6027, \u5FEB\u901F\u64CD\u4F5C\u8FD9\u4E9B\u679A\u4E3E\u4EA7\u91CF(\u589E\u52A0, \u5220\u9664, \u6BD4\u8F83).",paraId:23,tocIndex:3},{value:"\u5C5E\u6027\u589E\u52A0",paraId:24,tocIndex:3},{value:"|",paraId:24,tocIndex:3},{value:"ABC = A | B | C",paraId:25,tocIndex:3},{value:"\u5C5E\u6027\u5220\u9664",paraId:24,tocIndex:3},{value:"& ~",paraId:24,tocIndex:3},{value:"AB = ABC & ~C",paraId:26,tocIndex:3},{value:`\u5C5E\u6027\u6BD4\u8F83
`,paraId:24,tocIndex:3},{value:"AB \u5F53\u4E2D\u5305\u542B B: ",paraId:27,tocIndex:3},{value:"AB & B === B",paraId:27,tocIndex:3},{value:"AB \u5F53\u4E2D\u4E0D\u5305\u542B C: ",paraId:27,tocIndex:3},{value:"AB & C === 0",paraId:27,tocIndex:3},{value:"A \u548C B \u76F8\u7B49: ",paraId:27,tocIndex:3},{value:"A === B",paraId:27,tocIndex:3},{value:`const A = 1 << 0; // 0b00000001
const B = 1 << 1; // 0b00000010
const C = 1 << 2; // 0b00000100

// \u589E\u52A0\u5C5E\u6027
const ABC = A | B | C; // 0b00000111
// \u5220\u9664\u5C5E\u6027
const AB = ABC & ~C; // 0b00000011

// \u5C5E\u6027\u6BD4\u8F83
// 1. AB\u5F53\u4E2D\u5305\u542BB
console.log((AB & B) === B); // true
// 2. AB\u5F53\u4E2D\u4E0D\u5305\u542BC
console.log((AB & C) === 0); // true
// 3. A\u548CB\u76F8\u7B49
console.log(A === B); // false
`,paraId:28,tocIndex:3},{value:"\u5728 react \u6838\u5FC3\u5305\u4E2D, \u4F4D\u8FD0\u7B97\u4F7F\u7528\u7684\u573A\u666F\u975E\u5E38\u591A. \u6B64\u5904\u53EA\u5217\u4E3E\u51FA\u4E86\u4F7F\u7528\u9891\u7387\u8F83\u9AD8\u7684\u793A\u4F8B.",paraId:29,tocIndex:4},{value:"lanes \u662F",paraId:30,tocIndex:5},{value:"17.x",paraId:30,tocIndex:5},{value:"\u7248\u672C\u4E2D\u5F00\u59CB\u5F15\u5165\u7684\u91CD\u8981\u6982\u5FF5, \u4EE3\u66FF\u4E86",paraId:30,tocIndex:5},{value:"16.x",paraId:30,tocIndex:5},{value:"\u7248\u672C\u4E2D\u7684",paraId:30,tocIndex:5},{value:"expirationTime",paraId:30,tocIndex:5},{value:", \u4F5C\u4E3A",paraId:30,tocIndex:5},{value:"fiber",paraId:30,tocIndex:5},{value:"\u5BF9\u8C61\u7684\u4E00\u4E2A\u5C5E\u6027(\u4F4D\u4E8E",paraId:30,tocIndex:5},{value:"react-reconciler",paraId:30,tocIndex:5},{value:"\u5305), \u4E3B\u8981\u63A7\u5236 fiber \u6811\u5728\u6784\u9020\u8FC7\u7A0B\u4E2D\u7684\u4F18\u5148\u7EA7(\u8FD9\u91CC\u53EA\u4ECB\u7ECD\u4F4D\u8FD0\u7B97\u7684\u5E94\u7528, \u5BF9\u4E8E lanes \u7684\u6DF1\u5165\u5206\u6790\u5728",paraId:30,tocIndex:5},{value:"\u4F18\u5148\u7EA7\u7BA1\u7406",paraId:31,tocIndex:5},{value:"\u7AE0\u8282\u6DF1\u5165\u89E3\u8BFB).",paraId:30,tocIndex:5},{value:"\u53D8\u91CF\u5B9A\u4E49:",paraId:32,tocIndex:5},{value:"\u9996\u5148\u770B\u6E90\u7801",paraId:33,tocIndex:5},{value:"ReactFiberLane.js",paraId:33,tocIndex:5},{value:"\u4E2D\u7684\u5B9A\u4E49",paraId:33,tocIndex:5},{value:`//\u7C7B\u578B\u5B9A\u4E49
export opaque type Lanes = number;
export opaque type Lane = number;

// \u53D8\u91CF\u5B9A\u4E49
export const NoLanes: Lanes = /*                        */ 0b0000000000000000000000000000000;
export const NoLane: Lane = /*                          */ 0b0000000000000000000000000000000;

export const SyncLane: Lane = /*                        */ 0b0000000000000000000000000000001;
export const SyncBatchedLane: Lane = /*                 */ 0b0000000000000000000000000000010;

export const InputDiscreteHydrationLane: Lane = /*      */ 0b0000000000000000000000000000100;
const InputDiscreteLanes: Lanes = /*                    */ 0b0000000000000000000000000011000;

const InputContinuousHydrationLane: Lane = /*           */ 0b0000000000000000000000000100000;
const InputContinuousLanes: Lanes = /*                  */ 0b0000000000000000000000011000000;
// ...
// ...

const NonIdleLanes = /*                                 */ 0b0000111111111111111111111111111;

export const IdleHydrationLane: Lane = /*               */ 0b0001000000000000000000000000000;
const IdleLanes: Lanes = /*                             */ 0b0110000000000000000000000000000;

export const OffscreenLane: Lane = /*                   */ 0b1000000000000000000000000000000;
`,paraId:34,tocIndex:5},{value:"\u6E90\u7801\u4E2D",paraId:35,tocIndex:5},{value:"Lanes",paraId:35,tocIndex:5},{value:"\u548C",paraId:35,tocIndex:5},{value:"Lane",paraId:35,tocIndex:5},{value:"\u90FD\u662F",paraId:35,tocIndex:5},{value:"number",paraId:35,tocIndex:5},{value:"\u7C7B\u578B, \u5E76\u4E14\u5C06\u6240\u6709\u53D8\u91CF\u90FD\u4F7F\u7528\u4E8C\u8FDB\u5236\u4F4D\u6765\u8868\u793A.",paraId:35,tocIndex:5},{value:"\u6CE8\u610F: \u6E90\u7801\u4E2D\u53D8\u91CF\u53EA\u5217\u51FA\u4E86 31 \u4F4D, \u7531\u4E8E js \u4E2D\u4F4D\u8FD0\u7B97\u90FD\u4F1A\u8F6C\u6362\u6210",paraId:36,tocIndex:5},{value:"Int32",paraId:36,tocIndex:5},{value:"(\u4E0A\u6587\u5DF2\u7ECF\u89E3\u91CA), \u6700\u591A\u4E3A 32 \u4F4D, \u4E14\u6700\u9AD8\u4F4D\u662F\u7B26\u53F7\u4F4D. \u6240\u4EE5\u9664\u53BB\u7B26\u53F7\u4F4D, \u6700\u591A\u53EA\u6709 31 \u4F4D\u53EF\u4EE5\u53C2\u4E0E\u8FD0\u7B97.",paraId:36,tocIndex:5},{value:"\u65B9\u6CD5\u5B9A\u4E49",paraId:37,tocIndex:5},{value:":",paraId:37,tocIndex:5},{value:`function getHighestPriorityLanes(lanes: Lanes | Lane): Lanes {
  // \u5224\u65AD lanes\u4E2D\u662F\u5426\u5305\u542B SyncLane
  if ((SyncLane & lanes) !== NoLanes) {
    return_highestLanePriority = SyncLanePriority;
    return SyncLane;
  }
  // \u5224\u65AD lanes\u4E2D\u662F\u5426\u5305\u542B SyncBatchedLane
  if ((SyncBatchedLane & lanes) !== NoLanes) {
    return_highestLanePriority = SyncBatchedLanePriority;
    return SyncBatchedLane;
  }
  // ...
  // ... \u7701\u7565\u5176\u4ED6\u4EE3\u7801
  return lanes;
}
`,paraId:38,tocIndex:5},{value:"\u5728\u65B9\u6CD5\u5B9A\u4E49\u4E2D, \u4E5F\u662F\u901A\u8FC7\u4F4D\u63A9\u7801\u7684\u7279\u6027\u6765\u5224\u65AD\u4E8C\u8FDB\u5236\u5F62\u5F0F\u53D8\u91CF\u4E4B\u95F4\u7684\u5173\u7CFB. \u9664\u4E86\u5E38\u89C4\u7684\u4F4D\u63A9\u7801\u64CD\u4F5C\u5916, \u7279\u522B\u8BF4\u660E\u5176\u4E2D 2 \u4E2A\u6280\u5DE7\u6027\u5F3A\u7684\u51FD\u6570:",paraId:39,tocIndex:5},{value:"getHighestPriorityLane",paraId:40,tocIndex:5},{value:": \u5206\u79BB\u51FA\u6700\u9AD8\u4F18\u5148\u7EA7",paraId:40,tocIndex:5},{value:`function getHighestPriorityLane(lanes: Lanes) {
  return lanes & -lanes;
}
`,paraId:41,tocIndex:5},{value:"\u901A\u8FC7",paraId:42,tocIndex:5},{value:"lanes & -lanes",paraId:42,tocIndex:5},{value:"\u53EF\u4EE5\u5206\u79BB\u51FA\u6240\u6709\u6BD4\u7279\u4F4D\u4E2D\u6700\u53F3\u8FB9\u7684 1, \u5177\u4F53\u6765\u8BB2:",paraId:42,tocIndex:5},{value:"\u5047\u8BBE ",paraId:43,tocIndex:5},{value:"lanes(InputDiscreteLanes) = 0b0000000000000000000000000011000",paraId:43,tocIndex:5},{value:"\u90A3\u4E48 ",paraId:43,tocIndex:5},{value:"-lanes = 0b1111111111111111111111111101000",paraId:43,tocIndex:5},{value:"\u6240\u4EE5 ",paraId:43,tocIndex:5},{value:"lanes & -lanes = 0b0000000000000000000000000001000",paraId:43,tocIndex:5},{value:"\u76F8\u6BD4\u6700\u521D\u7684 InputDiscreteLanes, \u5206\u79BB\u51FA\u6765\u4E86",paraId:43,tocIndex:5},{value:"\u6700\u53F3\u8FB9\u76841",paraId:43,tocIndex:5},{value:"\u901A\u8FC7 lanes \u7684\u5B9A\u4E49, \u6570\u5B57\u8D8A\u5C0F\u7684\u4F18\u5148\u7EA7\u8D8A\u9AD8, \u6240\u4EE5\u6B64\u65B9\u6CD5\u53EF\u4EE5\u83B7\u53D6",paraId:43,tocIndex:5},{value:"\u6700\u9AD8\u4F18\u5148\u7EA7\u7684lane",paraId:43,tocIndex:5},{value:"getLowestPriorityLane",paraId:44,tocIndex:5},{value:": \u5206\u79BB\u51FA\u6700\u4F4E\u4F18\u5148\u7EA7",paraId:44,tocIndex:5},{value:`function getLowestPriorityLane(lanes: Lanes): Lane {
  // This finds the most significant non-zero bit.
  const index = 31 - clz32(lanes);
  return index < 0 ? NoLanes : 1 << index;
}
`,paraId:45,tocIndex:5},{value:"clz32(lanes)",paraId:46,tocIndex:5},{value:"\u8FD4\u56DE\u4E00\u4E2A\u6570\u5B57\u5728\u8F6C\u6362\u6210 32 \u65E0\u7B26\u53F7\u6574\u5F62\u6570\u5B57\u7684\u4E8C\u8FDB\u5236\u5F62\u5F0F\u540E, \u524D\u5BFC 0 \u7684\u4E2A\u6570(",paraId:46,tocIndex:5},{value:"MDN \u4E0A\u7684\u89E3\u91CA",paraId:46,tocIndex:5},{value:")",paraId:46,tocIndex:5},{value:"\u5047\u8BBE ",paraId:47,tocIndex:5},{value:"lanes(InputDiscreteLanes) = 0b0000000000000000000000000011000",paraId:47,tocIndex:5},{value:"\u90A3\u4E48 ",paraId:47,tocIndex:5},{value:"clz32(lanes) = 27",paraId:47,tocIndex:5},{value:", \u7531\u4E8E InputDiscreteLanes \u5728\u6E90\u7801\u4E2D\u88AB\u4E66\u5199\u6210\u4E86 31 \u4F4D, \u867D\u7136\u5728\u5B57\u9762\u4E0A\u524D\u5BFC 0 \u662F 26 \u4E2A, \u4F46\u662F\u8F6C\u6210\u6807\u51C6 32 \u4F4D\u540E\u662F 27 \u4E2A",paraId:47,tocIndex:5},{value:"index = 31 - clz32(lanes) = 4",paraId:47,tocIndex:5},{value:"\u6700\u540E ",paraId:47,tocIndex:5},{value:"1 << index = 0b0000000000000000000000000010000",paraId:47,tocIndex:5},{value:"\u76F8\u6BD4\u6700\u521D\u7684 InputDiscreteLanes, \u5206\u79BB\u51FA\u6765\u4E86",paraId:47,tocIndex:5},{value:"\u6700\u5DE6\u8FB9\u76841",paraId:47,tocIndex:5},{value:"\u901A\u8FC7 lanes \u7684\u5B9A\u4E49, \u6570\u5B57\u8D8A\u5C0F\u7684\u4F18\u5148\u7EA7\u8D8A\u9AD8, \u6240\u4EE5\u6B64\u65B9\u6CD5\u53EF\u4EE5\u83B7\u53D6\u6700\u4F4E\u4F18\u5148\u7EA7\u7684 lane",paraId:47,tocIndex:5},{value:"ExecutionContext",paraId:48,tocIndex:6},{value:"\u5B9A\u4E49\u4E0E",paraId:48,tocIndex:6},{value:"react-reconciler",paraId:48,tocIndex:6},{value:"\u5305\u4E2D, \u4EE3\u8868",paraId:48,tocIndex:6},{value:"reconciler",paraId:48,tocIndex:6},{value:"\u5728\u8FD0\u884C\u65F6\u7684\u4E0A\u4E0B\u6587\u72B6\u6001(\u5728",paraId:48,tocIndex:6},{value:"reconciler \u6267\u884C\u4E0A\u4E0B\u6587",paraId:48,tocIndex:6},{value:"\u7AE0\u8282\u4E2D\u6DF1\u5165\u89E3\u8BFB, \u6B64\u5904\u4ECB\u7ECD\u4F4D\u8FD0\u7B97\u7684\u5E94\u7528).",paraId:48,tocIndex:6},{value:"\u53D8\u91CF\u5B9A\u4E49",paraId:49,tocIndex:6},{value:":",paraId:49,tocIndex:6},{value:`export const NoContext = /*             */ 0b0000000;
const BatchedContext = /*               */ 0b0000001;
const EventContext = /*                 */ 0b0000010;
const DiscreteEventContext = /*         */ 0b0000100;
const LegacyUnbatchedContext = /*       */ 0b0001000;
const RenderContext = /*                */ 0b0010000;
const CommitContext = /*                */ 0b0100000;
export const RetryAfterError = /*       */ 0b1000000;

// ...

// Describes where we are in the React execution stack
let executionContext: ExecutionContext = NoContext;
`,paraId:50,tocIndex:6},{value:"\u6CE8\u610F: \u548C",paraId:51,tocIndex:6},{value:"lanes",paraId:51,tocIndex:6},{value:"\u7684\u5B9A\u4E49\u4E0D\u540C, ",paraId:51,tocIndex:6},{value:"ExecutionContext",paraId:51,tocIndex:6},{value:"\u7C7B\u578B\u7684\u53D8\u91CF, \u5728\u5B9A\u4E49\u7684\u65F6\u5019\u91C7\u53D6\u7684\u662F 8 \u4F4D\u4E8C\u8FDB\u5236\u8868\u793A(\u56E0\u4E3A\u53D8\u91CF\u7684\u6570\u91CF\u5C11, 8 \u4F4D\u5C31\u591F\u4E86, \u6CA1\u6709\u5FC5\u8981\u5199\u6210 31 \u4F4D).",paraId:51,tocIndex:6},{value:"\u4F7F\u7528(\u7531\u4E8E\u4F7F\u7528\u7684\u5730\u65B9\u8F83\u591A, \u6240\u4EE5\u4E3E\u4E00\u4E2A",paraId:52,tocIndex:6},{value:"\u4EE3\u8868\u6027\u5F3A\u7684\u4F8B\u5B50",paraId:52,tocIndex:6},{value:", ",paraId:52,tocIndex:6},{value:"scheduleUpdateOnFiber",paraId:52,tocIndex:6},{value:" \u51FD\u6570\u662F",paraId:52,tocIndex:6},{value:"react-reconciler",paraId:52,tocIndex:6},{value:"\u5305\u5BF9",paraId:52,tocIndex:6},{value:"react",paraId:52,tocIndex:6},{value:"\u5305\u66B4\u9732\u51FA\u6765\u7684 api, \u6BCF\u4E00\u6B21\u66F4\u65B0\u90FD\u4F1A\u8C03\u7528, \u6240\u4EE5\u6BD4\u8F83\u7279\u6B8A):",paraId:52,tocIndex:6},{value:`// scheduleUpdateOnFiber\u51FD\u6570\u4E2D\u5305\u542B\u4E86\u597D\u591A\u5173\u4E8EexecutionContext\u7684\u5224\u65AD(\u90FD\u662F\u4F7F\u7528\u4F4D\u8FD0\u7B97)
export function scheduleUpdateOnFiber(
  fiber: Fiber,
  lane: Lane,
  eventTime: number,
) {
  if (root === workInProgressRoot) {
    // \u5224\u65AD: executionContext \u4E0D\u5305\u542B RenderContext
    if (
      deferRenderPhaseUpdateToNextBatch ||
      (executionContext & RenderContext) === NoContext
    ) {
      // ...
    }
  }
  if (lane === SyncLane) {
    if (
      // \u5224\u65AD: executionContext \u5305\u542B LegacyUnbatchedContext
      (executionContext & LegacyUnbatchedContext) !== NoContext &&
      // \u5224\u65AD: executionContext \u4E0D\u5305\u542B RenderContext\u6216CommitContext
      (executionContext & (RenderContext | CommitContext)) === NoContext
    ) {
      // ...
    }
  }
  // ...
}
`,paraId:53,tocIndex:6},{value:"\u672C\u8282\u4ECB\u7ECD\u4E86\u4F4D\u8FD0\u7B97\u7684\u57FA\u672C\u4F7F\u7528, \u5E76\u5217\u4E3E\u4E86\u4F4D\u8FD0\u7B97\u5728",paraId:54,tocIndex:7},{value:"react",paraId:54,tocIndex:7},{value:"\u6E90\u7801\u4E2D\u7684\u9AD8\u9891\u5E94\u7528. \u5728\u7279\u5B9A\u7684\u60C5\u51B5\u4E0B, \u4F7F\u7528\u4F4D\u8FD0\u7B97\u4E0D\u4EC5\u662F\u63D0\u9AD8\u8FD0\u7B97\u901F\u5EA6, \u4E14\u4F4D\u63A9\u7801\u80FD\u7B80\u6D01\u548C\u6E05\u6670\u7684\u8868\u793A\u51FA\u4E8C\u8FDB\u5236\u53D8\u91CF\u4E4B\u95F4\u7684\u5173\u7CFB. \u4E8C\u8FDB\u5236\u53D8\u91CF\u867D\u7136\u6709\u4F18\u52BF, \u4F46\u662F\u7F3A\u70B9\u4E5F\u5F88\u660E\u663E, \u4E0D\u591F\u76F4\u89C2, \u6269\u5C55\u6027\u4E0D\u597D(\u5728 js \u5F53\u4E2D\u7684\u4E8C\u8FDB\u5236\u53D8\u91CF, \u9664\u53BB\u7B26\u53F7\u4F4D, \u6700\u591A\u53EA\u80FD\u4F7F\u7528 31 \u4F4D, \u5F53\u53D8\u91CF\u7684\u6570\u91CF\u8D85\u8FC7 31 \u4F4D\u5C31\u9700\u8981\u7EC4\u5408, \u6B64\u65F6\u5C31\u4F1A\u53D8\u5F97\u590D\u6742). \u5728\u9605\u8BFB\u6E90\u7801\u65F6, \u6211\u4EEC\u9700\u8981\u4E86\u89E3\u4E8C\u7EA7\u5236\u53D8\u91CF\u548C\u4F4D\u63A9\u7801\u7684\u4F7F\u7528. \u4F46\u5728\u5B9E\u9645\u5F00\u53D1\u4E2D, \u9700\u8981\u89C6\u60C5\u51B5\u800C\u5B9A, \u4E0D\u80FD\u76F2\u76EE\u4F7F\u7528.",paraId:54,tocIndex:7},{value:"ECMAScript\xAE Language Specification(Standard ECMA-262 5.1 Edition) Binary Bitwise Operators",paraId:55,tocIndex:8},{value:"\u6D6E\u70B9\u6570\u7684\u4E8C\u8FDB\u5236\u8868\u793A",paraId:56,tocIndex:8},{value:"IEEE 754",paraId:57,tocIndex:8}],Ye={},pt={title:"\u5806\u6392\u5E8F",toc:"menu",filename:"docs/algorithm/heapsort.md",order:3,description:"\u4E8C\u53C9\u5806\u662F\u4E00\u79CD\u7279\u6B8A\u7684\u5806, \u4E8C\u53C9\u5806\u662F\u5B8C\u5168\u4E8C\u53C9\u6811\u6216\u8005\u8FD1\u4F3C\u5B8C\u5168\u4E8C\u53C9\u6811."},Tt=[{id:"react-\u7B97\u6CD5\u4E4B\u5806\u6392\u5E8F",depth:1,title:"React \u7B97\u6CD5\u4E4B\u5806\u6392\u5E8F"},{id:"\u6982\u5FF5",depth:2,title:"\u6982\u5FF5"},{id:"\u7279\u6027",depth:2,title:"\u7279\u6027"},{id:"\u57FA\u672C\u4F7F\u7528",depth:2,title:"\u57FA\u672C\u4F7F\u7528"},{id:"\u4EE3\u7801\u6F14\u793A",depth:2,title:"\u4EE3\u7801\u6F14\u793A"},{id:"react-\u5F53\u4E2D\u7684\u4F7F\u7528\u573A\u666F",depth:2,title:"React \u5F53\u4E2D\u7684\u4F7F\u7528\u573A\u666F"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"}],yt=[{value:"\u4E8C\u53C9\u5806\u662F\u4E00\u79CD\u7279\u6B8A\u7684\u5806, \u4E8C\u53C9\u5806\u662F",paraId:0,tocIndex:1},{value:"\u5B8C\u5168\u4E8C\u53C9\u6811",paraId:0,tocIndex:1},{value:"\u6216\u8005\u8FD1\u4F3C\u5B8C\u5168\u4E8C\u53C9\u6811.",paraId:0,tocIndex:1},{value:"\u5806\u6392\u5E8F\u662F\u5229\u7528\u4E8C\u53C9\u5806\u7684\u7279\u6027, \u5BF9\u6839\u8282\u70B9(\u6700\u5927\u6216\u6700\u5C0F)\u8FDB\u884C\u5FAA\u73AF\u63D0\u53D6, \u4ECE\u800C\u8FBE\u5230\u6392\u5E8F\u76EE\u7684(\u5806\u6392\u5E8F\u672C\u8D28\u4E0A\u662F\u4E00\u79CD\u9009\u62E9\u6392\u5E8F), \u65F6\u95F4\u590D\u6742\u5EA6\u4E3A",paraId:1,tocIndex:1},{value:"O(nlog n)",paraId:1,tocIndex:1},{value:".",paraId:1,tocIndex:1},{value:"\u7236\u8282\u70B9\u7684\u503C>=\u5B50\u8282\u70B9\u7684\u503C(\u6700\u5927\u5806), \u7236\u8282\u70B9\u7684\u503C<=\u5B50\u8282\u70B9\u7684\u503C(\u6700\u5C0F\u5806). \u6BCF\u4E2A\u8282\u70B9\u7684\u5DE6\u5B50\u6811\u548C\u53F3\u5B50\u6811\u90FD\u662F\u4E00\u4E2A\u4E8C\u53C9\u5806.",paraId:2,tocIndex:2},{value:"\u5047\u8BBE\u4E00\u4E2A\u6570\u7EC4",paraId:2,tocIndex:2},{value:"[k0, k1, k2, ...kn]",paraId:2,tocIndex:2},{value:"\u4E0B\u6807\u4ECE 0 \u5F00\u59CB. \u5219",paraId:2,tocIndex:2},{value:"ki <= k2i+1,ki <= k2i+2",paraId:2,tocIndex:2},{value:" \u6216\u8005 ",paraId:2,tocIndex:2},{value:"ki >= k2i+1,ki >= k2i+2",paraId:2,tocIndex:2},{value:" (i = 0,1,2,3 .. n/2)",paraId:2,tocIndex:2},{value:"\u5047\u8BBE\u73B0\u5728\u6709\u4E00\u4E2A\u4E71\u5E8F\u6570\u7EC4, [5,8,0,10,4,6,1], \u73B0\u5728\u5C06\u5176\u6784\u9020\u6210\u4E00\u4E2A\u6700\u5C0F\u5806",paraId:3,tocIndex:3},{value:`\u6784\u9020\u4E8C\u53C9\u5806
`,paraId:4,tocIndex:3},{value:"\u9700\u8981\u4ECE\u6700\u540E\u4E00\u4E2A\u975E\u53F6\u5B50\u8282\u70B9\u5F00\u59CB, \u5411\u4E0B\u8C03\u6574\u5806\u7ED3\u6784",paraId:5,tocIndex:3},{value:"\u63D2\u5165\u8282\u70B9, \u91CD\u65B0\u5411\u4E0A\u8C03\u6574\u5806(",paraId:6,tocIndex:3},{value:"sift-up",paraId:6,tocIndex:3},{value:`)
`,paraId:6,tocIndex:3},{value:"\u5C06\u65B0\u5143\u7D20\u63D2\u5165\u5230\u6570\u7EC4\u672B\u5C3E\u4E4B\u540E, \u8981\u91CD\u65B0\u8C03\u6574\u6570\u7EC4\u7ED3\u6784, \u4FDD\u8BC1\u6570\u7EC4\u4EFB\u7136\u662F\u6700\u5C0F(\u6216\u6700\u5927)\u5806.",paraId:7,tocIndex:3},{value:"\u63D0\u53D6\u6216\u5220\u9664\u6839\u8282\u70B9(\u9876\u7AEF\u8282\u70B9), \u91CD\u65B0\u5411\u4E0B\u8C03\u6574\u5806(",paraId:8,tocIndex:3},{value:"sift-down",paraId:8,tocIndex:3},{value:`)
`,paraId:8,tocIndex:3},{value:"\u5BF9\u4E8E\u6700\u5927\u5806, \u63D0\u53D6\u7684\u662F\u6700\u5927\u503C. \u5BF9\u4E8E\u6700\u5C0F\u5806, \u63D0\u53D6\u7684\u662F\u6700\u5C0F\u503C.",paraId:9,tocIndex:3},{value:"\u9876\u70B9\u88AB\u63D0\u53D6\u4E4B\u540E, \u8981\u91CD\u65B0\u8C03\u6574\u6570\u7EC4\u7ED3\u6784, \u4FDD\u8BC1\u6570\u7EC4\u4EFB\u7136\u662F\u6700\u5C0F(\u6216\u6700\u5927)\u5806.",paraId:9,tocIndex:3},{value:"\u6392\u5E8F\u8FC7\u7A0B",paraId:10,tocIndex:3},{value:"\u5229\u7528\u4E8C\u53C9\u5806\u7684\u7279\u6027, \u6392\u5E8F\u5C31\u662F\u5FAA\u73AF\u63D0\u53D6\u6839\u8282\u70B9\u7684\u8FC7\u7A0B. \u5FAA\u73AF\u6267\u884C\u6B65\u9AA4 3, \u76F4\u5230\u5C06\u6240\u6709\u7684\u8282\u70B9\u90FD\u63D0\u53D6\u5B8C\u6210, \u88AB\u63D0\u53D6\u7684\u8282\u70B9\u6784\u6210\u7684\u6570\u7EC4\u5C31\u662F\u4E00\u4E2A\u6709\u5E8F\u6570\u7EC4.",paraId:11,tocIndex:3},{value:"\u6CE8\u610F:",paraId:12,tocIndex:3},{value:"\u5982\u9700\u5347\u5E8F\u6392\u5E8F, \u5E94\u8BE5\u6784\u9020\u6700\u5927\u5806. \u56E0\u4E3A\u6700\u5927\u7684\u5143\u7D20\u6700\u5148\u88AB\u63D0\u53D6\u51FA\u6765, \u88AB\u653E\u7F6E\u5230\u4E86\u6570\u7EC4\u7684\u6700\u540E, \u6700\u7EC8\u6570\u7EC4\u4E2D\u6700\u540E\u4E00\u4E2A\u5143\u7D20\u4E3A\u6700\u5927\u5143\u7D20.",paraId:13,tocIndex:3},{value:"\u5982\u9700\u964D\u5E8F\u6392\u5E8F, \u5E94\u8BE5\u6784\u9020\u6700\u5C0F\u5806. \u56E0\u4E3A\u6700\u5C0F\u7684\u5143\u7D20\u6700\u5148\u88AB\u63D0\u53D6\u51FA\u6765, \u88AB\u653E\u7F6E\u5230\u4E86\u6570\u7EC4\u7684\u6700\u540E, \u6700\u7EC8\u6570\u7EC4\u4E2D\u6700\u540E\u4E00\u4E2A\u5143\u7D20\u4E3A\u6700\u5C0F\u5143\u7D20.",paraId:13,tocIndex:3},{value:"\u5806\u6392\u5E8F\u662F\u4E00\u79CD\u4E0D\u7A33\u5B9A\u6392\u5E8F(\u5BF9\u4E8E\u76F8\u540C\u5927\u5C0F\u7684\u5143\u7D20, \u5728\u6392\u5E8F\u4E4B\u540E\u6709\u53EF\u80FD\u548C\u6392\u5E8F\u524D\u7684\u5148\u540E\u6B21\u5E8F\u88AB\u6253\u4E71).",paraId:13,tocIndex:3},{value:"\u5C06\u4E71\u5E8F\u6570\u7EC4",paraId:14,tocIndex:4},{value:"[5,8,0,10,4,6,1]",paraId:14,tocIndex:4},{value:"\u964D\u5E8F\u6392\u5217",paraId:14,tocIndex:4},{value:"\u6B65\u9AA4:",paraId:15,tocIndex:4},{value:"\u6784\u9020\u6700\u5C0F\u5806",paraId:16,tocIndex:4},{value:"\u5FAA\u73AF\u63D0\u53D6\u6839\u8282\u70B9, \u76F4\u5230\u5168\u90E8\u63D0\u53D6\u5B8C",paraId:16,tocIndex:4},{value:`const minHeapSort = (arr) => {
  // 1. \u6784\u9020\u6700\u5C0F\u5806
  buildMinHeap(arr);
  // 2. \u5FAA\u73AF\u63D0\u53D6\u6839\u8282\u70B9arr[0], \u76F4\u5230\u5168\u90E8\u63D0\u53D6\u5B8C
  for (let i = arr.length - 1; i > 0; i--) {
    let tmp = arr[0];
    arr[0] = arr[i];
    arr[i] = tmp;
    siftDown(arr, 0, i - 1);
  }
};

// \u628A\u6574\u4E2A\u6570\u7EC4\u6784\u9020\u6210\u6700\u5C0F\u5806
const buildMinHeap = (arr) => {
  if (arr.length < 2) {
    return arr;
  }
  const startIndex = Math.floor(arr.length / 2 - 1);
  for (let i = startIndex; i >= 0; i--) {
    siftDown(arr, i, arr.length - 1);
  }
};

// \u4ECEstartIndex\u7D22\u5F15\u5F00\u59CB, \u5411\u4E0B\u8C03\u6574\u6700\u5C0F\u5806
const siftDown = (arr, startIndex, endIndex) => {
  const leftChildIndx = 2 * startIndex + 1;
  const rightChildIndx = 2 * startIndex + 2;
  let swapIndex = startIndex;
  let tmpNode = arr[startIndex];
  if (leftChildIndx <= endIndex) {
    if (arr[leftChildIndx] < tmpNode) {
      // \u5F85\u5B9A\u662F\u5426\u4EA4\u6362, \u56E0\u4E3Aright\u5B50\u8282\u70B9\u6709\u53EF\u80FD\u66F4\u5C0F
      tmpNode = arr[leftChildIndx];
      swapIndex = leftChildIndx;
    }
  }
  if (rightChildIndx <= endIndex) {
    if (arr[rightChildIndx] < tmpNode) {
      // \u6BD4left\u8282\u70B9\u66F4\u5C0F, \u66FF\u6362swapIndex
      tmpNode = arr[rightChildIndx];
      swapIndex = rightChildIndx;
    }
  }
  if (swapIndex !== startIndex) {
    // 1.\u4EA4\u6362\u8282\u70B9
    arr[swapIndex] = arr[startIndex];
    arr[startIndex] = tmpNode;

    // 2. \u9012\u5F52\u8C03\u7528, \u7EE7\u7EED\u5411\u4E0B\u8C03\u6574
    siftDown(arr, swapIndex, endIndex);
  }
};
`,paraId:17,tocIndex:4},{value:"\u6D4B\u8BD5:",paraId:18,tocIndex:4},{value:`var arr1 = [5, 8, 0, 10, 4, 6, 1];
minHeapSort(arr1);
console.log(arr1); // [10, 8, 6, 5,4, 1, 0]

var arr2 = [5];
minHeapSort(arr2);
console.log(arr2); // [ 5 ]

var arr3 = [5, 1];
minHeapSort(arr3);
console.log(arr3); //[ 5, 1 ]
`,paraId:19,tocIndex:4},{value:"\u5BF9\u4E8E\u4E8C\u53C9\u5806\u7684\u5E94\u7528\u662F\u5728",paraId:20,tocIndex:5},{value:"scheduler",paraId:20,tocIndex:5},{value:"\u5305\u4E2D, \u6709 2 \u4E2A\u6570\u7EC4",paraId:20,tocIndex:5},{value:"taskQueue",paraId:20,tocIndex:5},{value:"\u548C",paraId:20,tocIndex:5},{value:"timerQueue",paraId:20,tocIndex:5},{value:", \u5B83\u4EEC\u90FD\u662F\u4EE5",paraId:20,tocIndex:5},{value:"\u6700\u5C0F\u5806",paraId:20,tocIndex:5},{value:"\u7684\u5F62\u5F0F\u8FDB\u884C\u5B58\u50A8, \u8FD9\u6837\u5C31\u80FD\u4FDD\u8BC1\u4EE5",paraId:20,tocIndex:5},{value:"O(1)",paraId:20,tocIndex:5},{value:"\u7684\u65F6\u95F4\u590D\u6742\u5EA6, \u53D6\u5230\u6570\u7EC4\u9876\u7AEF\u7684\u5BF9\u8C61(\u4F18\u5148\u7EA7\u6700\u9AD8\u7684 task).",paraId:20,tocIndex:5},{value:"\u5177\u4F53\u7684\u8C03\u7528\u8FC7\u7A0B\u88AB\u5C01\u88C5\u5230\u4E86",paraId:21,tocIndex:5},{value:"SchedulerMinHeap.js",paraId:21,tocIndex:5},{value:", \u5176\u4E2D\u6709 2 \u4E2A\u51FD\u6570",paraId:21,tocIndex:5},{value:"siftUp",paraId:21,tocIndex:5},{value:",",paraId:21,tocIndex:5},{value:"siftDown",paraId:21,tocIndex:5},{value:"\u5206\u522B\u5BF9\u5E94\u5411\u4E0A\u8C03\u6574\u548C\u5411\u4E0B\u8C03\u6574.",paraId:21,tocIndex:5},{value:`type Heap = Array<Node>;
type Node = {|
  id: number,
  sortIndex: number,
|};

// \u6DFB\u52A0\u65B0\u8282\u70B9, \u6DFB\u52A0\u4E4B\u540E, \u9700\u8981\u8C03\u7528\`siftUp\`\u51FD\u6570\u5411\u4E0A\u8C03\u6574\u5806.
export function push(heap: Heap, node: Node): void {
  const index = heap.length;
  heap.push(node);
  siftUp(heap, node, index);
}

// \u67E5\u770B\u5806\u7684\u9876\u70B9, \u4E5F\u5C31\u662F\u4F18\u5148\u7EA7\u6700\u9AD8\u7684\`task\`\u6216\`timer\`
export function peek(heap: Heap): Node | null {
  const first = heap[0];
  return first === undefined ? null : first;
}

// \u5C06\u5806\u7684\u9876\u70B9\u63D0\u53D6\u51FA\u6765, \u5E76\u5220\u9664\u9876\u70B9\u4E4B\u540E, \u9700\u8981\u8C03\u7528\`siftDown\`\u51FD\u6570\u5411\u4E0B\u8C03\u6574\u5806.
export function pop(heap: Heap): Node | null {
  const first = heap[0];
  if (first !== undefined) {
    const last = heap.pop();
    if (last !== first) {
      heap[0] = last;
      siftDown(heap, last, 0);
    }
    return first;
  } else {
    return null;
  }
}

// \u5F53\u63D2\u5165\u8282\u70B9\u4E4B\u540E, \u9700\u8981\u5411\u4E0A\u8C03\u6574\u5806\u7ED3\u6784, \u4FDD\u8BC1\u6570\u7EC4\u662F\u4E00\u4E2A\u6700\u5C0F\u5806.
function siftUp(heap, node, i) {
  let index = i;
  while (true) {
    const parentIndex = (index - 1) >>> 1;
    const parent = heap[parentIndex];
    if (parent !== undefined && compare(parent, node) > 0) {
      // The parent is larger. Swap positions.
      heap[parentIndex] = node;
      heap[index] = parent;
      index = parentIndex;
    } else {
      // The parent is smaller. Exit.
      return;
    }
  }
}

// \u5411\u4E0B\u8C03\u6574\u5806\u7ED3\u6784, \u4FDD\u8BC1\u6570\u7EC4\u662F\u4E00\u4E2A\u6700\u5C0F\u5806.
function siftDown(heap, node, i) {
  let index = i;
  const length = heap.length;
  while (index < length) {
    const leftIndex = (index + 1) * 2 - 1;
    const left = heap[leftIndex];
    const rightIndex = leftIndex + 1;
    const right = heap[rightIndex];

    // If the left or right node is smaller, swap with the smaller of those.
    if (left !== undefined && compare(left, node) < 0) {
      if (right !== undefined && compare(right, left) < 0) {
        heap[index] = right;
        heap[rightIndex] = node;
        index = rightIndex;
      } else {
        heap[index] = left;
        heap[leftIndex] = node;
        index = leftIndex;
      }
    } else if (right !== undefined && compare(right, node) < 0) {
      heap[index] = right;
      heap[rightIndex] = node;
      index = rightIndex;
    } else {
      // Neither child is smaller. Exit.
      return;
    }
  }
}
`,paraId:22,tocIndex:5},{value:"peek",paraId:23,tocIndex:5},{value:"\u51FD\u6570: \u67E5\u770B\u5806\u7684\u9876\u70B9, \u4E5F\u5C31\u662F\u4F18\u5148\u7EA7\u6700\u9AD8\u7684",paraId:23,tocIndex:5},{value:"task",paraId:23,tocIndex:5},{value:"\u6216",paraId:23,tocIndex:5},{value:"timer",paraId:23,tocIndex:5},{value:".",paraId:23,tocIndex:5},{value:"pop",paraId:23,tocIndex:5},{value:"\u51FD\u6570: \u5C06\u5806\u7684\u9876\u70B9\u63D0\u53D6\u51FA\u6765, \u5E76\u5220\u9664\u9876\u70B9\u4E4B\u540E, \u9700\u8981\u8C03\u7528",paraId:23,tocIndex:5},{value:"siftDown",paraId:23,tocIndex:5},{value:"\u51FD\u6570\u5411\u4E0B\u8C03\u6574\u5806.",paraId:23,tocIndex:5},{value:"push",paraId:23,tocIndex:5},{value:"\u51FD\u6570: \u6DFB\u52A0\u65B0\u8282\u70B9, \u6DFB\u52A0\u4E4B\u540E, \u9700\u8981\u8C03\u7528",paraId:23,tocIndex:5},{value:"siftUp",paraId:23,tocIndex:5},{value:"\u51FD\u6570\u5411\u4E0A\u8C03\u6574\u5806.",paraId:23,tocIndex:5},{value:"siftDown",paraId:23,tocIndex:5},{value:"\u51FD\u6570: \u5411\u4E0B\u8C03\u6574\u5806\u7ED3\u6784, \u4FDD\u8BC1\u6570\u7EC4\u662F\u4E00\u4E2A\u6700\u5C0F\u5806.",paraId:23,tocIndex:5},{value:"siftUp",paraId:23,tocIndex:5},{value:"\u51FD\u6570: \u5F53\u63D2\u5165\u8282\u70B9\u4E4B\u540E, \u9700\u8981\u5411\u4E0A\u8C03\u6574\u5806\u7ED3\u6784, \u4FDD\u8BC1\u6570\u7EC4\u662F\u4E00\u4E2A\u6700\u5C0F\u5806.",paraId:23,tocIndex:5},{value:"\u672C\u8282\u4ECB\u7ECD\u4E86",paraId:24,tocIndex:6},{value:"\u5806\u6392\u5E8F",paraId:24,tocIndex:6},{value:"\u7684\u57FA\u672C\u4F7F\u7528, \u5E76\u8BF4\u660E\u4E86",paraId:24,tocIndex:6},{value:"\u5806\u6392\u5E8F",paraId:24,tocIndex:6},{value:"\u5728",paraId:24,tocIndex:6},{value:"react",paraId:24,tocIndex:6},{value:"\u6E90\u7801\u4E2D\u7684\u5E94\u7528. \u5728\u9605\u8BFB",paraId:24,tocIndex:6},{value:"scheduler",paraId:24,tocIndex:6},{value:"\u5305\u7684\u6E90\u7801\u65F6, \u4F1A\u66F4\u52A0\u6E05\u6670\u7684\u7406\u89E3\u4F5C\u8005\u7684\u601D\u8DEF.",paraId:24,tocIndex:6}],fe={},v={title:"\u72B6\u6001\u4E0E\u526F\u4F5C\u7528",toc:"menu",filename:"docs/main/state-effects.md",group:{title:"\u72B6\u6001\u7BA1\u7406",order:2},order:0,description:"\u5728\u524D\u6587\u6211\u4EEC\u5DF2\u7ECF\u5206\u6790\u4E86fiber\u6811\u4ECE\u6784\u9020\u5230\u6E32\u67D3\u7684\u5173\u952E\u8FC7\u7A0B. \u672C\u8282\u6211\u4EEC\u7AD9\u5728fiber\u5BF9\u8C61\u7684\u89C6\u89D2, \u8003\u8651\u4E00\u4E2A\u5177\u4F53\u7684fiber\u8282\u70B9\u5982\u4F55\u5F71\u54CD\u6700\u7EC8\u7684\u6E32\u67D3."},B=[{id:"\u72B6\u6001\u4E0E\u526F\u4F5C\u7528",depth:1,title:"\u72B6\u6001\u4E0E\u526F\u4F5C\u7528"},{id:"\u72B6\u6001",depth:2,title:"\u72B6\u6001"},{id:"\u526F\u4F5C\u7528",depth:2,title:"\u526F\u4F5C\u7528"},{id:"\u5916\u90E8-api",depth:2,title:"\u5916\u90E8 api"},{id:"class-\u7EC4\u4EF6",depth:3,title:"class \u7EC4\u4EF6"},{id:"function-\u7EC4\u4EF6",depth:3,title:"function \u7EC4\u4EF6"},{id:"\u7EC6\u8282\u4E0E\u8BEF\u533A",depth:3,title:"\u7EC6\u8282\u4E0E\u8BEF\u533A"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"}],ee=[{value:"\u5728\u524D\u6587\u6211\u4EEC\u5DF2\u7ECF\u5206\u6790\u4E86",paraId:0,tocIndex:0},{value:"fiber\u6811",paraId:0,tocIndex:0},{value:"\u4ECE",paraId:0,tocIndex:0},{value:"\u6784\u9020",paraId:0,tocIndex:0},{value:"\u5230",paraId:0,tocIndex:0},{value:"\u6E32\u67D3",paraId:0,tocIndex:0},{value:"\u7684\u5173\u952E\u8FC7\u7A0B. \u672C\u8282\u6211\u4EEC\u7AD9\u5728",paraId:0,tocIndex:0},{value:"fiber",paraId:0,tocIndex:0},{value:"\u5BF9\u8C61\u7684\u89C6\u89D2, \u8003\u8651\u4E00\u4E2A\u5177\u4F53\u7684",paraId:0,tocIndex:0},{value:"fiber",paraId:0,tocIndex:0},{value:"\u8282\u70B9\u5982\u4F55\u5F71\u54CD\u6700\u7EC8\u7684\u6E32\u67D3.",paraId:0,tocIndex:0},{value:"\u56DE\u987E",paraId:1,tocIndex:0},{value:"fiber \u6570\u636E\u7ED3\u6784",paraId:1,tocIndex:0},{value:", \u5E76\u7ED3\u5408\u524D\u6587",paraId:1,tocIndex:0},{value:"fiber\u6811\u6784\u9020",paraId:1,tocIndex:0},{value:"\u7CFB\u5217\u7684\u89E3\u8BFB, \u6211\u4EEC\u6CE8\u610F\u5230",paraId:1,tocIndex:0},{value:"fiber",paraId:1,tocIndex:0},{value:"\u4F17\u591A\u5C5E\u6027\u4E2D, \u6709 2 \u7C7B\u5C5E\u6027\u5341\u5206\u5173\u952E:",paraId:1,tocIndex:0},{value:"fiber",paraId:2,tocIndex:0},{value:"\u8282\u70B9\u7684\u81EA\u8EAB\u72B6\u6001: \u5728",paraId:2,tocIndex:0},{value:"renderRootSync[Concurrent]",paraId:2,tocIndex:0},{value:"\u9636\u6BB5, \u4E3A\u5B50\u8282\u70B9\u63D0\u4F9B\u786E\u5B9A\u7684\u8F93\u5165\u6570\u636E, \u76F4\u63A5\u5F71\u54CD\u5B50\u8282\u70B9\u7684\u751F\u6210.",paraId:2,tocIndex:0},{value:"fiber",paraId:3,tocIndex:0},{value:"\u8282\u70B9\u7684\u526F\u4F5C\u7528: \u5728",paraId:3,tocIndex:0},{value:"commitRoot",paraId:3,tocIndex:0},{value:"\u9636\u6BB5, \u5982\u679C",paraId:3,tocIndex:0},{value:"fiber",paraId:3,tocIndex:0},{value:"\u88AB\u6807\u8BB0\u6709\u526F\u4F5C\u7528, \u5219\u526F\u4F5C\u7528\u76F8\u5173\u51FD\u6570\u4F1A\u88AB(\u540C\u6B65/\u5F02\u6B65)\u8C03\u7528.",paraId:3,tocIndex:0},{value:`export type Fiber = {|
  // 1. fiber\u8282\u70B9\u81EA\u8EAB\u72B6\u6001\u76F8\u5173
  pendingProps: any,
  memoizedProps: any,
  updateQueue: mixed,
  memoizedState: any,

  // 2. fiber\u8282\u70B9\u526F\u4F5C\u7528(Effect)\u76F8\u5173
  flags: Flags,
  subtreeFlags: Flags, // v17.0.2\u672A\u542F\u7528
  deletions: Array<Fiber> | null, // v17.0.2\u672A\u542F\u7528
  nextEffect: Fiber | null,
  firstEffect: Fiber | null,
  lastEffect: Fiber | null,
|};
`,paraId:4,tocIndex:0},{value:"\u4E0E",paraId:5,tocIndex:1},{value:"\u72B6\u6001",paraId:5,tocIndex:1},{value:"\u76F8\u5173\u6709 4 \u4E2A\u5C5E\u6027:",paraId:5,tocIndex:1},{value:"fiber.pendingProps",paraId:6,tocIndex:1},{value:": \u8F93\u5165\u5C5E\u6027, \u4ECE",paraId:6,tocIndex:1},{value:"ReactElement",paraId:6,tocIndex:1},{value:"\u5BF9\u8C61\u4F20\u5165\u7684 props. \u5B83\u548C",paraId:6,tocIndex:1},{value:"fiber.memoizedProps",paraId:6,tocIndex:1},{value:"\u6BD4\u8F83\u53EF\u4EE5\u5F97\u51FA\u5C5E\u6027\u662F\u5426\u53D8\u52A8.",paraId:6,tocIndex:1},{value:"fiber.memoizedProps",paraId:6,tocIndex:1},{value:": \u4E0A\u4E00\u6B21\u751F\u6210\u5B50\u8282\u70B9\u65F6\u7528\u5230\u7684\u5C5E\u6027, \u751F\u6210\u5B50\u8282\u70B9\u4E4B\u540E\u4FDD\u6301\u5728\u5185\u5B58\u4E2D. \u5411\u4E0B\u751F\u6210\u5B50\u8282\u70B9\u4E4B\u524D\u53EB\u505A",paraId:6,tocIndex:1},{value:"pendingProps",paraId:6,tocIndex:1},{value:", \u751F\u6210\u5B50\u8282\u70B9\u4E4B\u540E\u4F1A\u628A",paraId:6,tocIndex:1},{value:"pendingProps",paraId:6,tocIndex:1},{value:"\u8D4B\u503C\u7ED9",paraId:6,tocIndex:1},{value:"memoizedProps",paraId:6,tocIndex:1},{value:"\u7528\u4E8E\u4E0B\u4E00\u6B21\u6BD4\u8F83.",paraId:6,tocIndex:1},{value:"pendingProps",paraId:6,tocIndex:1},{value:"\u548C",paraId:6,tocIndex:1},{value:"memoizedProps",paraId:6,tocIndex:1},{value:"\u6BD4\u8F83\u53EF\u4EE5\u5F97\u51FA\u5C5E\u6027\u662F\u5426\u53D8\u52A8.",paraId:6,tocIndex:1},{value:"fiber.updateQueue",paraId:6,tocIndex:1},{value:": \u5B58\u50A8",paraId:6,tocIndex:1},{value:"update\u66F4\u65B0\u5BF9\u8C61",paraId:6,tocIndex:1},{value:"\u7684\u961F\u5217, \u6BCF\u4E00\u6B21\u53D1\u8D77\u66F4\u65B0, \u90FD\u9700\u8981\u5728\u8BE5\u961F\u5217\u4E0A\u521B\u5EFA\u4E00\u4E2A",paraId:6,tocIndex:1},{value:"update\u5BF9\u8C61",paraId:6,tocIndex:1},{value:".",paraId:6,tocIndex:1},{value:"fiber.memoizedState",paraId:6,tocIndex:1},{value:": \u4E0A\u4E00\u6B21\u751F\u6210\u5B50\u8282\u70B9\u4E4B\u540E\u4FDD\u6301\u5728\u5185\u5B58\u4E2D\u7684\u5C40\u90E8\u72B6\u6001.",paraId:6,tocIndex:1},{value:"\u5B83\u4EEC\u7684\u4F5C\u7528\u53EA\u5C40\u9650\u4E8E",paraId:7,tocIndex:1},{value:"fiber\u6811\u6784\u9020",paraId:7,tocIndex:1},{value:"\u9636\u6BB5, \u76F4\u63A5\u5F71\u54CD\u5B50\u8282\u70B9\u7684\u751F\u6210.",paraId:7,tocIndex:1},{value:"\u4E0E",paraId:8,tocIndex:2},{value:"\u526F\u4F5C\u7528",paraId:8,tocIndex:2},{value:"\u76F8\u5173\u6709 4 \u4E2A\u5C5E\u6027:",paraId:8,tocIndex:2},{value:"fiber.flags",paraId:9,tocIndex:2},{value:": \u6807\u5FD7\u4F4D, \u8868\u660E\u8BE5",paraId:9,tocIndex:2},{value:"fiber",paraId:9,tocIndex:2},{value:"\u8282\u70B9\u6709\u526F\u4F5C\u7528(\u5728 v17.0.2 \u4E2D\u5171\u5B9A\u4E49\u4E86",paraId:9,tocIndex:2},{value:"28 \u79CD\u526F\u4F5C\u7528",paraId:9,tocIndex:2},{value:").",paraId:9,tocIndex:2},{value:"fiber.nextEffect",paraId:9,tocIndex:2},{value:": \u5355\u5411\u94FE\u8868, \u6307\u5411\u4E0B\u4E00\u4E2A\u526F\u4F5C\u7528 ",paraId:9,tocIndex:2},{value:"fiber",paraId:9,tocIndex:2},{value:"\u8282\u70B9.",paraId:9,tocIndex:2},{value:"fiber.firstEffect",paraId:9,tocIndex:2},{value:": \u5355\u5411\u94FE\u8868, \u6307\u5411\u7B2C\u4E00\u4E2A\u526F\u4F5C\u7528 ",paraId:9,tocIndex:2},{value:"fiber",paraId:9,tocIndex:2},{value:" \u8282\u70B9.",paraId:9,tocIndex:2},{value:"fiber.lastEffect",paraId:9,tocIndex:2},{value:": \u5355\u5411\u94FE\u8868, \u6307\u5411\u6700\u540E\u4E00\u4E2A\u526F\u4F5C\u7528 ",paraId:9,tocIndex:2},{value:"fiber",paraId:9,tocIndex:2},{value:" \u8282\u70B9.",paraId:9,tocIndex:2},{value:"\u901A\u8FC7\u524D\u6587",paraId:10,tocIndex:2},{value:"fiber\u6811\u6784\u9020",paraId:10,tocIndex:2},{value:"\u6211\u4EEC\u77E5\u9053, \u5355\u4E2A",paraId:10,tocIndex:2},{value:"fiber",paraId:10,tocIndex:2},{value:"\u8282\u70B9\u7684\u526F\u4F5C\u7528\u961F\u5217\u6700\u540E\u90FD\u4F1A\u4E0A\u79FB\u5230\u6839\u8282\u70B9\u4E0A. \u6240\u4EE5\u5728",paraId:10,tocIndex:2},{value:"commitRoot",paraId:10,tocIndex:2},{value:"\u9636\u6BB5\u4E2D, ",paraId:10,tocIndex:2},{value:"react",paraId:10,tocIndex:2},{value:"\u63D0\u4F9B\u4E86 3 \u79CD\u5904\u7406\u526F\u4F5C\u7528\u7684\u65B9\u5F0F(\u8BE6\u89C1",paraId:10,tocIndex:2},{value:"fiber \u6811\u6E32\u67D3",paraId:11,tocIndex:2},{value:").",paraId:10,tocIndex:2},{value:"\u53E6\u5916, ",paraId:12,tocIndex:2},{value:"\u526F\u4F5C\u7528",paraId:12,tocIndex:2},{value:"\u7684\u8BBE\u8BA1\u53EF\u4EE5\u7406\u89E3\u4E3A\u5BF9",paraId:12,tocIndex:2},{value:"\u72B6\u6001",paraId:12,tocIndex:2},{value:"\u529F\u80FD\u4E0D\u8DB3\u7684\u8865\u5145.",paraId:12,tocIndex:2},{value:"\u72B6\u6001",paraId:13,tocIndex:2},{value:"\u662F\u4E00\u4E2A",paraId:13,tocIndex:2},{value:"\u9759\u6001",paraId:13,tocIndex:2},{value:"\u7684\u529F\u80FD, \u5B83\u53EA\u80FD\u4E3A\u5B50\u8282\u70B9\u63D0\u4F9B\u6570\u636E\u6E90.",paraId:13,tocIndex:2},{value:"\u800C",paraId:13,tocIndex:2},{value:"\u526F\u4F5C\u7528",paraId:13,tocIndex:2},{value:"\u662F\u4E00\u4E2A",paraId:13,tocIndex:2},{value:"\u52A8\u6001",paraId:13,tocIndex:2},{value:"\u529F\u80FD, \u7531\u4E8E\u5B83\u7684\u8C03\u7528\u65F6\u673A\u662F\u5728",paraId:13,tocIndex:2},{value:"fiber\u6811\u6E32\u67D3\u9636\u6BB5",paraId:13,tocIndex:2},{value:", \u6545\u5B83\u62E5\u6709\u66F4\u591A\u7684\u80FD\u529B, \u80FD\u8F7B\u677E\u83B7\u53D6",paraId:13,tocIndex:2},{value:"\u7A81\u53D8\u524D\u5FEB\u7167, \u7A81\u53D8\u540E\u7684DOM\u8282\u70B9\u7B49",paraId:13,tocIndex:2},{value:". \u751A\u81F3\u901A\u8FC7",paraId:13,tocIndex:2},{value:"\u8C03\u7528api",paraId:13,tocIndex:2},{value:"\u53D1\u8D77\u65B0\u7684\u4E00\u8F6E",paraId:13,tocIndex:2},{value:"fiber\u6811\u6784\u9020",paraId:13,tocIndex:2},{value:", \u8FDB\u800C\u6539\u53D8\u66F4\u591A\u7684",paraId:13,tocIndex:2},{value:"\u72B6\u6001",paraId:13,tocIndex:2},{value:", \u5F15\u53D1\u66F4\u591A\u7684",paraId:13,tocIndex:2},{value:"\u526F\u4F5C\u7528",paraId:13,tocIndex:2},{value:".",paraId:13,tocIndex:2},{value:"fiber",paraId:14,tocIndex:3},{value:"\u5BF9\u8C61\u7684\u8FD9 2 \u7C7B\u5C5E\u6027, \u53EF\u4EE5\u5F71\u54CD\u5230\u6E32\u67D3\u7ED3\u679C, \u4F46\u662F",paraId:14,tocIndex:3},{value:"fiber",paraId:14,tocIndex:3},{value:"\u7ED3\u6784\u59CB\u7EC8\u662F\u4E00\u4E2A\u5185\u6838\u4E2D\u7684\u7ED3\u6784, \u5BF9\u4E8E\u5916\u90E8\u6765\u8BB2\u662F\u65E0\u611F\u77E5\u7684, \u5BF9\u4E8E\u8C03\u7528\u65B9\u6765\u8BB2, \u751A\u81F3\u90FD\u65E0\u9700\u77E5\u9053",paraId:14,tocIndex:3},{value:"fiber",paraId:14,tocIndex:3},{value:"\u7ED3\u6784\u7684\u5B58\u5728. \u6240\u4EE5\u6B63\u5E38\u53EA\u6709\u901A\u8FC7\u66B4\u9732",paraId:14,tocIndex:3},{value:"api",paraId:14,tocIndex:3},{value:"\u6765\u76F4\u63A5\u6216\u95F4\u63A5\u7684\u4FEE\u6539\u8FD9 2 \u7C7B\u5C5E\u6027.",paraId:14,tocIndex:3},{value:"\u4ECE",paraId:15,tocIndex:3},{value:"react",paraId:15,tocIndex:3},{value:"\u5305\u66B4\u9732\u51FA\u7684",paraId:15,tocIndex:3},{value:"api",paraId:15,tocIndex:3},{value:"\u6765\u5F52\u7EB3, \u53EA\u6709 2 \u7C7B\u7EC4\u4EF6\u652F\u6301\u4FEE\u6539:",paraId:15,tocIndex:3},{value:"\u672C\u8282\u53EA\u8BA8\u8BBA\u4F7F\u7528",paraId:16,tocIndex:3},{value:"api",paraId:16,tocIndex:3},{value:"\u7684\u76EE\u7684\u662F\u4FEE\u6539",paraId:16,tocIndex:3},{value:"fiber",paraId:16,tocIndex:3},{value:"\u7684",paraId:16,tocIndex:3},{value:"\u72B6\u6001",paraId:16,tocIndex:3},{value:"\u548C",paraId:16,tocIndex:3},{value:"\u526F\u4F5C\u7528",paraId:16,tocIndex:3},{value:", \u8FDB\u800C\u53EF\u4EE5\u6539\u53D8\u6574\u4E2A\u6E32\u67D3\u7ED3\u679C. \u672C\u8282\u5148\u4ECB\u7ECD api \u4E0E",paraId:16,tocIndex:3},{value:"\u72B6\u6001",paraId:16,tocIndex:3},{value:"\u548C",paraId:16,tocIndex:3},{value:"\u526F\u4F5C\u7528",paraId:16,tocIndex:3},{value:"\u7684\u8054\u7CFB, \u6709\u5173",paraId:16,tocIndex:3},{value:"api",paraId:16,tocIndex:3},{value:"\u7684\u5177\u4F53\u5B9E\u73B0\u4F1A\u5728",paraId:16,tocIndex:3},{value:"class\u7EC4\u4EF6",paraId:16,tocIndex:3},{value:",",paraId:16,tocIndex:3},{value:"Hook\u539F\u7406",paraId:16,tocIndex:3},{value:"\u7AE0\u8282\u4E2D\u8BE6\u7EC6\u5206\u6790.",paraId:16,tocIndex:3},{value:`class App extends React.Component {
  constructor() {
    this.state = {
      // \u521D\u59CB\u72B6\u6001
      a: 1,
    };
  }
  changeState = () => {
    this.setState({ a: ++this.state.a }); // \u8FDB\u5165reconciler\u6D41\u7A0B
  };

  // \u751F\u547D\u5468\u671F\u51FD\u6570: \u72B6\u6001\u76F8\u5173
  static getDerivedStateFromProps(nextProps, prevState) {
    console.log('getDerivedStateFromProps');
    return prevState;
  }

  // \u751F\u547D\u5468\u671F\u51FD\u6570: \u72B6\u6001\u76F8\u5173
  shouldComponentUpdate(newProps, newState, nextContext) {
    console.log('shouldComponentUpdate');
    return true;
  }

  // \u751F\u547D\u5468\u671F\u51FD\u6570: \u526F\u4F5C\u7528\u76F8\u5173 fiber.flags |= Update
  componentDidMount() {
    console.log('componentDidMount');
  }

  // \u751F\u547D\u5468\u671F\u51FD\u6570: \u526F\u4F5C\u7528\u76F8\u5173 fiber.flags |= Snapshot
  getSnapshotBeforeUpdate(prevProps, prevState) {
    console.log('getSnapshotBeforeUpdate');
  }

  // \u751F\u547D\u5468\u671F\u51FD\u6570: \u526F\u4F5C\u7528\u76F8\u5173 fiber.flags |= Update
  componentDidUpdate() {
    console.log('componentDidUpdate');
  }

  render() {
    // \u8FD4\u56DE\u4E0B\u7EA7ReactElement\u5BF9\u8C61
    return <button onClick={this.changeState}>{this.state.a}</button>;
  }
}
`,paraId:17,tocIndex:4},{value:"\u72B6\u6001\u76F8\u5173: ",paraId:18,tocIndex:4},{value:"fiber\u6811\u6784\u9020",paraId:18,tocIndex:4},{value:"\u9636\u6BB5.",paraId:18,tocIndex:4},{value:"\u6784\u9020\u51FD\u6570: ",paraId:19,tocIndex:4},{value:"constructor",paraId:19,tocIndex:4},{value:"\u5B9E\u4F8B\u5316\u65F6\u6267\u884C, \u53EF\u4EE5\u8BBE\u7F6E\u521D\u59CB state, \u53EA\u6267\u884C\u4E00\u6B21.",paraId:19,tocIndex:4},{value:"\u751F\u547D\u5468\u671F: ",paraId:19,tocIndex:4},{value:"getDerivedStateFromProps",paraId:19,tocIndex:4},{value:"\u5728",paraId:19,tocIndex:4},{value:"fiber\u6811\u6784\u9020",paraId:19,tocIndex:4},{value:"\u9636\u6BB5(",paraId:19,tocIndex:4},{value:"renderRootSync[Concurrent]",paraId:19,tocIndex:4},{value:")\u6267\u884C, \u53EF\u4EE5\u4FEE\u6539 state(",paraId:19,tocIndex:4},{value:"\u94FE\u63A5",paraId:19,tocIndex:4},{value:").",paraId:19,tocIndex:4},{value:"\u751F\u547D\u5468\u671F: ",paraId:19,tocIndex:4},{value:"shouldComponentUpdate",paraId:19,tocIndex:4},{value:"\u5728, ",paraId:19,tocIndex:4},{value:"fiber\u6811\u6784\u9020",paraId:19,tocIndex:4},{value:"\u9636\u6BB5(",paraId:19,tocIndex:4},{value:"renderRootSync[Concurrent]",paraId:19,tocIndex:4},{value:")\u6267\u884C, \u8FD4\u56DE\u503C\u51B3\u5B9A\u662F\u5426\u6267\u884C render(",paraId:19,tocIndex:4},{value:"\u94FE\u63A5",paraId:19,tocIndex:4},{value:").",paraId:19,tocIndex:4},{value:"\u526F\u4F5C\u7528\u76F8\u5173: ",paraId:20,tocIndex:4},{value:"fiber\u6811\u6E32\u67D3",paraId:20,tocIndex:4},{value:"\u9636\u6BB5.",paraId:20,tocIndex:4},{value:"\u751F\u547D\u5468\u671F: ",paraId:21,tocIndex:4},{value:"getSnapshotBeforeUpdate",paraId:21,tocIndex:4},{value:"\u5728",paraId:21,tocIndex:4},{value:"fiber\u6811\u6E32\u67D3",paraId:21,tocIndex:4},{value:"\u9636\u6BB5(",paraId:21,tocIndex:4},{value:"commitRoot->commitBeforeMutationEffects->commitBeforeMutationEffectOnFiber",paraId:21,tocIndex:4},{value:")\u6267\u884C(",paraId:21,tocIndex:4},{value:"\u94FE\u63A5",paraId:21,tocIndex:4},{value:").",paraId:21,tocIndex:4},{value:"\u751F\u547D\u5468\u671F: ",paraId:21,tocIndex:4},{value:"componentDidMount",paraId:21,tocIndex:4},{value:"\u5728",paraId:21,tocIndex:4},{value:"fiber\u6811\u6E32\u67D3",paraId:21,tocIndex:4},{value:"\u9636\u6BB5(",paraId:21,tocIndex:4},{value:"commitRoot->commitLayoutEffects->commitLayoutEffectOnFiber",paraId:21,tocIndex:4},{value:")\u6267\u884C(",paraId:21,tocIndex:4},{value:"\u94FE\u63A5",paraId:21,tocIndex:4},{value:").",paraId:21,tocIndex:4},{value:"\u751F\u547D\u5468\u671F: ",paraId:21,tocIndex:4},{value:"componentDidUpdate",paraId:21,tocIndex:4},{value:"\u5728",paraId:21,tocIndex:4},{value:"fiber\u6811\u6E32\u67D3",paraId:21,tocIndex:4},{value:"\u9636\u6BB5(",paraId:21,tocIndex:4},{value:"commitRoot->commitLayoutEffects->commitLayoutEffectOnFiber",paraId:21,tocIndex:4},{value:")\u6267\u884C(",paraId:21,tocIndex:4},{value:"\u94FE\u63A5",paraId:21,tocIndex:4},{value:").",paraId:21,tocIndex:4},{value:"\u53EF\u4EE5\u770B\u5230, \u5B98\u65B9",paraId:22,tocIndex:4},{value:"api",paraId:22,tocIndex:4},{value:"\u63D0\u4F9B\u7684",paraId:22,tocIndex:4},{value:"class\u7EC4\u4EF6",paraId:22,tocIndex:4},{value:"\u751F\u547D\u5468\u671F\u51FD\u6570\u5B9E\u9645\u4E0A\u4E5F\u662F\u56F4\u7ED5",paraId:22,tocIndex:4},{value:"fiber\u6811\u6784\u9020",paraId:22,tocIndex:4},{value:"\u548C",paraId:22,tocIndex:4},{value:"fiber\u6811\u6E32\u67D3",paraId:22,tocIndex:4},{value:"\u6765\u63D0\u4F9B\u7684.",paraId:22,tocIndex:4},{value:"\u6CE8: ",paraId:23,tocIndex:5},{value:"function\u7EC4\u4EF6",paraId:23,tocIndex:5},{value:"\u4E0E",paraId:23,tocIndex:5},{value:"class\u7EC4\u4EF6",paraId:23,tocIndex:5},{value:"\u6700\u5927\u7684\u4E0D\u540C\u662F: ",paraId:23,tocIndex:5},{value:"class\u7EC4\u4EF6",paraId:23,tocIndex:5},{value:"\u4F1A\u5B9E\u4F8B\u5316\u4E00\u4E2A",paraId:23,tocIndex:5},{value:"instance",paraId:23,tocIndex:5},{value:"\u6240\u4EE5\u62E5\u6709\u72EC\u7ACB\u7684\u5C40\u90E8\u72B6\u6001; \u800C",paraId:23,tocIndex:5},{value:"function\u7EC4\u4EF6",paraId:23,tocIndex:5},{value:"\u4E0D\u4F1A\u5B9E\u4F8B\u5316, \u5B83\u53EA\u662F\u88AB\u76F4\u63A5\u8C03\u7528, \u6545\u65E0\u6CD5\u7EF4\u62A4\u4E00\u4EFD\u72EC\u7ACB\u7684\u5C40\u90E8\u72B6\u6001, \u53EA\u80FD\u4F9D\u9760",paraId:23,tocIndex:5},{value:"Hook",paraId:23,tocIndex:5},{value:"\u5BF9\u8C61\u95F4\u63A5\u5B9E\u73B0\u5C40\u90E8\u72B6\u6001(\u6709\u5173\u66F4\u591A",paraId:23,tocIndex:5},{value:"Hook",paraId:23,tocIndex:5},{value:"\u5B9E\u73B0\u7EC6\u8282, \u5728",paraId:23,tocIndex:5},{value:"Hook\u539F\u7406",paraId:23,tocIndex:5},{value:"\u7AE0\u8282\u4E2D\u8BE6\u7EC6\u8BA8\u8BBA).",paraId:23,tocIndex:5},{value:"\u5728",paraId:24,tocIndex:5},{value:"v17.0.2",paraId:24,tocIndex:5},{value:"\u4E2D\u5171\u5B9A\u4E49\u4E86",paraId:24,tocIndex:5},{value:"14 \u79CD Hook",paraId:24,tocIndex:5},{value:", \u5176\u4E2D\u6700\u5E38\u7528\u7684",paraId:24,tocIndex:5},{value:"useState, useEffect, useLayoutEffect\u7B49",paraId:24,tocIndex:5},{value:`function App() {
  // \u72B6\u6001\u76F8\u5173: \u521D\u59CB\u72B6\u6001
  const [a, setA] = useState(1);
  const changeState = () => {
    setA(++a); // \u8FDB\u5165reconciler\u6D41\u7A0B
  };

  // \u526F\u4F5C\u7528\u76F8\u5173: fiber.flags |= Update | Passive;
  useEffect(() => {
    console.log(\`useEffect\`);
  }, []);

  // \u526F\u4F5C\u7528\u76F8\u5173: fiber.flags |= Update;
  useLayoutEffect(() => {
    console.log(\`useLayoutEffect\`);
  }, []);

  // \u8FD4\u56DE\u4E0B\u7EA7ReactElement\u5BF9\u8C61
  return <button onClick={changeState}>{a}</button>;
}
`,paraId:25,tocIndex:5},{value:"\u72B6\u6001\u76F8\u5173: ",paraId:26,tocIndex:5},{value:"fiber\u6811\u6784\u9020",paraId:26,tocIndex:5},{value:`\u9636\u6BB5.
`,paraId:26,tocIndex:5},{value:"useState",paraId:27,tocIndex:5},{value:"\u5728",paraId:27,tocIndex:5},{value:"fiber\u6811\u6784\u9020",paraId:27,tocIndex:5},{value:"\u9636\u6BB5(",paraId:27,tocIndex:5},{value:"renderRootSync[Concurrent]",paraId:27,tocIndex:5},{value:")\u6267\u884C, \u53EF\u4EE5\u4FEE\u6539",paraId:27,tocIndex:5},{value:"Hook.memoizedState",paraId:27,tocIndex:5},{value:".",paraId:27,tocIndex:5},{value:"\u526F\u4F5C\u7528\u76F8\u5173: ",paraId:26,tocIndex:5},{value:"fiber\u6811\u6E32\u67D3",paraId:26,tocIndex:5},{value:`\u9636\u6BB5.
`,paraId:26,tocIndex:5},{value:"useEffect",paraId:28,tocIndex:5},{value:"\u5728",paraId:28,tocIndex:5},{value:"fiber\u6811\u6E32\u67D3",paraId:28,tocIndex:5},{value:"\u9636\u6BB5(",paraId:28,tocIndex:5},{value:"commitRoot->commitBeforeMutationEffects->commitBeforeMutationEffectOnFiber",paraId:28,tocIndex:5},{value:")\u6267\u884C(\u6CE8\u610F\u662F\u5F02\u6B65\u6267\u884C, ",paraId:28,tocIndex:5},{value:"\u94FE\u63A5",paraId:28,tocIndex:5},{value:").",paraId:28,tocIndex:5},{value:"useLayoutEffect",paraId:28,tocIndex:5},{value:"\u5728",paraId:28,tocIndex:5},{value:"fiber\u6811\u6E32\u67D3",paraId:28,tocIndex:5},{value:"\u9636\u6BB5(",paraId:28,tocIndex:5},{value:"commitRoot->commitLayoutEffects->commitLayoutEffectOnFiber->commitHookEffectListMount",paraId:28,tocIndex:5},{value:")\u6267\u884C(\u540C\u6B65\u6267\u884C, ",paraId:28,tocIndex:5},{value:"\u94FE\u63A5",paraId:28,tocIndex:5},{value:").",paraId:28,tocIndex:5},{value:"\u8FD9\u91CC\u6709 2 \u4E2A\u7EC6\u8282:",paraId:29,tocIndex:6},{value:"useEffect(function(){}, [])",paraId:30,tocIndex:6},{value:"\u4E2D\u7684\u51FD\u6570\u662F",paraId:30,tocIndex:6},{value:"\u5F02\u6B65\u6267\u884C",paraId:30,tocIndex:6},{value:", \u56E0\u4E3A\u5B83\u7ECF\u8FC7\u4E86\u8C03\u5EA6\u4E2D\u5FC3(\u5177\u4F53\u5B9E\u73B0\u53EF\u4EE5\u56DE\u987E",paraId:30,tocIndex:6},{value:"\u8C03\u5EA6\u539F\u7406",paraId:31,tocIndex:6},{value:").",paraId:30,tocIndex:6},{value:"useLayoutEffect",paraId:30,tocIndex:6},{value:"\u548C",paraId:30,tocIndex:6},{value:"Class\u7EC4\u4EF6",paraId:30,tocIndex:6},{value:"\u4E2D\u7684",paraId:30,tocIndex:6},{value:"componentDidMount,componentDidUpdate",paraId:30,tocIndex:6},{value:"\u4ECE\u8C03\u7528\u65F6\u673A\u4E0A\u6765\u8BB2\u662F\u7B49\u4EF7\u7684, \u56E0\u4E3A\u4ED6\u4EEC\u90FD\u5728",paraId:30,tocIndex:6},{value:"commitRoot->commitLayoutEffects",paraId:30,tocIndex:6},{value:`\u51FD\u6570\u4E2D\u88AB\u8C03\u7528.
`,paraId:30,tocIndex:6},{value:"\u8BEF\u533A: \u867D\u7136\u5B98\u7F51\u6587\u6863\u63A8\u8350\u5C3D\u53EF\u80FD\u4F7F\u7528\u6807\u51C6\u7684 ",paraId:32,tocIndex:6},{value:"useEffect",paraId:32,tocIndex:6},{value:" \u4EE5\u907F\u514D\u963B\u585E\u89C6\u89C9\u66F4\u65B0 , \u6240\u4EE5\u5F88\u591A\u5F00\u53D1\u8005\u4F7F\u7528",paraId:32,tocIndex:6},{value:"useEffect",paraId:32,tocIndex:6},{value:"\u6765\u4EE3\u66FF",paraId:32,tocIndex:6},{value:"componentDidMount,componentDidUpdate",paraId:32,tocIndex:6},{value:"\u662F\u4E0D\u51C6\u786E\u7684, \u5982\u679C\u5B8C\u5168\u7C7B\u6BD4, ",paraId:32,tocIndex:6},{value:"useLayoutEffect",paraId:32,tocIndex:6},{value:"\u6BD4",paraId:32,tocIndex:6},{value:"useEffect",paraId:32,tocIndex:6},{value:"\u66F4\u7B26\u5408",paraId:32,tocIndex:6},{value:"componentDidMount,componentDidUpdate",paraId:32,tocIndex:6},{value:"\u7684\u5B9A\u4E49.",paraId:32,tocIndex:6},{value:"\u4E3A\u4E86\u9A8C\u8BC1\u4E0A\u8FF0\u7ED3\u8BBA, \u53EF\u4EE5\u67E5\u770B",paraId:33,tocIndex:6},{value:"codesandbox \u4E2D\u7684\u4F8B\u5B50",paraId:33,tocIndex:6},{value:".",paraId:33,tocIndex:6},{value:"\u672C\u8282\u4ECE",paraId:34,tocIndex:7},{value:"fiber",paraId:34,tocIndex:7},{value:"\u89C6\u89D2\u51FA\u53D1, \u603B\u7ED3\u4E86",paraId:34,tocIndex:7},{value:"fiber",paraId:34,tocIndex:7},{value:"\u8282\u70B9\u4E2D\u53EF\u4EE5\u5F71\u54CD\u6700\u7EC8\u6E32\u67D3\u7ED3\u679C\u7684 2 \u7C7B\u5C5E\u6027(",paraId:34,tocIndex:7},{value:"\u72B6\u6001",paraId:34,tocIndex:7},{value:"\u548C",paraId:34,tocIndex:7},{value:"\u526F\u4F5C\u7528",paraId:34,tocIndex:7},{value:").\u5E76\u4E14\u5F52\u7EB3\u4E86",paraId:34,tocIndex:7},{value:"class",paraId:34,tocIndex:7},{value:"\u548C",paraId:34,tocIndex:7},{value:"function",paraId:34,tocIndex:7},{value:"\u7EC4\u4EF6\u4E2D, \u76F4\u63A5\u6216\u95F4\u63A5\u66F4\u6539",paraId:34,tocIndex:7},{value:"fiber",paraId:34,tocIndex:7},{value:"\u5C5E\u6027\u7684\u5E38\u7528\u65B9\u5F0F. \u6700\u540E\u4ECE",paraId:34,tocIndex:7},{value:"fiber\u6811\u6784\u9020\u548C\u6E32\u67D3",paraId:34,tocIndex:7},{value:"\u7684\u89D2\u5EA6\u5BF9",paraId:34,tocIndex:7},{value:"class\u7684\u751F\u547D\u5468\u671F\u51FD\u6570",paraId:34,tocIndex:7},{value:"\u4E0E",paraId:34,tocIndex:7},{value:"function\u7684Hooks\u51FD\u6570",paraId:34,tocIndex:7},{value:"\u8FDB\u884C\u4E86\u6BD4\u8F83.",paraId:34,tocIndex:7}],ce={"docs-main-hook-summary-demo-0":{component:r.lazy(he()(y()().mark(function Tn(){var Ja,oa,Wr,Nn;return y()().wrap(function(zr){for(;;)switch(zr.prev=zr.next){case 0:return zr.next=2,Promise.resolve().then(e.t.bind(e,62435,19));case 2:return Ja=zr.sent,oa=Ja.default,Wr=Ja.useState,Nn=Ja.useEffect,zr.abrupt("return",{default:function(){var Fn=Wr(1),eo=o()(Fn,2),lr=eo[0],ir=eo[1];Nn(function(){console.log("effect 1 created")});var br=Wr(2),vo=o()(br,1),Ao=vo[0];return Nn(function(){console.log("effect 2 created")}),oa.createElement(oa.Fragment,null,oa.createElement("button",{onClick:function(){return ir(lr+1)}},lr),oa.createElement("button",null,Ao))}});case 7:case"end":return zr.stop()}},Tn)}))),asset:{type:"BLOCK",id:"docs-main-hook-summary-demo-0",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:`import React, { useState, useEffect } from 'react';
export default function App() {
  // 1. useState
  const [a, setA] = useState(1);
  // 2. useEffect
  useEffect(() => {
    console.log(\`effect 1 created\`);
  });
  // 3. useState
  const [b] = useState(2);
  // 4. useEffect
  useEffect(() => {
    console.log(\`effect 2 created\`);
  });
  return (
    <>
      <button onClick={() => setA(a + 1)}>{a}</button>
      <button>{b}</button>
    </>
  );
}`},react:{type:"NPM",value:"18.1.0"}}}}},Ae={title:"Hook \u539F\u7406(\u6982\u89C8)",toc:"menu",filename:"docs/main/hook-summary.md",group:"\u72B6\u6001\u7BA1\u7406",order:1,description:"\u5728\u524D\u6587\u72B6\u6001\u4E0E\u526F\u4F5C\u7528\u4E2D, \u603B\u7ED3\u4E86class\u7EC4\u4EF6, function\u7EC4\u4EF6\u4E2D\u901A\u8FC7api\u53BB\u6539\u53D8fiber\u8282\u70B9\u7684\u72B6\u6001\u548C\u526F\u4F5C\u7528. \u5176\u4E2D\u5BF9\u4E8Efunction\u7EC4\u4EF6\u6765\u8BB2, \u5176\u5185\u90E8\u5219\u9700\u8981\u4F9D\u9760Hook\u6765\u5B9E\u73B0."},Ne=[{id:"hook-\u539F\u7406\u6982\u89C8",depth:1,title:"Hook \u539F\u7406(\u6982\u89C8)"},{id:"hook-\u4E0E-fiber",depth:2,title:"Hook \u4E0E Fiber"},{id:"hook-\u6570\u636E\u7ED3\u6784",depth:2,title:"Hook \u6570\u636E\u7ED3\u6784"},{id:"hook-\u5206\u7C7B",depth:2,title:"Hook \u5206\u7C7B"},{id:"\u72B6\u6001-hook",depth:3,title:"\u72B6\u6001 Hook"},{id:"\u526F\u4F5C\u7528-hook",depth:3,title:"\u526F\u4F5C\u7528 Hook"},{id:"\u7EC4\u5408-hook",depth:3,title:"\u7EC4\u5408 Hook"},{id:"\u8C03\u7528-function-\u524D",depth:2,title:"\u8C03\u7528 function \u524D"},{id:"\u5904\u7406\u51FD\u6570",depth:3,title:"\u5904\u7406\u51FD\u6570"},{id:"\u5168\u5C40\u53D8\u91CF",depth:3,title:"\u5168\u5C40\u53D8\u91CF"},{id:"renderwithhooks-\u51FD\u6570",depth:3,title:"renderWithHooks \u51FD\u6570"},{id:"\u8C03\u7528-function",depth:2,title:"\u8C03\u7528 function"},{id:"hooks-\u6784\u9020",depth:3,title:"Hooks \u6784\u9020"},{id:"\u94FE\u8868\u5B58\u50A8",depth:3,title:"\u94FE\u8868\u5B58\u50A8"},{id:"\u987A\u5E8F\u514B\u9686",depth:3,title:"\u987A\u5E8F\u514B\u9686"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"}],Se=[{value:"\u5728\u524D\u6587",paraId:0,tocIndex:0},{value:"\u72B6\u6001\u4E0E\u526F\u4F5C\u7528",paraId:1,tocIndex:0},{value:"\u4E2D, \u603B\u7ED3\u4E86",paraId:0,tocIndex:0},{value:"class\u7EC4\u4EF6, function\u7EC4\u4EF6",paraId:0,tocIndex:0},{value:"\u4E2D\u901A\u8FC7",paraId:0,tocIndex:0},{value:"api",paraId:0,tocIndex:0},{value:"\u53BB\u6539\u53D8",paraId:0,tocIndex:0},{value:"fiber\u8282\u70B9",paraId:0,tocIndex:0},{value:"\u7684",paraId:0,tocIndex:0},{value:"\u72B6\u6001",paraId:0,tocIndex:0},{value:"\u548C",paraId:0,tocIndex:0},{value:"\u526F\u4F5C\u7528",paraId:0,tocIndex:0},{value:". \u5176\u4E2D\u5BF9\u4E8E",paraId:0,tocIndex:0},{value:"function\u7EC4\u4EF6",paraId:0,tocIndex:0},{value:"\u6765\u8BB2, \u5176\u5185\u90E8\u5219\u9700\u8981\u4F9D\u9760",paraId:0,tocIndex:0},{value:"Hook",paraId:0,tocIndex:0},{value:"\u6765\u5B9E\u73B0.",paraId:0,tocIndex:0},{value:"\u5B98\u65B9\u6587\u6863\u4E0A\u4E13\u95E8\u7528\u4E86\u4E00\u4E2A\u7248\u5757\u6765\u4ECB\u7ECD",paraId:2,tocIndex:0},{value:"Hook",paraId:2,tocIndex:0},{value:", \u8FD9\u91CC\u6458\u6284\u4E86\u51E0\u4E2A\u6BD4\u8F83\u5173\u5FC3\u7684\u95EE\u9898(\u5176\u4ED6",paraId:2,tocIndex:0},{value:"FAQ",paraId:2,tocIndex:0},{value:"\u8BF7\u79FB\u6B65\u5B98\u7F51):",paraId:2,tocIndex:0},{value:"\u5F15\u5165",paraId:3,tocIndex:0},{value:"Hook",paraId:3,tocIndex:0},{value:"\u7684\u52A8\u673A?",paraId:3,tocIndex:0},{value:"\u5728\u7EC4\u4EF6\u4E4B\u95F4\u590D\u7528\u72B6\u6001\u903B\u8F91\u5F88\u96BE; \u590D\u6742\u7EC4\u4EF6\u53D8\u5F97\u96BE\u4EE5\u7406\u89E3; \u96BE\u4EE5\u7406\u89E3\u7684 class. \u4E3A\u4E86\u89E3\u51B3\u8FD9\u4E9B\u5B9E\u9645\u5F00\u53D1\u75DB\u70B9, \u5F15\u5165\u4E86",paraId:4,tocIndex:0},{value:"Hook",paraId:4,tocIndex:0},{value:".",paraId:4,tocIndex:0},{value:"Hook",paraId:5,tocIndex:0},{value:" \u662F\u4EC0\u4E48? \u4EC0\u4E48\u65F6\u5019\u4F1A\u7528 ",paraId:5,tocIndex:0},{value:"Hook",paraId:5,tocIndex:0},{value:"?",paraId:5,tocIndex:0},{value:"Hook",paraId:6,tocIndex:0},{value:" \u662F\u4E00\u4E2A\u7279\u6B8A\u7684\u51FD\u6570, \u5B83\u53EF\u4EE5\u8BA9\u4F60\u201C\u94A9\u5165\u201D ",paraId:6,tocIndex:0},{value:"React",paraId:6,tocIndex:0},{value:" \u7684\u7279\u6027. \u5982, ",paraId:6,tocIndex:0},{value:"useState",paraId:6,tocIndex:0},{value:" \u662F\u5141\u8BB8\u4F60\u5728 ",paraId:6,tocIndex:0},{value:"React",paraId:6,tocIndex:0},{value:" \u51FD\u6570\u7EC4\u4EF6\u4E2D\u6DFB\u52A0 ",paraId:6,tocIndex:0},{value:"state",paraId:6,tocIndex:0},{value:" \u7684 ",paraId:6,tocIndex:0},{value:"Hook",paraId:6,tocIndex:0},{value:".",paraId:6,tocIndex:0},{value:"\u5982\u679C\u4F60\u5728\u7F16\u5199\u51FD\u6570\u7EC4\u4EF6\u5E76\u610F\u8BC6\u5230\u9700\u8981\u5411\u5176\u6DFB\u52A0\u4E00\u4E9B ",paraId:6,tocIndex:0},{value:"state",paraId:6,tocIndex:0},{value:", \u4EE5\u524D\u7684\u505A\u6CD5\u662F\u5FC5\u987B\u5C06\u5176\u8F6C\u5316\u4E3A ",paraId:6,tocIndex:0},{value:"class",paraId:6,tocIndex:0},{value:". \u73B0\u5728\u4F60\u53EF\u4EE5\u5728\u73B0\u6709\u7684\u51FD\u6570\u7EC4\u4EF6\u4E2D\u4F7F\u7528 ",paraId:6,tocIndex:0},{value:"Hook",paraId:6,tocIndex:0},{value:".",paraId:6,tocIndex:0},{value:"Hook",paraId:7,tocIndex:0},{value:" \u4F1A\u56E0\u4E3A\u5728\u6E32\u67D3\u65F6\u521B\u5EFA\u51FD\u6570\u800C\u53D8\u6162\u5417?",paraId:7,tocIndex:0},{value:"\u4E0D\u4F1A. \u5728\u73B0\u4EE3\u6D4F\u89C8\u5668\u4E2D,\u95ED\u5305\u548C\u7C7B\u7684\u539F\u59CB\u6027\u80FD\u53EA\u6709\u5728\u6781\u7AEF\u573A\u666F\u4E0B\u624D\u4F1A\u6709\u660E\u663E\u7684\u5DEE\u522B. \u9664\u6B64\u4E4B\u5916,\u53EF\u4EE5\u8BA4\u4E3A ",paraId:8,tocIndex:0},{value:"Hook",paraId:8,tocIndex:0},{value:` \u7684\u8BBE\u8BA1\u5728\u67D0\u4E9B\u65B9\u9762\u66F4\u52A0\u9AD8\u6548:
`,paraId:8,tocIndex:0},{value:"Hook",paraId:9,tocIndex:0},{value:" \u907F\u514D\u4E86 ",paraId:9,tocIndex:0},{value:"class",paraId:9,tocIndex:0},{value:" \u9700\u8981\u7684\u989D\u5916\u5F00\u652F,\u50CF\u662F\u521B\u5EFA\u7C7B\u5B9E\u4F8B\u548C\u5728\u6784\u9020\u51FD\u6570\u4E2D\u7ED1\u5B9A\u4E8B\u4EF6\u5904\u7406\u5668\u7684\u6210\u672C.",paraId:9,tocIndex:0},{value:"\u7B26\u5408\u8BED\u8A00\u4E60\u60EF\u7684\u4EE3\u7801\u5728\u4F7F\u7528 ",paraId:9,tocIndex:0},{value:"Hook",paraId:9,tocIndex:0},{value:" \u65F6\u4E0D\u9700\u8981\u5F88\u6DF1\u7684\u7EC4\u4EF6\u6811\u5D4C\u5957. \u8FD9\u4E2A\u73B0\u8C61\u5728\u4F7F\u7528",paraId:9,tocIndex:0},{value:"\u9AD8\u9636\u7EC4\u4EF6",paraId:9,tocIndex:0},{value:"\u3001",paraId:9,tocIndex:0},{value:"render props",paraId:9,tocIndex:0},{value:"\u3001\u548C ",paraId:9,tocIndex:0},{value:"context",paraId:9,tocIndex:0},{value:" \u7684\u4EE3\u7801\u5E93\u4E2D\u975E\u5E38\u666E\u904D. \u7EC4\u4EF6\u6811\u5C0F\u4E86, ",paraId:9,tocIndex:0},{value:"React",paraId:9,tocIndex:0},{value:" \u7684\u5DE5\u4F5C\u91CF\u4E5F\u968F\u4E4B\u51CF\u5C11.",paraId:9,tocIndex:0},{value:"\u6240\u4EE5",paraId:10,tocIndex:0},{value:"Hook",paraId:10,tocIndex:0},{value:"\u662F",paraId:10,tocIndex:0},{value:"React",paraId:10,tocIndex:0},{value:"\u56E2\u961F\u5728\u5927\u91CF\u5B9E\u8DF5\u540E\u7684\u4EA7\u7269, \u66F4\u4F18\u96C5\u7684\u4EE3\u66FF",paraId:10,tocIndex:0},{value:"class",paraId:10,tocIndex:0},{value:", \u4E14\u6027\u80FD\u66F4\u9AD8. \u6545\u4ECE\u5F00\u53D1\u4F7F\u7528\u8005\u7684\u89D2\u5EA6\u6765\u8BB2, \u5E94\u8BE5\u62E5\u62B1",paraId:10,tocIndex:0},{value:"Hook",paraId:10,tocIndex:0},{value:"\u6240\u5E26\u6765\u7684\u4FBF\u5229.",paraId:10,tocIndex:0},{value:"\u901A\u8FC7\u5B98\u7F51\u6587\u6863\u7684\u8BB2\u89E3, \u80FD\u5FEB\u901F\u638C\u63E1",paraId:11,tocIndex:1},{value:"Hook",paraId:11,tocIndex:1},{value:"\u7684\u4F7F\u7528. \u518D\u7ED3\u5408\u524D\u6587",paraId:11,tocIndex:1},{value:"\u72B6\u6001\u4E0E\u526F\u4F5C\u7528",paraId:12,tocIndex:1},{value:"\u7684\u4ECB\u7ECD, \u6211\u4EEC\u77E5\u9053\u4F7F\u7528",paraId:11,tocIndex:1},{value:"Hook",paraId:11,tocIndex:1},{value:"\u6700\u7EC8\u4E5F\u662F\u4E3A\u4E86\u63A7\u5236",paraId:11,tocIndex:1},{value:"fiber\u8282\u70B9",paraId:11,tocIndex:1},{value:"\u7684",paraId:11,tocIndex:1},{value:"\u72B6\u6001",paraId:11,tocIndex:1},{value:"\u548C",paraId:11,tocIndex:1},{value:"\u526F\u4F5C\u7528",paraId:11,tocIndex:1},{value:". \u4ECE",paraId:11,tocIndex:1},{value:"fiber",paraId:11,tocIndex:1},{value:"\u89C6\u89D2, \u72B6\u6001\u548C\u526F\u4F5C\u7528\u76F8\u5173\u7684\u5C5E\u6027\u5982\u4E0B(\u8FD9\u91CC\u4E0D\u518D\u89E3\u91CA\u5355\u4E2A\u5C5E\u6027\u7684\u610F\u4E49, \u53EF\u4EE5\u56DE\u987E",paraId:11,tocIndex:1},{value:"\u72B6\u6001\u4E0E\u526F\u4F5C\u7528",paraId:13,tocIndex:1},{value:"):",paraId:11,tocIndex:1},{value:`export type Fiber = {|
  // 1. fiber\u8282\u70B9\u81EA\u8EAB\u72B6\u6001\u76F8\u5173
  pendingProps: any,
  memoizedProps: any,
  updateQueue: mixed,
  memoizedState: any,

  // 2. fiber\u8282\u70B9\u526F\u4F5C\u7528(Effect)\u76F8\u5173
  flags: Flags,
  nextEffect: Fiber | null,
  firstEffect: Fiber | null,
  lastEffect: Fiber | null,
|};
`,paraId:14,tocIndex:1},{value:"\u4F7F\u7528",paraId:15,tocIndex:1},{value:"Hook",paraId:15,tocIndex:1},{value:"\u7684\u4EFB\u610F\u4E00\u4E2A",paraId:15,tocIndex:1},{value:"api",paraId:15,tocIndex:1},{value:", \u6700\u540E\u90FD\u662F\u4E3A\u4E86\u63A7\u5236\u4E0A\u8FF0\u8FD9\u51E0\u4E2A",paraId:15,tocIndex:1},{value:"fiber\u5C5E\u6027",paraId:15,tocIndex:1},{value:".",paraId:15,tocIndex:1},{value:"\u5728",paraId:16,tocIndex:2},{value:"ReactFiberHooks",paraId:16,tocIndex:2},{value:"\u4E2D, \u5B9A\u4E49\u4E86",paraId:16,tocIndex:2},{value:"Hook",paraId:16,tocIndex:2},{value:"\u7684\u6570\u636E\u7ED3\u6784:",paraId:16,tocIndex:2},{value:`type Update<S, A> = {|
  lane: Lane,
  action: A,
  eagerReducer: ((S, A) => S) | null,
  eagerState: S | null,
  next: Update<S, A>,
  priority?: ReactPriorityLevel,
|};

type UpdateQueue<S, A> = {|
  pending: Update<S, A> | null,
  dispatch: ((A) => mixed) | null,
  lastRenderedReducer: ((S, A) => S) | null,
  lastRenderedState: S | null,
|};

export type Hook = {|
  memoizedState: any, // \u5F53\u524D\u72B6\u6001
  baseState: any, // \u57FA\u72B6\u6001
  baseQueue: Update<any, any> | null, // \u57FA\u961F\u5217
  queue: UpdateQueue<any, any> | null, // \u66F4\u65B0\u961F\u5217
  next: Hook | null, // next\u6307\u9488
|};
`,paraId:17,tocIndex:2},{value:"\u4ECE\u5B9A\u4E49\u6765\u770B, ",paraId:18,tocIndex:2},{value:"Hook",paraId:18,tocIndex:2},{value:"\u5BF9\u8C61\u5171\u6709 5 \u4E2A\u5C5E\u6027(\u6709\u5173\u8FD9\u4E9B\u5C5E\u6027\u7684\u5E94\u7528, \u5C06\u5728",paraId:18,tocIndex:2},{value:"Hook \u539F\u7406(\u72B6\u6001)",paraId:18,tocIndex:2},{value:"\u7AE0\u8282\u4E2D\u5177\u4F53\u5206\u6790.):",paraId:18,tocIndex:2},{value:"hook.memoizedState",paraId:19,tocIndex:2},{value:": \u4FDD\u6301\u5728\u5185\u5B58\u4E2D\u7684\u5C40\u90E8\u72B6\u6001.",paraId:19,tocIndex:2},{value:"hook.baseState",paraId:19,tocIndex:2},{value:": ",paraId:19,tocIndex:2},{value:"hook.baseQueue",paraId:19,tocIndex:2},{value:"\u4E2D\u6240\u6709",paraId:19,tocIndex:2},{value:"update",paraId:19,tocIndex:2},{value:"\u5BF9\u8C61\u5408\u5E76\u4E4B\u540E\u7684\u72B6\u6001.",paraId:19,tocIndex:2},{value:"hook.baseQueue",paraId:19,tocIndex:2},{value:": \u5B58\u50A8",paraId:19,tocIndex:2},{value:"update\u5BF9\u8C61",paraId:19,tocIndex:2},{value:"\u7684\u73AF\u5F62\u94FE\u8868, \u53EA\u5305\u62EC\u9AD8\u4E8E\u672C\u6B21\u6E32\u67D3\u4F18\u5148\u7EA7\u7684",paraId:19,tocIndex:2},{value:"update\u5BF9\u8C61",paraId:19,tocIndex:2},{value:".",paraId:19,tocIndex:2},{value:"hook.queue",paraId:19,tocIndex:2},{value:": \u5B58\u50A8",paraId:19,tocIndex:2},{value:"update\u5BF9\u8C61",paraId:19,tocIndex:2},{value:"\u7684\u73AF\u5F62\u94FE\u8868, \u5305\u62EC\u6240\u6709\u4F18\u5148\u7EA7\u7684",paraId:19,tocIndex:2},{value:"update\u5BF9\u8C61",paraId:19,tocIndex:2},{value:".",paraId:19,tocIndex:2},{value:"hook.next",paraId:19,tocIndex:2},{value:": ",paraId:19,tocIndex:2},{value:"next",paraId:19,tocIndex:2},{value:"\u6307\u9488, \u6307\u5411\u94FE\u8868\u4E2D\u7684\u4E0B\u4E00\u4E2A",paraId:19,tocIndex:2},{value:"hook",paraId:19,tocIndex:2},{value:".",paraId:19,tocIndex:2},{value:"\u6240\u4EE5",paraId:20,tocIndex:2},{value:"Hook",paraId:20,tocIndex:2},{value:"\u662F\u4E00\u4E2A\u94FE\u8868, \u5355\u4E2A",paraId:20,tocIndex:2},{value:"Hook",paraId:20,tocIndex:2},{value:"\u62E5\u6709\u81EA\u5DF1\u7684\u72B6\u6001",paraId:20,tocIndex:2},{value:"hook.memoizedState",paraId:20,tocIndex:2},{value:"\u548C\u81EA\u5DF1\u7684\u66F4\u65B0\u961F\u5217",paraId:20,tocIndex:2},{value:"hook.queue",paraId:20,tocIndex:2},{value:"(\u6709\u5173 Hook \u72B6\u6001\u7684\u5206\u6790, \u5728",paraId:20,tocIndex:2},{value:"Hook\u539F\u7406(\u72B6\u6001)",paraId:20,tocIndex:2},{value:"\u7AE0\u8282\u4E2D\u89E3\u8BFB).",paraId:20,tocIndex:2},{value:"\u6CE8\u610F: \u5176\u4E2D",paraId:21,tocIndex:2},{value:"hook.queue",paraId:21,tocIndex:2},{value:"\u4E0E",paraId:21,tocIndex:2},{value:"fiber.updateQueue",paraId:21,tocIndex:2},{value:"\u867D\u7136\u90FD\u662F",paraId:21,tocIndex:2},{value:"update\u73AF\u5F62\u94FE\u8868",paraId:21,tocIndex:2},{value:", \u5C3D\u7BA1",paraId:21,tocIndex:2},{value:"update\u5BF9\u8C61",paraId:21,tocIndex:2},{value:"\u7684\u6570\u636E\u7ED3\u6784\u4E0E\u5904\u7406\u65B9\u5F0F\u90FD\u9AD8\u5EA6\u76F8\u4F3C, \u4F46\u662F\u8FD9 2 \u4E2A\u961F\u5217\u4E2D\u7684",paraId:21,tocIndex:2},{value:"update\u5BF9\u8C61",paraId:21,tocIndex:2},{value:"\u662F\u5B8C\u5168\u72EC\u7ACB\u7684. ",paraId:21,tocIndex:2},{value:"hook.queue",paraId:21,tocIndex:2},{value:"\u53EA\u4F5C\u7528\u4E8E",paraId:21,tocIndex:2},{value:"hook\u5BF9\u8C61",paraId:21,tocIndex:2},{value:"\u7684\u72B6\u6001\u7EF4\u62A4, \u5207\u52FF\u4E0E",paraId:21,tocIndex:2},{value:"fiber.updateQueue",paraId:21,tocIndex:2},{value:"\u6DF7\u6DC6.",paraId:21,tocIndex:2},{value:"\u5728",paraId:22,tocIndex:3},{value:"v17.0.2",paraId:22,tocIndex:3},{value:"\u4E2D, \u5171\u5B9A\u4E49\u4E86",paraId:22,tocIndex:3},{value:"14 \u79CD Hook",paraId:22,tocIndex:3},{value:`export type HookType =
  | 'useState'
  | 'useReducer'
  | 'useContext'
  | 'useRef'
  | 'useEffect'
  | 'useLayoutEffect'
  | 'useCallback'
  | 'useMemo'
  | 'useImperativeHandle'
  | 'useDebugValue'
  | 'useDeferredValue'
  | 'useTransition'
  | 'useMutableSource'
  | 'useOpaqueIdentifier';
`,paraId:23,tocIndex:3},{value:"\u5B98\u7F51\u4E0A\u5DF2\u7ECF\u5C06\u5176\u5206\u4E3A\u4E86 2 \u4E2A\u7C7B\u522B, \u72B6\u6001",paraId:24,tocIndex:3},{value:"Hook",paraId:24,tocIndex:3},{value:"(",paraId:24,tocIndex:3},{value:"State Hook",paraId:24,tocIndex:3},{value:"), \u548C\u526F\u4F5C\u7528",paraId:24,tocIndex:3},{value:"Hook",paraId:24,tocIndex:3},{value:"(",paraId:24,tocIndex:3},{value:"Effect Hook",paraId:24,tocIndex:3},{value:").",paraId:24,tocIndex:3},{value:"\u8FD9\u91CC\u6211\u4EEC\u53EF\u4EE5\u7ED3\u5408\u524D\u6587",paraId:25,tocIndex:3},{value:"\u72B6\u6001\u4E0E\u526F\u4F5C\u7528",paraId:26,tocIndex:3},{value:", \u4ECE",paraId:25,tocIndex:3},{value:"fiber",paraId:25,tocIndex:3},{value:"\u7684\u89C6\u89D2\u53BB\u7406\u89E3",paraId:25,tocIndex:3},{value:"\u72B6\u6001Hook",paraId:25,tocIndex:3},{value:"\u4E0E",paraId:25,tocIndex:3},{value:"\u526F\u4F5C\u7528Hook",paraId:25,tocIndex:3},{value:"\u7684\u533A\u522B.",paraId:25,tocIndex:3},{value:"\u72ED\u4E49\u4E0A\u8BB2, ",paraId:27,tocIndex:4},{value:"useState, useReducer",paraId:27,tocIndex:4},{value:"\u53EF\u4EE5\u5728",paraId:27,tocIndex:4},{value:"function\u7EC4\u4EF6",paraId:27,tocIndex:4},{value:"\u6DFB\u52A0\u5185\u90E8\u7684",paraId:27,tocIndex:4},{value:"state",paraId:27,tocIndex:4},{value:", \u4E14",paraId:27,tocIndex:4},{value:"useState",paraId:27,tocIndex:4},{value:"\u5B9E\u9645\u4E0A\u662F",paraId:27,tocIndex:4},{value:"useReducer",paraId:27,tocIndex:4},{value:"\u7684\u7B80\u6613\u5C01\u88C5, \u662F\u4E00\u4E2A\u6700\u7279\u6B8A(\u7B80\u5355)\u7684",paraId:27,tocIndex:4},{value:"useReducer",paraId:27,tocIndex:4},{value:". \u6240\u4EE5\u5C06",paraId:27,tocIndex:4},{value:"useState, useReducer",paraId:27,tocIndex:4},{value:"\u79F0\u4E3A",paraId:27,tocIndex:4},{value:"\u72B6\u6001Hook",paraId:27,tocIndex:4},{value:".",paraId:27,tocIndex:4},{value:"\u5E7F\u4E49\u4E0A\u8BB2, \u53EA\u8981\u80FD\u5B9E\u73B0\u6570\u636E\u6301\u4E45\u5316",paraId:28,tocIndex:4},{value:"\u4E14\u6CA1\u6709\u526F\u4F5C\u7528",paraId:28,tocIndex:4},{value:"\u7684",paraId:28,tocIndex:4},{value:"Hook",paraId:28,tocIndex:4},{value:", \u5747\u53EF\u4EE5\u89C6\u4E3A",paraId:28,tocIndex:4},{value:"\u72B6\u6001Hook",paraId:28,tocIndex:4},{value:", \u6240\u4EE5\u8FD8\u5305\u62EC",paraId:28,tocIndex:4},{value:"useContext, useRef, useCallback, useMemo",paraId:28,tocIndex:4},{value:"\u7B49. \u8FD9\u7C7B",paraId:28,tocIndex:4},{value:"Hook",paraId:28,tocIndex:4},{value:"\u5185\u90E8\u6CA1\u6709\u4F7F\u7528",paraId:28,tocIndex:4},{value:"useState/useReducer",paraId:28,tocIndex:4},{value:", \u4F46\u662F\u5B83\u4EEC\u4E5F\u80FD\u5B9E\u73B0\u591A\u6B21",paraId:28,tocIndex:4},{value:"render",paraId:28,tocIndex:4},{value:"\u65F6, \u4FDD\u6301\u5176\u521D\u59CB\u503C\u4E0D\u53D8(\u5373\u6570\u636E\u6301\u4E45\u5316)\u4E14\u6CA1\u6709\u4EFB\u4F55",paraId:28,tocIndex:4},{value:"\u526F\u4F5C\u7528",paraId:28,tocIndex:4},{value:".",paraId:28,tocIndex:4},{value:"\u5F97\u76CA\u4E8E",paraId:29,tocIndex:4},{value:"\u53CC\u7F13\u51B2\u6280\u672F(double buffering)",paraId:30,tocIndex:4},{value:", \u5728\u591A\u6B21",paraId:29,tocIndex:4},{value:"render",paraId:29,tocIndex:4},{value:"\u65F6, \u4EE5",paraId:29,tocIndex:4},{value:"fiber",paraId:29,tocIndex:4},{value:"\u4E3A\u8F7D\u4F53, \u4FDD\u8BC1\u590D\u7528\u540C\u4E00\u4E2A",paraId:29,tocIndex:4},{value:"Hook",paraId:29,tocIndex:4},{value:"\u5BF9\u8C61, \u8FDB\u800C\u5B9E\u73B0\u6570\u636E\u6301\u4E45\u5316. \u5177\u4F53\u5B9E\u73B0\u7EC6\u8282, \u5728",paraId:29,tocIndex:4},{value:"Hook\u539F\u7406(\u72B6\u6001)",paraId:29,tocIndex:4},{value:"\u7AE0\u8282\u4E2D\u8BA8\u8BBA.",paraId:29,tocIndex:4},{value:"\u56DE\u5230",paraId:31,tocIndex:5},{value:"fiber",paraId:31,tocIndex:5},{value:"\u89C6\u89D2, ",paraId:31,tocIndex:5},{value:"\u72B6\u6001Hook",paraId:31,tocIndex:5},{value:"\u5B9E\u73B0\u4E86\u72B6\u6001\u6301\u4E45\u5316(\u7B49\u540C\u4E8E",paraId:31,tocIndex:5},{value:"class\u7EC4\u4EF6",paraId:31,tocIndex:5},{value:"\u7EF4\u62A4",paraId:31,tocIndex:5},{value:"fiber.memoizedState",paraId:31,tocIndex:5},{value:"), \u90A3\u4E48",paraId:31,tocIndex:5},{value:"\u526F\u4F5C\u7528Hook",paraId:31,tocIndex:5},{value:"\u5219\u4F1A\u4FEE\u6539",paraId:31,tocIndex:5},{value:"fiber.flags",paraId:31,tocIndex:5},{value:". (\u901A\u8FC7\u524D\u6587",paraId:31,tocIndex:5},{value:"fiber\u6811\u6784\u9020",paraId:31,tocIndex:5},{value:"\u7CFB\u5217\u7684\u89E3\u8BFB, \u6211\u4EEC\u77E5\u9053\u5728",paraId:31,tocIndex:5},{value:"performUnitOfWork->completeWork",paraId:31,tocIndex:5},{value:"\u9636\u6BB5, \u6240\u6709\u5B58\u5728\u526F\u4F5C\u7528\u7684",paraId:31,tocIndex:5},{value:"fiber",paraId:31,tocIndex:5},{value:"\u8282\u70B9, \u90FD\u4F1A\u88AB\u6DFB\u52A0\u5230\u7236\u8282\u70B9\u7684",paraId:31,tocIndex:5},{value:"\u526F\u4F5C\u7528\u961F\u5217",paraId:31,tocIndex:5},{value:"\u540E, \u6700\u540E\u5728",paraId:31,tocIndex:5},{value:"commitRoot",paraId:31,tocIndex:5},{value:"\u9636\u6BB5\u5904\u7406\u8FD9\u4E9B",paraId:31,tocIndex:5},{value:"\u526F\u4F5C\u7528\u8282\u70B9",paraId:31,tocIndex:5},{value:".)",paraId:31,tocIndex:5},{value:"\u53E6\u5916, ",paraId:32,tocIndex:5},{value:"\u526F\u4F5C\u7528Hook",paraId:32,tocIndex:5},{value:"\u8FD8\u63D0\u4F9B\u4E86",paraId:32,tocIndex:5},{value:"\u526F\u4F5C\u7528\u56DE\u8C03",paraId:32,tocIndex:5},{value:"(\u7C7B\u4F3C\u4E8E",paraId:32,tocIndex:5},{value:"class\u7EC4\u4EF6",paraId:32,tocIndex:5},{value:"\u7684\u751F\u547D\u5468\u671F\u56DE\u8C03), \u6BD4\u5982:",paraId:32,tocIndex:5},{value:`// \u4F7F\u7528useEffect\u65F6, \u9700\u8981\u4F20\u5165\u4E00\u4E2A\u526F\u4F5C\u7528\u56DE\u8C03\u51FD\u6570.
// \u5728fiber\u6811\u6784\u9020\u5B8C\u6210\u4E4B\u540E, commitRoot\u9636\u6BB5\u4F1A\u5904\u7406\u8FD9\u4E9B\u526F\u4F5C\u7528\u56DE\u8C03
useEffect(() => {
  console.log('\u8FD9\u662F\u4E00\u4E2A\u526F\u4F5C\u7528\u56DE\u8C03\u51FD\u6570');
}, []);
`,paraId:33,tocIndex:5},{value:"\u5728",paraId:34,tocIndex:5},{value:"react",paraId:34,tocIndex:5},{value:"\u5185\u90E8, ",paraId:34,tocIndex:5},{value:"useEffect",paraId:34,tocIndex:5},{value:"\u5C31\u662F\u6700\u6807\u51C6\u7684",paraId:34,tocIndex:5},{value:"\u526F\u4F5C\u7528Hook",paraId:34,tocIndex:5},{value:". \u5176\u4ED6\u6BD4\u5982",paraId:34,tocIndex:5},{value:"useLayoutEffect",paraId:34,tocIndex:5},{value:"\u4EE5\u53CA",paraId:34,tocIndex:5},{value:"\u81EA\u5B9A\u4E49Hook",paraId:34,tocIndex:5},{value:", \u5982\u679C\u8981\u5B9E\u73B0",paraId:34,tocIndex:5},{value:"\u526F\u4F5C\u7528",paraId:34,tocIndex:5},{value:", \u5FC5\u987B\u76F4\u63A5\u6216\u95F4\u63A5\u7684\u8C03\u7528",paraId:34,tocIndex:5},{value:"useEffect",paraId:34,tocIndex:5},{value:".",paraId:34,tocIndex:5},{value:"\u6709\u5173",paraId:35,tocIndex:5},{value:"useEffect",paraId:35,tocIndex:5},{value:"\u5177\u4F53\u5B9E\u73B0\u7EC6\u8282, \u5728",paraId:35,tocIndex:5},{value:"Hook\u539F\u7406(\u526F\u4F5C\u7528)",paraId:35,tocIndex:5},{value:"\u7AE0\u8282\u4E2D\u8BA8\u8BBA.",paraId:35,tocIndex:5},{value:"\u867D\u7136\u5B98\u7F51\u5E76\u65E0",paraId:36,tocIndex:6},{value:"\u7EC4\u5408Hook",paraId:36,tocIndex:6},{value:"\u7684\u8BF4\u6CD5, \u4F46\u4E8B\u5B9E\u4E0A\u5927\u591A\u6570",paraId:36,tocIndex:6},{value:"Hook",paraId:36,tocIndex:6},{value:"(\u5305\u62EC\u81EA\u5B9A\u4E49",paraId:36,tocIndex:6},{value:"Hook",paraId:36,tocIndex:6},{value:")\u90FD\u662F\u7531\u4E0A\u8FF0 2 \u79CD ",paraId:36,tocIndex:6},{value:"Hook",paraId:36,tocIndex:6},{value:"\u7EC4\u5408\u800C\u6210, \u540C\u65F6\u62E5\u6709\u8FD9 2 \u79CD Hook \u7684\u7279\u6027.",paraId:36,tocIndex:6},{value:"\u5728",paraId:37,tocIndex:6},{value:"react",paraId:37,tocIndex:6},{value:"\u5185\u90E8\u6709",paraId:37,tocIndex:6},{value:"useDeferredValue, useTransition, useMutableSource, useOpaqueIdentifier",paraId:37,tocIndex:6},{value:"\u7B49.",paraId:37,tocIndex:6},{value:"\u5E73\u65F6\u5F00\u53D1\u4E2D, ",paraId:37,tocIndex:6},{value:"\u81EA\u5B9A\u4E49Hook",paraId:37,tocIndex:6},{value:"\u5927\u90E8\u5206\u90FD\u662F\u7EC4\u5408 Hook.",paraId:37,tocIndex:6},{value:"\u6BD4\u5982\u5B98\u7F51\u4E0A\u7684",paraId:38,tocIndex:6},{value:"\u81EA\u5B9A\u4E49 Hook",paraId:38,tocIndex:6},{value:"\u4F8B\u5B50:",paraId:38,tocIndex:6},{value:`import { useState, useEffect } from 'react';

function useFriendStatus(friendID) {
  // 1. \u8C03\u7528useState, \u521B\u5EFA\u4E00\u4E2A\u72B6\u6001Hook
  const [isOnline, setIsOnline] = useState(null);

  // 2. \u8C03\u7528useEffect, \u521B\u5EFA\u4E00\u4E2A\u526F\u4F5C\u7528Hook
  useEffect(() => {
    function handleStatusChange(status) {
      setIsOnline(status.isOnline);
    }
    ChatAPI.subscribeToFriendStatus(friendID, handleStatusChange);
    return () => {
      ChatAPI.unsubscribeFromFriendStatus(friendID, handleStatusChange);
    };
  });
  return isOnline;
}
`,paraId:39,tocIndex:6},{value:"\u5728\u8C03\u7528",paraId:40,tocIndex:7},{value:"function",paraId:40,tocIndex:7},{value:"\u4E4B\u524D, ",paraId:40,tocIndex:7},{value:"react",paraId:40,tocIndex:7},{value:"\u5185\u90E8\u8FD8\u9700\u8981\u63D0\u524D\u505A\u4E00\u4E9B\u51C6\u5907\u5DE5\u4F5C.",paraId:40,tocIndex:7},{value:"\u4ECE",paraId:41,tocIndex:8},{value:"fiber\u6811\u6784\u9020",paraId:41,tocIndex:8},{value:"\u7684\u89C6\u89D2\u6765\u770B, \u4E0D\u540C\u7684",paraId:41,tocIndex:8},{value:"fiber",paraId:41,tocIndex:8},{value:"\u7C7B\u578B, \u53EA\u9700\u8981\u8C03\u7528\u4E0D\u540C\u7684",paraId:41,tocIndex:8},{value:"\u5904\u7406\u51FD\u6570",paraId:41,tocIndex:8},{value:"\u8FD4\u56DE",paraId:41,tocIndex:8},{value:"fiber\u5B50\u8282\u70B9",paraId:41,tocIndex:8},{value:". \u6240\u4EE5\u5728",paraId:41,tocIndex:8},{value:"performUnitOfWork->beginWork",paraId:41,tocIndex:8},{value:"\u51FD\u6570\u4E2D, \u8C03\u7528\u4E86\u591A\u79CD",paraId:41,tocIndex:8},{value:"\u5904\u7406\u51FD\u6570",paraId:41,tocIndex:8},{value:". \u4ECE\u8C03\u7528\u65B9\u6765\u8BB2, \u65E0\u9700\u5173\u5FC3",paraId:41,tocIndex:8},{value:"\u5904\u7406\u51FD\u6570",paraId:41,tocIndex:8},{value:"\u7684\u5185\u90E8\u5B9E\u73B0(\u6BD4\u5982",paraId:41,tocIndex:8},{value:"updateFunctionComponent",paraId:41,tocIndex:8},{value:"\u5185\u90E8\u4F7F\u7528\u4E86",paraId:41,tocIndex:8},{value:"Hook\u5BF9\u8C61",paraId:41,tocIndex:8},{value:", ",paraId:41,tocIndex:8},{value:"updateClassComponent",paraId:41,tocIndex:8},{value:"\u5185\u90E8\u4F7F\u7528\u4E86",paraId:41,tocIndex:8},{value:"class\u5B9E\u4F8B",paraId:41,tocIndex:8},{value:").",paraId:41,tocIndex:8},{value:"\u672C\u8282\u8BA8\u8BBA",paraId:42,tocIndex:8},{value:"Hook",paraId:42,tocIndex:8},{value:", \u6240\u4EE5\u5217\u51FA\u5176\u4E2D\u7684",paraId:42,tocIndex:8},{value:"updateFunctionComponent",paraId:42,tocIndex:8},{value:"\u51FD\u6570:",paraId:42,tocIndex:8},{value:`// \u53EA\u4FDD\u7559FunctionComponent\u76F8\u5173:
function beginWork(
  current: Fiber | null,
  workInProgress: Fiber,
  renderLanes: Lanes,
): Fiber | null {
  const updateLanes = workInProgress.lanes;
  switch (workInProgress.tag) {
    case FunctionComponent: {
      const Component = workInProgress.type;
      const unresolvedProps = workInProgress.pendingProps;
      const resolvedProps =
        workInProgress.elementType === Component
          ? unresolvedProps
          : resolveDefaultProps(Component, unresolvedProps);
      return updateFunctionComponent(
        current,
        workInProgress,
        Component,
        resolvedProps,
        renderLanes,
      );
    }
  }
}

function updateFunctionComponent(
  current,
  workInProgress,
  Component,
  nextProps: any,
  renderLanes,
) {
  // ...\u7701\u7565\u65E0\u5173\u4EE3\u7801
  let context;
  let nextChildren;
  prepareToReadContext(workInProgress, renderLanes);

  // \u8FDB\u5165Hooks\u76F8\u5173\u903B\u8F91, \u6700\u540E\u8FD4\u56DE\u4E0B\u7EA7ReactElement\u5BF9\u8C61
  nextChildren = renderWithHooks(
    current,
    workInProgress,
    Component,
    nextProps,
    context,
    renderLanes,
  );
  // \u8FDB\u5165reconcile\u51FD\u6570, \u751F\u6210\u4E0B\u7EA7fiber\u8282\u70B9
  reconcileChildren(current, workInProgress, nextChildren, renderLanes);
  // \u8FD4\u56DE\u4E0B\u7EA7fiber\u8282\u70B9
  return workInProgress.child;
}
`,paraId:43,tocIndex:8},{value:"\u5728",paraId:44,tocIndex:8},{value:"updateFunctionComponent",paraId:44,tocIndex:8},{value:"\u51FD\u6570\u4E2D\u8C03\u7528\u4E86",paraId:44,tocIndex:8},{value:"renderWithHooks",paraId:44,tocIndex:8},{value:"(\u4F4D\u4E8E",paraId:44,tocIndex:8},{value:"ReactFiberHooks",paraId:44,tocIndex:8},{value:") , \u81F3\u6B64",paraId:44,tocIndex:8},{value:"Fiber",paraId:44,tocIndex:8},{value:"\u4E0E",paraId:44,tocIndex:8},{value:"Hook",paraId:44,tocIndex:8},{value:"\u4EA7\u751F\u4E86\u5173\u8054.",paraId:44,tocIndex:8},{value:"\u5728\u5206\u6790",paraId:45,tocIndex:9},{value:"renderWithHooks",paraId:45,tocIndex:9},{value:"\u51FD\u6570\u524D, \u6709\u5FC5\u8981\u7406\u89E3",paraId:45,tocIndex:9},{value:"ReactFiberHooks",paraId:45,tocIndex:9},{value:"\u5934\u90E8\u5B9A\u4E49\u7684\u5168\u5C40\u53D8\u91CF(\u6E90\u7801\u4E2D\u5747\u6709\u82F1\u6587\u6CE8\u91CA):",paraId:45,tocIndex:9},{value:`// \u6E32\u67D3\u4F18\u5148\u7EA7
let renderLanes: Lanes = NoLanes;

// \u5F53\u524D\u6B63\u5728\u6784\u9020\u7684fiber, \u7B49\u540C\u4E8E workInProgress, \u4E3A\u4E86\u548C\u5F53\u524Dhook\u533A\u5206, \u6240\u4EE5\u5C06\u5176\u6539\u540D
let currentlyRenderingFiber: Fiber = (null: any);

// Hooks\u88AB\u5B58\u50A8\u5728fiber.memoizedState \u94FE\u8868\u4E0A
let currentHook: Hook | null = null; // currentHook = fiber(current).memoizedState

let workInProgressHook: Hook | null = null; // workInProgressHook = fiber(workInProgress).memoizedState

// \u5728function\u7684\u6267\u884C\u8FC7\u7A0B\u4E2D, \u662F\u5426\u518D\u6B21\u53D1\u8D77\u4E86\u66F4\u65B0. \u53EA\u6709function\u88AB\u5B8C\u5168\u6267\u884C\u4E4B\u540E\u624D\u4F1A\u91CD\u7F6E.
// \u5F53render\u5F02\u5E38\u65F6, \u901A\u8FC7\u8BE5\u53D8\u91CF\u53EF\u4EE5\u51B3\u5B9A\u662F\u5426\u6E05\u9664render\u8FC7\u7A0B\u4E2D\u7684\u66F4\u65B0.
let didScheduleRenderPhaseUpdate: boolean = false;

// \u5728\u672C\u6B21function\u7684\u6267\u884C\u8FC7\u7A0B\u4E2D, \u662F\u5426\u518D\u6B21\u53D1\u8D77\u4E86\u66F4\u65B0. \u6BCF\u4E00\u6B21\u8C03\u7528function\u90FD\u4F1A\u88AB\u91CD\u7F6E
let didScheduleRenderPhaseUpdateDuringThisPass: boolean = false;

// \u5728\u672C\u6B21function\u7684\u6267\u884C\u8FC7\u7A0B\u4E2D, \u91CD\u65B0\u53D1\u8D77\u66F4\u65B0\u7684\u6700\u5927\u6B21\u6570
const RE_RENDER_LIMIT = 25;
`,paraId:46,tocIndex:9},{value:"\u6BCF\u4E2A\u53D8\u91CF\u7684\u89E3\u91CA, \u53EF\u4EE5\u5BF9\u7167\u6E90\u7801\u4E2D\u7684\u82F1\u6587\u6CE8\u91CA, \u5176\u4E2D\u6700\u91CD\u8981\u7684\u6709:",paraId:47,tocIndex:9},{value:"currentlyRenderingFiber",paraId:48,tocIndex:9},{value:": \u5F53\u524D\u6B63\u5728\u6784\u9020\u7684 fiber, \u7B49\u540C\u4E8E workInProgress",paraId:48,tocIndex:9},{value:"currentHook \u4E0E workInProgressHook",paraId:48,tocIndex:9},{value:": \u5206\u522B\u6307\u5411",paraId:48,tocIndex:9},{value:"current.memoizedState",paraId:48,tocIndex:9},{value:"\u548C",paraId:48,tocIndex:9},{value:"workInProgress.memoizedState",paraId:48,tocIndex:9},{value:"\u6CE8: \u6709\u5173",paraId:49,tocIndex:9},{value:"current",paraId:49,tocIndex:9},{value:"\u548C",paraId:49,tocIndex:9},{value:"workInProgress",paraId:49,tocIndex:9},{value:"\u7684\u533A\u522B, \u8BF7\u56DE\u987E",paraId:49,tocIndex:9},{value:"\u53CC\u7F13\u51B2\u6280\u672F(double buffering)",paraId:50,tocIndex:9},{value:"renderWithHooks",paraId:51,tocIndex:10},{value:"\u6E90\u7801\u770B\u4F3C\u8F83\u957F, \u4F46\u662F\u53BB\u9664 dev \u540E\u4FDD\u7559\u4E3B\u5E72, \u903B\u8F91\u5341\u5206\u6E05\u6670. \u4EE5\u8C03\u7528",paraId:51,tocIndex:10},{value:"function",paraId:51,tocIndex:10},{value:"\u4E3A\u5206\u754C\u70B9, \u903B\u8F91\u88AB\u5206\u4E3A 3 \u4E2A\u90E8\u5206:",paraId:51,tocIndex:10},{value:`// ...\u7701\u7565\u65E0\u5173\u4EE3\u7801
export function renderWithHooks<Props, SecondArg>(
  current: Fiber | null,
  workInProgress: Fiber,
  Component: (p: Props, arg: SecondArg) => any,
  props: Props,
  secondArg: SecondArg,
  nextRenderLanes: Lanes,
): any {
  // --------------- 1. \u8BBE\u7F6E\u5168\u5C40\u53D8\u91CF -------------------
  renderLanes = nextRenderLanes; // \u5F53\u524D\u6E32\u67D3\u4F18\u5148\u7EA7
  currentlyRenderingFiber = workInProgress; // \u5F53\u524Dfiber\u8282\u70B9, \u4E5F\u5C31\u662Ffunction\u7EC4\u4EF6\u5BF9\u5E94\u7684fiber\u8282\u70B9

  // \u6E05\u9664\u5F53\u524Dfiber\u7684\u9057\u7559\u72B6\u6001
  workInProgress.memoizedState = null;
  workInProgress.updateQueue = null;
  workInProgress.lanes = NoLanes;

  // --------------- 2. \u8C03\u7528function,\u751F\u6210\u5B50\u7EA7ReactElement\u5BF9\u8C61 -------------------
  // \u6307\u5B9Adispatcher, \u533A\u5206mount\u548Cupdate
  ReactCurrentDispatcher.current =
    current === null || current.memoizedState === null
      ? HooksDispatcherOnMount
      : HooksDispatcherOnUpdate;
  // \u6267\u884Cfunction\u51FD\u6570, \u5176\u4E2D\u8FDB\u884C\u5206\u6790Hooks\u7684\u4F7F\u7528
  let children = Component(props, secondArg);

  // --------------- 3. \u91CD\u7F6E\u5168\u5C40\u53D8\u91CF,\u5E76\u8FD4\u56DE -------------------
  // \u6267\u884Cfunction\u4E4B\u540E, \u8FD8\u539F\u88AB\u4FEE\u6539\u7684\u5168\u5C40\u53D8\u91CF, \u4E0D\u5F71\u54CD\u4E0B\u4E00\u6B21\u8C03\u7528
  renderLanes = NoLanes;
  currentlyRenderingFiber = (null: any);

  currentHook = null;
  workInProgressHook = null;
  didScheduleRenderPhaseUpdate = false;

  return children;
}
`,paraId:52,tocIndex:10},{value:"\u8C03\u7528",paraId:53,tocIndex:10},{value:"function",paraId:53,tocIndex:10},{value:"\u524D: \u8BBE\u7F6E\u5168\u5C40\u53D8\u91CF, \u6807\u8BB0",paraId:53,tocIndex:10},{value:"\u6E32\u67D3\u4F18\u5148\u7EA7",paraId:53,tocIndex:10},{value:"\u548C\u5F53\u524D",paraId:53,tocIndex:10},{value:"fiber",paraId:53,tocIndex:10},{value:", \u6E05\u9664\u5F53\u524D",paraId:53,tocIndex:10},{value:"fiber",paraId:53,tocIndex:10},{value:"\u7684\u9057\u7559\u72B6\u6001.",paraId:53,tocIndex:10},{value:"\u8C03\u7528",paraId:53,tocIndex:10},{value:"function",paraId:53,tocIndex:10},{value:": \u6784\u9020\u51FA",paraId:53,tocIndex:10},{value:"Hooks",paraId:53,tocIndex:10},{value:"\u94FE\u8868, \u6700\u540E\u751F\u6210\u5B50\u7EA7",paraId:53,tocIndex:10},{value:"ReactElement",paraId:53,tocIndex:10},{value:"\u5BF9\u8C61(",paraId:53,tocIndex:10},{value:"children",paraId:53,tocIndex:10},{value:").",paraId:53,tocIndex:10},{value:"\u8C03\u7528",paraId:53,tocIndex:10},{value:"function",paraId:53,tocIndex:10},{value:"\u540E: \u91CD\u7F6E\u5168\u5C40\u53D8\u91CF, \u8FD4\u56DE",paraId:53,tocIndex:10},{value:"children",paraId:53,tocIndex:10},{value:`.
`,paraId:53,tocIndex:10},{value:"\u4E3A\u4E86\u4FDD\u8BC1\u4E0D\u540C\u7684",paraId:54,tocIndex:10},{value:"function",paraId:54,tocIndex:10},{value:"\u8282\u70B9\u5728\u8C03\u7528\u65F6",paraId:54,tocIndex:10},{value:"renderWithHooks",paraId:54,tocIndex:10},{value:"\u4E92\u4E0D\u5F71\u54CD, \u6240\u4EE5\u9000\u51FA\u65F6\u91CD\u7F6E\u5168\u5C40\u53D8\u91CF.",paraId:54,tocIndex:10},{value:"\u5728",paraId:55,tocIndex:12},{value:"function",paraId:55,tocIndex:12},{value:"\u4E2D, \u5982\u679C\u4F7F\u7528\u4E86",paraId:55,tocIndex:12},{value:"Hook api",paraId:55,tocIndex:12},{value:"(\u5982: ",paraId:55,tocIndex:12},{value:"useEffect",paraId:55,tocIndex:12},{value:", ",paraId:55,tocIndex:12},{value:"useState",paraId:55,tocIndex:12},{value:"), \u5C31\u4F1A\u521B\u5EFA\u4E00\u4E2A\u4E0E\u4E4B\u5BF9\u5E94\u7684",paraId:55,tocIndex:12},{value:"Hook",paraId:55,tocIndex:12},{value:"\u5BF9\u8C61, \u63A5\u4E0B\u6765\u91CD\u70B9\u5206\u6790\u8FD9\u4E2A\u521B\u5EFA\u8FC7\u7A0B.",paraId:55,tocIndex:12},{value:"\u6709\u5982\u4E0B demo:",paraId:56,tocIndex:12},{value:"\u5728",paraId:57},{value:"function",paraId:57},{value:"\u7EC4\u4EF6\u4E2D, \u540C\u65F6\u4F7F\u7528\u4E86",paraId:57},{value:"\u72B6\u6001Hook",paraId:57},{value:"\u548C",paraId:57},{value:"\u526F\u4F5C\u7528Hook",paraId:57},{value:".",paraId:57},{value:"\u521D\u6B21\u6E32\u67D3\u65F6, \u903B\u8F91\u6267\u884C\u5230",paraId:58},{value:"performUnitOfWork->beginWork->updateFunctionComponent->renderWithHooks",paraId:58},{value:"\u524D, \u5185\u5B58\u7ED3\u6784\u5982\u4E0B(\u672C\u8282\u91CD\u70B9\u662F",paraId:58},{value:"Hook",paraId:58},{value:", \u6709\u5173",paraId:58},{value:"fiber\u6811\u6784\u9020",paraId:58},{value:"\u8FC7\u7A0B\u53EF\u56DE\u987E\u524D\u6587):",paraId:58},{value:"\u5F53\u6267\u884C",paraId:59},{value:"renderWithHooks",paraId:59},{value:"\u65F6, \u5F00\u59CB\u8C03\u7528",paraId:59},{value:"function",paraId:59},{value:". \u672C\u4F8B\u4E2D, \u5728",paraId:59},{value:"function",paraId:59},{value:"\u5185\u90E8, \u5171\u4F7F\u7528\u4E86 4 \u6B21",paraId:59},{value:"Hook api",paraId:59},{value:", \u4F9D\u6B21\u8C03\u7528",paraId:59},{value:"useState, useEffect, useState, useEffect",paraId:59},{value:".",paraId:59},{value:"\u800C",paraId:60},{value:"useState, useEffect",paraId:60},{value:"\u5728",paraId:60},{value:"fiber",paraId:60},{value:"\u521D\u6B21\u6784\u9020\u65F6\u5206\u522B\u5BF9\u5E94",paraId:60},{value:"mountState",paraId:60},{value:"\u548C",paraId:60},{value:"mountEffect->mountEffectImpl",paraId:60},{value:`function mountState<S>(
  initialState: (() => S) | S,
): [S, Dispatch<BasicStateAction<S>>] {
  const hook = mountWorkInProgressHook();
  // ...\u7701\u7565\u90E8\u5206\u672C\u8282\u4E0D\u8BA8\u8BBA
  return [hook.memoizedState, dispatch];
}

function mountEffectImpl(fiberFlags, hookFlags, create, deps): void {
  const hook = mountWorkInProgressHook();
  // ...\u7701\u7565\u90E8\u5206\u672C\u8282\u4E0D\u8BA8\u8BBA
}
`,paraId:61},{value:"\u65E0\u8BBA",paraId:62},{value:"useState, useEffect",paraId:62},{value:", \u5185\u90E8\u90FD\u901A\u8FC7",paraId:62},{value:"mountWorkInProgressHook",paraId:62},{value:"\u521B\u5EFA\u4E00\u4E2A hook.",paraId:62},{value:"\u800C",paraId:63,tocIndex:13},{value:"mountWorkInProgressHook",paraId:63,tocIndex:13},{value:"\u975E\u5E38\u7B80\u5355:",paraId:63,tocIndex:13},{value:`function mountWorkInProgressHook(): Hook {
  const hook: Hook = {
    memoizedState: null,

    baseState: null,
    baseQueue: null,
    queue: null,

    next: null,
  };

  if (workInProgressHook === null) {
    // \u94FE\u8868\u4E2D\u9996\u4E2Ahook
    currentlyRenderingFiber.memoizedState = workInProgressHook = hook;
  } else {
    // \u5C06hook\u6DFB\u52A0\u5230\u94FE\u8868\u672B\u5C3E
    workInProgressHook = workInProgressHook.next = hook;
  }
  return workInProgressHook;
}
`,paraId:64,tocIndex:13},{value:"\u903B\u8F91\u662F\u521B\u5EFA",paraId:65,tocIndex:13},{value:"Hook",paraId:65,tocIndex:13},{value:"\u5E76\u6302\u8F7D\u5230",paraId:65,tocIndex:13},{value:"fiber.memoizedState",paraId:65,tocIndex:13},{value:"\u4E0A, \u591A\u4E2A",paraId:65,tocIndex:13},{value:"Hook",paraId:65,tocIndex:13},{value:"\u4EE5\u94FE\u8868\u7ED3\u6784\u4FDD\u5B58.",paraId:65,tocIndex:13},{value:"\u672C\u793A\u4F8B\u4E2D, ",paraId:66,tocIndex:13},{value:"function",paraId:66,tocIndex:13},{value:"\u8C03\u7528\u4E4B\u540E\u5219\u4F1A\u521B\u5EFA 4 \u4E2A",paraId:66,tocIndex:13},{value:"hook",paraId:66,tocIndex:13},{value:", \u8FD9\u65F6\u7684\u5185\u5B58\u7ED3\u6784\u5982\u4E0B:",paraId:66,tocIndex:13},{value:"\u53EF\u4EE5\u770B\u5230: \u65E0\u8BBA",paraId:67,tocIndex:13},{value:"\u72B6\u6001Hook",paraId:67,tocIndex:13},{value:"\u6216",paraId:67,tocIndex:13},{value:"\u526F\u4F5C\u7528Hook",paraId:67,tocIndex:13},{value:"\u90FD\u6309\u7167\u8C03\u7528\u987A\u5E8F\u5B58\u50A8\u5728",paraId:67,tocIndex:13},{value:"fiber.memoizedState",paraId:67,tocIndex:13},{value:"\u94FE\u8868\u4E2D.",paraId:67,tocIndex:13},{value:"fiber\u6811\u6784\u9020(\u5BF9\u6BD4\u66F4\u65B0)",paraId:68,tocIndex:14},{value:"\u9636\u6BB5, \u6267\u884C",paraId:68,tocIndex:14},{value:"updateFunctionComponent->renderWithHooks",paraId:68,tocIndex:14},{value:"\u65F6\u518D\u6B21\u8C03\u7528",paraId:68,tocIndex:14},{value:"function",paraId:68,tocIndex:14},{value:", ",paraId:68,tocIndex:14},{value:"\u8C03\u7528function\u524D",paraId:68,tocIndex:14},{value:"\u7684\u5185\u5B58\u7ED3\u6784\u5982\u4E0B:",paraId:68,tocIndex:14},{value:"\u6CE8\u610F: \u5728",paraId:69,tocIndex:14},{value:"renderWithHooks",paraId:69,tocIndex:14},{value:"\u51FD\u6570\u4E2D\u5DF2\u7ECF\u8BBE\u7F6E\u4E86",paraId:69,tocIndex:14},{value:"workInProgress.memoizedState = null",paraId:69,tocIndex:14},{value:", \u7B49\u5F85\u8C03\u7528",paraId:69,tocIndex:14},{value:"function",paraId:69,tocIndex:14},{value:"\u65F6\u91CD\u65B0\u8BBE\u7F6E.",paraId:69,tocIndex:14},{value:"\u63A5\u4E0B\u6765\u8C03\u7528",paraId:70,tocIndex:14},{value:"function",paraId:70,tocIndex:14},{value:", \u540C\u6837\u4F9D\u6B21\u8C03\u7528",paraId:70,tocIndex:14},{value:"useState, useEffect, useState, useEffect",paraId:70,tocIndex:14},{value:". \u800C",paraId:70,tocIndex:14},{value:"useState, useEffect",paraId:70,tocIndex:14},{value:"\u5728",paraId:70,tocIndex:14},{value:"fiber",paraId:70,tocIndex:14},{value:"\u5BF9\u6BD4\u66F4\u65B0\u65F6\u5206\u522B\u5BF9\u5E94",paraId:70,tocIndex:14},{value:"updateState->updateReducer",paraId:70,tocIndex:14},{value:"\u548C",paraId:70,tocIndex:14},{value:"updateEffect->updateEffectImpl",paraId:70,tocIndex:14},{value:`// ----- \u72B6\u6001Hook --------
function updateReducer<S, I, A>(
  reducer: (S, A) => S,
  initialArg: I,
  init?: (I) => S,
): [S, Dispatch<A>] {
  const hook = updateWorkInProgressHook();
  // ...\u7701\u7565\u90E8\u5206\u672C\u8282\u4E0D\u8BA8\u8BBA
}

// ----- \u526F\u4F5C\u7528Hook --------
function updateEffectImpl(fiberFlags, hookFlags, create, deps): void {
  const hook = updateWorkInProgressHook();
  // ...\u7701\u7565\u90E8\u5206\u672C\u8282\u4E0D\u8BA8\u8BBA
}
`,paraId:71,tocIndex:14},{value:"\u65E0\u8BBA",paraId:72,tocIndex:14},{value:"useState, useEffect",paraId:72,tocIndex:14},{value:", \u5185\u90E8\u8C03\u7528",paraId:72,tocIndex:14},{value:"updateWorkInProgressHook",paraId:72,tocIndex:14},{value:"\u83B7\u53D6\u4E00\u4E2A hook.",paraId:72,tocIndex:14},{value:`function updateWorkInProgressHook(): Hook {
  // 1. \u79FB\u52A8currentHook\u6307\u9488
  let nextCurrentHook: null | Hook;
  if (currentHook === null) {
    const current = currentlyRenderingFiber.alternate;
    if (current !== null) {
      nextCurrentHook = current.memoizedState;
    } else {
      nextCurrentHook = null;
    }
  } else {
    nextCurrentHook = currentHook.next;
  }

  // 2. \u79FB\u52A8workInProgressHook\u6307\u9488
  let nextWorkInProgressHook: null | Hook;
  if (workInProgressHook === null) {
    nextWorkInProgressHook = currentlyRenderingFiber.memoizedState;
  } else {
    nextWorkInProgressHook = workInProgressHook.next;
  }

  if (nextWorkInProgressHook !== null) {
    // \u6E32\u67D3\u65F6\u66F4\u65B0: \u672C\u8282\u4E0D\u8BA8\u8BBA
  } else {
    currentHook = nextCurrentHook;
    // 3. \u514B\u9686currentHook\u4F5C\u4E3A\u65B0\u7684workInProgressHook.
    // \u968F\u540E\u903B\u8F91\u4E0EmountWorkInProgressHook\u4E00\u81F4
    const newHook: Hook = {
      memoizedState: currentHook.memoizedState,

      baseState: currentHook.baseState,
      baseQueue: currentHook.baseQueue,
      queue: currentHook.queue,

      next: null, // \u6CE8\u610Fnext\u6307\u9488\u662Fnull
    };
    if (workInProgressHook === null) {
      currentlyRenderingFiber.memoizedState = workInProgressHook = newHook;
    } else {
      workInProgressHook = workInProgressHook.next = newHook;
    }
  }
  return workInProgressHook;
}
`,paraId:73,tocIndex:14},{value:"updateWorkInProgressHook",paraId:74,tocIndex:14},{value:"\u51FD\u6570\u903B\u8F91\u7B80\u5355: \u76EE\u7684\u662F\u4E3A\u4E86\u8BA9",paraId:74,tocIndex:14},{value:"currentHook",paraId:74,tocIndex:14},{value:"\u548C",paraId:74,tocIndex:14},{value:"workInProgressHook",paraId:74,tocIndex:14},{value:"\u4E24\u4E2A\u6307\u9488\u540C\u65F6\u5411\u540E\u79FB\u52A8.",paraId:74,tocIndex:14},{value:"\u7531\u4E8E",paraId:75,tocIndex:14},{value:"renderWithHooks\u51FD\u6570",paraId:75,tocIndex:14},{value:"\u8BBE\u7F6E\u4E86",paraId:75,tocIndex:14},{value:"workInProgress.memoizedState=null",paraId:75,tocIndex:14},{value:", \u6240\u4EE5",paraId:75,tocIndex:14},{value:"workInProgressHook",paraId:75,tocIndex:14},{value:"\u521D\u59CB\u503C\u5FC5\u7136\u4E3A",paraId:75,tocIndex:14},{value:"null",paraId:75,tocIndex:14},{value:", \u53EA\u80FD\u4ECE",paraId:75,tocIndex:14},{value:"currentHook",paraId:75,tocIndex:14},{value:"\u514B\u9686.",paraId:75,tocIndex:14},{value:"\u800C\u4ECE",paraId:75,tocIndex:14},{value:"currentHook",paraId:75,tocIndex:14},{value:"\u514B\u9686\u800C\u6765\u7684",paraId:75,tocIndex:14},{value:"newHook.next=null",paraId:75,tocIndex:14},{value:", \u8FDB\u800C\u5BFC\u81F4",paraId:75,tocIndex:14},{value:"workInProgressHook",paraId:75,tocIndex:14},{value:"\u94FE\u8868\u9700\u8981\u5B8C\u5168\u91CD\u5EFA.",paraId:75,tocIndex:14},{value:"\u6240\u4EE5",paraId:76,tocIndex:14},{value:"function",paraId:76,tocIndex:14},{value:"\u6267\u884C\u5B8C\u6210\u4E4B\u540E, \u6709\u5173",paraId:76,tocIndex:14},{value:"Hook",paraId:76,tocIndex:14},{value:"\u7684\u5185\u5B58\u7ED3\u6784\u5982\u4E0B:",paraId:76,tocIndex:14},{value:"\u53EF\u4EE5\u770B\u5230:",paraId:77,tocIndex:14},{value:"\u4EE5\u53CC\u7F13\u51B2\u6280\u672F\u4E3A\u57FA\u7840, \u5C06",paraId:78,tocIndex:14},{value:"current.memoizedState",paraId:78,tocIndex:14},{value:"\u6309\u7167\u987A\u5E8F\u514B\u9686\u5230\u4E86",paraId:78,tocIndex:14},{value:"workInProgress.memoizedState",paraId:78,tocIndex:14},{value:"\u4E2D.",paraId:78,tocIndex:14},{value:"Hook",paraId:78,tocIndex:14},{value:"\u7ECF\u8FC7\u4E86\u4E00\u6B21\u514B\u9686, \u5185\u90E8\u7684\u5C5E\u6027(",paraId:78,tocIndex:14},{value:"hook.memoizedState",paraId:78,tocIndex:14},{value:"\u7B49)\u90FD\u6CA1\u6709\u53D8\u52A8, \u6240\u4EE5\u5176\u72B6\u6001\u5E76\u4E0D\u4F1A\u4E22\u5931.",paraId:78,tocIndex:14},{value:"\u672C\u8282\u9996\u5148\u5F15\u5165\u4E86\u5B98\u65B9\u6587\u6863\u4E0A\u5BF9\u4E8E",paraId:79,tocIndex:15},{value:"Hook",paraId:79,tocIndex:15},{value:"\u7684\u89E3\u91CA, \u4E86\u89E3",paraId:79,tocIndex:15},{value:"Hook",paraId:79,tocIndex:15},{value:"\u7684\u7531\u6765, \u4EE5\u53CA",paraId:79,tocIndex:15},{value:"Hook",paraId:79,tocIndex:15},{value:"\u76F8\u8F83\u4E8E",paraId:79,tocIndex:15},{value:"class",paraId:79,tocIndex:15},{value:"\u7684\u4F18\u52BF. \u7136\u540E\u4ECE",paraId:79,tocIndex:15},{value:"fiber",paraId:79,tocIndex:15},{value:"\u89C6\u89D2\u5206\u6790\u4E86",paraId:79,tocIndex:15},{value:"fiber",paraId:79,tocIndex:15},{value:"\u4E0E",paraId:79,tocIndex:15},{value:"hook",paraId:79,tocIndex:15},{value:"\u7684\u5185\u5728\u5173\u7CFB, \u901A\u8FC7",paraId:79,tocIndex:15},{value:"renderWithHooks",paraId:79,tocIndex:15},{value:"\u51FD\u6570, \u628A",paraId:79,tocIndex:15},{value:"Hook",paraId:79,tocIndex:15},{value:"\u94FE\u8868\u6302\u8F7D\u5230\u4E86",paraId:79,tocIndex:15},{value:"fiber.memoizedState",paraId:79,tocIndex:15},{value:"\u4E4B\u4E0A. \u5229\u7528",paraId:79,tocIndex:15},{value:"fiber\u6811",paraId:79,tocIndex:15},{value:"\u5185\u90E8\u7684\u53CC\u7F13\u51B2\u6280\u672F, \u5B9E\u73B0\u4E86",paraId:79,tocIndex:15},{value:"Hook",paraId:79,tocIndex:15},{value:"\u4ECE",paraId:79,tocIndex:15},{value:"current",paraId:79,tocIndex:15},{value:"\u5230",paraId:79,tocIndex:15},{value:"workInProgress",paraId:79,tocIndex:15},{value:"\u8F6C\u79FB, \u8FDB\u800C\u5B9E\u73B0\u4E86",paraId:79,tocIndex:15},{value:"Hook",paraId:79,tocIndex:15},{value:"\u72B6\u6001\u7684\u6301\u4E45\u5316.",paraId:79,tocIndex:15}],We={},Ve={title:"React\u4E2Dkey\u7684\u4F5C\u7528",toc:"menu",filename:"docs/interview/06-key.md",description:"React\u4E2D, key \u6709\u4EC0\u4E48\u4F5C\u7528, \u53EF\u4EE5\u7701\u7565\u5417?",keywords:["react","key"],order:1},Qe=[{id:"key-\u6709\u4EC0\u4E48\u4F5C\u7528-\u53EF\u4EE5\u7701\u7565\u5417",depth:1,title:"key \u6709\u4EC0\u4E48\u4F5C\u7528, \u53EF\u4EE5\u7701\u7565\u5417?"},{id:"reactelement-\u5BF9\u8C61",depth:2,title:"ReactElement \u5BF9\u8C61"},{id:"\u6784\u9020\u51FD\u6570",depth:3,title:"\u6784\u9020\u51FD\u6570"},{id:"fiber-\u5BF9\u8C61",depth:2,title:"Fiber \u5BF9\u8C61"},{id:"reconcilechildren-\u8C03\u548C\u51FD\u6570",depth:2,title:"reconcileChildren \u8C03\u548C\u51FD\u6570"},{id:"\u5355\u8282\u70B9",depth:3,title:"\u5355\u8282\u70B9"},{id:"\u591A\u8282\u70B9",depth:3,title:"\u591A\u8282\u70B9"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"}],mt=[{value:"\u5728 react \u7EC4\u4EF6\u5F00\u53D1\u7684\u8FC7\u7A0B\u4E2D, ",paraId:0,tocIndex:0},{value:"key",paraId:0,tocIndex:0},{value:"\u662F\u4E00\u4E2A\u5E38\u7528\u7684\u5C5E\u6027\u503C, \u591A\u7528\u4E8E\u5217\u8868\u5F00\u53D1. \u672C\u6587\u4ECE\u6E90\u7801\u7684\u89D2\u5EA6, \u5206\u6790",paraId:0,tocIndex:0},{value:"key",paraId:0,tocIndex:0},{value:"\u5728",paraId:0,tocIndex:0},{value:"react",paraId:0,tocIndex:0},{value:"\u5185\u90E8\u662F\u5982\u4F55\u4F7F\u7528\u7684, ",paraId:0,tocIndex:0},{value:"key",paraId:0,tocIndex:0},{value:"\u662F\u5426\u53EF\u4EE5\u7701\u7565.",paraId:0,tocIndex:0},{value:"\u6211\u4EEC\u5728\u7F16\u7A0B\u65F6\u76F4\u63A5\u4E66\u5199\u7684",paraId:1,tocIndex:1},{value:"jsx",paraId:1,tocIndex:1},{value:"\u4EE3\u7801, \u5B9E\u9645\u4E0A\u662F\u4F1A\u88AB\u7F16\u8BD1\u6210 ReactElement \u5BF9\u8C61, \u6240\u4EE5",paraId:1,tocIndex:1},{value:"key",paraId:1,tocIndex:1},{value:"\u662F",paraId:1,tocIndex:1},{value:"ReactElement\u5BF9\u8C61",paraId:1,tocIndex:1},{value:"\u7684\u4E00\u4E2A\u5C5E\u6027.",paraId:1,tocIndex:1},{value:"\u5728\u628A",paraId:2,tocIndex:2},{value:"jsx",paraId:2,tocIndex:2},{value:"\u8F6C\u6362\u6210",paraId:2,tocIndex:2},{value:"ReactElement\u5BF9\u8C61",paraId:2,tocIndex:2},{value:"\u7684\u8BED\u6CD5\u65F6, \u6709\u4E00\u4E2A\u517C\u5BB9\u95EE\u9898. \u4F1A\u6839\u636E\u7F16\u8BD1\u5668\u7684\u4E0D\u540C\u7B56\u7565, \u7F16\u8BD1\u6210 2 \u79CD\u65B9\u6848.",paraId:2,tocIndex:2},{value:"\u6700\u65B0\u7684\u8F6C\u8BD1\u7B56\u7565: \u4F1A\u5C06",paraId:3,tocIndex:2},{value:"jsx",paraId:3,tocIndex:2},{value:"\u8BED\u6CD5\u7684\u4EE3\u7801, \u8F6C\u8BD1\u6210",paraId:3,tocIndex:2},{value:"jsx()",paraId:3,tocIndex:2},{value:"\u51FD\u6570\u5305\u88F9",paraId:3,tocIndex:2},{value:"jsx",paraId:4,tocIndex:2},{value:"\u51FD\u6570: \u53EA\u4FDD\u7559\u4E0E",paraId:4,tocIndex:2},{value:"key",paraId:4,tocIndex:2},{value:"\u76F8\u5173\u7684\u4EE3\u7801(\u5176\u4F59\u6E90\u7801\u672C\u8282\u4E0D\u8BA8\u8BBA)",paraId:4,tocIndex:2},{value:`/**
 * https://github.com/reactjs/rfcs/pull/107
 * @param {*} type
 * @param {object} props
 * @param {string} key
 */
export function jsx(type, config, maybeKey) {
  let propName;

  // 1. key\u7684\u9ED8\u8BA4\u503C\u662Fnull
  let key = null;

  // Currently, key can be spread in as a prop. This causes a potential
  // issue if key is also explicitly declared (ie. <div {...props} key="Hi" />
  // or <div key="Hi" {...props} /> ). We want to deprecate key spread,
  // but as an intermediary step, we will use jsxDEV for everything except
  // <div {...props} key="Hi" />, because we aren't currently able to tell if
  // key is explicitly declared to be undefined or not.
  if (maybeKey !== undefined) {
    key = '' + maybeKey;
  }

  if (hasValidKey(config)) {
    // 2. \u5C06key\u8F6C\u6362\u6210\u5B57\u7B26\u4E32
    key = '' + config.key;
  }
  // 3. \u5C06key\u4F20\u5165\u6784\u9020\u51FD\u6570
  return ReactElement(
    type,
    key,
    ref,
    undefined,
    undefined,
    ReactCurrentOwner.current,
    props,
  );
}
`,paraId:5,tocIndex:2},{value:"\u4F20\u7EDF\u7684\u8F6C\u8BD1\u7B56\u7565: \u4F1A\u5C06",paraId:6,tocIndex:2},{value:"jsx",paraId:6,tocIndex:2},{value:"\u8BED\u6CD5\u7684\u4EE3\u7801, \u8F6C\u8BD1\u6210",paraId:6,tocIndex:2},{value:"React.createElement()\u51FD\u6570\u5305\u88F9",paraId:6,tocIndex:2},{value:"React.createElement()\u51FD\u6570",paraId:7,tocIndex:2},{value:": \u53EA\u4FDD\u7559\u4E0E",paraId:7,tocIndex:2},{value:"key",paraId:7,tocIndex:2},{value:"\u76F8\u5173\u7684\u4EE3\u7801(\u5176\u4F59\u6E90\u7801\u672C\u8282\u4E0D\u8BA8\u8BBA)",paraId:7,tocIndex:2},{value:`/**
 * Create and return a new ReactElement of the given type.
 * See https://reactjs.org/docs/react-api.html#createelement
 */
export function createElement(type, config, children) {
  let propName;

  // Reserved names are extracted
  const props = {};

  let key = null;
  let ref = null;
  let self = null;
  let source = null;

  if (config != null) {
    if (hasValidKey(config)) {
      key = '' + config.key; // key\u8F6C\u6362\u6210\u5B57\u7B26\u4E32
    }
  }

  return ReactElement(
    type,
    key,
    ref,
    self,
    source,
    ReactCurrentOwner.current,
    props,
  );
}
`,paraId:8,tocIndex:2},{value:"\u53EF\u4EE5\u770B\u5230\u65E0\u8BBA\u91C7\u53D6\u54EA\u79CD\u7F16\u8BD1\u65B9\u5F0F, \u6838\u5FC3\u903B\u8F91\u90FD\u662F\u4E00\u81F4\u7684:",paraId:9,tocIndex:2},{value:"key",paraId:10,tocIndex:2},{value:"\u7684\u9ED8\u8BA4\u503C\u662F",paraId:10,tocIndex:2},{value:"null",paraId:10,tocIndex:2},{value:"\u5982\u679C\u5916\u754C\u6709\u663E\u5F0F\u6307\u5B9A\u7684",paraId:10,tocIndex:2},{value:"key",paraId:10,tocIndex:2},{value:", \u5219\u5C06",paraId:10,tocIndex:2},{value:"key",paraId:10,tocIndex:2},{value:"\u8F6C\u6362\u6210\u5B57\u7B26\u4E32\u7C7B\u578B.",paraId:10,tocIndex:2},{value:"\u8C03\u7528",paraId:10,tocIndex:2},{value:"ReactElement",paraId:10,tocIndex:2},{value:"\u8FD9\u4E2A\u6784\u9020\u51FD\u6570, \u5E76\u4E14\u5C06",paraId:10,tocIndex:2},{value:"key",paraId:10,tocIndex:2},{value:"\u4F20\u5165.",paraId:10,tocIndex:2},{value:`// ReactElement\u7684\u6784\u9020\u51FD\u6570: \u672C\u8282\u5C31\u5148\u53EA\u5173\u6CE8\u5176\u4E2D\u7684key\u5C5E\u6027
const ReactElement = function (type, key, ref, self, source, owner, props) {
  const element = {
    $$typeof: REACT_ELEMENT_TYPE,
    type: type,
    key: key,
    ref: ref,
    props: props,
    _owner: owner,
  };
  return element;
};
`,paraId:11,tocIndex:2},{value:"\u6E90\u7801\u770B\u5230\u8FD9\u91CC, \u867D\u7136\u8FD8\u53EA\u662F\u4E2A\u76AE\u6BDB, \u4F46\u662F\u8D77\u7801\u77E5\u9053\u4E86",paraId:12,tocIndex:2},{value:"key",paraId:12,tocIndex:2},{value:"\u7684\u9ED8\u8BA4\u503C\u662F",paraId:12,tocIndex:2},{value:"null",paraId:12,tocIndex:2},{value:". \u6240\u4EE5\u4EFB\u4F55\u4E00\u4E2A",paraId:12,tocIndex:2},{value:"reactElement",paraId:12,tocIndex:2},{value:"\u5BF9\u8C61, \u5185\u90E8\u90FD\u662F\u6709",paraId:12,tocIndex:2},{value:"key",paraId:12,tocIndex:2},{value:"\u503C\u7684, \u53EA\u662F\u4E00\u822C\u60C5\u51B5\u4E0B(\u5BF9\u4E8E\u5355\u8282\u70B9)\u5F88\u5C11\u663E\u5F0F\u53BB\u4F20\u5165\u4E00\u4E2A key.",paraId:12,tocIndex:2},{value:"react",paraId:13,tocIndex:3},{value:"\u7684\u6838\u5FC3\u8FD0\u884C\u903B\u8F91, \u662F\u4E00\u4E2A\u4ECE\u8F93\u5165\u5230\u8F93\u51FA\u7684\u8FC7\u7A0B(\u56DE\u987E",paraId:13,tocIndex:3},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:14,tocIndex:3},{value:"). \u7F16\u7A0B\u76F4\u63A5\u64CD\u4F5C\u7684",paraId:13,tocIndex:3},{value:"jsx",paraId:13,tocIndex:3},{value:"\u662F",paraId:13,tocIndex:3},{value:"reactElement\u5BF9\u8C61",paraId:13,tocIndex:3},{value:",\u6211\u4EEC(\u7A0B\u5E8F\u5458)\u7684\u6570\u636E\u6A21\u578B\u662F",paraId:13,tocIndex:3},{value:"jsx",paraId:13,tocIndex:3},{value:", \u800C",paraId:13,tocIndex:3},{value:"react\u5185\u6838",paraId:13,tocIndex:3},{value:"\u7684\u6570\u636E\u6A21\u578B\u662F",paraId:13,tocIndex:3},{value:"fiber\u6811\u5F62\u7ED3\u6784",paraId:13,tocIndex:3},{value:". \u6240\u4EE5\u8981\u6DF1\u5165\u8BA4\u8BC6",paraId:13,tocIndex:3},{value:"key",paraId:13,tocIndex:3},{value:"\u8FD8\u9700\u8981\u4ECE",paraId:13,tocIndex:3},{value:"fiber",paraId:13,tocIndex:3},{value:"\u7684\u89C6\u89D2\u7EE7\u7EED\u6765\u770B.",paraId:13,tocIndex:3},{value:"fiber",paraId:15,tocIndex:3},{value:"\u5BF9\u8C61\u662F\u5728",paraId:15,tocIndex:3},{value:"fiber\u6811\u6784\u9020\u5FAA\u73AF",paraId:15,tocIndex:3},{value:"\u8FC7\u7A0B\u4E2D\u6784\u9020\u7684, \u5176\u6784\u9020\u51FD\u6570\u5982\u4E0B:",paraId:15,tocIndex:3},{value:`function FiberNode(
  tag: WorkTag,
  pendingProps: mixed,
  key: null | string,
  mode: TypeOfMode,
) {
  this.tag = tag;
  this.key = key; // \u91CD\u70B9: key\u4E5F\u662F\`fiber\`\u5BF9\u8C61\u7684\u4E00\u4E2A\u5C5E\u6027

  // ...
  this.elementType = null;
  this.type = null;
  this.stateNode = null;
  // ... \u7701\u7565\u65E0\u5173\u4EE3\u7801
}
`,paraId:16,tocIndex:3},{value:"\u53EF\u4EE5\u770B\u5230, ",paraId:17,tocIndex:3},{value:"key",paraId:17,tocIndex:3},{value:"\u4E5F\u662F",paraId:17,tocIndex:3},{value:"fiber",paraId:17,tocIndex:3},{value:"\u5BF9\u8C61\u7684\u4E00\u4E2A\u5C5E\u6027. \u8FD9\u91CC\u548C",paraId:17,tocIndex:3},{value:"reactElement",paraId:17,tocIndex:3},{value:"\u7684\u60C5\u51B5\u6709\u6240\u4E0D\u540C:",paraId:17,tocIndex:3},{value:"reactElement",paraId:18,tocIndex:3},{value:"\u4E2D\u7684",paraId:18,tocIndex:3},{value:"key",paraId:18,tocIndex:3},{value:"\u662F\u7531",paraId:18,tocIndex:3},{value:"jsx",paraId:18,tocIndex:3},{value:"\u7F16\u8BD1\u800C\u6765, ",paraId:18,tocIndex:3},{value:"key",paraId:18,tocIndex:3},{value:"\u662F\u7531\u7A0B\u5E8F\u5458\u76F4\u63A5\u63A7\u5236\u7684(\u5373\u4F7F\u662F\u52A8\u6001\u751F\u6210, \u90A3\u4E5F\u662F\u76F4\u63A5\u63A7\u5236)",paraId:18,tocIndex:3},{value:"fiber",paraId:18,tocIndex:3},{value:"\u5BF9\u8C61\u662F\u7531",paraId:18,tocIndex:3},{value:"react",paraId:18,tocIndex:3},{value:"\u5185\u6838\u5728\u8FD0\u884C\u65F6\u521B\u5EFA\u7684, \u6240\u4EE5",paraId:18,tocIndex:3},{value:"fiber.key",paraId:18,tocIndex:3},{value:"\u4E5F\u662F",paraId:18,tocIndex:3},{value:"react",paraId:18,tocIndex:3},{value:"\u5185\u6838\u8FDB\u884C\u8BBE\u7F6E\u7684, \u7A0B\u5E8F\u5458\u6CA1\u6709\u76F4\u63A5\u63A7\u5236.",paraId:18,tocIndex:3},{value:"\u6CE8\u610F: ",paraId:19,tocIndex:3},{value:"fiber.key",paraId:19,tocIndex:3},{value:"\u662F",paraId:19,tocIndex:3},{value:"reactElement.key",paraId:19,tocIndex:3},{value:"\u7684\u62F7\u8D1D, \u4ED6\u4EEC\u662F\u5B8C\u5168\u76F8\u7B49\u7684(\u5305\u62EC",paraId:19,tocIndex:3},{value:"null",paraId:19,tocIndex:3},{value:"\u9ED8\u8BA4\u503C).",paraId:19,tocIndex:3},{value:"\u63A5\u4E0B\u6765\u5206\u6790",paraId:20,tocIndex:3},{value:"fiber",paraId:20,tocIndex:3},{value:"\u521B\u5EFA, \u5256\u6790",paraId:20,tocIndex:3},{value:"key",paraId:20,tocIndex:3},{value:"\u5728\u8FD9\u4E2A\u8FC7\u7A0B\u4E2D\u7684\u5177\u4F53\u4F7F\u7528\u60C5\u51B5.",paraId:20,tocIndex:3},{value:"fiber",paraId:21,tocIndex:3},{value:"\u5BF9\u8C61\u7684\u521B\u5EFA\u53D1\u751F\u5728",paraId:21,tocIndex:3},{value:"fiber\u6811\u6784\u9020\u5FAA\u73AF",paraId:21,tocIndex:3},{value:"\u9636\u6BB5\u4E2D, \u5177\u4F53\u6765\u8BB2, \u662F\u5728",paraId:21,tocIndex:3},{value:"reconcileChildren",paraId:21,tocIndex:3},{value:"\u8C03\u548C\u51FD\u6570\u4E2D\u8FDB\u884C\u521B\u5EFA.",paraId:21,tocIndex:3},{value:"reconcileChildren",paraId:22,tocIndex:4},{value:"\u662F",paraId:22,tocIndex:4},{value:"react",paraId:22,tocIndex:4},{value:"\u4E2D\u7684\u4E00\u4E2A",paraId:22,tocIndex:4},{value:"\u660E\u661F",paraId:22,tocIndex:4},{value:"\u51FD\u6570, \u6700\u70ED\u70B9\u7684\u95EE\u9898\u5C31\u662F",paraId:22,tocIndex:4},{value:"diff\u7B97\u6CD5\u539F\u7406",paraId:22,tocIndex:4},{value:", \u4E8B\u5B9E\u4E0A, ",paraId:22,tocIndex:4},{value:"key",paraId:22,tocIndex:4},{value:"\u7684\u4F5C\u7528\u5B8C\u5168\u5C31\u662F\u4E3A\u4E86",paraId:22,tocIndex:4},{value:"diff\u7B97\u6CD5",paraId:22,tocIndex:4},{value:"\u670D\u52A1\u7684.",paraId:22,tocIndex:4},{value:"\u6CE8\u610F: \u672C\u8282\u53EA\u5206\u6790 key \u76F8\u5173\u7684\u903B\u8F91, \u5BF9\u4E8E\u8C03\u548C\u51FD\u6570\u7684\u7B97\u6CD5\u539F\u7406, \u8BF7\u56DE\u987E\u7B97\u6CD5\u7AE0\u8282",paraId:23,tocIndex:4},{value:"React \u7B97\u6CD5\u4E4B\u8C03\u548C\u7B97\u6CD5",paraId:24,tocIndex:4},{value:"\u8C03\u548C\u51FD\u6570\u6E90\u7801(\u672C\u8282\u793A\u4F8B, \u53EA\u6458\u53D6\u4E86\u90E8\u5206\u4EE3\u7801):",paraId:25,tocIndex:4},{value:`function ChildReconciler(shouldTrackSideEffects) {
  function reconcileChildFibers(
    returnFiber: Fiber,
    currentFirstChild: Fiber | null,
    newChild: any,
    lanes: Lanes,
  ): Fiber | null {
    // Handle object types
    const isObject = typeof newChild === 'object' && newChild !== null;

    if (isObject) {
      switch (newChild.$$typeof) {
        case REACT_ELEMENT_TYPE:
          // newChild\u662F\u5355\u8282\u70B9
          return placeSingleChild(
            reconcileSingleElement(
              returnFiber,
              currentFirstChild,
              newChild,
              lanes,
            ),
          );
      }
    }
    //  newChild\u662F\u591A\u8282\u70B9
    if (isArray(newChild)) {
      return reconcileChildrenArray(
        returnFiber,
        currentFirstChild,
        newChild,
        lanes,
      );
    }
    // ...
  }

  return reconcileChildFibers;
}
`,paraId:26,tocIndex:4},{value:"\u8FD9\u91CC\u5148\u770B\u5355\u8282\u70B9\u7684\u60C5\u51B5",paraId:27,tocIndex:5},{value:"reconcileSingleElement",paraId:27,tocIndex:5},{value:"(\u53EA\u4FDD\u7559\u4E0E",paraId:27,tocIndex:5},{value:"key",paraId:27,tocIndex:5},{value:"\u6709\u5173\u7684\u903B\u8F91):",paraId:27,tocIndex:5},{value:`function reconcileSingleElement(
  returnFiber: Fiber,
  currentFirstChild: Fiber | null,
  element: ReactElement,
  lanes: Lanes,
): Fiber {
  const key = element.key;
  let child = currentFirstChild;
  while (child !== null) {
    //\u91CD\u70B91: key\u662F\u5355\u8282\u70B9\u662F\u5426\u590D\u7528\u7684\u7B2C\u4E00\u5224\u65AD\u6761\u4EF6
    if (child.key === key) {
      switch (child.tag) {
        default: {
          if (child.elementType === element.type) {
            // \u7B2C\u4E8C\u5224\u65AD\u6761\u4EF6
            deleteRemainingChildren(returnFiber, child.sibling);
            // \u8282\u70B9\u590D\u7528: \u8C03\u7528useFiber
            const existing = useFiber(child, element.props);
            existing.ref = coerceRef(returnFiber, child, element);
            existing.return = returnFiber;
            return existing;
          }
          break;
        }
      }
      // Didn't match.
      deleteRemainingChildren(returnFiber, child);
      break;
    }
    child = child.sibling;
  }
  // \u91CD\u70B92: fiber\u8282\u70B9\u521B\u5EFA, \`key\`\u662F\u968F\u7740\`element\`\u5BF9\u8C61\u88AB\u4F20\u5165\`fiber\`\u7684\u6784\u9020\u51FD\u6570
  const created = createFiberFromElement(element, returnFiber.mode, lanes);
  created.ref = coerceRef(returnFiber, currentFirstChild, element);
  created.return = returnFiber;
  return created;
}
`,paraId:28,tocIndex:5},{value:"\u53EF\u4EE5\u770B\u5230, \u5BF9\u4E8E\u5355\u8282\u70B9\u6765\u8BB2, \u6709 2 \u4E2A\u91CD\u70B9:",paraId:29,tocIndex:5},{value:"key",paraId:30,tocIndex:5},{value:"\u662F\u5355\u8282\u70B9\u662F\u5426\u590D\u7528\u7684\u7B2C\u4E00\u5224\u65AD\u6761\u4EF6(\u7B2C\u4E8C\u5224\u65AD\u6761\u4EF6\u662F",paraId:30,tocIndex:5},{value:"type",paraId:30,tocIndex:5},{value:`\u662F\u5426\u6539\u53D8).
`,paraId:30,tocIndex:5},{value:"\u5982\u679C",paraId:31,tocIndex:5},{value:"key",paraId:31,tocIndex:5},{value:"\u4E0D\u540C, \u5176\u4ED6\u6761\u4EF6\u662F\u5B8C\u5168\u4E0D\u770B\u7684",paraId:31,tocIndex:5},{value:"\u5728\u65B0\u5EFA\u8282\u70B9\u65F6, ",paraId:30,tocIndex:5},{value:"key",paraId:30,tocIndex:5},{value:"\u968F\u7740",paraId:30,tocIndex:5},{value:"element",paraId:30,tocIndex:5},{value:"\u5BF9\u8C61\u88AB\u4F20\u5165",paraId:30,tocIndex:5},{value:"fiber",paraId:30,tocIndex:5},{value:"\u7684\u6784\u9020\u51FD\u6570.",paraId:30,tocIndex:5},{value:"\u6240\u4EE5\u5230\u8FD9\u91CC\u624D\u662F",paraId:32,tocIndex:5},{value:"key",paraId:32,tocIndex:5},{value:"\u7684\u6700\u6838\u5FC3\u4F5C\u7528, \u662F\u8C03\u548C\u51FD\u6570\u4E2D, \u9488\u5BF9\u5355\u8282\u70B9\u662F\u5426\u53EF\u4EE5\u590D\u7528\u7684",paraId:32,tocIndex:5},{value:"\u7B2C\u4E00\u5224\u65AD\u6761\u4EF6",paraId:32,tocIndex:5},{value:".",paraId:32,tocIndex:5},{value:"\u5BF9\u4E8E\u5355\u8282\u70B9\u6765\u8BB2, ",paraId:33,tocIndex:5},{value:"key",paraId:33,tocIndex:5},{value:"\u662F\u53EF\u4EE5\u7701\u7565\u7684, ",paraId:33,tocIndex:5},{value:"react",paraId:33,tocIndex:5},{value:"\u5185\u90E8\u4F1A\u8BBE\u7F6E\u6210\u9ED8\u8BA4\u503C",paraId:33,tocIndex:5},{value:"null",paraId:33,tocIndex:5},{value:". \u5728\u8FDB\u884C",paraId:33,tocIndex:5},{value:"diff",paraId:33,tocIndex:5},{value:"\u65F6, \u7531\u4E8E",paraId:33,tocIndex:5},{value:"null===null",paraId:33,tocIndex:5},{value:"\u4E3A",paraId:33,tocIndex:5},{value:"true",paraId:33,tocIndex:5},{value:", \u524D\u540E",paraId:33,tocIndex:5},{value:"render",paraId:33,tocIndex:5},{value:"\u7684",paraId:33,tocIndex:5},{value:"key",paraId:33,tocIndex:5},{value:"\u662F\u4E00\u81F4\u7684, \u53EF\u4EE5\u8FDB\u884C\u590D\u7528\u6BD4\u8F83.",paraId:33,tocIndex:5},{value:"\u5982\u679C\u5355\u8282\u70B9\u663E\u5F0F\u8BBE\u7F6E\u4E86",paraId:34,tocIndex:5},{value:"key",paraId:34,tocIndex:5},{value:", \u4E14\u4E24\u6B21",paraId:34,tocIndex:5},{value:"render",paraId:34,tocIndex:5},{value:"\u65F6\u7684",paraId:34,tocIndex:5},{value:"key",paraId:34,tocIndex:5},{value:"\u5982\u679C\u4E0D\u4E00\u81F4, \u5219\u65E0\u6CD5\u590D\u7528.",paraId:34,tocIndex:5},{value:"\u7EE7\u7EED\u67E5\u770B\u591A\u8282\u70B9\u76F8\u5173\u7684\u903B\u8F91:",paraId:35,tocIndex:6},{value:`function reconcileChildrenArray(
  returnFiber: Fiber,
  currentFirstChild: Fiber | null,
  newChildren: Array<*>,
  lanes: Lanes,
): Fiber | null {
  if (__DEV__) {
    // First, validate keys.
    let knownKeys = null;
    for (let i = 0; i < newChildren.length; i++) {
      const child = newChildren[i];
      // 1. \u5728dev\u73AF\u5883\u4E0B, \u6267\u884CwarnOnInvalidKey.
      //  - \u5982\u679C\u6CA1\u6709\u8BBE\u7F6Ekey, \u4F1A\u8B66\u544A\u63D0\u793A, \u5E0C\u671B\u80FD\u663E\u5F0F\u8BBE\u7F6Ekey
      //  - \u5982\u679Ckey\u91CD\u590D, \u4F1A\u9519\u8BEF\u63D0\u793A.
      knownKeys = warnOnInvalidKey(child, knownKeys, returnFiber);
    }
  }

  let resultingFirstChild: Fiber | null = null;
  let previousNewFiber: Fiber | null = null;

  let oldFiber = currentFirstChild;
  let lastPlacedIndex = 0;
  let newIdx = 0;
  let nextOldFiber = null;
  // \u7B2C\u4E00\u6B21\u5FAA\u73AF: \u53EA\u4F1A\u5728\u66F4\u65B0\u9636\u6BB5\u53D1\u751F
  for (; oldFiber !== null && newIdx < newChildren.length; newIdx++) {
    if (oldFiber.index > newIdx) {
      nextOldFiber = oldFiber;
      oldFiber = null;
    } else {
      nextOldFiber = oldFiber.sibling;
    }
    // 1. \u8C03\u7528updateSlot, \u5904\u7406\u516C\u5171\u5E8F\u5217\u4E2D\u7684fiber
    const newFiber = updateSlot(
      returnFiber,
      oldFiber,
      newChildren[newIdx],
      lanes,
    );
    if (newFiber === null) {
      // \u5982\u679C\u65E0\u6CD5\u590D\u7528, \u5219\u9000\u51FA\u516C\u5171\u5E8F\u5217\u7684\u904D\u5386
      if (oldFiber === null) {
        oldFiber = nextOldFiber;
      }
      break;
    }
  }

  // \u7B2C\u4E8C\u6B21\u5FAA\u73AF
  if (oldFiber === null) {
    for (; newIdx < newChildren.length; newIdx++) {
      // 2. \u8C03\u7528createChild\u76F4\u63A5\u521B\u5EFA\u65B0fiber
      const newFiber = createChild(returnFiber, newChildren[newIdx], lanes);
    }
    return resultingFirstChild;
  }

  for (; newIdx < newChildren.length; newIdx++) {
    // 3. \u8C03\u7528updateFromMap\u5904\u7406\u975E\u516C\u5171\u5E8F\u5217\u4E2D\u7684fiber
    const newFiber = updateFromMap(
      existingChildren,
      returnFiber,
      newIdx,
      newChildren[newIdx],
      lanes,
    );
  }

  return resultingFirstChild;
}
`,paraId:36,tocIndex:6},{value:"\u5728",paraId:37,tocIndex:6},{value:"reconcileChildrenArray",paraId:37,tocIndex:6},{value:"\u4E2D, \u6709 3 \u5904\u8C03\u7528\u4E0E",paraId:37,tocIndex:6},{value:"fiber",paraId:37,tocIndex:6},{value:"\u6709\u5173(\u5F53\u7136\u987A\u4FBF\u5C31\u548C",paraId:37,tocIndex:6},{value:"key",paraId:37,tocIndex:6},{value:"\u6709\u5173\u4E86), \u5B83\u4EEC\u5206\u522B\u662F:",paraId:37,tocIndex:6},{value:"updateSlot",paraId:38,tocIndex:6},{value:`function updateSlot(
  returnFiber: Fiber,
  oldFiber: Fiber | null,
  newChild: any,
  lanes: Lanes,
): Fiber | null {
  const key = oldFiber !== null ? oldFiber.key : null;

  if (typeof newChild === 'object' && newChild !== null) {
    switch (newChild.$$typeof) {
      case REACT_ELEMENT_TYPE: {
        //\u91CD\u70B9: key\u7528\u4E8E\u662F\u5426\u590D\u7528\u7684\u7B2C\u4E00\u5224\u65AD\u6761\u4EF6
        if (newChild.key === key) {
          return updateElement(returnFiber, oldFiber, newChild, lanes);
        } else {
          return null;
        }
      }
    }
  }

  return null;
}
`,paraId:39,tocIndex:6},{value:"createChild",paraId:40,tocIndex:6},{value:`function createChild(
  returnFiber: Fiber,
  newChild: any,
  lanes: Lanes,
): Fiber | null {
  if (typeof newChild === 'object' && newChild !== null) {
    switch (newChild.$$typeof) {
      case REACT_ELEMENT_TYPE: {
        // \u91CD\u70B9: \u8C03\u7528\u6784\u9020\u51FD\u6570\u8FDB\u884C\u521B\u5EFA
        const created = createFiberFromElement(
          newChild,
          returnFiber.mode,
          lanes,
        );
        return created;
      }
    }
  }

  return null;
}
`,paraId:41,tocIndex:6},{value:"updateFromMap",paraId:42,tocIndex:6},{value:`function updateFromMap(
  existingChildren: Map<string | number, Fiber>,
  returnFiber: Fiber,
  newIdx: number,
  newChild: any,
  lanes: Lanes,
): Fiber | null {
  if (typeof newChild === 'object' && newChild !== null) {
    switch (newChild.$$typeof) {
      case REACT_ELEMENT_TYPE: {
        //\u91CD\u70B9: key\u7528\u4E8E\u662F\u5426\u590D\u7528\u7684\u7B2C\u4E00\u5224\u65AD\u6761\u4EF6
        const matchedFiber =
          existingChildren.get(
            newChild.key === null ? newIdx : newChild.key,
          ) || null;
        return updateElement(returnFiber, matchedFiber, newChild, lanes);
      }
    }
    return null;
  }
}
`,paraId:43,tocIndex:6},{value:"\u9488\u5BF9\u591A\u8282\u70B9\u7684",paraId:44,tocIndex:6},{value:"diff\u7B97\u6CD5",paraId:44,tocIndex:6},{value:"\u53EF\u4EE5\u5206\u4E3A 3 \u6B65\u9AA4(\u8BF7\u56DE\u987E\u7B97\u6CD5\u7AE0\u8282",paraId:44,tocIndex:6},{value:"React \u7B97\u6CD5\u4E4B\u8C03\u548C\u7B97\u6CD5",paraId:45,tocIndex:6},{value:"):",paraId:44,tocIndex:6},{value:`\u7B2C\u4E00\u6B21\u5FAA\u73AF: \u6BD4\u8F83\u516C\u5171\u5E8F\u5217
`,paraId:46,tocIndex:6},{value:"\u4ECE\u5DE6\u5230\u53F3\u9010\u4E00\u904D\u5386, \u9047\u5230\u4E00\u4E2A\u65E0\u6CD5\u590D\u7528\u7684\u8282\u70B9\u5219\u9000\u51FA\u5FAA\u73AF.",paraId:47,tocIndex:6},{value:`\u7B2C\u4E8C\u6B21\u5FAA\u73AF: \u6BD4\u8F83\u975E\u516C\u5171\u5E8F\u5217
`,paraId:46,tocIndex:6},{value:"\u5728\u7B2C\u4E00\u6B21\u5FAA\u73AF\u7684\u57FA\u7840\u4E0A, \u5982\u679C",paraId:48,tocIndex:6},{value:"oldFiber",paraId:48,tocIndex:6},{value:"\u961F\u5217\u904D\u5386\u5B8C\u4E86, \u8BC1\u660E",paraId:48,tocIndex:6},{value:"newChildren",paraId:48,tocIndex:6},{value:"\u961F\u5217\u4E2D\u5269\u4F59\u7684\u5BF9\u8C61\u5168\u90E8\u90FD\u662F\u65B0\u589E.",paraId:48,tocIndex:6},{value:"\u6B64\u65F6\u7EE7\u7EED\u904D\u5386\u5269\u4F59\u7684",paraId:48,tocIndex:6},{value:"newChildren",paraId:48,tocIndex:6},{value:"\u961F\u5217\u5373\u53EF, \u6CA1\u6709\u989D\u5916\u7684",paraId:48,tocIndex:6},{value:"diff",paraId:48,tocIndex:6},{value:"\u6BD4\u8F83.",paraId:48,tocIndex:6},{value:"\u5728\u7B2C\u4E00\u6B21\u5FAA\u73AF\u7684\u57FA\u7840\u4E0A, \u5982\u679C",paraId:48,tocIndex:6},{value:"oldFiber",paraId:48,tocIndex:6},{value:"\u961F\u5217\u6CA1\u6709\u904D\u5386\u5B8C, \u9700\u8981\u5C06",paraId:48,tocIndex:6},{value:"oldFiber",paraId:48,tocIndex:6},{value:"\u961F\u5217\u4E2D\u5269\u4F59\u7684\u5BF9\u8C61\u90FD\u6DFB\u52A0\u5230\u4E00\u4E2A",paraId:48,tocIndex:6},{value:"map",paraId:48,tocIndex:6},{value:"\u96C6\u5408\u4E2D, \u4EE5",paraId:48,tocIndex:6},{value:"oldFiber.key",paraId:48,tocIndex:6},{value:"\u4F5C\u4E3A\u952E.",paraId:48,tocIndex:6},{value:"\u6B64\u65F6\u5219\u5728\u904D\u5386\u5269\u4F59\u7684",paraId:48,tocIndex:6},{value:"newChildren",paraId:48,tocIndex:6},{value:"\u961F\u5217\u65F6, \u9700\u8981\u7528",paraId:48,tocIndex:6},{value:"newChild.key",paraId:48,tocIndex:6},{value:"\u5230",paraId:48,tocIndex:6},{value:"map",paraId:48,tocIndex:6},{value:"\u96C6\u5408\u4E2D\u8FDB\u884C\u67E5\u627E, \u5982\u679C\u5339\u914D\u4E0A\u4E86, \u5C31\u5C06",paraId:48,tocIndex:6},{value:"oldFiber",paraId:48,tocIndex:6},{value:"\u4ECE",paraId:48,tocIndex:6},{value:"map",paraId:48,tocIndex:6},{value:"\u4E2D\u53D6\u51FA\u6765, \u540C",paraId:48,tocIndex:6},{value:"newChild",paraId:48,tocIndex:6},{value:"\u8FDB\u884C",paraId:48,tocIndex:6},{value:"diff",paraId:48,tocIndex:6},{value:"\u6BD4\u8F83.",paraId:48,tocIndex:6},{value:`\u6E05\u7406\u5DE5\u4F5C
`,paraId:46,tocIndex:6},{value:"\u5728\u7B2C\u4E8C\u6B21\u5FAA\u73AF\u7ED3\u675F\u540E, \u5982\u679C",paraId:49,tocIndex:6},{value:"map",paraId:49,tocIndex:6},{value:"\u96C6\u5408\u4E2D\u8FD8\u6709\u5269\u4F59\u7684",paraId:49,tocIndex:6},{value:"oldFiber",paraId:49,tocIndex:6},{value:",\u5219\u53EF\u4EE5\u8BC1\u660E\u8FD9\u4E9B",paraId:49,tocIndex:6},{value:"oldFiber",paraId:49,tocIndex:6},{value:"\u90FD\u662F\u88AB\u5220\u9664\u7684\u8282\u70B9, \u9700\u8981\u6253\u4E0A\u5220\u9664\u6807\u8BB0.",paraId:49,tocIndex:6},{value:"\u901A\u8FC7\u56DE\u987E",paraId:50,tocIndex:6},{value:"diff\u7B97\u6CD5",paraId:50,tocIndex:6},{value:"\u7684\u539F\u7406, \u53EF\u4EE5\u5F97\u5230",paraId:50,tocIndex:6},{value:"key",paraId:50,tocIndex:6},{value:"\u5728\u591A\u8282\u70B9\u60C5\u51B5\u4E0B\u7684\u7279\u6027:",paraId:50,tocIndex:6},{value:"\u65B0\u961F\u5217",paraId:51,tocIndex:6},{value:"newChildren",paraId:51,tocIndex:6},{value:"\u4E2D\u7684\u6BCF\u4E00\u4E2A\u5BF9\u8C61(\u5373",paraId:51,tocIndex:6},{value:"reactElement",paraId:51,tocIndex:6},{value:"\u5BF9\u8C61)\u90FD\u9700\u8981\u540C\u65E7\u961F\u5217",paraId:51,tocIndex:6},{value:"oldFiber",paraId:51,tocIndex:6},{value:"\u4E2D\u6709\u76F8\u540C",paraId:51,tocIndex:6},{value:"key",paraId:51,tocIndex:6},{value:"\u503C\u7684\u5BF9\u8C61(\u5373",paraId:51,tocIndex:6},{value:"oldFiber",paraId:51,tocIndex:6},{value:"\u5BF9\u8C61)\u8FDB\u884C\u662F\u5426\u53EF\u590D\u7528\u7684\u6BD4\u8F83. ",paraId:51,tocIndex:6},{value:"key",paraId:51,tocIndex:6},{value:"\u5C31\u662F\u65B0\u65E7\u5BF9\u8C61\u80FD\u591F\u5BF9\u5E94\u8D77\u6765\u7684\u552F\u4E00\u6807\u8BC6.",paraId:51,tocIndex:6},{value:"\u5982\u679C\u7701\u7565",paraId:51,tocIndex:6},{value:"key",paraId:51,tocIndex:6},{value:"\u6216\u8005\u76F4\u63A5\u4F7F\u7528\u5217\u8868",paraId:51,tocIndex:6},{value:"index",paraId:51,tocIndex:6},{value:"\u4F5C\u4E3A",paraId:51,tocIndex:6},{value:"key",paraId:51,tocIndex:6},{value:", \u8868\u73B0\u662F\u4E00\u6837\u7684(",paraId:51,tocIndex:6},{value:"key=null",paraId:51,tocIndex:6},{value:"\u65F6, \u4F1A\u91C7\u7528",paraId:51,tocIndex:6},{value:"index",paraId:51,tocIndex:6},{value:"\u4EE3\u66FF",paraId:51,tocIndex:6},{value:"key",paraId:51,tocIndex:6},{value:"\u8FDB\u884C\u6BD4\u8F83). \u5728\u65B0\u65E7\u5BF9\u8C61\u6BD4\u8F83\u65F6, \u53EA\u80FD\u6309\u7167",paraId:51,tocIndex:6},{value:"index",paraId:51,tocIndex:6},{value:`\u987A\u5E8F\u8FDB\u884C\u6BD4\u8F83, \u590D\u7528\u7684\u6210\u529F\u7387\u5927\u5927\u964D\u4F4E, \u5927\u5217\u8868\u4F1A\u51FA\u73B0\u6027\u80FD\u95EE\u9898.
`,paraId:51,tocIndex:6},{value:"\u4F8B\u5982\u4E00\u4E2A\u6392\u5E8F\u7684\u573A\u666F: ",paraId:52,tocIndex:6},{value:"oldFiber",paraId:52,tocIndex:6},{value:"\u961F\u5217\u6709 100 \u4E2A, ",paraId:52,tocIndex:6},{value:"newChildren",paraId:52,tocIndex:6},{value:"\u961F\u5217\u6709 100 \u4E2A(\u4F46\u662F\u6253\u4E71\u4E86\u987A\u5E8F). \u7531\u4E8E\u6CA1\u6709\u8BBE\u7F6E",paraId:52,tocIndex:6},{value:"key",paraId:52,tocIndex:6},{value:", \u5C31\u4F1A\u5BFC\u81F4",paraId:52,tocIndex:6},{value:"newChildren",paraId:52,tocIndex:6},{value:"\u4E2D\u7684\u7B2C n \u4E2A\u5FC5\u7136\u8981\u548C",paraId:52,tocIndex:6},{value:"oldFiber",paraId:52,tocIndex:6},{value:"\u961F\u5217\u4E2D\u7684\u7B2C n \u4E2A\u8FDB\u884C\u6BD4\u8F83, \u8FD9\u65F6\u5B83\u4EEC\u7684",paraId:52,tocIndex:6},{value:"key",paraId:52,tocIndex:6},{value:"\u5B8C\u5168\u4E00\u81F4(\u90FD\u662F",paraId:52,tocIndex:6},{value:"null",paraId:52,tocIndex:6},{value:"), \u7531\u4E8E\u987A\u5E8F\u53D8\u4E86\u5BFC\u81F4",paraId:52,tocIndex:6},{value:"props",paraId:52,tocIndex:6},{value:"\u4E0D\u540C, \u6240\u4EE5\u65B0\u7684",paraId:52,tocIndex:6},{value:"fiber",paraId:52,tocIndex:6},{value:"\u5B8C\u5168\u8981\u8D70\u66F4\u65B0\u903B\u8F91(\u7406\u8BBA\u4E0A\u6BD4\u65B0\u521B\u5EFA\u4E00\u4E2A\u7684\u6027\u80FD\u8FD8\u8981\u8017).",paraId:52,tocIndex:6},{value:"\u540C\u6837\u662F\u6392\u5E8F\u573A\u666F\u53EF\u4EE5\u51FA\u73B0\u7684 bug: \u4E0A\u9762\u7684\u573A\u666F\u53EA\u662F\u6027\u80FD\u5DEE(\u53C8\u4E0D\u662F\u4E0D\u80FD\u7528), ",paraId:52,tocIndex:6},{value:"key",paraId:52,tocIndex:6},{value:"\u4F7F\u7528\u4E0D\u5F53\u8FD8\u4F1A\u9020\u6210",paraId:52,tocIndex:6},{value:"bug",paraId:52,tocIndex:6},{value:"\u8FD8\u662F\u4E0A\u8FF0\u6392\u5E8F\u573A\u666F, \u53EA\u662F\u5217\u8868\u4E2D\u7684\u6BCF\u4E00\u4E2A",paraId:52,tocIndex:6},{value:"item",paraId:52,tocIndex:6},{value:"\u5185\u90E8\u53C8\u662F\u4E00\u4E2A\u7EC4\u4EF6, \u4E14\u5176\u4E2D\u67D0\u4E00\u4E2A",paraId:52,tocIndex:6},{value:"item",paraId:52,tocIndex:6},{value:"\u4F7F\u7528\u4E86\u5C40\u90E8\u72B6\u6001(\u6BD4\u5982",paraId:52,tocIndex:6},{value:"class\u7EC4\u4EF6",paraId:52,tocIndex:6},{value:"\u91CC\u9762\u7684",paraId:52,tocIndex:6},{value:"state",paraId:52,tocIndex:6},{value:"). \u5F53\u7B2C\u4E8C\u6B21",paraId:52,tocIndex:6},{value:"render",paraId:52,tocIndex:6},{value:"\u65F6, ",paraId:52,tocIndex:6},{value:"fiber",paraId:52,tocIndex:6},{value:"\u5BF9\u8C61\u4E0D\u4F1A",paraId:52,tocIndex:6},{value:"delete",paraId:52,tocIndex:6},{value:"\u53EA\u4F1A",paraId:52,tocIndex:6},{value:"update",paraId:52,tocIndex:6},{value:"\u5BFC\u81F4\u65B0\u7EC4\u4EF6\u7684",paraId:52,tocIndex:6},{value:"state",paraId:52,tocIndex:6},{value:"\u8FD8\u6CBF\u7528\u4E86\u4E0A\u4E00\u6B21\u76F8\u540C\u4F4D\u7F6E\u7684\u65E7\u7EC4\u4EF6\u7684",paraId:52,tocIndex:6},{value:"state",paraId:52,tocIndex:6},{value:", \u9020\u6210\u4E86\u72B6\u6001\u6DF7\u4E71.",paraId:52,tocIndex:6},{value:"\u5728",paraId:53,tocIndex:7},{value:"react",paraId:53,tocIndex:7},{value:"\u4E2D",paraId:53,tocIndex:7},{value:"key",paraId:53,tocIndex:7},{value:"\u662F\u670D\u52A1\u4E8E",paraId:53,tocIndex:7},{value:"diff\u7B97\u6CD5",paraId:53,tocIndex:7},{value:", \u5B83\u7684\u9ED8\u8BA4\u503C\u662F",paraId:53,tocIndex:7},{value:"null",paraId:53,tocIndex:7},{value:", \u5728",paraId:53,tocIndex:7},{value:"diff\u7B97\u6CD5",paraId:53,tocIndex:7},{value:"\u8FC7\u7A0B\u4E2D, \u65B0\u65E7\u8282\u70B9\u662F\u5426\u53EF\u4EE5\u590D\u7528, \u9996\u5148\u5C31\u4F1A\u5224\u5B9A",paraId:53,tocIndex:7},{value:"key",paraId:53,tocIndex:7},{value:"\u662F\u5426\u76F8\u540C, \u5176\u540E\u624D\u4F1A\u8FDB\u884C\u5176\u4ED6\u6761\u4EF6\u7684\u5224\u5B9A. \u5728\u6E90\u7801\u4E2D, \u9488\u5BF9\u591A\u8282\u70B9(\u5373\u5217\u8868\u7EC4\u4EF6)\u5982\u679C\u76F4\u63A5\u5C06",paraId:53,tocIndex:7},{value:"key",paraId:53,tocIndex:7},{value:"\u8BBE\u7F6E\u6210",paraId:53,tocIndex:7},{value:"index",paraId:53,tocIndex:7},{value:"\u548C\u4E0D\u8BBE\u7F6E\u4EFB\u4F55\u503C\u7684\u5904\u7406\u65B9\u6848\u662F\u4E00\u6837\u7684, \u5982\u679C\u4F7F\u7528\u4E0D\u5F53, \u8F7B\u5219\u9020\u6210\u6027\u80FD\u635F\u8017, \u91CD\u5219\u5F15\u8D77\u72B6\u6001\u6DF7\u4E71\u9020\u6210 bug.",paraId:53,tocIndex:7}],Ee={},Ue={title:"Hook \u539F\u7406(\u526F\u4F5C\u7528Hook)",toc:"menu",filename:"docs/main/hook-effect.md",group:"\u72B6\u6001\u7BA1\u7406",order:3,description:"\u672C\u8282\u5EFA\u7ACB\u5728\u524D\u6587Hook \u539F\u7406(\u6982\u89C8)\u548CHook \u539F\u7406(\u72B6\u6001 Hook)\u7684\u57FA\u7840\u4E4B\u4E0A, \u91CD\u70B9\u8BA8\u8BBAuseEffect, useLayoutEffect\u7B49\u6807\u51C6\u7684\u526F\u4F5C\u7528Hook."},je=[{id:"hook-\u539F\u7406\u526F\u4F5C\u7528-hook",depth:1,title:"Hook \u539F\u7406(\u526F\u4F5C\u7528 Hook)"},{id:"\u521B\u5EFA-hook",depth:2,title:"\u521B\u5EFA Hook"},{id:"\u521B\u5EFA-effect",depth:3,title:"\u521B\u5EFA Effect"},{id:"useeffect--uselayouteffect",depth:3,title:"useEffect & useLayoutEffect"},{id:"\u5904\u7406-effect-\u56DE\u8C03",depth:2,title:"\u5904\u7406 Effect \u56DE\u8C03"},{id:"commitbeforemutationeffects",depth:3,title:"commitBeforeMutationEffects"},{id:"commitmutationeffects",depth:3,title:"commitMutationEffects"},{id:"commitlayouteffects",depth:3,title:"commitLayoutEffects"},{id:"flushpassiveeffects",depth:3,title:"flushPassiveEffects"},{id:"\u66F4\u65B0-hook",depth:2,title:"\u66F4\u65B0 Hook"},{id:"\u66F4\u65B0-effect",depth:3,title:"\u66F4\u65B0 Effect"},{id:"\u5904\u7406-effect-\u56DE\u8C03-1",depth:3,title:"\u5904\u7406 Effect \u56DE\u8C03"},{id:"\u7EC4\u4EF6\u9500\u6BC1",depth:2,title:"\u7EC4\u4EF6\u9500\u6BC1"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"}],Ce=[{value:"\u672C\u8282\u5EFA\u7ACB\u5728\u524D\u6587",paraId:0,tocIndex:0},{value:"Hook \u539F\u7406(\u6982\u89C8)",paraId:1,tocIndex:0},{value:"\u548C",paraId:0,tocIndex:0},{value:"Hook \u539F\u7406(\u72B6\u6001 Hook)",paraId:2,tocIndex:0},{value:"\u7684\u57FA\u7840\u4E4B\u4E0A, \u91CD\u70B9\u8BA8\u8BBA",paraId:0,tocIndex:0},{value:"useEffect, useLayoutEffect",paraId:0,tocIndex:0},{value:"\u7B49\u6807\u51C6\u7684",paraId:0,tocIndex:0},{value:"\u526F\u4F5C\u7528Hook",paraId:0,tocIndex:0},{value:".",paraId:0,tocIndex:0},{value:"\u5728",paraId:3,tocIndex:1},{value:"fiber",paraId:3,tocIndex:1},{value:"\u521D\u6B21\u6784\u9020\u9636\u6BB5, ",paraId:3,tocIndex:1},{value:"useEffect",paraId:3,tocIndex:1},{value:"\u5BF9\u5E94\u6E90\u7801",paraId:3,tocIndex:1},{value:"mountEffect",paraId:3,tocIndex:1},{value:", ",paraId:3,tocIndex:1},{value:"useLayoutEffect",paraId:3,tocIndex:1},{value:"\u5BF9\u5E94\u6E90\u7801",paraId:3,tocIndex:1},{value:"mountLayoutEffect",paraId:3,tocIndex:1},{value:"mountEffect",paraId:4,tocIndex:1},{value:":",paraId:4,tocIndex:1},{value:`function mountEffect(
  create: () => (() => void) | void,
  deps: Array<mixed> | void | null,
): void {
  return mountEffectImpl(
    UpdateEffect | PassiveEffect, // fiberFlags
    HookPassive, // hookFlags
    create,
    deps,
  );
}
`,paraId:5,tocIndex:1},{value:"mountLayoutEffect",paraId:6,tocIndex:1},{value:":",paraId:6,tocIndex:1},{value:`function mountLayoutEffect(
  create: () => (() => void) | void,
  deps: Array<mixed> | void | null,
): void {
  return mountEffectImpl(
    UpdateEffect, // fiberFlags
    HookLayout, // hookFlags
    create,
    deps,
  );
}
`,paraId:7,tocIndex:1},{value:"\u53EF\u89C1",paraId:8,tocIndex:1},{value:"mountEffect",paraId:8,tocIndex:1},{value:"\u548C",paraId:8,tocIndex:1},{value:"mountLayoutEffect",paraId:8,tocIndex:1},{value:"\u5185\u90E8\u90FD\u76F4\u63A5\u8C03\u7528",paraId:8,tocIndex:1},{value:"mountEffectImpl",paraId:8,tocIndex:1},{value:", \u53EA\u662F\u53C2\u6570\u4E0D\u540C.",paraId:8,tocIndex:1},{value:"mountEffectImpl",paraId:9,tocIndex:1},{value:":",paraId:9,tocIndex:1},{value:`function mountEffectImpl(fiberFlags, hookFlags, create, deps): void {
  // 1. \u521B\u5EFAhook
  const hook = mountWorkInProgressHook();
  const nextDeps = deps === undefined ? null : deps;
  // 2. \u8BBE\u7F6EworkInProgress\u7684\u526F\u4F5C\u7528\u6807\u8BB0
  currentlyRenderingFiber.flags |= fiberFlags; // fiberFlags \u88AB\u6807\u8BB0\u5230workInProgress
  // 2. \u521B\u5EFAEffect, \u6302\u8F7D\u5230hook.memoizedState\u4E0A
  hook.memoizedState = pushEffect(
    HookHasEffect | hookFlags, // hookFlags\u7528\u4E8E\u521B\u5EFAeffect
    create,
    undefined,
    nextDeps,
  );
}
`,paraId:10,tocIndex:1},{value:"mountEffectImpl",paraId:11,tocIndex:1},{value:"\u903B\u8F91:",paraId:11,tocIndex:1},{value:"\u521B\u5EFA",paraId:12,tocIndex:1},{value:"hook",paraId:12,tocIndex:1},{value:"\u8BBE\u7F6E",paraId:12,tocIndex:1},{value:"workInProgress",paraId:12,tocIndex:1},{value:"\u7684\u526F\u4F5C\u7528\u6807\u8BB0: ",paraId:12,tocIndex:1},{value:"flags |= fiberFlags",paraId:12,tocIndex:1},{value:"\u521B\u5EFA",paraId:12,tocIndex:1},{value:"effect",paraId:12,tocIndex:1},{value:"(\u5728",paraId:12,tocIndex:1},{value:"pushEffect",paraId:12,tocIndex:1},{value:"\u4E2D), \u6302\u8F7D\u5230",paraId:12,tocIndex:1},{value:"hook.memoizedState",paraId:12,tocIndex:1},{value:"\u4E0A, \u5373 ",paraId:12,tocIndex:1},{value:"hook.memoizedState = effect",paraId:12,tocIndex:1},{value:"\u6CE8\u610F: ",paraId:13,tocIndex:1},{value:"\u72B6\u6001Hook",paraId:13,tocIndex:1},{value:"\u4E2D",paraId:13,tocIndex:1},{value:"hook.memoizedState = state",paraId:13,tocIndex:1},{value:"pushEffect",paraId:14,tocIndex:2},{value:":",paraId:14,tocIndex:2},{value:`function pushEffect(tag, create, destroy, deps) {
  // 1. \u521B\u5EFAeffect\u5BF9\u8C61
  const effect: Effect = {
    tag,
    create,
    destroy,
    deps,
    next: (null: any),
  };
  // 2. \u628Aeffect\u5BF9\u8C61\u6DFB\u52A0\u5230\u73AF\u5F62\u94FE\u8868\u672B\u5C3E
  let componentUpdateQueue: null | FunctionComponentUpdateQueue =
    (currentlyRenderingFiber.updateQueue: any);
  if (componentUpdateQueue === null) {
    // \u65B0\u5EFA workInProgress.updateQueue \u7528\u4E8E\u6302\u8F7Deffect\u5BF9\u8C61
    componentUpdateQueue = createFunctionComponentUpdateQueue();
    currentlyRenderingFiber.updateQueue = (componentUpdateQueue: any);
    // updateQueue.lastEffect\u662F\u4E00\u4E2A\u73AF\u5F62\u94FE\u8868
    componentUpdateQueue.lastEffect = effect.next = effect;
  } else {
    const lastEffect = componentUpdateQueue.lastEffect;
    if (lastEffect === null) {
      componentUpdateQueue.lastEffect = effect.next = effect;
    } else {
      const firstEffect = lastEffect.next;
      lastEffect.next = effect;
      effect.next = firstEffect;
      componentUpdateQueue.lastEffect = effect;
    }
  }
  // 3. \u8FD4\u56DEeffect
  return effect;
}
`,paraId:15,tocIndex:2},{value:"pushEffect",paraId:16,tocIndex:2},{value:"\u903B\u8F91:",paraId:16,tocIndex:2},{value:"\u521B\u5EFA",paraId:17,tocIndex:2},{value:"effect",paraId:17,tocIndex:2},{value:".",paraId:17,tocIndex:2},{value:"\u628A",paraId:17,tocIndex:2},{value:"effect",paraId:17,tocIndex:2},{value:"\u5BF9\u8C61\u6DFB\u52A0\u5230\u73AF\u5F62\u94FE\u8868\u672B\u5C3E.",paraId:17,tocIndex:2},{value:"\u8FD4\u56DE",paraId:17,tocIndex:2},{value:"effect",paraId:17,tocIndex:2},{value:".",paraId:17,tocIndex:2},{value:"effect",paraId:18,tocIndex:2},{value:"\u7684\u6570\u636E\u7ED3\u6784:",paraId:18,tocIndex:2},{value:`export type Effect = {|
  tag: HookFlags,
  create: () => (() => void) | void,
  destroy: (() => void) | void,
  deps: Array<mixed> | null,
  next: Effect,
|};
`,paraId:19,tocIndex:2},{value:"effect.tag",paraId:20,tocIndex:2},{value:": \u4F7F\u7528\u4F4D\u63A9\u7801\u5F62\u5F0F, \u4EE3\u8868",paraId:20,tocIndex:2},{value:"effect",paraId:20,tocIndex:2},{value:"\u7684\u7C7B\u578B(",paraId:20,tocIndex:2},{value:"\u6E90\u7801",paraId:20,tocIndex:2},{value:").",paraId:20,tocIndex:2},{value:`export const NoFlags = /*  */ 0b000;
export const HasEffect = /* */ 0b001; // \u6709\u526F\u4F5C\u7528, \u53EF\u4EE5\u88AB\u89E6\u53D1
export const Layout = /*    */ 0b010; // Layout, dom\u7A81\u53D8\u540E\u540C\u6B65\u89E6\u53D1
export const Passive = /*   */ 0b100; // Passive, dom\u7A81\u53D8\u524D\u5F02\u6B65\u89E6\u53D1
`,paraId:21,tocIndex:2},{value:"effect.create",paraId:22,tocIndex:2},{value:": \u5B9E\u9645\u4E0A\u5C31\u662F\u901A\u8FC7",paraId:22,tocIndex:2},{value:"useEffect()",paraId:22,tocIndex:2},{value:"\u6240\u4F20\u5165\u7684\u51FD\u6570.",paraId:22,tocIndex:2},{value:"effect.deps",paraId:23,tocIndex:2},{value:": \u4F9D\u8D56\u9879, \u5982\u679C\u4F9D\u8D56\u9879\u53D8\u52A8, \u4F1A\u521B\u5EFA\u65B0\u7684",paraId:23,tocIndex:2},{value:"effect",paraId:23,tocIndex:2},{value:".",paraId:23,tocIndex:2},{value:"renderWithHooks",paraId:24,tocIndex:2},{value:"\u6267\u884C\u5B8C\u6210\u540E, \u6211\u4EEC\u53EF\u4EE5\u753B\u51FA",paraId:24,tocIndex:2},{value:"fiber",paraId:24,tocIndex:2},{value:",",paraId:24,tocIndex:2},{value:"hook",paraId:24,tocIndex:2},{value:",",paraId:24,tocIndex:2},{value:"effect",paraId:24,tocIndex:2},{value:"\u4E09\u8005\u7684\u5F15\u7528\u5173\u7CFB:",paraId:24,tocIndex:2},{value:"\u73B0\u5728",paraId:25,tocIndex:2},{value:"workInProgress.flags",paraId:25,tocIndex:2},{value:"\u88AB\u6253\u4E0A\u4E86\u6807\u8BB0, \u6700\u540E\u4F1A\u5728",paraId:25,tocIndex:2},{value:"fiber\u6811\u6E32\u67D3",paraId:25,tocIndex:2},{value:"\u9636\u6BB5\u7684",paraId:25,tocIndex:2},{value:"commitRoot",paraId:25,tocIndex:2},{value:"\u51FD\u6570\u4E2D\u5904\u7406. (\u8FD9\u671F\u95F4\u7684\u6240\u6709\u8FC7\u7A0B\u53EF\u4EE5\u56DE\u987E\u524D\u6587",paraId:25,tocIndex:2},{value:"fiber\u6811\u6784\u9020/fiber\u6811\u6E32\u67D3",paraId:25,tocIndex:2},{value:"\u7CFB\u5217, \u6B64\u5904\u4E0D\u518D\u8D58\u8FF0)",paraId:25,tocIndex:2},{value:"\u7AD9\u5728",paraId:26,tocIndex:3},{value:"fiber,hook,effect",paraId:26,tocIndex:3},{value:"\u7684\u89C6\u89D2, \u65E0\u9700\u5173\u5FC3\u8FD9\u4E2A",paraId:26,tocIndex:3},{value:"hook",paraId:26,tocIndex:3},{value:"\u662F\u901A\u8FC7",paraId:26,tocIndex:3},{value:"useEffect",paraId:26,tocIndex:3},{value:"\u8FD8\u662F",paraId:26,tocIndex:3},{value:"useLayoutEffect",paraId:26,tocIndex:3},{value:"\u521B\u5EFA\u7684. \u53EA\u9700\u8981\u5173\u5FC3\u5185\u90E8",paraId:26,tocIndex:3},{value:"fiber.flags",paraId:26,tocIndex:3},{value:",",paraId:26,tocIndex:3},{value:"effect.tag",paraId:26,tocIndex:3},{value:"\u7684\u72B6\u6001.",paraId:26,tocIndex:3},{value:"\u6240\u4EE5",paraId:27,tocIndex:3},{value:"useEffect",paraId:27,tocIndex:3},{value:"\u4E0E",paraId:27,tocIndex:3},{value:"useLayoutEffect",paraId:27,tocIndex:3},{value:"\u7684\u533A\u522B\u5982\u4E0B:",paraId:27,tocIndex:3},{value:"fiber.flags",paraId:28,tocIndex:3},{value:"\u4E0D\u540C",paraId:28,tocIndex:3},{value:"\u4F7F\u7528",paraId:29,tocIndex:3},{value:"useEffect",paraId:29,tocIndex:3},{value:"\u65F6: ",paraId:29,tocIndex:3},{value:"fiber.flags = UpdateEffect | PassiveEffect",paraId:29,tocIndex:3},{value:".",paraId:29,tocIndex:3},{value:"\u4F7F\u7528",paraId:29,tocIndex:3},{value:"useLayoutEffect",paraId:29,tocIndex:3},{value:"\u65F6: ",paraId:29,tocIndex:3},{value:"fiber.flags = UpdateEffect",paraId:29,tocIndex:3},{value:".",paraId:29,tocIndex:3},{value:"effect.tag",paraId:30,tocIndex:3},{value:"\u4E0D\u540C",paraId:30,tocIndex:3},{value:"\u4F7F\u7528",paraId:31,tocIndex:3},{value:"useEffect",paraId:31,tocIndex:3},{value:"\u65F6: ",paraId:31,tocIndex:3},{value:"effect.tag = HookHasEffect | HookPassive",paraId:31,tocIndex:3},{value:".",paraId:31,tocIndex:3},{value:"\u4F7F\u7528",paraId:31,tocIndex:3},{value:"useLayoutEffect",paraId:31,tocIndex:3},{value:"\u65F6: ",paraId:31,tocIndex:3},{value:"effect.tag = HookHasEffect | HookLayout",paraId:31,tocIndex:3},{value:".",paraId:31,tocIndex:3},{value:"\u5B8C\u6210",paraId:32,tocIndex:4},{value:"fiber\u6811\u6784\u9020",paraId:32,tocIndex:4},{value:"\u540E, \u903B\u8F91\u4F1A\u8FDB\u5165",paraId:32,tocIndex:4},{value:"\u6E32\u67D3",paraId:32,tocIndex:4},{value:"\u9636\u6BB5. \u901A\u8FC7",paraId:32,tocIndex:4},{value:"fiber \u6811\u6E32\u67D3",paraId:33,tocIndex:4},{value:"\u4E2D\u7684\u4ECB\u7ECD, \u5728",paraId:32,tocIndex:4},{value:"commitRootImpl",paraId:32,tocIndex:4},{value:"\u51FD\u6570\u4E2D, \u6574\u4E2A\u6E32\u67D3\u8FC7\u7A0B\u88AB 3 \u4E2A\u51FD\u6570\u5206\u5E03\u5B9E\u73B0:",paraId:32,tocIndex:4},{value:"commitBeforeMutationEffects",paraId:34,tocIndex:4},{value:"commitMutationEffects",paraId:34,tocIndex:4},{value:"commitLayoutEffects",paraId:34,tocIndex:4},{value:"\u8FD9 3 \u4E2A\u51FD\u6570\u4F1A\u5904\u7406",paraId:35,tocIndex:4},{value:"fiber.flags",paraId:35,tocIndex:4},{value:", \u4E5F\u4F1A\u6839\u636E\u60C5\u51B5\u5904\u7406",paraId:35,tocIndex:4},{value:"fiber.updateQueue.lastEffect",paraId:35,tocIndex:4},{value:"\u7B2C\u4E00\u9636\u6BB5: dom \u53D8\u66F4\u4E4B\u524D, \u5904\u7406\u526F\u4F5C\u7528\u961F\u5217\u4E2D\u5E26\u6709",paraId:36,tocIndex:5},{value:"Passive",paraId:36,tocIndex:5},{value:"\u6807\u8BB0\u7684",paraId:36,tocIndex:5},{value:"fiber",paraId:36,tocIndex:5},{value:"\u8282\u70B9.",paraId:36,tocIndex:5},{value:`function commitBeforeMutationEffects() {
  while (nextEffect !== null) {
    // ...\u7701\u7565\u65E0\u5173\u4EE3\u7801, \u53EA\u4FDD\u7559Hook\u76F8\u5173

    // \u5904\u7406\`Passive\`\u6807\u8BB0
    const flags = nextEffect.flags;
    if ((flags & Passive) !== NoFlags) {
      if (!rootDoesHavePassiveEffects) {
        rootDoesHavePassiveEffects = true;
        scheduleCallback(NormalSchedulerPriority, () => {
          flushPassiveEffects();
          return null;
        });
      }
    }
    nextEffect = nextEffect.nextEffect;
  }
}
`,paraId:37,tocIndex:5},{value:"\u6CE8\u610F: \u7531\u4E8E",paraId:38,tocIndex:5},{value:"flushPassiveEffects",paraId:38,tocIndex:5},{value:"\u88AB\u5305\u88F9\u5728",paraId:38,tocIndex:5},{value:"scheduleCallback",paraId:38,tocIndex:5},{value:"\u56DE\u8C03\u4E2D, \u7531",paraId:38,tocIndex:5},{value:"\u8C03\u5EA6\u4E2D\u5FC3",paraId:38,tocIndex:5},{value:"\u6765\u5904\u7406, \u4E14\u53C2\u6570\u662F",paraId:38,tocIndex:5},{value:"NormalSchedulerPriority",paraId:38,tocIndex:5},{value:", \u6545\u8FD9\u662F\u4E00\u4E2A\u5F02\u6B65\u56DE\u8C03(\u5177\u4F53\u539F\u7406\u53EF\u4EE5\u56DE\u987E",paraId:38,tocIndex:5},{value:"React \u8C03\u5EA6\u539F\u7406(scheduler)",paraId:39,tocIndex:5},{value:").",paraId:38,tocIndex:5},{value:"\u7531\u4E8E",paraId:40,tocIndex:5},{value:"scheduleCallback(NormalSchedulerPriority,callback)",paraId:40,tocIndex:5},{value:"\u662F\u5F02\u6B65\u7684, ",paraId:40,tocIndex:5},{value:"flushPassiveEffects",paraId:40,tocIndex:5},{value:"\u5E76\u4E0D\u4F1A\u7ACB\u5373\u6267\u884C. \u6B64\u5904\u5148\u8DF3\u8FC7",paraId:40,tocIndex:5},{value:"flushPassiveEffects",paraId:40,tocIndex:5},{value:"\u7684\u5206\u6790, \u7EE7\u7EED\u8DDF\u8FDB",paraId:40,tocIndex:5},{value:"commitRoot",paraId:40,tocIndex:5},{value:".",paraId:40,tocIndex:5},{value:"\u7B2C\u4E8C\u9636\u6BB5: dom \u53D8\u66F4, \u754C\u9762\u5F97\u5230\u66F4\u65B0.",paraId:41,tocIndex:6},{value:`function commitMutationEffects(
  root: FiberRoot,
  renderPriorityLevel: ReactPriorityLevel,
) {
  // ...\u7701\u7565\u65E0\u5173\u4EE3\u7801, \u53EA\u4FDD\u7559Hook\u76F8\u5173
  while (nextEffect !== null) {
    const flags = nextEffect.flags;
    const primaryFlags = flags & (Placement | Update | Deletion | Hydrating);
    switch (primaryFlags) {
      case Update: {
        // useEffect,useLayoutEffect\u90FD\u4F1A\u8BBE\u7F6EUpdate\u6807\u8BB0
        // \u66F4\u65B0\u8282\u70B9
        const current = nextEffect.alternate;
        commitWork(current, nextEffect);
        break;
      }
    }
    nextEffect = nextEffect.nextEffect;
  }
}

function commitWork(current: Fiber | null, finishedWork: Fiber): void {
  // ...\u7701\u7565\u65E0\u5173\u4EE3\u7801, \u53EA\u4FDD\u7559Hook\u76F8\u5173
  switch (finishedWork.tag) {
    case FunctionComponent:
    case ForwardRef:
    case MemoComponent:
    case SimpleMemoComponent:
    case Block: {
      // \u5728\u7A81\u53D8\u9636\u6BB5\u8C03\u7528\u9500\u6BC1\u51FD\u6570, \u4FDD\u8BC1\u6240\u6709\u7684effect.destroy\u51FD\u6570\u90FD\u4F1A\u5728effect.create\u4E4B\u524D\u6267\u884C
      commitHookEffectListUnmount(HookLayout | HookHasEffect, finishedWork);
      return;
    }
  }
}

// \u4F9D\u6B21\u6267\u884C: effect.destroy
function commitHookEffectListUnmount(tag: number, finishedWork: Fiber) {
  const updateQueue: FunctionComponentUpdateQueue | null =
    (finishedWork.updateQueue: any);
  const lastEffect = updateQueue !== null ? updateQueue.lastEffect : null;
  if (lastEffect !== null) {
    const firstEffect = lastEffect.next;
    let effect = firstEffect;
    do {
      if ((effect.tag & tag) === tag) {
        // \u6839\u636E\u4F20\u5165\u7684tag\u8FC7\u6EE4 effect\u94FE\u8868.
        const destroy = effect.destroy;
        effect.destroy = undefined;
        if (destroy !== undefined) {
          destroy();
        }
      }
      effect = effect.next;
    } while (effect !== firstEffect);
  }
}
`,paraId:42,tocIndex:6},{value:"\u8C03\u7528\u5173\u7CFB: ",paraId:43,tocIndex:6},{value:"commitMutationEffects->commitWork->commitHookEffectListUnmount",paraId:43,tocIndex:6},{value:".",paraId:43,tocIndex:6},{value:"\u6CE8\u610F\u5728\u8C03\u7528",paraId:44,tocIndex:6},{value:"commitHookEffectListUnmount(HookLayout | HookHasEffect, finishedWork)",paraId:44,tocIndex:6},{value:"\u65F6, \u53C2\u6570\u662F",paraId:44,tocIndex:6},{value:"HookLayout | HookHasEffect",paraId:44,tocIndex:6},{value:".",paraId:44,tocIndex:6},{value:"\u800C",paraId:44,tocIndex:6},{value:"HookLayout | HookHasEffect",paraId:44,tocIndex:6},{value:"\u662F\u901A\u8FC7",paraId:44,tocIndex:6},{value:"useLayoutEffect",paraId:44,tocIndex:6},{value:"\u521B\u5EFA\u7684",paraId:44,tocIndex:6},{value:"effect",paraId:44,tocIndex:6},{value:". \u6240\u4EE5",paraId:44,tocIndex:6},{value:"commitHookEffectListUnmount",paraId:44,tocIndex:6},{value:"\u51FD\u6570\u53EA\u80FD\u5904\u7406\u7531",paraId:44,tocIndex:6},{value:"useLayoutEffect()",paraId:44,tocIndex:6},{value:"\u521B\u5EFA\u7684",paraId:44,tocIndex:6},{value:"effect",paraId:44,tocIndex:6},{value:".",paraId:44,tocIndex:6},{value:"\u540C\u6B65\u8C03\u7528",paraId:44,tocIndex:6},{value:"effect.destroy()",paraId:44,tocIndex:6},{value:".",paraId:44,tocIndex:6},{value:"\u7B2C\u4E09\u9636\u6BB5: dom \u53D8\u66F4\u540E",paraId:45,tocIndex:7},{value:`function commitLayoutEffects(root: FiberRoot, committedLanes: Lanes) {
  // ...\u7701\u7565\u65E0\u5173\u4EE3\u7801, \u53EA\u4FDD\u7559Hook\u76F8\u5173
  while (nextEffect !== null) {
    const flags = nextEffect.flags;
    if (flags & (Update | Callback)) {
      // useEffect,useLayoutEffect\u90FD\u4F1A\u8BBE\u7F6EUpdate\u6807\u8BB0
      const current = nextEffect.alternate;
      commitLayoutEffectOnFiber(root, current, nextEffect, committedLanes);
    }
    nextEffect = nextEffect.nextEffect;
  }
}

function commitLifeCycles(
  finishedRoot: FiberRoot,
  current: Fiber | null,
  finishedWork: Fiber,
  committedLanes: Lanes,
): void {
  // ...\u7701\u7565\u65E0\u5173\u4EE3\u7801, \u53EA\u4FDD\u7559Hook\u76F8\u5173
  switch (finishedWork.tag) {
    case FunctionComponent:
    case ForwardRef:
    case SimpleMemoComponent:
    case Block: {
      // \u5728\u6B64\u4E4B\u524DcommitMutationEffects\u51FD\u6570\u4E2D, effect.destroy\u5DF2\u7ECF\u88AB\u8C03\u7528, \u6240\u4EE5effect.destroy\u6C38\u8FDC\u4E0D\u4F1A\u5F71\u54CD\u5230effect.create
      commitHookEffectListMount(HookLayout | HookHasEffect, finishedWork);

      schedulePassiveEffects(finishedWork);
      return;
    }
  }
}

function commitHookEffectListMount(tag: number, finishedWork: Fiber) {
  const updateQueue: FunctionComponentUpdateQueue | null =
    (finishedWork.updateQueue: any);
  const lastEffect = updateQueue !== null ? updateQueue.lastEffect : null;
  if (lastEffect !== null) {
    const firstEffect = lastEffect.next;
    let effect = firstEffect;
    do {
      if ((effect.tag & tag) === tag) {
        const create = effect.create;
        effect.destroy = create();
      }
      effect = effect.next;
    } while (effect !== firstEffect);
  }
}
`,paraId:46,tocIndex:7},{value:"\u8C03\u7528\u5173\u7CFB: ",paraId:47,tocIndex:7},{value:"commitLayoutEffects->commitLayoutEffectOnFiber(commitLifeCycles)->commitHookEffectListMount",paraId:47,tocIndex:7},{value:".",paraId:47,tocIndex:7},{value:"\u6CE8\u610F\u5728\u8C03\u7528",paraId:48,tocIndex:7},{value:"commitHookEffectListMount(HookLayout | HookHasEffect, finishedWork)",paraId:48,tocIndex:7},{value:"\u65F6, \u53C2\u6570\u662F",paraId:48,tocIndex:7},{value:"HookLayout | HookHasEffect",paraId:48,tocIndex:7},{value:",\u6240\u4EE5\u53EA\u5904\u7406\u7531",paraId:48,tocIndex:7},{value:"useLayoutEffect()",paraId:48,tocIndex:7},{value:"\u521B\u5EFA\u7684",paraId:48,tocIndex:7},{value:"effect",paraId:48,tocIndex:7},{value:".",paraId:48,tocIndex:7},{value:"\u8C03\u7528",paraId:48,tocIndex:7},{value:"effect.create()",paraId:48,tocIndex:7},{value:"\u4E4B\u540E, \u5C06\u8FD4\u56DE\u503C\u8D4B\u503C\u5230",paraId:48,tocIndex:7},{value:"effect.destroy",paraId:48,tocIndex:7},{value:".",paraId:48,tocIndex:7},{value:"\u4E3A",paraId:49,tocIndex:7},{value:"flushPassiveEffects",paraId:49,tocIndex:7},{value:"\u505A\u51C6\u5907",paraId:49,tocIndex:7},{value:"commitLifeCycles",paraId:50,tocIndex:7},{value:"\u4E2D\u7684",paraId:50,tocIndex:7},{value:"schedulePassiveEffects(finishedWork)",paraId:50,tocIndex:7},{value:", \u5176\u5F62\u53C2",paraId:50,tocIndex:7},{value:"finishedWork",paraId:50,tocIndex:7},{value:"\u5B9E\u9645\u4E0A\u6307\u4EE3\u5F53\u524D\u6B63\u5728\u88AB\u904D\u5386\u7684",paraId:50,tocIndex:7},{value:"\u6709\u526F\u4F5C\u7528\u7684fiber",paraId:50,tocIndex:7},{value:"schedulePassiveEffects",paraId:51,tocIndex:7},{value:"\u6BD4\u8F83\u7B80\u5355, \u5C31\u662F\u628A\u5E26\u6709",paraId:51,tocIndex:7},{value:"Passive",paraId:51,tocIndex:7},{value:"\u6807\u8BB0\u7684",paraId:51,tocIndex:7},{value:"effect",paraId:51,tocIndex:7},{value:"\u7B5B\u9009\u51FA\u6765(\u7531",paraId:51,tocIndex:7},{value:"useEffect",paraId:51,tocIndex:7},{value:"\u521B\u5EFA), \u6DFB\u52A0\u5230\u4E00\u4E2A\u5168\u5C40\u6570\u7EC4(",paraId:51,tocIndex:7},{value:"pendingPassiveHookEffectsUnmount",paraId:51,tocIndex:7},{value:"\u548C",paraId:51,tocIndex:7},{value:"pendingPassiveHookEffectsMount",paraId:51,tocIndex:7},{value:").",paraId:51,tocIndex:7},{value:`function schedulePassiveEffects(finishedWork: Fiber) {
  // 1. \u83B7\u53D6 fiber.updateQueue
  const updateQueue: FunctionComponentUpdateQueue | null =
    (finishedWork.updateQueue: any);
  // 2. \u83B7\u53D6 effect\u73AF\u5F62\u961F\u5217
  const lastEffect = updateQueue !== null ? updateQueue.lastEffect : null;
  if (lastEffect !== null) {
    const firstEffect = lastEffect.next;
    let effect = firstEffect;
    do {
      const { next, tag } = effect;
      // 3. \u7B5B\u9009\u51FA\u7531useEffect()\u521B\u5EFA\u7684\`effect\`
      if (
        (tag & HookPassive) !== NoHookEffect &&
        (tag & HookHasEffect) !== NoHookEffect
      ) {
        // \u628Aeffect\u6DFB\u52A0\u5230\u5168\u5C40\u6570\u7EC4, \u7B49\u5F85\`flushPassiveEffects\`\u5904\u7406
        enqueuePendingPassiveHookEffectUnmount(finishedWork, effect);
        enqueuePendingPassiveHookEffectMount(finishedWork, effect);
      }
      effect = next;
    } while (effect !== firstEffect);
  }
}

export function enqueuePendingPassiveHookEffectUnmount(
  fiber: Fiber,
  effect: HookEffect,
): void {
  // unmount effects \u6570\u7EC4
  pendingPassiveHookEffectsUnmount.push(effect, fiber);
}

export function enqueuePendingPassiveHookEffectMount(
  fiber: Fiber,
  effect: HookEffect,
): void {
  // mount effects \u6570\u7EC4
  pendingPassiveHookEffectsMount.push(effect, fiber);
}
`,paraId:52,tocIndex:7},{value:"\u7EFC\u4E0A",paraId:53,tocIndex:7},{value:"commitMutationEffects",paraId:53,tocIndex:7},{value:"\u548C",paraId:53,tocIndex:7},{value:"commitLayoutEffects",paraId:53,tocIndex:7},{value:"2 \u4E2A\u51FD\u6570, \u5E26\u6709",paraId:53,tocIndex:7},{value:"Layout",paraId:53,tocIndex:7},{value:"\u6807\u8BB0\u7684",paraId:53,tocIndex:7},{value:"effect",paraId:53,tocIndex:7},{value:"(\u7531",paraId:53,tocIndex:7},{value:"useLayoutEffect",paraId:53,tocIndex:7},{value:"\u521B\u5EFA), \u5DF2\u7ECF\u5F97\u5230\u4E86\u5B8C\u6574\u7684\u56DE\u8C03\u5904\u7406(",paraId:53,tocIndex:7},{value:"destroy",paraId:53,tocIndex:7},{value:"\u548C",paraId:53,tocIndex:7},{value:"create",paraId:53,tocIndex:7},{value:"\u5DF2\u7ECF\u88AB\u8C03\u7528).",paraId:53,tocIndex:7},{value:"\u5982\u4E0B\u56FE:",paraId:54,tocIndex:7},{value:`
\u5176\u4E2D\u7B2C\u4E00\u4E2A`,paraId:54,tocIndex:7},{value:"effect",paraId:54,tocIndex:7},{value:"\u62E5\u6709",paraId:54,tocIndex:7},{value:"Layout",paraId:54,tocIndex:7},{value:"\u6807\u8BB0,\u4F1A\u6267\u884C",paraId:54,tocIndex:7},{value:"effect.destroy(); effect.destroy = effect.create()",paraId:54,tocIndex:7},{value:"\u5728\u4E0A\u6587",paraId:55,tocIndex:8},{value:"commitBeforeMutationEffects",paraId:55,tocIndex:8},{value:"\u9636\u6BB5, \u5F02\u6B65\u8C03\u7528\u4E86",paraId:55,tocIndex:8},{value:"flushPassiveEffects",paraId:55,tocIndex:8},{value:". \u5728\u8FD9\u671F\u95F4\u5E26\u6709",paraId:55,tocIndex:8},{value:"Passive",paraId:55,tocIndex:8},{value:"\u6807\u8BB0\u7684",paraId:55,tocIndex:8},{value:"effect",paraId:55,tocIndex:8},{value:"\u5DF2\u7ECF\u88AB\u6DFB\u52A0\u5230",paraId:55,tocIndex:8},{value:"pendingPassiveHookEffectsUnmount",paraId:55,tocIndex:8},{value:"\u548C",paraId:55,tocIndex:8},{value:"pendingPassiveHookEffectsMount",paraId:55,tocIndex:8},{value:"\u5168\u5C40\u6570\u7EC4\u4E2D.",paraId:55,tocIndex:8},{value:"\u63A5\u4E0B\u6765",paraId:56,tocIndex:8},{value:"flushPassiveEffects",paraId:56,tocIndex:8},{value:"\u5C31\u53EF\u4EE5\u8131\u79BB",paraId:56,tocIndex:8},{value:"fiber\u8282\u70B9",paraId:56,tocIndex:8},{value:", \u76F4\u63A5\u8BBF\u95EE",paraId:56,tocIndex:8},{value:"effects",paraId:56,tocIndex:8},{value:`export function flushPassiveEffects(): boolean {
  // Returns whether passive effects were flushed.
  if (pendingPassiveEffectsRenderPriority !== NoSchedulerPriority) {
    const priorityLevel =
      pendingPassiveEffectsRenderPriority > NormalSchedulerPriority
        ? NormalSchedulerPriority
        : pendingPassiveEffectsRenderPriority;
    pendingPassiveEffectsRenderPriority = NoSchedulerPriority;
    // \`runWithPriority\`\u8BBE\u7F6ESchedule\u4E2D\u7684\u8C03\u5EA6\u4F18\u5148\u7EA7, \u5982\u679C\u5728flushPassiveEffectsImpl\u4E2D\u5904\u7406effect\u65F6\u53C8\u53D1\u8D77\u4E86\u65B0\u7684\u66F4\u65B0, \u90A3\u4E48\u65B0\u7684update.lane\u5C06\u4F1A\u53D7\u5230\u8FD9\u4E2ApriorityLevel\u5F71\u54CD.
    return runWithPriority(priorityLevel, flushPassiveEffectsImpl);
  }
  return false;
}

// ...\u7701\u7565\u65E0\u5173\u4EE3\u7801, \u53EA\u4FDD\u7559Hook\u76F8\u5173
function flushPassiveEffectsImpl() {
  if (rootWithPendingPassiveEffects === null) {
    return false;
  }
  rootWithPendingPassiveEffects = null;
  pendingPassiveEffectsLanes = NoLanes;

  // 1. \u6267\u884C effect.destroy()
  const unmountEffects = pendingPassiveHookEffectsUnmount;
  pendingPassiveHookEffectsUnmount = [];
  for (let i = 0; i < unmountEffects.length; i += 2) {
    const effect = ((unmountEffects[i]: any): HookEffect);
    const fiber = ((unmountEffects[i + 1]: any): Fiber);
    const destroy = effect.destroy;
    effect.destroy = undefined;
    if (typeof destroy === 'function') {
      destroy();
    }
  }

  // 2. \u6267\u884C\u65B0 effect.create(), \u91CD\u65B0\u8D4B\u503C\u5230 effect.destroy
  const mountEffects = pendingPassiveHookEffectsMount;
  pendingPassiveHookEffectsMount = [];
  for (let i = 0; i < mountEffects.length; i += 2) {
    const effect = ((mountEffects[i]: any): HookEffect);
    const fiber = ((mountEffects[i + 1]: any): Fiber);
    effect.destroy = create();
  }
}
`,paraId:57,tocIndex:8},{value:"\u5176\u6838\u5FC3\u903B\u8F91:",paraId:58,tocIndex:8},{value:"\u904D\u5386",paraId:59,tocIndex:8},{value:"pendingPassiveHookEffectsUnmount",paraId:59,tocIndex:8},{value:"\u4E2D\u7684\u6240\u6709",paraId:59,tocIndex:8},{value:"effect",paraId:59,tocIndex:8},{value:", \u8C03\u7528",paraId:59,tocIndex:8},{value:"effect.destroy()",paraId:59,tocIndex:8},{value:`.
`,paraId:59,tocIndex:8},{value:"\u540C\u65F6\u6E05\u7A7A",paraId:60,tocIndex:8},{value:"pendingPassiveHookEffectsUnmount",paraId:60,tocIndex:8},{value:"\u904D\u5386",paraId:59,tocIndex:8},{value:"pendingPassiveHookEffectsMount",paraId:59,tocIndex:8},{value:"\u4E2D\u7684\u6240\u6709",paraId:59,tocIndex:8},{value:"effect",paraId:59,tocIndex:8},{value:", \u8C03\u7528",paraId:59,tocIndex:8},{value:"effect.create()",paraId:59,tocIndex:8},{value:", \u5E76\u66F4\u65B0",paraId:59,tocIndex:8},{value:"effect.destroy",paraId:59,tocIndex:8},{value:`.
`,paraId:59,tocIndex:8},{value:"\u540C\u65F6\u6E05\u7A7A",paraId:61,tocIndex:8},{value:"pendingPassiveHookEffectsMount",paraId:61,tocIndex:8},{value:"\u6240\u4EE5, \u5E26\u6709",paraId:62,tocIndex:8},{value:"Passive",paraId:62,tocIndex:8},{value:"\u6807\u8BB0\u7684",paraId:62,tocIndex:8},{value:"effect",paraId:62,tocIndex:8},{value:", \u5728",paraId:62,tocIndex:8},{value:"flushPassiveEffects",paraId:62,tocIndex:8},{value:"\u51FD\u6570\u4E2D\u5F97\u5230\u4E86\u5B8C\u6574\u7684\u56DE\u8C03\u5904\u7406.",paraId:62,tocIndex:8},{value:"\u5982\u4E0B\u56FE:",paraId:63,tocIndex:8},{value:`
\u5176\u4E2D\u62E5\u6709`,paraId:63,tocIndex:8},{value:"Passive",paraId:63,tocIndex:8},{value:"\u6807\u8BB0\u7684",paraId:63,tocIndex:8},{value:"effect",paraId:63,tocIndex:8},{value:", \u90FD\u4F1A\u6267\u884C",paraId:63,tocIndex:8},{value:"effect.destroy(); effect.destroy = effect.create()",paraId:63,tocIndex:8},{value:"\u5047\u8BBE\u5728\u521D\u6B21\u8C03\u7528\u4E4B\u540E, \u53D1\u8D77\u66F4\u65B0, \u4F1A\u518D\u6B21\u6267\u884C",paraId:64,tocIndex:9},{value:"function",paraId:64,tocIndex:9},{value:", \u8FD9\u65F6",paraId:64,tocIndex:9},{value:"function",paraId:64,tocIndex:9},{value:"\u4E2D\u4F7F\u7528\u7684",paraId:64,tocIndex:9},{value:"useEffect",paraId:64,tocIndex:9},{value:", ",paraId:64,tocIndex:9},{value:"useLayoutEffect",paraId:64,tocIndex:9},{value:"\u7B49",paraId:64,tocIndex:9},{value:"api",paraId:64,tocIndex:9},{value:"\u4E5F\u4F1A\u518D\u6B21\u6267\u884C.",paraId:64,tocIndex:9},{value:"\u5728\u66F4\u65B0\u8FC7\u7A0B\u4E2D",paraId:65,tocIndex:9},{value:"useEffect",paraId:65,tocIndex:9},{value:"\u5BF9\u5E94\u6E90\u7801",paraId:65,tocIndex:9},{value:"updateEffect",paraId:65,tocIndex:9},{value:", ",paraId:65,tocIndex:9},{value:"useLayoutEffect",paraId:65,tocIndex:9},{value:"\u5BF9\u5E94\u6E90\u7801",paraId:65,tocIndex:9},{value:"updateLayoutEffect",paraId:65,tocIndex:9},{value:".\u5B83\u4EEC\u5185\u90E8\u90FD\u4F1A\u8C03\u7528",paraId:65,tocIndex:9},{value:"updateEffectImpl",paraId:65,tocIndex:9},{value:", \u4E0E\u521D\u6B21\u521B\u5EFA\u65F6\u4E00\u6837, \u53EA\u662F\u53C2\u6570\u4E0D\u540C.",paraId:65,tocIndex:9},{value:"updateEffectImpl",paraId:66,tocIndex:10},{value:":",paraId:66,tocIndex:10},{value:`function updateEffectImpl(fiberFlags, hookFlags, create, deps): void {
  // 1. \u83B7\u53D6\u5F53\u524Dhook
  const hook = updateWorkInProgressHook();
  const nextDeps = deps === undefined ? null : deps;
  let destroy = undefined;
  // 2. \u5206\u6790\u4F9D\u8D56
  if (currentHook !== null) {
    const prevEffect = currentHook.memoizedState;
    // \u7EE7\u7EED\u4F7F\u7528\u5148\u524Deffect.destroy
    destroy = prevEffect.destroy;
    if (nextDeps !== null) {
      const prevDeps = prevEffect.deps;
      // \u6BD4\u8F83\u4F9D\u8D56\u662F\u5426\u53D8\u5316
      if (areHookInputsEqual(nextDeps, prevDeps)) {
        // 2.1 \u5982\u679C\u4F9D\u8D56\u4E0D\u53D8, \u65B0\u5EFAeffect(tag\u4E0D\u542BHookHasEffect)
        pushEffect(hookFlags, create, destroy, nextDeps);
        return;
      }
    }
  }
  // 2.2 \u5982\u679C\u4F9D\u8D56\u6539\u53D8, \u66F4\u6539fiber.flag, \u65B0\u5EFAeffect
  currentlyRenderingFiber.flags |= fiberFlags;

  hook.memoizedState = pushEffect(
    HookHasEffect | hookFlags,
    create,
    destroy,
    nextDeps,
  );
}
`,paraId:67,tocIndex:10},{value:"updateEffectImpl",paraId:68,tocIndex:10},{value:"\u4E0E",paraId:68,tocIndex:10},{value:"mountEffectImpl",paraId:68,tocIndex:10},{value:"\u903B\u8F91\u6709\u6240\u4E0D\u540C: - \u5982\u679C",paraId:68,tocIndex:10},{value:"useEffect/useLayoutEffect",paraId:68,tocIndex:10},{value:"\u7684\u4F9D\u8D56\u4E0D\u53D8, \u65B0\u5EFA\u7684",paraId:68,tocIndex:10},{value:"effect",paraId:68,tocIndex:10},{value:"\u5BF9\u8C61\u4E0D\u5E26",paraId:68,tocIndex:10},{value:"HasEffect",paraId:68,tocIndex:10},{value:"\u6807\u8BB0.",paraId:68,tocIndex:10},{value:"\u6CE8\u610F: \u65E0\u8BBA\u4F9D\u8D56\u662F\u5426\u53D8\u5316, \u90FD\u590D\u7528\u4E4B\u524D\u7684",paraId:69,tocIndex:10},{value:"effect.destroy",paraId:69,tocIndex:10},{value:". \u7B49\u5F85",paraId:69,tocIndex:10},{value:"commitRoot",paraId:69,tocIndex:10},{value:"\u9636\u6BB5\u7684\u8C03\u7528(\u4E0A\u6587\u5DF2\u7ECF\u8BF4\u660E).",paraId:69,tocIndex:10},{value:"\u5982\u4E0B\u56FE:",paraId:70,tocIndex:10},{value:"\u56FE\u4E2D\u7B2C 1,2 \u4E2A",paraId:71,tocIndex:10},{value:"hook",paraId:71,tocIndex:10},{value:"\u5176",paraId:71,tocIndex:10},{value:"deps",paraId:71,tocIndex:10},{value:"\u6CA1\u53D8, \u6545",paraId:71,tocIndex:10},{value:"effect.tag",paraId:71,tocIndex:10},{value:"\u4E2D\u4E0D\u4F1A\u5305\u542B",paraId:71,tocIndex:10},{value:"HookHasEffect",paraId:71,tocIndex:10},{value:".",paraId:71,tocIndex:10},{value:"\u56FE\u4E2D\u7B2C 3 \u4E2A",paraId:71,tocIndex:10},{value:"hook",paraId:71,tocIndex:10},{value:"\u5176",paraId:71,tocIndex:10},{value:"deps",paraId:71,tocIndex:10},{value:"\u6539\u53D8, \u6545",paraId:71,tocIndex:10},{value:"effect.tag",paraId:71,tocIndex:10},{value:"\u4E2D\u7EE7\u7EED\u542B\u6709",paraId:71,tocIndex:10},{value:"HookHasEffect",paraId:71,tocIndex:10},{value:".",paraId:71,tocIndex:10},{value:"\u65B0\u7684",paraId:72,tocIndex:11},{value:"hook",paraId:72,tocIndex:11},{value:"\u4EE5\u53CA\u65B0\u7684",paraId:72,tocIndex:11},{value:"effect",paraId:72,tocIndex:11},{value:"\u521B\u5EFA\u5B8C\u6210\u4E4B\u540E, \u4F59\u4E0B\u903B\u8F91\u4E0E\u521D\u6B21\u6E32\u67D3\u5B8C\u5168\u4E00\u81F4. \u5904\u7406 Effect \u56DE\u8C03\u65F6\u4E5F\u4F1A\u6839\u636E",paraId:72,tocIndex:11},{value:"effect.tag",paraId:72,tocIndex:11},{value:"\u8FDB\u884C\u5224\u65AD: \u53EA\u6709",paraId:72,tocIndex:11},{value:"effect.tag",paraId:72,tocIndex:11},{value:"\u5305\u542B",paraId:72,tocIndex:11},{value:"HookHasEffect",paraId:72,tocIndex:11},{value:"\u65F6\u624D\u4F1A\u8C03\u7528",paraId:72,tocIndex:11},{value:"effect.destroy",paraId:72,tocIndex:11},{value:"\u548C",paraId:72,tocIndex:11},{value:"effect.create()",paraId:72,tocIndex:11},{value:"\u5F53",paraId:73,tocIndex:12},{value:"function",paraId:73,tocIndex:12},{value:"\u7EC4\u4EF6\u88AB\u9500\u6BC1\u65F6, ",paraId:73,tocIndex:12},{value:"fiber",paraId:73,tocIndex:12},{value:"\u8282\u70B9\u5FC5\u7136\u4F1A\u88AB\u6253\u4E0A",paraId:73,tocIndex:12},{value:"Deletion",paraId:73,tocIndex:12},{value:"\u6807\u8BB0, \u5373",paraId:73,tocIndex:12},{value:"fiber.flags |= Deletion",paraId:73,tocIndex:12},{value:". \u5E26\u6709",paraId:73,tocIndex:12},{value:"Deletion",paraId:73,tocIndex:12},{value:"\u6807\u8BB0\u7684",paraId:73,tocIndex:12},{value:"fiber",paraId:73,tocIndex:12},{value:"\u5728",paraId:73,tocIndex:12},{value:"commitMutationEffects",paraId:73,tocIndex:12},{value:"\u88AB\u5904\u7406:",paraId:73,tocIndex:12},{value:`// ...\u7701\u7565\u65E0\u5173\u4EE3\u7801
function commitMutationEffects(
  root: FiberRoot,
  renderPriorityLevel: ReactPriorityLevel,
) {
  while (nextEffect !== null) {
    const primaryFlags = flags & (Placement | Update | Deletion | Hydrating);
    switch (primaryFlags) {
      case Deletion: {
        commitDeletion(root, nextEffect, renderPriorityLevel);
        break;
      }
    }
  }
}
`,paraId:74,tocIndex:12},{value:"\u5728",paraId:75,tocIndex:12},{value:"commitDeletion",paraId:75,tocIndex:12},{value:"\u51FD\u6570\u4E4B\u540E, \u7EE7\u7EED\u8C03\u7528",paraId:75,tocIndex:12},{value:"unmountHostComponents->commitUnmount",paraId:75,tocIndex:12},{value:", \u5728",paraId:75,tocIndex:12},{value:"commitUnmount",paraId:75,tocIndex:12},{value:"\u4E2D, \u6267\u884C",paraId:75,tocIndex:12},{value:"effect.destroy()",paraId:75,tocIndex:12},{value:", \u7ED3\u675F\u6574\u4E2A\u95ED\u73AF.",paraId:75,tocIndex:12},{value:"\u672C\u8282\u5206\u6790\u4E86",paraId:76,tocIndex:13},{value:"\u526F\u4F5C\u7528Hook",paraId:76,tocIndex:13},{value:"\u4ECE\u521B\u5EFA\u5230\u9500\u6BC1\u7684\u5168\u90E8\u8FC7\u7A0B, \u5728",paraId:76,tocIndex:13},{value:"react",paraId:76,tocIndex:13},{value:"\u5185\u90E8, \u4F9D\u9760",paraId:76,tocIndex:13},{value:"fiber.flags",paraId:76,tocIndex:13},{value:"\u548C",paraId:76,tocIndex:13},{value:"effect.tag",paraId:76,tocIndex:13},{value:"\u5B9E\u73B0\u4E86\u5BF9",paraId:76,tocIndex:13},{value:"effect",paraId:76,tocIndex:13},{value:"\u7684\u7CBE\u51C6\u8BC6\u522B. \u5728",paraId:76,tocIndex:13},{value:"commitRoot",paraId:76,tocIndex:13},{value:"\u9636\u6BB5, \u5BF9\u4E0D\u540C\u7C7B\u578B\u7684",paraId:76,tocIndex:13},{value:"effect",paraId:76,tocIndex:13},{value:"\u8FDB\u884C\u5904\u7406, \u5148\u540E\u8C03\u7528",paraId:76,tocIndex:13},{value:"effect.destroy()",paraId:76,tocIndex:13},{value:"\u548C",paraId:76,tocIndex:13},{value:"effect.create()",paraId:76,tocIndex:13},{value:".",paraId:76,tocIndex:13}],tt={},at={title:"\u6808\u64CD\u4F5C",toc:"menu",filename:"docs/algorithm/stack.md",order:5,description:"\u6765\u81EA wiki \u4E0A\u7684\u89E3\u91CA: \u5806\u6808(stack)\u53C8\u79F0\u4E3A\u6808\u6216\u5806\u53E0, \u662F\u8BA1\u7B97\u673A\u79D1\u5B66\u4E2D\u7684\u4E00\u79CD\u62BD\u8C61\u8D44\u6599\u7C7B\u578B, \u53EA\u5141\u8BB8\u5728\u6709\u5E8F\u7684\u7EBF\u6027\u8D44\u6599\u96C6\u5408\u7684\u4E00\u7AEF(\u79F0\u4E3A\u5806\u6808\u9876\u7AEFtop)\u8FDB\u884C\u52A0\u5165\u6570\u636E(push)\u548C\u79FB\u9664\u6570\u636E(pop)\u7684\u8FD0\u7B97. \u56E0\u800C\u6309\u7167\u540E\u8FDB\u5148\u51FA(LIFO, Last In First Out)\u7684\u539F\u7406\u8FD0\u4F5C."},gt=[{id:"react-\u7B97\u6CD5\u4E4B\u6808\u64CD\u4F5C",depth:1,title:"React \u7B97\u6CD5\u4E4B\u6808\u64CD\u4F5C"},{id:"\u6982\u5FF5",depth:2,title:"\u6982\u5FF5"},{id:"\u7279\u6027",depth:2,title:"\u7279\u6027"},{id:"\u57FA\u672C\u4F7F\u7528",depth:2,title:"\u57FA\u672C\u4F7F\u7528"},{id:"react-\u5F53\u4E2D\u7684\u4F7F\u7528\u573A\u666F",depth:2,title:"React \u5F53\u4E2D\u7684\u4F7F\u7528\u573A\u666F"},{id:"context-\u72B6\u6001\u7BA1\u7406-context",depth:3,title:"Context \u72B6\u6001\u7BA1\u7406 {#context}"},{id:"executioncontext-\u6267\u884C\u4E0A\u4E0B\u6587",depth:3,title:"executionContext \u6267\u884C\u4E0A\u4E0B\u6587"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"},{id:"\u53C2\u8003\u8D44\u6599",depth:2,title:"\u53C2\u8003\u8D44\u6599"}],kt=[{value:"\u6765\u81EA wiki \u4E0A\u7684\u89E3\u91CA: ",paraId:0,tocIndex:1},{value:"\u5806\u6808",paraId:0,tocIndex:1},{value:"(",paraId:0,tocIndex:1},{value:"stack",paraId:0,tocIndex:1},{value:")\u53C8\u79F0\u4E3A",paraId:0,tocIndex:1},{value:"\u6808",paraId:0,tocIndex:1},{value:"\u6216",paraId:0,tocIndex:1},{value:"\u5806\u53E0",paraId:0,tocIndex:1},{value:", \u662F\u8BA1\u7B97\u673A\u79D1\u5B66\u4E2D\u7684\u4E00\u79CD\u62BD\u8C61\u8D44\u6599\u7C7B\u578B, \u53EA\u5141\u8BB8\u5728\u6709\u5E8F\u7684\u7EBF\u6027\u8D44\u6599\u96C6\u5408\u7684\u4E00\u7AEF(\u79F0\u4E3A\u5806\u6808\u9876\u7AEF",paraId:0,tocIndex:1},{value:"top",paraId:0,tocIndex:1},{value:")\u8FDB\u884C\u52A0\u5165\u6570\u636E(",paraId:0,tocIndex:1},{value:"push",paraId:0,tocIndex:1},{value:")\u548C\u79FB\u9664\u6570\u636E(",paraId:0,tocIndex:1},{value:"pop",paraId:0,tocIndex:1},{value:")\u7684\u8FD0\u7B97. \u56E0\u800C\u6309\u7167\u540E\u8FDB\u5148\u51FA(",paraId:0,tocIndex:1},{value:"LIFO, Last In First Out",paraId:0,tocIndex:1},{value:")\u7684\u539F\u7406\u8FD0\u4F5C.",paraId:0,tocIndex:1},{value:"\u6CE8\u610F:",paraId:1,tocIndex:1},{value:"\u6808",paraId:2,tocIndex:1},{value:"(stack)\u53C8\u53EB\u505A",paraId:2,tocIndex:1},{value:"\u5806\u6808",paraId:2,tocIndex:1},{value:", \u8FD9\u91CC\u7279\u6307\u6570\u636E\u7ED3\u6784\u4E2D\u7684",paraId:2,tocIndex:1},{value:"\u6808",paraId:2,tocIndex:1},{value:"(\u53E6\u4E00\u79CD",paraId:2,tocIndex:1},{value:"\u7A0B\u5E8F\u5185\u5B58\u5206\u914D",paraId:2,tocIndex:1},{value:"\u4E2D\u7684\u6808, \u672C\u7CFB\u5217\u4E0D\u505A\u4ECB\u7ECD, \u8BFB\u8005\u53EF\u81EA\u884C\u4E86\u89E3).",paraId:2,tocIndex:1},{value:"\u5806\u6808",paraId:2,tocIndex:1},{value:"\u4E2D\u867D\u5E26\u6709\u4E00\u4E2A",paraId:2,tocIndex:1},{value:"\u5806",paraId:2,tocIndex:1},{value:"\u5B57, \u53EA\u662F\u547D\u540D, \u4E0D\u8981\u548C",paraId:2,tocIndex:1},{value:"\u5806",paraId:2,tocIndex:1},{value:"\u6DF7\u6DC6.",paraId:2,tocIndex:1},{value:"\u5E38\u8BF4\u7684",paraId:2,tocIndex:1},{value:"\u5806",paraId:2,tocIndex:1},{value:"\u6709 2 \u79CD\u6307\u4EE3, \u4E00\u79CD\u662F",paraId:2,tocIndex:1},{value:"\u6570\u636E\u7ED3\u6784",paraId:2,tocIndex:1},{value:"\u4E2D\u7684\u5806(\u5728",paraId:2,tocIndex:1},{value:"React \u7B97\u6CD5\u4E4B\u5806\u6392\u5E8F",paraId:3,tocIndex:1},{value:"\u4E2D\u6709\u4ECB\u7ECD), \u53E6\u4E00\u79CD\u662F",paraId:2,tocIndex:1},{value:"\u7A0B\u5E8F\u5185\u5B58\u5206\u914D",paraId:2,tocIndex:1},{value:"\u4E2D\u7684\u5806(\u672C\u7CFB\u5217\u4E0D\u505A\u4ECB\u7ECD, \u8BFB\u8005\u53EF\u81EA\u884C\u4E86\u89E3).",paraId:2,tocIndex:1},{value:"\u5148\u5165\u540E\u51FA, \u540E\u5165\u5148\u51FA.",paraId:4,tocIndex:2},{value:"\u9664\u5934\u5C3E\u8282\u70B9\u4E4B\u5916, \u6BCF\u4E2A\u5143\u7D20\u6709\u4E00\u4E2A\u524D\u9A71, \u4E00\u4E2A\u540E\u7EE7.",paraId:4,tocIndex:2},{value:"\u538B\u6808: ",paraId:5,tocIndex:3},{value:"push()",paraId:5,tocIndex:3},{value:"\u5F39\u6808: ",paraId:5,tocIndex:3},{value:"pop((",paraId:5,tocIndex:3},{value:"\u9884\u89C8\u6808\u9876\u5143\u7D20: ",paraId:5,tocIndex:3},{value:"peek()",paraId:5,tocIndex:3},{value:`class Stack {
  constructor() {
    this.dataStore = [];
    this.top = 0;
  }

  // \u538B\u6808
  push(element) {
    this.dataStore[this.top++] = element;
  }

  // \u5F39\u6808
  pop() {
    return this.dataStore[--this.top];
  }

  // \u9884\u89C8\u6808\u9876\u5143\u7D20
  peek() {
    return this.dataStore[this.top - 1];
  }

  // \u68C0\u6D4B\u6808\u5185\u5B58\u50A8\u4E86\u591A\u5C11\u4E2A\u5143\u7D20
  length() {
    return this.top;
  }

  // \u6E05\u7A7A\u6808
  clear() {
    this.top = 0;
  }
}
`,paraId:6,tocIndex:3},{value:"\u6D4B\u8BD5\u4EE3\u7801:",paraId:7,tocIndex:3},{value:`const test = () => {
  const stack = new Stack();
  console.log('\u538B\u6808a: ');
  stack.push('a');
  console.log('\u538B\u6808b: ');
  stack.push('b');
  console.log('\u538B\u6808c: ');
  stack.push('c');
  console.log('\u6808\u9AD8\u5EA6: ', stack.length());
  console.log('\u6808\u9876\u5143\u7D20: ', stack.peek());
  console.log('\u5F39\u51FA: ', stack.pop());
  console.log('\u6808\u9876\u5143\u7D20: ', stack.peek());
  console.log('\u538B\u6808d: ');
  stack.push('d');
  console.log('\u6808\u9876\u5143\u7D20: ', stack.peek());
  console.log('\u6E05\u7A7A\u6808: ');
  stack.clear();
  console.log('\u6808\u9AD8\u5EA6: ', stack.length());
  console.log('\u538B\u6808e: ');
  stack.push('e');
  console.log('\u6808\u9876\u5143\u7D20: ', stack.peek());
};
`,paraId:8,tocIndex:3},{value:"\u5229\u7528\u6808\u5148\u8FDB\u540E\u51FA\u7684\u7279\u6027, \u5728\u5B9E\u9645\u7F16\u7801\u4E2D\u5E94\u7528\u975E\u5E38\u5E7F\u6CDB. \u5982",paraId:9,tocIndex:3},{value:"\u56DE\u6EAF",paraId:9,tocIndex:3},{value:",",paraId:9,tocIndex:3},{value:"\u9012\u5F52",paraId:9,tocIndex:3},{value:",",paraId:9,tocIndex:3},{value:"\u6DF1\u5EA6\u4F18\u5148\u641C\u7D22",paraId:9,tocIndex:3},{value:"\u7B49\u7ECF\u5178\u7B97\u6CD5\u90FD\u53EF\u4EE5\u5229\u7528\u6808\u7684\u7279\u6027\u6765\u5B9E\u73B0. \u7531\u4E8E\u672C\u6587\u7684\u76EE\u7684\u662F\u8BB2\u89E3\u6808",paraId:9,tocIndex:3},{value:"react",paraId:9,tocIndex:3},{value:"\u4E2D\u7684\u4F7F\u7528\u573A\u666F, \u6240\u4EE5\u4E0E\u6808\u76F8\u5173\u7684\u7ECF\u5178\u6848\u4F8B\u672C\u6587\u4E0D\u518D\u5217\u4E3E, \u8BF7\u8BFB\u8005\u79FB\u6B65\u5176\u4ED6\u7B97\u6CD5\u8D44\u6599.",paraId:9,tocIndex:3},{value:"\u5728",paraId:10,tocIndex:5},{value:"fiber",paraId:10,tocIndex:5},{value:"\u6811\u521B\u5EFA\u8FC7\u7A0B\u4E2D, \u5982\u679C\u4F7F\u7528\u4E86",paraId:10,tocIndex:5},{value:"Context api",paraId:10,tocIndex:5},{value:"(\u5177\u4F53\u6765\u8BF4\u662F\u4F7F\u7528",paraId:10,tocIndex:5},{value:"Context.Provider",paraId:10,tocIndex:5},{value:", ",paraId:10,tocIndex:5},{value:"Class.contextType",paraId:10,tocIndex:5},{value:", ",paraId:10,tocIndex:5},{value:"Context.Consumer",paraId:10,tocIndex:5},{value:"\u7B49",paraId:10,tocIndex:5},{value:"api",paraId:10,tocIndex:5},{value:"), ",paraId:10,tocIndex:5},{value:"react",paraId:10,tocIndex:5},{value:"\u5185\u90E8\u4F1A\u7EF4\u62A4\u4E00\u4E2A",paraId:10,tocIndex:5},{value:"\u6808",paraId:10,tocIndex:5},{value:"\u6765\u4FDD\u5B58\u63D0\u4F9B\u8005(",paraId:10,tocIndex:5},{value:"Context.Provider",paraId:10,tocIndex:5},{value:")\u7684\u72B6\u6001, \u4F9B\u7ED9\u6D88\u8D39\u8005(",paraId:10,tocIndex:5},{value:"Context.Consumer",paraId:10,tocIndex:5},{value:")\u4F7F\u7528.",paraId:10,tocIndex:5},{value:"\u9996\u5148\u770B",paraId:11,tocIndex:5},{value:"stack",paraId:11,tocIndex:5},{value:"\u7684\u5B9A\u4E49(",paraId:11,tocIndex:5},{value:"ReactFiberStack.js",paraId:11,tocIndex:5},{value:"\u4E2D):",paraId:11,tocIndex:5},{value:`export type StackCursor<T> = {| current: T |};

// \u7EF4\u62A4\u4E00\u4E2A\u5168\u5C40stack
const valueStack: Array<any> = [];
let index = -1;

// \u4E00\u4E2A\u5DE5\u5382\u51FD\u6570, \u521B\u5EFAStackCursor\u5BF9\u8C61
function createCursor<T>(defaultValue: T): StackCursor<T> {
  return {
    current: defaultValue,
  };
}
function isEmpty(): boolean {
  return index === -1;
}
// \u51FA\u6808
function pop<T>(cursor: StackCursor<T>, fiber: Fiber): void {
  if (index < 0) {
    return;
  }
  cursor.current = valueStack[index];
  valueStack[index] = null;
  index--;
}
// \u5165\u6808
function push<T>(cursor: StackCursor<T>, value: T, fiber: Fiber): void {
  index++;
  // \u6CE8\u610F: \u8FD9\u91CC\u5B58\u50A8\u7684\u662F cursor\u5F53\u524D\u503C, \u968F\u540E\u66F4\u65B0\u4E86cursor.current\u4E3A
  valueStack[index] = cursor.current;
  cursor.current = value;
}
`,paraId:12,tocIndex:5},{value:"\u5728",paraId:13,tocIndex:5},{value:"ReactFiberStack.js",paraId:13,tocIndex:5},{value:"\u6E90\u7801\u4E2D, \u5B9A\u4E49\u7684",paraId:13,tocIndex:5},{value:"valueStack",paraId:13,tocIndex:5},{value:"\u4F5C\u4E3A\u5168\u5C40\u53D8\u91CF, \u7528\u6765\u5B58\u50A8\u6240\u6709\u7684",paraId:13,tocIndex:5},{value:"StackCursor.current",paraId:13,tocIndex:5},{value:"(\u4E0D\u4EC5\u4EC5\u5B58\u50A8",paraId:13,tocIndex:5},{value:"context api",paraId:13,tocIndex:5},{value:"\u76F8\u5173\u7684",paraId:13,tocIndex:5},{value:"StackCursor",paraId:13,tocIndex:5},{value:", \u5728",paraId:13,tocIndex:5},{value:"context \u539F\u7406",paraId:13,tocIndex:5},{value:"\u7AE0\u8282\u4E2D\u8BE6\u7EC6\u89E3\u8BFB, \u672C\u8282\u53EA\u8BA8\u8BBA\u4E0E",paraId:13,tocIndex:5},{value:"context api",paraId:13,tocIndex:5},{value:"\u76F8\u5173\u7684\u6808\u64CD\u4F5C).",paraId:13,tocIndex:5},{value:"\u6CE8\u610F",paraId:14,tocIndex:5},{value:"StackCursor",paraId:14,tocIndex:5},{value:"\u662F\u4E00\u4E2A\u6CDB\u578B\u5BF9\u8C61, \u4E0E",paraId:14,tocIndex:5},{value:"context api",paraId:14,tocIndex:5},{value:"\u76F8\u5173\u7684",paraId:14,tocIndex:5},{value:"StackCursor",paraId:14,tocIndex:5},{value:"\u5B9A\u4E49\u5728",paraId:14,tocIndex:5},{value:"ReactFiberNewContext.js",paraId:14,tocIndex:5},{value:":",paraId:14,tocIndex:5},{value:`// \u5B9A\u4E49\u5168\u5C40 valueCursor, \u7528\u4E8E\u7BA1\u7406<Context.Provider/>\u7EC4\u4EF6\u7684value
const valueCursor: StackCursor<mixed> = createCursor(null);

// ...\u7701\u7565\u65E0\u5173\u4EE3\u7801

// \u5C06context\u5F53\u524D\u7684\u503C\u4FDD\u5B58\u5230valueCursor\u4E2D, \u5E76\u8BBE\u7F6Econtext._currentValue\u4E3A\u6700\u65B0\u503C
// \u8FD0\u884C\u5B8C\u6210\u4E4B\u540Econtext\u4E3A\u6700\u65B0\u72B6\u6001
export function pushProvider<T>(providerFiber: Fiber, nextValue: T): void {
  const context: ReactContext<T> = providerFiber.type._context;
  push(valueCursor, context._currentValue, providerFiber);
  context._currentValue = nextValue;
}

// \u53D6\u51FAvalueCursor\u4E2D\u4FDD\u5B58\u7684\u65E7\u503C, \u8BBE\u7F6E\u5230context._currentValue\u4E0A.
// \u8FD0\u884C\u5B8C\u6210\u4E4B\u540Econtext\u6062\u590D\u5230\u4E0A\u4E00\u4E2A\u72B6\u6001
export function popProvider(providerFiber: Fiber): void {
  const currentValue = valueCursor.current;
  pop(valueCursor, providerFiber);
  const context: ReactContext<any> = providerFiber.type._context;
  context._currentValue = currentValue;
}
`,paraId:15,tocIndex:5},{value:"\u5047\u8BBE\u6709\u5982\u4E0B\u7EC4\u4EF6\u7ED3\u6784(\u5E73\u65F6\u5F00\u53D1\u5F88\u96BE\u6709\u8FD9\u6837\u7684\u4EE3\u7801, \u6B64\u5904\u5B8C\u5168\u662F\u4E3A\u4E86\u6F14\u793A",paraId:16,tocIndex:5},{value:"context api",paraId:16,tocIndex:5},{value:"\u4E2D\u6D89\u53CA\u5230\u7684\u6808\u64CD\u4F5C):",paraId:16,tocIndex:5},{value:`const MyContext = React.createContext(0);

export default function App() {
  return (
    // \u7B2C\u4E00\u7EA7
    <MyContext.Provider value={1}>
      <MyContext.Consumer>
        {(value1) => (
          //\u7B2C\u4E8C\u7EA7\u5D4C\u5957
          <MyContext.Provider value={2}>
            <MyContext.Consumer>
              {(value2) => (
                // \u7B2C\u4E09\u7EA7\u5D4C\u5957
                <MyContext.Provider value={3}>
                  <MyContext.Consumer>
                    {(value3) => (
                      <span>
                        {value1}-{value2}-{value3}
                      </span>
                    )}
                  </MyContext.Consumer>
                </MyContext.Provider>
              )}
            </MyContext.Consumer>
          </MyContext.Provider>
        )}
      </MyContext.Consumer>
    </MyContext.Provider>
  );
}
`,paraId:17,tocIndex:5},{value:"\u53EF\u5728",paraId:18,tocIndex:5},{value:"codesandbox",paraId:18,tocIndex:5},{value:"\u4E2D\u67E5\u770B",paraId:18,tocIndex:5},{value:"\u8FD0\u884C\u7ED3\u679C",paraId:18,tocIndex:5},{value:".",paraId:18,tocIndex:5},{value:"\u5C06",paraId:19,tocIndex:5},{value:"fiber",paraId:19,tocIndex:5},{value:"\u6811\u6784\u9020\u8FC7\u7A0B\u4E2D",paraId:19,tocIndex:5},{value:"MyContext",paraId:19,tocIndex:5},{value:"\u5BF9\u8C61\u5728\u6808\u4E2D\u7684\u53D8\u5316\u60C5\u51B5\u8868\u793A\u51FA\u6765:",paraId:19,tocIndex:5},{value:"beginWork",paraId:20,tocIndex:5},{value:"\u9636\u6BB5: \u5165\u6808",paraId:20,tocIndex:5},{value:"reconciler",paraId:21,tocIndex:5},{value:"\u4E4B\u524D, \u7531\u4E8E",paraId:21,tocIndex:5},{value:"const MyContext = React.createContext(0);",paraId:21,tocIndex:5},{value:"\u5DF2\u7ECF\u521B\u5EFA\u4E86",paraId:21,tocIndex:5},{value:"MyContext",paraId:21,tocIndex:5},{value:"\u5BF9\u8C61, \u6240\u4EE5\u5176\u521D\u59CB\u503C\u662F",paraId:21,tocIndex:5},{value:"0",paraId:21,tocIndex:5},{value:".",paraId:21,tocIndex:5},{value:"reconciler",paraId:21,tocIndex:5},{value:"\u8FC7\u7A0B\u4E2D, \u6BCF\u5F53\u9047\u5230",paraId:21,tocIndex:5},{value:"Context.Provider",paraId:21,tocIndex:5},{value:"\u7C7B\u578B\u7684\u8282\u70B9, \u5219\u4F1A\u6267\u884C",paraId:21,tocIndex:5},{value:"pushProvider",paraId:21,tocIndex:5},{value:".",paraId:21,tocIndex:5},{value:"completeWork",paraId:22,tocIndex:5},{value:`\u9636\u6BB5: \u51FA\u6808
`,paraId:22,tocIndex:5},{value:"reconciler",paraId:23,tocIndex:5},{value:"\u8FC7\u7A0B\u4E2D, \u6BCF\u5F53\u9047\u5230",paraId:23,tocIndex:5},{value:"Context.Provider",paraId:23,tocIndex:5},{value:"\u7C7B\u578B\u7684\u8282\u70B9, \u5219\u4F1A\u6267\u884C",paraId:23,tocIndex:5},{value:"popProvider",paraId:23,tocIndex:5},{value:".",paraId:23,tocIndex:5},{value:"reconciler",paraId:23,tocIndex:5},{value:"\u4E4B\u540E, ",paraId:23,tocIndex:5},{value:"valueStack",paraId:23,tocIndex:5},{value:"\u548C",paraId:23,tocIndex:5},{value:"valueCursor",paraId:23,tocIndex:5},{value:"\u4EE5\u53CA",paraId:23,tocIndex:5},{value:"MyContext",paraId:23,tocIndex:5},{value:"\u90FD\u6062\u590D\u5230\u4E86\u521D\u59CB\u72B6\u6001.",paraId:23,tocIndex:5},{value:"\u6CE8\u610F:",paraId:24,tocIndex:5},{value:"\u672C\u8282\u53EA\u5206\u6790",paraId:25,tocIndex:5},{value:"context",paraId:25,tocIndex:5},{value:"\u5B9E\u73B0\u6E90\u7801\u4E2D\u4E0E",paraId:25,tocIndex:5},{value:"\u6808",paraId:25,tocIndex:5},{value:"\u76F8\u5173\u7684\u90E8\u5206, \u6240\u4EE5\u53EA\u6D89\u53CA\u5230\u4E86",paraId:25,tocIndex:5},{value:"Context.Provider",paraId:25,tocIndex:5},{value:"(\u4F9B\u5E94\u8005)\u8282\u70B9.",paraId:25,tocIndex:5},{value:"\u5BF9\u4E8E",paraId:25,tocIndex:5},{value:"Context.Consumer",paraId:25,tocIndex:5},{value:"(\u6D88\u8D39\u8005)\u4EE5\u53CA\u66F4\u65B0\u9636\u6BB5",paraId:25,tocIndex:5},{value:"context",paraId:25,tocIndex:5},{value:"\u7684\u8FD0\u884C\u673A\u5236\u7684\u6DF1\u5165\u89E3\u8BFB\u653E\u5728",paraId:25,tocIndex:5},{value:"context\u539F\u7406",paraId:25,tocIndex:5},{value:"\u7AE0\u8282\u4E2D.",paraId:25,tocIndex:5},{value:"executionContext",paraId:26,tocIndex:6},{value:"\u662F\u5728",paraId:26,tocIndex:6},{value:"ReactFiberWorkLoop.js",paraId:26,tocIndex:6},{value:"\u4E2D\u5B9A\u4E49\u7684\u4E00\u4E2A",paraId:26,tocIndex:6},{value:"\u5168\u5C40\u53D8\u91CF(\u76F8\u5BF9\u4E8E\u8BE5\u95ED\u5305)",paraId:26,tocIndex:6},{value:", \u4E14\u5B9A\u4E49\u6210\u4E8C\u8FDB\u5236\u53D8\u91CF, \u901A\u8FC7\u4F4D\u8FD0\u7B97\u6765\u7EF4\u62A4\u5176\u72B6\u6001(\u5728",paraId:26,tocIndex:6},{value:"React \u7B97\u6CD5\u4E4B\u4F4D\u8FD0\u7B97",paraId:27,tocIndex:6},{value:"\u4E00\u6587\u4E2D\u5DF2\u6709\u4ECB\u7ECD).",paraId:26,tocIndex:6},{value:"\u8868\u9762\u4E0A\u770B",paraId:28,tocIndex:6},{value:"executionContext",paraId:28,tocIndex:6},{value:"\u548C\u6808\u5E76\u6CA1\u6709\u76F4\u63A5\u5173\u7CFB, \u4F46\u5B9E\u9645\u5728\u6539\u53D8",paraId:28,tocIndex:6},{value:"executionContext",paraId:28,tocIndex:6},{value:"\u7684\u65F6\u5019, \u5DE7\u5999\u7684\u5229\u7528\u4E86",paraId:28,tocIndex:6},{value:"\u51FD\u6570\u8C03\u7528\u6808",paraId:28,tocIndex:6},{value:", \u5B9E\u73B0",paraId:28,tocIndex:6},{value:"executionContext",paraId:28,tocIndex:6},{value:"\u72B6\u6001\u7684\u7EF4\u62A4.",paraId:28,tocIndex:6},{value:"\u672C\u8282\u4E3B\u8981\u662F\u4F53\u73B0",paraId:29,tocIndex:6},{value:"executionContext",paraId:29,tocIndex:6},{value:"\u548C",paraId:29,tocIndex:6},{value:"\u51FD\u6570\u8C03\u7528\u6808",paraId:29,tocIndex:6},{value:"\u4E4B\u95F4\u7684\u914D\u5408\u8FD0\u7528(",paraId:29,tocIndex:6},{value:"\u5177\u4F53\u6E90\u7801",paraId:29,tocIndex:6},{value:"), \u8FD9\u91CC\u4EE5",paraId:29,tocIndex:6},{value:"batchedUpdates",paraId:29,tocIndex:6},{value:"\u548C",paraId:29,tocIndex:6},{value:"unbatchedUpdates",paraId:29,tocIndex:6},{value:"\u4E3A\u4F8B\u8FDB\u884C\u5206\u6790.",paraId:29,tocIndex:6},{value:`export function batchedUpdates<A, R>(fn: (A) => R, a: A): R {
  // \u5728\u6267\u884C\u56DE\u8C03\u4E4B\u524D, \u5148\u6539\u53D8 executionContext
  const prevExecutionContext = executionContext;
  executionContext |= BatchedContext;
  try {
    return fn(a);
  } finally {
    // \u56DE\u8C03\u6267\u884C\u5B8C\u6BD5\u4E4B\u540E, \u518D\u6062\u590D\u5230\u4EE5\u524D\u7684\u503C prevExecutionContext
    executionContext = prevExecutionContext;
    // ... \u7701\u7565\u65E0\u5173\u4EE3\u7801
  }
}

export function unbatchedUpdates<A, R>(fn: (a: A) => R, a: A): R {
  const prevExecutionContext = executionContext;
  executionContext &= ~BatchedContext;
  executionContext |= LegacyUnbatchedContext;
  try {
    return fn(a);
  } finally {
    executionContext = prevExecutionContext;
    // ... \u7701\u7565\u65E0\u5173\u4EE3\u7801
  }
}

// ... \u7701\u7565\u5176\u4ED6\u51FD\u6570
`,paraId:30,tocIndex:6},{value:"\u8FD9\u4E9B\u51FD\u6570\u7684\u5171\u6027:",paraId:31,tocIndex:6},{value:"\u6267\u884C\u56DE\u8C03\u4E4B\u524D, \u5148\u4FDD\u5B58\u5F53\u524D\u503C\u4E3A",paraId:32,tocIndex:6},{value:"prevExecutionContext",paraId:32,tocIndex:6},{value:", \u518D\u6539\u53D8 ",paraId:32,tocIndex:6},{value:"executionContext",paraId:32,tocIndex:6},{value:".",paraId:32,tocIndex:6},{value:"\u5728\u6267\u884C\u56DE\u8C03",paraId:32,tocIndex:6},{value:"fn",paraId:32,tocIndex:6},{value:"\u671F\u95F4, \u65E0\u8BBA\u51FD\u6570",paraId:32,tocIndex:6},{value:"fn",paraId:32,tocIndex:6},{value:"\u8C03\u7528\u6808\u6709\u591A\u6DF1, \u88AB\u6539\u53D8\u8FC7\u7684",paraId:32,tocIndex:6},{value:"executionContext",paraId:32,tocIndex:6},{value:"\u59CB\u7EC8\u6709\u6548.",paraId:32,tocIndex:6},{value:"\u56DE\u8C03\u6267\u884C\u5B8C\u6BD5\u4E4B\u540E, \u6062\u590D\u5230\u4EE5\u524D\u7684\u503C ",paraId:32,tocIndex:6},{value:"prevExecutionContext",paraId:32,tocIndex:6},{value:".",paraId:32,tocIndex:6},{value:"\u672C\u8282\u4E3B\u8981\u4ECB\u7ECD\u4E86",paraId:33,tocIndex:7},{value:"\u6808",paraId:33,tocIndex:7},{value:"\u5728",paraId:33,tocIndex:7},{value:"react",paraId:33,tocIndex:7},{value:"\u6E90\u7801\u4E2D\u7684\u4F7F\u7528\u60C5\u51B5. \u6D89\u53CA\u5165\u6808\u51FA\u6808\u7B49\u57FA\u672C\u64CD\u4F5C(",paraId:33,tocIndex:7},{value:"Context",paraId:33,tocIndex:7},{value:" \u72B6\u6001\u7BA1\u7406), \u4EE5\u53CA\u5BF9\u51FD\u6570\u8C03\u7528\u6808\u7684\u5DE7\u5999\u8FD0\u7528(\u6539\u53D8",paraId:33,tocIndex:7},{value:"executionContext",paraId:33,tocIndex:7},{value:"\u6267\u884C\u4E0A\u4E0B\u6587).",paraId:33,tocIndex:7},{value:"\u7531\u4E8E",paraId:34,tocIndex:7},{value:"reconciler",paraId:34,tocIndex:7},{value:"\u8FC7\u7A0B\u662F\u4E00\u4E2A\u6DF1\u5EA6\u4F18\u5148\u904D\u5386\u8FC7\u7A0B, \u5BF9\u4E8E",paraId:34,tocIndex:7},{value:"fiber\u6811",paraId:34,tocIndex:7},{value:"\u6765\u8BB2, \u5411\u4E0B\u63A2\u5BFB(",paraId:34,tocIndex:7},{value:"beginWork",paraId:34,tocIndex:7},{value:"\u9636\u6BB5)\u548C\u5411\u4E0A\u56DE\u6EAF(",paraId:34,tocIndex:7},{value:"completeWork",paraId:34,tocIndex:7},{value:"\u9636\u6BB5)\u5929\u7136\u5C31\u548C\u6808\u7684\u5165\u6808(",paraId:34,tocIndex:7},{value:"push",paraId:34,tocIndex:7},{value:")\u548C\u51FA\u6808(",paraId:34,tocIndex:7},{value:"pop",paraId:34,tocIndex:7},{value:")\u80FD\u591F\u65E0\u7F1D\u914D\u5408(context \u673A\u5236\u5C31\u662F\u5728\u8FD9\u4E2A\u7279\u6027\u4E0A\u5EFA\u7ACB\u8D77\u6765\u7684).",paraId:34,tocIndex:7},{value:"\u6808",paraId:35,tocIndex:8}],$t={},va={title:"\u4F7F\u7528\u8BF4\u660E",toc:"menu",filename:"docs/interview/index.md",nav:{title:"\u9762\u8BD5\u9898",order:2},group:"interview"},fa=[{id:"\u4F7F\u7528\u8BF4\u660E",depth:2,title:"\u4F7F\u7528\u8BF4\u660E"},{id:"\u73B0\u6709\u9898\u76EE",depth:2,title:"\u73B0\u6709\u9898\u76EE"}],wa=[{value:"\u9898\u76EE\u4F1A\u4E0D\u65AD\u6269\u5145, \u6BCF\u4E2A\u9898\u76EE\u5BF9\u5E94\u6709 issue, \u53EF\u4EE5\u5728 issue \u8BA8\u8BBA",paraId:0,tocIndex:0},{value:"\u672C\u7CFB\u5217\u4E0D\u662F\u9762\u7ECF, \u5217\u4E3E\u4E00\u4E9B\u9762\u8BD5\u9898\u6765\u52A0\u6DF1\u5BF9 react \u7406\u89E3.",paraId:0,tocIndex:0},{value:"setState \u662F\u540C\u6B65\u8FD8\u662F\u5F02\u6B65?",paraId:1,tocIndex:1},{value:"class \u7EC4\u4EF6\u751F\u547D\u5468\u671F\u6709\u54EA\u4E9B?",paraId:2,tocIndex:1},{value:"\u91CD\u590D\u8C03\u7528 setState \u4F1A\u53D1\u751F\u4EC0\u4E48?",paraId:2,tocIndex:1},{value:"\u4EC0\u4E48\u662F fiber \u67B6\u6784?",paraId:2,tocIndex:1},{value:"\u8C03\u548C\u7B97\u6CD5\u5177\u4F53\u5E72\u4EC0\u4E48\u7684?",paraId:2,tocIndex:1},{value:"key \u6709\u4EC0\u4E48\u4F5C\u7528,\u53EF\u4EE5\u7701\u7565\u5417?",paraId:3,tocIndex:1},{value:"useState()\u5982\u4F55\u5B9E\u73B0\u6570\u636E\u6301\u4E45\u5316?",paraId:2,tocIndex:1},{value:"useEffect()\u4F1A\u6709\u5185\u5B58\u6CC4\u6F0F\u5417?",paraId:2,tocIndex:1},{value:"useEffect(function, deps)",paraId:2,tocIndex:1},{value:"\u4E2D\u7B2C\u4E8C\u4E2A\u53C2\u6570\u8868\u793A\u4F9D\u8D56\u9879, \u5982\u4F55\u5B9E\u73B0\u4F9D\u8D56\u9879\u7684\u5BF9\u6BD4?",paraId:2,tocIndex:1},{value:"\u4EC0\u4E48\u662F\u53EF\u4E2D\u65AD\u6E32\u67D3?",paraId:2,tocIndex:1},{value:"context \u6709\u4EC0\u4E48\u4F5C\u7528?",paraId:2,tocIndex:1}],Qa={"docs-main-hook-state-demo-0":{component:r.lazy(he()(y()().mark(function Tn(){var Ja,oa,Wr;return y()().wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:return Dn.next=2,Promise.resolve().then(e.t.bind(e,62435,19));case 2:return Ja=Dn.sent,oa=Ja.default,Wr=Ja.useState,Dn.abrupt("return",{default:function(){var Yr=Wr(0),Fn=o()(Yr,2),eo=Fn[0],lr=Fn[1];return oa.createElement("button",{onClick:function(){lr(1),lr(3),lr(2)}},eo)}});case 6:case"end":return Dn.stop()}},Tn)}))),asset:{type:"BLOCK",id:"docs-main-hook-state-demo-0",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:`import React, { useState } from 'react';
export default function App() {
  const [count, dispatch] = useState(0);
  return (
    <button
      onClick={() => {
        dispatch(1);
        dispatch(3);
        dispatch(2);
      }}
    >
      {count}
    </button>
  );
}`},react:{type:"NPM",value:"18.1.0"}}}}},Pn={title:"Hook \u539F\u7406(\u72B6\u6001Hook)",toc:"menu",filename:"docs/main/hook-state.md",group:"\u72B6\u6001\u7BA1\u7406",order:2,description:"\u9996\u5148\u56DE\u987E\u4E00\u4E0B\u524D\u6587Hook \u539F\u7406(\u6982\u89C8), \u5176\u4E3B\u8981\u5185\u5BB9\u6709:"},tr=[{id:"hook-\u539F\u7406\u72B6\u6001-hook",depth:1,title:"Hook \u539F\u7406(\u72B6\u6001 Hook)"},{id:"\u521B\u5EFA-hook",depth:2,title:"\u521B\u5EFA Hook"},{id:"\u72B6\u6001\u521D\u59CB\u5316",depth:2,title:"\u72B6\u6001\u521D\u59CB\u5316"},{id:"\u72B6\u6001\u66F4\u65B0",depth:2,title:"\u72B6\u6001\u66F4\u65B0"},{id:"\u6027\u80FD\u4F18\u5316",depth:3,title:"\u6027\u80FD\u4F18\u5316"},{id:"\u5F02\u6B65\u66F4\u65B0",depth:3,title:"\u5F02\u6B65\u66F4\u65B0"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"}],On=[{value:"\u9996\u5148\u56DE\u987E\u4E00\u4E0B\u524D\u6587",paraId:0,tocIndex:0},{value:"Hook \u539F\u7406(\u6982\u89C8)",paraId:1,tocIndex:0},{value:", \u5176\u4E3B\u8981\u5185\u5BB9\u6709:",paraId:0,tocIndex:0},{value:"function",paraId:2,tocIndex:0},{value:"\u7C7B\u578B\u7684",paraId:2,tocIndex:0},{value:"fiber",paraId:2,tocIndex:0},{value:"\u8282\u70B9, \u5B83\u7684\u5904\u7406\u51FD\u6570\u662F",paraId:2,tocIndex:0},{value:"updateFunctionComponent",paraId:2,tocIndex:0},{value:", \u5176\u4E2D\u518D\u901A\u8FC7",paraId:2,tocIndex:0},{value:"renderWithHooks",paraId:2,tocIndex:0},{value:"\u8C03\u7528",paraId:2,tocIndex:0},{value:"function",paraId:2,tocIndex:0},{value:".",paraId:2,tocIndex:0},{value:"\u5728",paraId:2,tocIndex:0},{value:"function",paraId:2,tocIndex:0},{value:"\u4E2D, \u901A\u8FC7",paraId:2,tocIndex:0},{value:"Hook Api",paraId:2,tocIndex:0},{value:"(\u5982: ",paraId:2,tocIndex:0},{value:"useState, useEffect",paraId:2,tocIndex:0},{value:")\u521B\u5EFA",paraId:2,tocIndex:0},{value:"Hook",paraId:2,tocIndex:0},{value:`\u5BF9\u8C61.
`,paraId:2,tocIndex:0},{value:"\u72B6\u6001Hook",paraId:3,tocIndex:0},{value:"\u5B9E\u73B0\u4E86\u72B6\u6001\u6301\u4E45\u5316(\u7B49\u540C\u4E8E",paraId:3,tocIndex:0},{value:"class\u7EC4\u4EF6",paraId:3,tocIndex:0},{value:"\u7EF4\u62A4",paraId:3,tocIndex:0},{value:"fiber.memoizedState",paraId:3,tocIndex:0},{value:").",paraId:3,tocIndex:0},{value:"\u526F\u4F5C\u7528Hook",paraId:3,tocIndex:0},{value:"\u5219\u5B9E\u73B0\u4E86\u7EF4\u62A4",paraId:3,tocIndex:0},{value:"fiber.flags",paraId:3,tocIndex:0},{value:",\u5E76\u63D0\u4F9B",paraId:3,tocIndex:0},{value:"\u526F\u4F5C\u7528\u56DE\u8C03",paraId:3,tocIndex:0},{value:"(\u7C7B\u4F3C\u4E8E",paraId:3,tocIndex:0},{value:"class\u7EC4\u4EF6",paraId:3,tocIndex:0},{value:"\u7684\u751F\u547D\u5468\u671F\u56DE\u8C03)",paraId:3,tocIndex:0},{value:"\u591A\u4E2A",paraId:2,tocIndex:0},{value:"Hook",paraId:2,tocIndex:0},{value:"\u5BF9\u8C61\u6784\u6210\u4E00\u4E2A",paraId:2,tocIndex:0},{value:"\u94FE\u8868\u7ED3\u6784",paraId:2,tocIndex:0},{value:", \u5E76\u6302\u8F7D\u5230",paraId:2,tocIndex:0},{value:"fiber.memoizedState",paraId:2,tocIndex:0},{value:"\u4E4B\u4E0A.",paraId:2,tocIndex:0},{value:"fiber\u6811",paraId:2,tocIndex:0},{value:"\u66F4\u65B0\u9636\u6BB5, \u628A",paraId:2,tocIndex:0},{value:"current.memoizedState",paraId:2,tocIndex:0},{value:"\u94FE\u8868\u4E0A\u7684\u6240\u6709",paraId:2,tocIndex:0},{value:"Hook",paraId:2,tocIndex:0},{value:"\u6309\u7167\u987A\u5E8F\u514B\u9686\u5230",paraId:2,tocIndex:0},{value:"workInProgress.memoizedState",paraId:2,tocIndex:0},{value:"\u4E0A, \u5B9E\u73B0\u6570\u636E\u7684\u6301\u4E45\u5316.",paraId:2,tocIndex:0},{value:"\u5728\u6B64\u57FA\u7840\u4E4B\u4E0A, \u672C\u8282\u5C06\u6DF1\u5165\u5206\u6790",paraId:4,tocIndex:0},{value:"\u72B6\u6001Hook",paraId:4,tocIndex:0},{value:"\u7684\u7279\u6027\u548C\u5B9E\u73B0\u539F\u7406.",paraId:4,tocIndex:0},{value:"\u5728",paraId:5,tocIndex:1},{value:"fiber",paraId:5,tocIndex:1},{value:"\u521D\u6B21\u6784\u9020\u9636\u6BB5, ",paraId:5,tocIndex:1},{value:"useState",paraId:5,tocIndex:1},{value:"\u5BF9\u5E94\u6E90\u7801",paraId:5,tocIndex:1},{value:"mountState",paraId:5,tocIndex:1},{value:", ",paraId:5,tocIndex:1},{value:"useReducer",paraId:5,tocIndex:1},{value:"\u5BF9\u5E94\u6E90\u7801",paraId:5,tocIndex:1},{value:"mountReducer",paraId:5,tocIndex:1},{value:"mountState",paraId:6,tocIndex:1},{value:":",paraId:6,tocIndex:1},{value:`function mountState<S>(
  initialState: (() => S) | S,
): [S, Dispatch<BasicStateAction<S>>] {
  // 1. \u521B\u5EFAhook
  const hook = mountWorkInProgressHook();
  if (typeof initialState === 'function') {
    initialState = initialState();
  }
  // 2. \u521D\u59CB\u5316hook\u7684\u5C5E\u6027
  // 2.1 \u8BBE\u7F6E hook.memoizedState/hook.baseState
  // 2.2 \u8BBE\u7F6E hook.queue
  hook.memoizedState = hook.baseState = initialState;
  const queue = (hook.queue = {
    pending: null,
    dispatch: null,
    // queue.lastRenderedReducer\u662F\u5185\u7F6E\u51FD\u6570
    lastRenderedReducer: basicStateReducer,
    lastRenderedState: (initialState: any),
  });
  // 2.3 \u8BBE\u7F6E hook.dispatch
  const dispatch: Dispatch<BasicStateAction<S>> = (queue.dispatch =
    (dispatchAction.bind(null, currentlyRenderingFiber, queue): any));

  // 3. \u8FD4\u56DE[\u5F53\u524D\u72B6\u6001, dispatch\u51FD\u6570]
  return [hook.memoizedState, dispatch];
}
`,paraId:7,tocIndex:1},{value:"mountReducer",paraId:8,tocIndex:1},{value:":",paraId:8,tocIndex:1},{value:`function mountReducer<S, I, A>(
  reducer: (S, A) => S,
  initialArg: I,
  init?: (I) => S,
): [S, Dispatch<A>] {
  // 1. \u521B\u5EFAhook
  const hook = mountWorkInProgressHook();
  let initialState;
  if (init !== undefined) {
    initialState = init(initialArg);
  } else {
    initialState = ((initialArg: any): S);
  }
  // 2. \u521D\u59CB\u5316hook\u7684\u5C5E\u6027
  // 2.1 \u8BBE\u7F6E hook.memoizedState/hook.baseState
  hook.memoizedState = hook.baseState = initialState;
  // 2.2 \u8BBE\u7F6E hook.queue
  const queue = (hook.queue = {
    pending: null,
    dispatch: null,
    // queue.lastRenderedReducer\u662F\u7531\u5916\u4F20\u5165
    lastRenderedReducer: reducer,
    lastRenderedState: (initialState: any),
  });
  // 2.3 \u8BBE\u7F6E hook.dispatch
  const dispatch: Dispatch<A> = (queue.dispatch = (dispatchAction.bind(
    null,
    currentlyRenderingFiber,
    queue,
  ): any));

  // 3. \u8FD4\u56DE[\u5F53\u524D\u72B6\u6001, dispatch\u51FD\u6570]
  return [hook.memoizedState, dispatch];
}
`,paraId:9,tocIndex:1},{value:"mountState",paraId:10,tocIndex:1},{value:"\u548C",paraId:10,tocIndex:1},{value:"mountReducer",paraId:10,tocIndex:1},{value:"\u903B\u8F91\u7B80\u5355: \u4E3B\u8981\u8D1F\u8D23\u521B\u5EFA",paraId:10,tocIndex:1},{value:"hook",paraId:10,tocIndex:1},{value:", \u521D\u59CB\u5316",paraId:10,tocIndex:1},{value:"hook",paraId:10,tocIndex:1},{value:"\u7684\u5C5E\u6027, \u6700\u540E\u8FD4\u56DE",paraId:10,tocIndex:1},{value:"[\u5F53\u524D\u72B6\u6001, dispatch\u51FD\u6570]",paraId:10,tocIndex:1},{value:".",paraId:10,tocIndex:1},{value:"\u552F\u4E00\u7684\u4E0D\u540C\u70B9\u662F",paraId:11,tocIndex:1},{value:"hook.queue.lastRenderedReducer",paraId:11,tocIndex:1},{value:":",paraId:11,tocIndex:1},{value:"mountState",paraId:12,tocIndex:1},{value:"\u4F7F\u7528\u7684\u662F\u5185\u7F6E\u7684",paraId:12,tocIndex:1},{value:"basicStateReducer",paraId:12,tocIndex:1},{value:`function basicStateReducer<S>(state: S, action: BasicStateAction<S>): S {
  return typeof action === 'function' ? action(state) : action;
}
`,paraId:13,tocIndex:1},{value:"mountReducer",paraId:14,tocIndex:1},{value:"\u4F7F\u7528\u7684\u662F\u5916\u90E8\u4F20\u5165\u81EA\u5B9A\u4E49",paraId:14,tocIndex:1},{value:"reducer",paraId:14,tocIndex:1},{value:"\u53EF\u89C1",paraId:15,tocIndex:1},{value:"mountState",paraId:15,tocIndex:1},{value:"\u662F",paraId:15,tocIndex:1},{value:"mountReducer",paraId:15,tocIndex:1},{value:"\u7684\u4E00\u79CD\u7279\u6B8A\u60C5\u51B5, \u5373",paraId:15,tocIndex:1},{value:"useState",paraId:15,tocIndex:1},{value:"\u4E5F\u662F",paraId:15,tocIndex:1},{value:"useReducer",paraId:15,tocIndex:1},{value:"\u7684\u4E00\u79CD\u7279\u6B8A\u60C5\u51B5, \u4E5F\u662F\u6700\u7B80\u5355\u7684\u60C5\u51B5.",paraId:15,tocIndex:1},{value:"useState",paraId:16,tocIndex:1},{value:"\u53EF\u4EE5\u8F6C\u6362\u6210",paraId:16,tocIndex:1},{value:"useReducer",paraId:16,tocIndex:1},{value:":",paraId:16,tocIndex:1},{value:`const [state, dispatch] = useState({ count: 0 });

// \u7B49\u4EF7\u4E8E
const [state, dispatch] = useReducer(
  function basicStateReducer(state, action) {
    return typeof action === 'function' ? action(state) : action;
  },
  { count: 0 },
);

// \u5F53\u9700\u8981\u66F4\u65B0state\u65F6, \u67092\u79CD\u65B9\u5F0F
dispatch({ count: 1 }); // 1.\u76F4\u63A5\u8BBE\u7F6E
dispatch((state) => ({ count: state.count + 1 })); // 2.\u901A\u8FC7\u56DE\u8C03\u51FD\u6570\u8BBE\u7F6E
`,paraId:17,tocIndex:1},{value:"useReducer",paraId:18,tocIndex:1},{value:"\u7684",paraId:18,tocIndex:1},{value:"\u5B98\u7F51\u793A\u4F8B",paraId:18,tocIndex:1},{value:":",paraId:18,tocIndex:1},{value:`const [state, dispatch] = useReducer(
  function reducer(state, action) {
    switch (action.type) {
      case 'increment':
        return { count: state.count + 1 };
      case 'decrement':
        return { count: state.count - 1 };
      default:
        throw new Error();
    }
  },
  { count: 0 },
);

// \u5F53\u9700\u8981\u66F4\u65B0state\u65F6, \u53EA\u67091\u79CD\u65B9\u5F0F
dispatch({ type: 'decrement' });
`,paraId:19,tocIndex:1},{value:"\u53EF\u89C1, ",paraId:20,tocIndex:1},{value:"useState",paraId:20,tocIndex:1},{value:"\u5C31\u662F\u5BF9",paraId:20,tocIndex:1},{value:"useReducer",paraId:20,tocIndex:1},{value:"\u7684\u57FA\u672C\u5C01\u88C5, \u5185\u7F6E\u4E86\u4E00\u4E2A\u7279\u6B8A\u7684",paraId:20,tocIndex:1},{value:"reducer",paraId:20,tocIndex:1},{value:"(\u540E\u6587\u4E0D\u518D\u533A\u5206",paraId:20,tocIndex:1},{value:"useState, useReducer",paraId:20,tocIndex:1},{value:", \u90FD\u4EE5",paraId:20,tocIndex:1},{value:"useState",paraId:20,tocIndex:1},{value:"\u4E3A\u4F8B).",paraId:20,tocIndex:1},{value:"\u521B\u5EFAhook",paraId:20,tocIndex:1},{value:"\u4E4B\u540E\u8FD4\u56DE\u503C",paraId:20,tocIndex:1},{value:"[hook.memoizedState, dispatch]",paraId:20,tocIndex:1},{value:"\u4E2D\u7684",paraId:20,tocIndex:1},{value:"dispatch",paraId:20,tocIndex:1},{value:"\u5B9E\u9645\u4E0A\u4F1A\u8C03\u7528",paraId:20,tocIndex:1},{value:"reducer",paraId:20,tocIndex:1},{value:"\u51FD\u6570.",paraId:20,tocIndex:1},{value:"\u5728",paraId:21,tocIndex:2},{value:"useState(initialState)",paraId:21,tocIndex:2},{value:"\u51FD\u6570\u5185\u90E8, \u8BBE\u7F6E",paraId:21,tocIndex:2},{value:"hook.memoizedState = hook.baseState = initialState;",paraId:21,tocIndex:2},{value:", \u521D\u59CB\u72B6\u6001\u88AB\u540C\u65F6\u4FDD\u5B58\u5230\u4E86",paraId:21,tocIndex:2},{value:"hook.baseState",paraId:21,tocIndex:2},{value:",",paraId:21,tocIndex:2},{value:"hook.memoizedState",paraId:21,tocIndex:2},{value:"\u4E2D.",paraId:21,tocIndex:2},{value:"hook.memoizedState",paraId:22,tocIndex:2},{value:": \u5F53\u524D\u72B6\u6001",paraId:22,tocIndex:2},{value:"hook.baseState",paraId:22,tocIndex:2},{value:": ",paraId:22,tocIndex:2},{value:"\u57FA\u7840",paraId:22,tocIndex:2},{value:"\u72B6\u6001, \u4F5C\u4E3A\u5408\u5E76",paraId:22,tocIndex:2},{value:"hook.baseQueue",paraId:22,tocIndex:2},{value:"\u7684\u521D\u59CB\u503C(\u4E0B\u6587\u4ECB\u7ECD).",paraId:22,tocIndex:2},{value:"\u6700\u540E\u8FD4\u56DE",paraId:23,tocIndex:2},{value:"[hook.memoizedState, dispatch]",paraId:23,tocIndex:2},{value:", \u6240\u4EE5\u5728",paraId:23,tocIndex:2},{value:"function",paraId:23,tocIndex:2},{value:"\u4E2D\u4F7F\u7528\u7684\u662F",paraId:23,tocIndex:2},{value:"hook.memoizedState",paraId:23,tocIndex:2},{value:".",paraId:23,tocIndex:2},{value:"\u6709\u5982\u4E0B\u4EE3\u7801:",paraId:24,tocIndex:3},{value:"\u521D\u6B21\u6E32\u67D3\u65F6",paraId:25},{value:"count = 0",paraId:25},{value:", \u8FD9\u65F6",paraId:25},{value:"hook",paraId:25},{value:"\u5BF9\u8C61\u7684\u5185\u5B58\u72B6\u6001\u5982\u4E0B:",paraId:25},{value:"\u70B9\u51FB",paraId:26},{value:"button",paraId:26},{value:", \u901A\u8FC7",paraId:26},{value:"dispatch",paraId:26},{value:"\u51FD\u6570\u8FDB\u884C\u66F4\u65B0, ",paraId:26},{value:"dispatch",paraId:26},{value:"\u5B9E\u9645\u5C31\u662F",paraId:26},{value:"dispatchAction",paraId:26},{value:":",paraId:26},{value:`function dispatchAction<S, A>(
  fiber: Fiber,
  queue: UpdateQueue<S, A>,
  action: A,
) {
  // 1. \u521B\u5EFAupdate\u5BF9\u8C61
  const eventTime = requestEventTime();
  const lane = requestUpdateLane(fiber); // Legacy\u6A21\u5F0F\u8FD4\u56DESyncLane
  const update: Update<S, A> = {
    lane,
    action,
    eagerReducer: null,
    eagerState: null,
    next: (null: any),
  };

  // 2. \u5C06update\u5BF9\u8C61\u6DFB\u52A0\u5230hook.queue.pending\u961F\u5217
  const pending = queue.pending;
  if (pending === null) {
    // \u9996\u4E2Aupdate, \u521B\u5EFA\u4E00\u4E2A\u73AF\u5F62\u94FE\u8868
    update.next = update;
  } else {
    update.next = pending.next;
    pending.next = update;
  }
  queue.pending = update;

  const alternate = fiber.alternate;
  if (
    fiber === currentlyRenderingFiber ||
    (alternate !== null && alternate === currentlyRenderingFiber)
  ) {
    // \u6E32\u67D3\u65F6\u66F4\u65B0, \u505A\u597D\u5168\u5C40\u6807\u8BB0
    didScheduleRenderPhaseUpdateDuringThisPass =
      didScheduleRenderPhaseUpdate = true;
  } else {
    // ...\u7701\u7565\u6027\u80FD\u4F18\u5316\u90E8\u5206, \u4E0B\u6587\u4ECB\u7ECD

    // 3. \u53D1\u8D77\u8C03\u5EA6\u66F4\u65B0, \u8FDB\u5165\`reconciler \u8FD0\u4F5C\u6D41\u7A0B\`\u4E2D\u7684\u8F93\u5165\u9636\u6BB5.
    scheduleUpdateOnFiber(fiber, lane, eventTime);
  }
}
`,paraId:27},{value:"\u903B\u8F91\u5341\u5206\u6E05\u6670:",paraId:28},{value:"\u521B\u5EFA",paraId:29},{value:"update",paraId:29},{value:"\u5BF9\u8C61, \u5176\u4E2D",paraId:29},{value:"update.lane",paraId:29},{value:"\u4EE3\u8868\u4F18\u5148\u7EA7(\u53EF\u56DE\u987E",paraId:29},{value:"fiber \u6811\u6784\u9020(\u57FA\u7840\u51C6\u5907)",paraId:30},{value:"\u4E2D\u7684",paraId:29},{value:"update\u4F18\u5148\u7EA7",paraId:29},{value:").",paraId:29},{value:"\u5C06",paraId:29},{value:"update",paraId:29},{value:"\u5BF9\u8C61\u6DFB\u52A0\u5230",paraId:29},{value:"hook.queue.pending",paraId:29},{value:`\u73AF\u5F62\u94FE\u8868.
`,paraId:29},{value:"\u73AF\u5F62\u94FE\u8868",paraId:31},{value:"\u7684\u7279\u5F81: \u4E3A\u4E86\u65B9\u4FBF\u6DFB\u52A0\u65B0\u5143\u7D20\u548C\u5FEB\u901F\u62FF\u5230\u961F\u9996\u5143\u7D20(\u90FD\u662F",paraId:31},{value:"O(1)",paraId:31},{value:"), \u6240\u4EE5",paraId:31},{value:"pending",paraId:31},{value:"\u6307\u9488\u6307\u5411\u4E86\u94FE\u8868\u4E2D\u6700\u540E\u4E00\u4E2A\u5143\u7D20.",paraId:31},{value:"\u94FE\u8868\u7684\u4F7F\u7528\u65B9\u5F0F\u53EF\u4EE5\u53C2\u8003",paraId:31},{value:"React \u7B97\u6CD5\u4E4B\u94FE\u8868\u64CD\u4F5C",paraId:32},{value:"\u53D1\u8D77\u8C03\u5EA6\u66F4\u65B0: \u8C03\u7528",paraId:29},{value:"scheduleUpdateOnFiber",paraId:29},{value:", \u8FDB\u5165",paraId:29},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:29},{value:"\u4E2D\u7684\u8F93\u5165\u9636\u6BB5.",paraId:29},{value:"\u4ECE\u8C03\u7528",paraId:33},{value:"scheduleUpdateOnFiber",paraId:33},{value:"\u5F00\u59CB, \u8FDB\u5165\u4E86",paraId:33},{value:"react-reconciler",paraId:33},{value:"\u5305, \u5176\u4E2D\u7684\u6240\u6709\u903B\u8F91\u53EF\u56DE\u987E",paraId:33},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:34},{value:", \u672C\u8282\u53EA\u8BA8\u8BBA",paraId:33},{value:"\u72B6\u6001Hook",paraId:33},{value:"\u76F8\u5173\u903B\u8F91.",paraId:33},{value:"\u6CE8\u610F: \u672C\u793A\u4F8B\u4E2D\u867D\u7136\u540C\u65F6\u6267\u884C\u4E86 3 \u6B21 dispatch, \u4F1A\u8BF7\u6C42 3 \u6B21\u8C03\u5EA6, \u7531\u4E8E\u8C03\u5EA6\u4E2D\u5FC3\u7684",paraId:35},{value:"\u8282\u6D41\u4F18\u5316",paraId:36},{value:", \u6700\u540E\u53EA\u4F1A\u6267\u884C\u4E00\u6B21\u6E32\u67D3",paraId:35},{value:"\u5728",paraId:37},{value:"fiber\u6811\u6784\u9020(\u5BF9\u6BD4\u66F4\u65B0)",paraId:37},{value:"\u8FC7\u7A0B\u4E2D, \u518D\u6B21\u8C03\u7528",paraId:37},{value:"function",paraId:37},{value:", \u8FD9\u65F6",paraId:37},{value:"useState",paraId:37},{value:"\u5BF9\u5E94\u7684\u51FD\u6570\u662F",paraId:37},{value:"updateState",paraId:37},{value:`function updateState<S>(
  initialState: (() => S) | S,
): [S, Dispatch<BasicStateAction<S>>] {
  return updateReducer(basicStateReducer, (initialState: any));
}
`,paraId:38},{value:"\u5B9E\u9645\u8C03\u7528",paraId:39},{value:"updateReducer",paraId:39},{value:".",paraId:39},{value:"\u5728\u6267\u884C",paraId:40},{value:"updateReducer",paraId:40},{value:"\u4E4B\u524D, ",paraId:40},{value:"hook",paraId:40},{value:"\u76F8\u5173\u7684\u5185\u5B58\u7ED3\u6784\u5982\u4E0B:",paraId:40},{value:`function updateReducer<S, I, A>(
  reducer: (S, A) => S,
  initialArg: I,
  init?: (I) => S,
): [S, Dispatch<A>] {
  // 1. \u83B7\u53D6workInProgressHook\u5BF9\u8C61
  const hook = updateWorkInProgressHook();
  const queue = hook.queue;
  queue.lastRenderedReducer = reducer;
  const current: Hook = (currentHook: any);
  let baseQueue = current.baseQueue;

  // 2. \u94FE\u8868\u62FC\u63A5: \u5C06 hook.queue.pending \u62FC\u63A5\u5230 current.baseQueue
  const pendingQueue = queue.pending;
  if (pendingQueue !== null) {
    if (baseQueue !== null) {
      const baseFirst = baseQueue.next;
      const pendingFirst = pendingQueue.next;
      baseQueue.next = pendingFirst;
      pendingQueue.next = baseFirst;
    }
    current.baseQueue = baseQueue = pendingQueue;
    queue.pending = null;
  }
  // 3. \u72B6\u6001\u8BA1\u7B97
  if (baseQueue !== null) {
    const first = baseQueue.next;
    let newState = current.baseState;

    let newBaseState = null;
    let newBaseQueueFirst = null;
    let newBaseQueueLast = null;
    let update = first;

    do {
      const updateLane = update.lane;
      // 3.1 \u4F18\u5148\u7EA7\u63D0\u53D6update
      if (!isSubsetOfLanes(renderLanes, updateLane)) {
        // \u4F18\u5148\u7EA7\u4E0D\u591F: \u52A0\u5165\u5230baseQueue\u4E2D, \u7B49\u5F85\u4E0B\u4E00\u6B21render
        const clone: Update<S, A> = {
          lane: updateLane,
          action: update.action,
          eagerReducer: update.eagerReducer,
          eagerState: update.eagerState,
          next: (null: any),
        };
        if (newBaseQueueLast === null) {
          newBaseQueueFirst = newBaseQueueLast = clone;
          newBaseState = newState;
        } else {
          newBaseQueueLast = newBaseQueueLast.next = clone;
        }
        currentlyRenderingFiber.lanes = mergeLanes(
          currentlyRenderingFiber.lanes,
          updateLane,
        );
        markSkippedUpdateLanes(updateLane);
      } else {
        // \u4F18\u5148\u7EA7\u8DB3\u591F: \u72B6\u6001\u5408\u5E76
        if (newBaseQueueLast !== null) {
          // \u66F4\u65B0baseQueue
          const clone: Update<S, A> = {
            lane: NoLane,
            action: update.action,
            eagerReducer: update.eagerReducer,
            eagerState: update.eagerState,
            next: (null: any),
          };
          newBaseQueueLast = newBaseQueueLast.next = clone;
        }
        if (update.eagerReducer === reducer) {
          // \u6027\u80FD\u4F18\u5316: \u5982\u679C\u5B58\u5728 update.eagerReducer, \u76F4\u63A5\u4F7F\u7528update.eagerState.\u907F\u514D\u91CD\u590D\u8C03\u7528reducer
          newState = ((update.eagerState: any): S);
        } else {
          const action = update.action;
          // \u8C03\u7528reducer\u83B7\u53D6\u6700\u65B0\u72B6\u6001
          newState = reducer(newState, action);
        }
      }
      update = update.next;
    } while (update !== null && update !== first);

    // 3.2. \u66F4\u65B0\u5C5E\u6027
    if (newBaseQueueLast === null) {
      newBaseState = newState;
    } else {
      newBaseQueueLast.next = (newBaseQueueFirst: any);
    }
    if (!is(newState, hook.memoizedState)) {
      markWorkInProgressReceivedUpdate();
    }
    // \u628A\u8BA1\u7B97\u4E4B\u540E\u7684\u7ED3\u679C\u66F4\u65B0\u5230workInProgressHook\u4E0A
    hook.memoizedState = newState;
    hook.baseState = newBaseState;
    hook.baseQueue = newBaseQueueLast;
    queue.lastRenderedState = newState;
  }

  const dispatch: Dispatch<A> = (queue.dispatch: any);
  return [hook.memoizedState, dispatch];
}
`,paraId:41},{value:"updateReducer",paraId:42},{value:"\u51FD\u6570, \u4EE3\u7801\u76F8\u5BF9\u8F83\u957F, \u4F46\u662F\u903B\u8F91\u5206\u660E:",paraId:42},{value:"\u8C03\u7528",paraId:43},{value:"updateWorkInProgressHook",paraId:43},{value:"\u83B7\u53D6",paraId:43},{value:"workInProgressHook",paraId:43},{value:"\u5BF9\u8C61",paraId:43},{value:"\u94FE\u8868\u62FC\u63A5: \u5C06 ",paraId:44},{value:"hook.queue.pending",paraId:44},{value:" \u62FC\u63A5\u5230 ",paraId:44},{value:"current.baseQueue",paraId:44},{value:"\u72B6\u6001\u8BA1\u7B97",paraId:45},{value:"update",paraId:46},{value:"\u4F18\u5148\u7EA7\u4E0D\u591F: \u52A0\u5165\u5230 baseQueue \u4E2D, \u7B49\u5F85\u4E0B\u4E00\u6B21 render",paraId:46},{value:"update",paraId:47},{value:"\u4F18\u5148\u7EA7\u8DB3\u591F: \u72B6\u6001\u5408\u5E76",paraId:47},{value:"\u66F4\u65B0\u5C5E\u6027",paraId:48},{value:"dispatchAction",paraId:49,tocIndex:4},{value:"\u51FD\u6570\u4E2D, \u5728\u8C03\u7528",paraId:49,tocIndex:4},{value:"scheduleUpdateOnFiber",paraId:49,tocIndex:4},{value:"\u4E4B\u524D, \u9488\u5BF9",paraId:49,tocIndex:4},{value:"update",paraId:49,tocIndex:4},{value:"\u5BF9\u8C61\u505A\u4E86\u6027\u80FD\u4F18\u5316.",paraId:49,tocIndex:4},{value:"queue.pending",paraId:50,tocIndex:4},{value:"\u4E2D\u53EA\u5305\u542B\u5F53\u524D",paraId:50,tocIndex:4},{value:"update",paraId:50,tocIndex:4},{value:"\u65F6, \u5373\u5F53\u524D",paraId:50,tocIndex:4},{value:"update",paraId:50,tocIndex:4},{value:"\u662F",paraId:50,tocIndex:4},{value:"queue.pending",paraId:50,tocIndex:4},{value:"\u4E2D\u7684\u7B2C\u4E00\u4E2A",paraId:50,tocIndex:4},{value:"update",paraId:50,tocIndex:4},{value:"\u76F4\u63A5\u8C03\u7528",paraId:50,tocIndex:4},{value:"queue.lastRenderedReducer",paraId:50,tocIndex:4},{value:",\u8BA1\u7B97\u51FA",paraId:50,tocIndex:4},{value:"update",paraId:50,tocIndex:4},{value:"\u4E4B\u540E\u7684 state, \u8BB0\u4E3A",paraId:50,tocIndex:4},{value:"eagerState",paraId:50,tocIndex:4},{value:"\u5982\u679C",paraId:50,tocIndex:4},{value:"eagerState",paraId:50,tocIndex:4},{value:"\u4E0E",paraId:50,tocIndex:4},{value:"currentState",paraId:50,tocIndex:4},{value:"\u76F8\u540C, \u5219\u76F4\u63A5\u9000\u51FA, \u4E0D\u7528\u53D1\u8D77\u8C03\u5EA6\u66F4\u65B0.",paraId:50,tocIndex:4},{value:"\u5DF2\u7ECF\u88AB\u6302\u8F7D\u5230",paraId:50,tocIndex:4},{value:"queue.pending",paraId:50,tocIndex:4},{value:"\u4E0A\u7684",paraId:50,tocIndex:4},{value:"update",paraId:50,tocIndex:4},{value:"\u4F1A\u5728\u4E0B\u4E00\u6B21",paraId:50,tocIndex:4},{value:"render",paraId:50,tocIndex:4},{value:"\u65F6\u518D\u6B21\u5408\u5E76.",paraId:50,tocIndex:4},{value:`function dispatchAction<S, A>(
  fiber: Fiber,
  queue: UpdateQueue<S, A>,
  action: A,
) {
  // ...\u7701\u7565\u65E0\u5173\u4EE3\u7801 ...\u53EA\u4FDD\u7559\u6027\u80FD\u4F18\u5316\u90E8\u5206\u4EE3\u7801:

  // \u4E0B\u9762\u8FD9\u4E2Aif\u5224\u65AD, \u80FD\u4FDD\u8BC1\u5F53\u524D\u521B\u5EFA\u7684update, \u662F\`queue.pending\`\u4E2D\u7B2C\u4E00\u4E2A\`update\`. \u4E3A\u4EC0\u4E48? \u53D1\u8D77\u66F4\u65B0\u4E4B\u540Efiber.lanes\u4F1A\u88AB\u6539\u52A8(\u53EF\u4EE5\u56DE\u987E\`fiber \u6811\u6784\u9020(\u5BF9\u6BD4\u66F4\u65B0)\`\u7AE0\u8282), \u5982\u679C\`fiber.lanes && alternate.lanes\`\u6CA1\u6709\u88AB\u6539\u52A8, \u81EA\u7136\u5C31\u662F\u9996\u4E2Aupdate
  if (
    fiber.lanes === NoLanes &&
    (alternate === null || alternate.lanes === NoLanes)
  ) {
    const lastRenderedReducer = queue.lastRenderedReducer;
    if (lastRenderedReducer !== null) {
      let prevDispatcher;
      const currentState: S = (queue.lastRenderedState: any);
      const eagerState = lastRenderedReducer(currentState, action);
      // \u6682\u5B58\`eagerReducer\`\u548C\`eagerState\`, \u5982\u679C\u5728render\u9636\u6BB5reducer==update.eagerReducer, \u5219\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u65E0\u9700\u518D\u6B21\u8BA1\u7B97
      update.eagerReducer = lastRenderedReducer;
      update.eagerState = eagerState;
      if (is(eagerState, currentState)) {
        // \u5FEB\u901F\u901A\u9053, eagerState\u4E0EcurrentState\u76F8\u540C, \u65E0\u9700\u8C03\u5EA6\u66F4\u65B0
        // \u6CE8: update\u5DF2\u7ECF\u88AB\u6DFB\u52A0\u5230\u4E86queue.pending, \u5E76\u6CA1\u6709\u4E22\u5F03. \u4E4B\u540E\u9700\u8981\u66F4\u65B0\u7684\u65F6\u5019, \u6B64update\u8FD8\u662F\u4F1A\u8D77\u4F5C\u7528
        return;
      }
    }
  }
  // \u53D1\u8D77\u8C03\u5EA6\u66F4\u65B0, \u8FDB\u5165\`reconciler \u8FD0\u4F5C\u6D41\u7A0B\`\u4E2D\u7684\u8F93\u5165\u9636\u6BB5.
  scheduleUpdateOnFiber(fiber, lane, eventTime);
}
`,paraId:51,tocIndex:4},{value:"\u4E3A\u4E86\u9A8C\u8BC1\u4E0A\u8FF0\u4F18\u5316, \u53EF\u4EE5\u67E5\u770B\u8FD9\u4E2A demo:",paraId:52,tocIndex:4},{value:"\u4E0A\u8FF0\u793A\u4F8B\u90FD\u662F\u4E3A\u5728",paraId:53,tocIndex:5},{value:"Legacy",paraId:53,tocIndex:5},{value:"\u6A21\u5F0F\u4E0B, \u6240\u4EE5\u5747\u4E3A\u540C\u6B65\u66F4\u65B0. \u6240\u4EE5",paraId:53,tocIndex:5},{value:"update",paraId:53,tocIndex:5},{value:"\u5BF9\u8C61\u4F1A\u88AB\u5168\u91CF\u5408\u5E76,",paraId:53,tocIndex:5},{value:"hook.baseQueue",paraId:53,tocIndex:5},{value:"\u548C",paraId:53,tocIndex:5},{value:"hook.baseState",paraId:53,tocIndex:5},{value:"\u5E76\u6CA1\u6709\u8D77\u5230\u5B9E\u8D28\u4F5C\u7528.",paraId:53,tocIndex:5},{value:"\u867D\u7136\u5728",paraId:54,tocIndex:5},{value:"v17.x",paraId:54,tocIndex:5},{value:"\u7248\u672C\u4E2D, \u5E76\u6CA1\u6709",paraId:54,tocIndex:5},{value:"Concurrent",paraId:54,tocIndex:5},{value:"\u6A21\u5F0F\u7684\u5165\u53E3, \u5373\u5C06\u53D1\u5E03\u7684",paraId:54,tocIndex:5},{value:"v18.x",paraId:54,tocIndex:5},{value:"\u7248\u672C\u5C06\u5168\u9762\u8FDB\u5165\u5F02\u6B65\u65F6\u4EE3, \u6240\u4EE5\u672C\u8282\u63D0\u524D\u68B3\u7406\u4E00\u4E0B",paraId:54,tocIndex:5},{value:"update",paraId:54,tocIndex:5},{value:"\u5F02\u6B65\u5408\u5E76\u7684\u903B\u8F91. \u540C\u65F6\u52A0\u6DF1",paraId:54,tocIndex:5},{value:"hook.baseQueue",paraId:54,tocIndex:5},{value:"\u548C",paraId:54,tocIndex:5},{value:"hook.baseState",paraId:54,tocIndex:5},{value:"\u7684\u7406\u89E3.",paraId:54,tocIndex:5},{value:"\u5047\u8BBE\u6709\u4E00\u4E2A",paraId:55,tocIndex:5},{value:"queue.pending",paraId:55,tocIndex:5},{value:"\u94FE\u8868, \u5176\u4E2D",paraId:55,tocIndex:5},{value:"update",paraId:55,tocIndex:5},{value:"\u4F18\u5148\u7EA7\u4E0D\u540C, ",paraId:55,tocIndex:5},{value:"\u7EFF\u8272",paraId:55,tocIndex:5},{value:"\u8868\u793A\u9AD8\u4F18\u5148\u7EA7, ",paraId:55,tocIndex:5},{value:"\u7070\u8272",paraId:55,tocIndex:5},{value:"\u8868\u793A\u4F4E\u4F18\u5148\u7EA7, ",paraId:55,tocIndex:5},{value:"\u7EA2\u8272",paraId:55,tocIndex:5},{value:"\u8868\u793A\u6700\u9AD8\u4F18\u5148\u7EA7.",paraId:55,tocIndex:5},{value:"\u5728\u6267\u884C",paraId:56,tocIndex:5},{value:"updateReducer",paraId:56,tocIndex:5},{value:"\u4E4B\u524D, ",paraId:56,tocIndex:5},{value:"hook.memoizedState",paraId:56,tocIndex:5},{value:"\u6709\u5982\u4E0B\u7ED3\u6784(\u5176\u4E2D",paraId:56,tocIndex:5},{value:"update3, update4",paraId:56,tocIndex:5},{value:"\u662F\u4F4E\u4F18\u5148\u7EA7):",paraId:56,tocIndex:5},{value:"\u94FE\u8868\u62FC\u63A5:",paraId:57,tocIndex:5},{value:"\u548C\u540C\u6B65\u66F4\u65B0\u65F6\u4E00\u81F4, \u76F4\u63A5\u628A",paraId:58,tocIndex:5},{value:"queue.pending",paraId:58,tocIndex:5},{value:"\u62FC\u63A5\u5230",paraId:58,tocIndex:5},{value:"current.baseQueue",paraId:58,tocIndex:5},{value:"\u72B6\u6001\u8BA1\u7B97:",paraId:59,tocIndex:5},{value:"\u53EA\u4F1A\u63D0\u53D6",paraId:60,tocIndex:5},{value:"update1, update2",paraId:60,tocIndex:5},{value:"\u8FD9 2 \u4E2A\u9AD8\u4F18\u5148\u7EA7\u7684",paraId:60,tocIndex:5},{value:"update",paraId:60,tocIndex:5},{value:", \u6240\u4EE5\u6700\u540E",paraId:60,tocIndex:5},{value:"memoizedState=2",paraId:60,tocIndex:5},{value:"\u4FDD\u7559\u5176\u4F59\u4F4E\u4F18\u5148\u7EA7\u7684",paraId:60,tocIndex:5},{value:"update",paraId:60,tocIndex:5},{value:", \u7B49\u5F85\u4E0B\u4E00\u6B21",paraId:60,tocIndex:5},{value:"render",paraId:60,tocIndex:5},{value:"\u4ECE\u7B2C\u4E00\u4E2A\u4F4E\u4F18\u5148\u7EA7",paraId:60,tocIndex:5},{value:"update3",paraId:60,tocIndex:5},{value:"\u5F00\u59CB, \u968F\u540E\u7684\u6240\u6709",paraId:60,tocIndex:5},{value:"update",paraId:60,tocIndex:5},{value:"\u90FD\u4F1A\u88AB\u6DFB\u52A0\u5230",paraId:60,tocIndex:5},{value:"baseQueue",paraId:60,tocIndex:5},{value:", \u7531\u4E8E",paraId:60,tocIndex:5},{value:"update2",paraId:60,tocIndex:5},{value:"\u5DF2\u7ECF\u662F\u9AD8\u4F18\u5148\u7EA7, \u4F1A\u8BBE\u7F6E",paraId:60,tocIndex:5},{value:"update2.lane=NoLane",paraId:60,tocIndex:5},{value:"\u5C06\u4F18\u5148\u7EA7\u5347\u7EA7\u5230\u6700\u9AD8(\u7EA2\u8272\u8868\u793A).",paraId:60,tocIndex:5},{value:"\u800C",paraId:60,tocIndex:5},{value:"baseState",paraId:60,tocIndex:5},{value:"\u4EE3\u8868\u7B2C\u4E00\u4E2A\u4F4E\u4F18\u5148\u7EA7",paraId:60,tocIndex:5},{value:"update3",paraId:60,tocIndex:5},{value:"\u4E4B\u524D\u7684",paraId:60,tocIndex:5},{value:"state",paraId:60,tocIndex:5},{value:", \u5728\u672C\u4F8B\u4E2D, ",paraId:60,tocIndex:5},{value:"baseState=1",paraId:60,tocIndex:5},{value:"function",paraId:61,tocIndex:5},{value:"\u8282\u70B9\u88AB\u5904\u7406\u5B8C\u540E, \u9AD8\u4F18\u5148\u7EA7\u7684",paraId:61,tocIndex:5},{value:"update",paraId:61,tocIndex:5},{value:", \u4F1A\u7387\u5148\u88AB\u4F7F\u7528(",paraId:61,tocIndex:5},{value:"memoizedState=2",paraId:61,tocIndex:5},{value:"). \u4E00\u6BB5\u65F6\u95F4\u540E, \u4F4E\u4F18\u5148\u7EA7",paraId:61,tocIndex:5},{value:"update3, update4",paraId:61,tocIndex:5},{value:"\u7B26\u5408\u6E32\u67D3, \u8FD9\u79CD\u60C5\u51B5\u4E0B\u518D\u6B21\u6267\u884C",paraId:61,tocIndex:5},{value:"updateReducer",paraId:61,tocIndex:5},{value:"\u91CD\u590D\u4E4B\u524D\u7684\u6B65\u9AA4.",paraId:61,tocIndex:5},{value:"\u94FE\u8868\u62FC\u63A5:",paraId:62,tocIndex:5},{value:"\u7531\u4E8E",paraId:63,tocIndex:5},{value:"queue.pending = null",paraId:63,tocIndex:5},{value:", \u6545\u62FC\u63A5\u524D\u540E\u6CA1\u6709\u5B9E\u8D28\u53D8\u5316",paraId:63,tocIndex:5},{value:"\u72B6\u6001\u8BA1\u7B97:",paraId:64,tocIndex:5},{value:"\u73B0\u5728\u6240\u6709",paraId:65,tocIndex:5},{value:"update.lane",paraId:65,tocIndex:5},{value:"\u90FD\u7B26\u5408",paraId:65,tocIndex:5},{value:"\u6E32\u67D3\u4F18\u5148\u7EA7",paraId:65,tocIndex:5},{value:", \u6240\u4EE5\u6700\u540E\u7684\u5185\u5B58\u7ED3\u6784\u4E0E\u540C\u6B65\u66F4\u65B0\u4E00\u81F4(",paraId:65,tocIndex:5},{value:"memoizedState=4,baseState=4",paraId:65,tocIndex:5},{value:").",paraId:65,tocIndex:5},{value:"\u7ED3\u8BBA: \u5C3D\u7BA1",paraId:66,tocIndex:5},{value:"update",paraId:66,tocIndex:5},{value:"\u94FE\u8868\u7684\u4F18\u5148\u7EA7\u4E0D\u540C, \u4E2D\u95F4\u7684",paraId:66,tocIndex:5},{value:"render",paraId:66,tocIndex:5},{value:"\u53EF\u80FD\u6709\u591A\u6B21, \u4F46\u6700\u7EC8\u7684\u66F4\u65B0\u7ED3\u679C\u7B49\u4E8E",paraId:66,tocIndex:5},{value:"update",paraId:66,tocIndex:5},{value:"\u94FE\u8868",paraId:66,tocIndex:5},{value:"\u6309\u987A\u5E8F\u5408\u5E76",paraId:66,tocIndex:5},{value:".",paraId:66,tocIndex:5},{value:"\u672C\u8282\u6DF1\u5165\u5206\u6790",paraId:67,tocIndex:6},{value:"\u72B6\u6001Hook",paraId:67,tocIndex:6},{value:"\u5373",paraId:67,tocIndex:6},{value:"useState",paraId:67,tocIndex:6},{value:"\u7684\u5185\u90E8\u539F\u7406, \u4ECE",paraId:67,tocIndex:6},{value:"\u540C\u6B65,\u5F02\u6B65",paraId:67,tocIndex:6},{value:"\u66F4\u65B0\u7406\u89E3\u4E86",paraId:67,tocIndex:6},{value:"update",paraId:67,tocIndex:6},{value:"\u5BF9\u8C61\u7684\u5408\u5E76\u65B9\u5F0F, \u6700\u7EC8\u7ED3\u679C\u5B58\u50A8\u5728",paraId:67,tocIndex:6},{value:"hook.memoizedState",paraId:67,tocIndex:6},{value:"\u4F9B\u7ED9",paraId:67,tocIndex:6},{value:"function",paraId:67,tocIndex:6},{value:"\u4F7F\u7528.",paraId:67,tocIndex:6}],Et={},nt={title:"\u8C03\u548C\u7B97\u6CD5",toc:"menu",filename:"docs/algorithm/diff.md",nav:{title:"\u9AD8\u9891\u7B97\u6CD5",order:1},order:0,description:"\u8C03\u548C\u51FD\u6570(\u6E90\u7801)\u662F\u5728fiber\u6811\u6784(\u5BF9\u6BD4\u66F4\u65B0)\u8FC7\u7A0B\u4E2D\u5BF9\u65E7fiber\u8282\u70B9\u4E0E\u65B0reactElement\u8FDB\u884C\u6BD4\u8F83, \u5224\u5B9A\u65E7fiber\u8282\u70B9\u662F\u5426\u53EF\u4EE5\u590D\u7528\u7684\u4E00\u4E2A\u6BD4\u8F83\u51FD\u6570."},It=[{id:"react-\u7B97\u6CD5\u4E4B\u8C03\u548C\u7B97\u6CD5",depth:1,title:"React \u7B97\u6CD5\u4E4B\u8C03\u548C\u7B97\u6CD5"},{id:"\u6982\u5FF5",depth:2,title:"\u6982\u5FF5"},{id:"\u7279\u6027",depth:2,title:"\u7279\u6027"},{id:"\u57FA\u672C\u539F\u7406",depth:2,title:"\u57FA\u672C\u539F\u7406"},{id:"\u5355\u8282\u70B9\u6BD4\u8F83",depth:3,title:"\u5355\u8282\u70B9\u6BD4\u8F83"},{id:"\u53EF\u8FED\u4EE3\u8282\u70B9\u6BD4\u8F83\u6570\u7EC4\u7C7B\u578B-symboliteratorfniteratorfn",depth:3,title:"\u53EF\u8FED\u4EE3\u8282\u70B9\u6BD4\u8F83(\u6570\u7EC4\u7C7B\u578B, [Symbol.iterator]=fn,[@@iterator]=fn)"},{id:"\u7ED3\u679C",depth:3,title:"\u7ED3\u679C"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"}],Vt=[{value:"\u8C03\u548C\u51FD\u6570(",paraId:0,tocIndex:1},{value:"\u6E90\u7801",paraId:0,tocIndex:1},{value:")\u662F\u5728",paraId:0,tocIndex:1},{value:"fiber\u6811\u6784(\u5BF9\u6BD4\u66F4\u65B0)",paraId:0,tocIndex:1},{value:"\u8FC7\u7A0B\u4E2D\u5BF9",paraId:0,tocIndex:1},{value:"\u65E7fiber\u8282\u70B9",paraId:0,tocIndex:1},{value:"\u4E0E",paraId:0,tocIndex:1},{value:"\u65B0reactElement",paraId:0,tocIndex:1},{value:"\u8FDB\u884C\u6BD4\u8F83, \u5224\u5B9A",paraId:0,tocIndex:1},{value:"\u65E7fiber\u8282\u70B9",paraId:0,tocIndex:1},{value:"\u662F\u5426\u53EF\u4EE5\u590D\u7528\u7684\u4E00\u4E2A\u6BD4\u8F83\u51FD\u6570.",paraId:0,tocIndex:1},{value:"\u8C03\u548C\u51FD\u6570\u4EC5\u662F",paraId:1,tocIndex:1},{value:"fiber\u6811\u6784\u9020",paraId:1,tocIndex:1},{value:"\u8FC7\u7A0B\u4E2D\u7684\u4E00\u4E2A\u73AF\u8282, \u6240\u4EE5\u5728\u6DF1\u5165\u7406\u89E3\u8FD9\u4E2A\u51FD\u6570\u4E4B\u524D, \u5EFA\u8BAE\u5BF9",paraId:1,tocIndex:1},{value:"fiber\u6811\u6784\u9020",paraId:1,tocIndex:1},{value:"\u6709\u4E00\u4E2A\u5B8F\u89C2\u7684\u7406\u89E3(\u53EF\u4EE5\u53C2\u8003\u524D\u6587",paraId:1,tocIndex:1},{value:"fiber \u6811\u6784\u9020(\u521D\u6B21\u521B\u5EFA)",paraId:2,tocIndex:1},{value:", ",paraId:1,tocIndex:1},{value:"fiber \u6811\u6784\u9020(\u5BF9\u6BD4\u66F4\u65B0)",paraId:3,tocIndex:1},{value:"), \u672C\u8282\u91CD\u70B9\u63A2\u8BA8\u5176\u7B97\u6CD5\u7684\u5B9E\u73B0\u7EC6\u8282.",paraId:1,tocIndex:1},{value:"\u5B83\u7684\u4E3B\u8981\u4F5C\u7528:",paraId:4,tocIndex:1},{value:"\u7ED9\u65B0\u589E,\u79FB\u52A8,\u548C\u5220\u9664\u8282\u70B9\u8BBE\u7F6E",paraId:5,tocIndex:1},{value:"fiber.flags",paraId:5,tocIndex:1},{value:"(\u65B0\u589E, \u79FB\u52A8: ",paraId:5,tocIndex:1},{value:"Placement",paraId:5,tocIndex:1},{value:", \u5220\u9664: ",paraId:5,tocIndex:1},{value:"Deletion",paraId:5,tocIndex:1},{value:")",paraId:5,tocIndex:1},{value:"\u5982\u679C\u662F\u9700\u8981\u5220\u9664\u7684",paraId:5,tocIndex:1},{value:"fiber",paraId:5,tocIndex:1},{value:", ",paraId:5,tocIndex:1},{value:"\u9664\u4E86\u81EA\u8EAB\u6253\u4E0A",paraId:5,tocIndex:1},{value:"Deletion",paraId:5,tocIndex:1},{value:"\u4E4B\u5916, \u8FD8\u8981\u5C06\u5176\u6DFB\u52A0\u5230\u7236\u8282\u70B9\u7684",paraId:5,tocIndex:1},{value:"effects",paraId:5,tocIndex:1},{value:"\u94FE\u8868\u4E2D",paraId:5,tocIndex:1},{value:"(\u6B63\u5E38\u526F\u4F5C\u7528\u961F\u5217\u7684\u5904\u7406\u662F\u5728",paraId:5,tocIndex:1},{value:"completeWork",paraId:5,tocIndex:1},{value:"\u51FD\u6570, \u4F46\u662F\u8BE5\u8282\u70B9(\u88AB\u5220\u9664)\u4F1A\u8131\u79BB",paraId:5,tocIndex:1},{value:"fiber",paraId:5,tocIndex:1},{value:"\u6811, \u4E0D\u4F1A\u518D\u8FDB\u5165",paraId:5,tocIndex:1},{value:"completeWork",paraId:5,tocIndex:1},{value:"\u9636\u6BB5, \u6240\u4EE5\u5728",paraId:5,tocIndex:1},{value:"beginWork",paraId:5,tocIndex:1},{value:"\u9636\u6BB5\u63D0\u524D\u52A0\u5165\u526F\u4F5C\u7528\u961F\u5217).",paraId:5,tocIndex:1},{value:"\u7B97\u6CD5\u590D\u6742\u5EA6\u4F4E, \u4ECE\u4E0A\u81F3\u4E0B\u6BD4\u8F83\u6574\u4E2A\u6811\u5F62\u7ED3\u6784, \u65F6\u95F4\u590D\u6742\u5EA6\u88AB\u7F29\u77ED\u5230 O(n)",paraId:6,tocIndex:2},{value:"\u6BD4\u8F83\u5BF9\u8C61: ",paraId:7,tocIndex:3},{value:"fiber",paraId:7,tocIndex:3},{value:"\u5BF9\u8C61\u4E0E",paraId:7,tocIndex:3},{value:"ReactElement",paraId:7,tocIndex:3},{value:`\u5BF9\u8C61\u76F8\u6BD4\u8F83.
`,paraId:7,tocIndex:3},{value:"\u6CE8\u610F: \u6B64\u5904\u6709\u4E00\u4E2A\u8BEF\u533A, \u5E76\u4E0D\u662F\u4E24\u68F5 fiber \u6811\u76F8\u6BD4\u8F83, \u800C\u662F",paraId:8,tocIndex:3},{value:"\u65E7fiber",paraId:8,tocIndex:3},{value:"\u5BF9\u8C61\u4E0E",paraId:8,tocIndex:3},{value:"\u65B0ReactElement",paraId:8,tocIndex:3},{value:"\u5BF9\u8C61\u5411\u6BD4\u8F83, \u7ED3\u679C\u751F\u6210\u65B0\u7684",paraId:8,tocIndex:3},{value:"fiber\u5B50\u8282\u70B9",paraId:8,tocIndex:3},{value:".",paraId:8,tocIndex:3},{value:"\u53EF\u4EE5\u7406\u89E3\u4E3A\u8F93\u5165",paraId:8,tocIndex:3},{value:"ReactElement",paraId:8,tocIndex:3},{value:", \u7ECF\u8FC7",paraId:8,tocIndex:3},{value:"reconcileChildren()",paraId:8,tocIndex:3},{value:"\u4E4B\u540E, \u8F93\u51FA",paraId:8,tocIndex:3},{value:"fiber",paraId:8,tocIndex:3},{value:".",paraId:8,tocIndex:3},{value:`\u6BD4\u8F83\u65B9\u6848:
`,paraId:7,tocIndex:3},{value:"\u5355\u8282\u70B9\u6BD4\u8F83",paraId:9,tocIndex:3},{value:"\u53EF\u8FED\u4EE3\u8282\u70B9\u6BD4\u8F83",paraId:9,tocIndex:3},{value:"\u5355\u8282\u70B9\u7684\u903B\u8F91\u6BD4\u8F83\u7B80\u660E, \u5148\u76F4\u63A5\u770B",paraId:10,tocIndex:4},{value:"\u6E90\u7801",paraId:10,tocIndex:4},{value:":",paraId:10,tocIndex:4},{value:`// \u53EA\u4FDD\u7559\u4E3B\u5E72\u903B\u8F91
function reconcileSingleElement(
  returnFiber: Fiber,
  currentFirstChild: Fiber | null,
  element: ReactElement,
  lanes: Lanes,
): Fiber {
  const key = element.key;
  let child = currentFirstChild;

  while (child !== null) {
    // currentFirstChild !== null, \u8868\u660E\u662F\u5BF9\u6BD4\u66F4\u65B0\u9636\u6BB5
    if (child.key === key) {
      // 1. key\u76F8\u540C, \u8FDB\u4E00\u6B65\u5224\u65AD child.elementType === element.type
      switch (child.tag) {
        // \u53EA\u770B\u6838\u5FC3\u903B\u8F91
        default: {
          if (child.elementType === element.type) {
            // 1.1 \u5DF2\u7ECF\u5339\u914D\u4E0A\u4E86, \u5982\u679C\u6709\u5144\u5F1F\u8282\u70B9, \u9700\u8981\u7ED9\u5144\u5F1F\u8282\u70B9\u6253\u4E0ADeletion\u6807\u8BB0
            deleteRemainingChildren(returnFiber, child.sibling);
            // 1.2 \u6784\u9020fiber\u8282\u70B9, \u65B0\u7684fiber\u5BF9\u8C61\u4F1A\u590D\u7528current.stateNode, \u5373\u53EF\u590D\u7528DOM\u5BF9\u8C61
            const existing = useFiber(child, element.props);
            existing.ref = coerceRef(returnFiber, child, element);
            existing.return = returnFiber;
            return existing;
          }
          break;
        }
      }
      // Didn't match. \u7ED9\u5F53\u524D\u8282\u70B9\u70B9\u6253\u4E0ADeletion\u6807\u8BB0
      deleteRemainingChildren(returnFiber, child);
      break;
    } else {
      // 2. key\u4E0D\u76F8\u540C, \u5339\u914D\u5931\u8D25, \u7ED9\u5F53\u524D\u8282\u70B9\u6253\u4E0ADeletion\u6807\u8BB0
      deleteChild(returnFiber, child);
    }
    child = child.sibling;
  }

  {
    // ...\u7701\u7565\u90E8\u5206\u4EE3\u7801, \u53EA\u770B\u6838\u5FC3\u903B\u8F91
  }

  // \u65B0\u5EFA\u8282\u70B9
  const created = createFiberFromElement(element, returnFiber.mode, lanes);
  created.ref = coerceRef(returnFiber, currentFirstChild, element);
  created.return = returnFiber;
  return created;
}
`,paraId:11,tocIndex:4},{value:"\u5982\u679C\u662F\u65B0\u589E\u8282\u70B9, \u76F4\u63A5\u65B0\u5EFA fiber, \u6CA1\u6709\u591A\u4F59\u7684\u903B\u8F91",paraId:12,tocIndex:4},{value:`\u5982\u679C\u662F\u5BF9\u6BD4\u66F4\u65B0
`,paraId:12,tocIndex:4},{value:"\u5982\u679C",paraId:13,tocIndex:4},{value:"key",paraId:13,tocIndex:4},{value:"\u548C",paraId:13,tocIndex:4},{value:"type",paraId:13,tocIndex:4},{value:"\u90FD\u76F8\u540C(\u5373: ",paraId:13,tocIndex:4},{value:"ReactElement.key",paraId:13,tocIndex:4},{value:" === ",paraId:13,tocIndex:4},{value:"Fiber.key",paraId:13,tocIndex:4},{value:" \u4E14 ",paraId:13,tocIndex:4},{value:"Fiber.elementType === ReactElement.type",paraId:13,tocIndex:4},{value:"), \u5219\u590D\u7528",paraId:13,tocIndex:4},{value:"\u5426\u5219\u65B0\u5EFA",paraId:13,tocIndex:4},{value:"\u6CE8\u610F: \u590D\u7528\u8FC7\u7A0B\u662F\u8C03\u7528",paraId:14,tocIndex:4},{value:"useFiber(child, element.props)",paraId:14,tocIndex:4},{value:"\u521B\u5EFA",paraId:14,tocIndex:4},{value:"\u65B0\u7684fiber",paraId:14,tocIndex:4},{value:"\u5BF9\u8C61, \u8FD9\u4E2A",paraId:14,tocIndex:4},{value:"\u65B0fiber\u5BF9\u8C61.stateNode = currentFirstChild.stateNode",paraId:14,tocIndex:4},{value:", \u5373",paraId:14,tocIndex:4},{value:"stateNode",paraId:14,tocIndex:4},{value:"\u5C5E\u6027\u5F97\u5230\u4E86\u590D\u7528, \u6545 DOM \u8282\u70B9\u5F97\u5230\u4E86\u590D\u7528.",paraId:14,tocIndex:4},{value:"\u53EF\u8FED\u4EE3\u8282\u70B9\u6BD4\u8F83, \u5728",paraId:15,tocIndex:5},{value:"\u6E90\u7801\u4E2D",paraId:15,tocIndex:5},{value:"\u88AB\u5206\u4E3A\u4E86 2 \u4E2A\u90E8\u5206:",paraId:15,tocIndex:5},{value:`function reconcileChildFibers(
  returnFiber: Fiber,
  currentFirstChild: Fiber | null,
  newChild: any,
  lanes: Lanes,
): Fiber | null {
  if (isArray(newChild)) {
    return reconcileChildrenArray(
      returnFiber,
      currentFirstChild,
      newChild,
      lanes,
    );
  }
  if (getIteratorFn(newChild)) {
    return reconcileChildrenIterator(
      returnFiber,
      currentFirstChild,
      newChild,
      lanes,
    );
  }
}
`,paraId:16,tocIndex:5},{value:"\u5176\u4E2D",paraId:17,tocIndex:5},{value:"reconcileChildrenArray\u51FD\u6570",paraId:17,tocIndex:5},{value:"(\u9488\u5BF9\u6570\u7EC4\u7C7B\u578B)\u548C",paraId:17,tocIndex:5},{value:"reconcileChildrenIterator",paraId:17,tocIndex:5},{value:"(\u9488\u5BF9\u53EF\u8FED\u4EE3\u7C7B\u578B)\u7684\u6838\u5FC3\u903B\u8F91\u51E0\u4E4E\u4E00\u81F4, \u4E0B\u6587\u5C06\u5206\u6790",paraId:17,tocIndex:5},{value:"reconcileChildrenArray()",paraId:17,tocIndex:5},{value:"\u51FD\u6570",paraId:17,tocIndex:5},{value:". \u5982\u679C\u662F\u65B0\u589E\u8282\u70B9, \u6240\u6709\u7684\u6BD4\u8F83\u903B\u8F91\u90FD\u65E0\u6CD5\u547D\u4E2D, \u53EA\u6709",paraId:17,tocIndex:5},{value:"\u5BF9\u6BD4\u66F4\u65B0",paraId:17,tocIndex:5},{value:"\u8FC7\u7A0B, \u624D\u6709\u5B9E\u9645\u4F5C\u7528, \u6240\u4EE5\u4E0B\u6587\u91CD\u70B9\u5206\u6790",paraId:17,tocIndex:5},{value:"\u5BF9\u6BD4\u66F4\u65B0",paraId:17,tocIndex:5},{value:"\u7684\u60C5\u51B5.",paraId:17,tocIndex:5},{value:`function reconcileChildrenArray(
  returnFiber: Fiber,
  currentFirstChild: Fiber | null,
  newChildren: Array<*>,
  lanes: Lanes,
): Fiber | null {
  let resultingFirstChild: Fiber | null = null;
  let previousNewFiber: Fiber | null = null;

  let oldFiber = currentFirstChild;
  let lastPlacedIndex = 0;
  let newIdx = 0;
  let nextOldFiber = null;
  // 1. \u7B2C\u4E00\u6B21\u5FAA\u73AF: \u904D\u5386\u6700\u957F\u516C\u5171\u5E8F\u5217(key\u76F8\u540C), \u516C\u5171\u5E8F\u5217\u7684\u8282\u70B9\u90FD\u89C6\u4E3A\u53EF\u590D\u7528
  for (; oldFiber !== null && newIdx < newChildren.length; newIdx++) {
    // \u540E\u6587\u5206\u6790
  }

  if (newIdx === newChildren.length) {
    // \u5982\u679CnewChildren\u5E8F\u5217\u88AB\u904D\u5386\u5B8C, \u90A3\u4E48oldFiber\u5E8F\u5217\u4E2D\u5269\u4F59\u8282\u70B9\u90FD\u89C6\u4E3A\u5220\u9664(\u6253\u4E0ADeletion\u6807\u8BB0)
    deleteRemainingChildren(returnFiber, oldFiber);
    return resultingFirstChild;
  }

  if (oldFiber === null) {
    // \u5982\u679ColdFiber\u5E8F\u5217\u88AB\u904D\u5386\u5B8C, \u90A3\u4E48newChildren\u5E8F\u5217\u4E2D\u5269\u4F59\u8282\u70B9\u90FD\u89C6\u4E3A\u65B0\u589E(\u6253\u4E0APlacement\u6807\u8BB0)
    for (; newIdx < newChildren.length; newIdx++) {
      // \u540E\u6587\u5206\u6790
    }
    return resultingFirstChild;
  }

  // ==================\u5206\u5272\u7EBF==================
  const existingChildren = mapRemainingChildren(returnFiber, oldFiber);

  // 2. \u7B2C\u4E8C\u6B21\u5FAA\u73AF: \u904D\u5386\u5269\u4F59\u975E\u516C\u5171\u5E8F\u5217, \u4F18\u5148\u590D\u7528oldFiber\u5E8F\u5217\u4E2D\u7684\u8282\u70B9
  for (; newIdx < newChildren.length; newIdx++) {}

  if (shouldTrackSideEffects) {
    // newChildren\u5DF2\u7ECF\u904D\u5386\u5B8C, \u90A3\u4E48oldFiber\u5E8F\u5217\u4E2D\u5269\u4F59\u8282\u70B9\u90FD\u89C6\u4E3A\u5220\u9664(\u6253\u4E0ADeletion\u6807\u8BB0)
    existingChildren.forEach((child) => deleteChild(returnFiber, child));
  }

  return resultingFirstChild;
}
`,paraId:18,tocIndex:5},{value:"reconcileChildrenArray",paraId:19,tocIndex:5},{value:"\u51FD\u6570\u6E90\u7801\u770B\u4F3C\u5F88\u957F, \u68B3\u7406\u5176\u4E3B\u5E72\u4E4B\u540E, \u5176\u5B9E\u975E\u5E38\u6E05\u6670.",paraId:19,tocIndex:5},{value:"\u901A\u8FC7\u5F62\u53C2, \u9996\u5148\u660E\u786E\u6BD4\u8F83\u5BF9\u8C61\u662F",paraId:20,tocIndex:5},{value:"currentFirstChild: Fiber | null",paraId:20,tocIndex:5},{value:"\u548C",paraId:20,tocIndex:5},{value:"newChildren: Array<*>",paraId:20,tocIndex:5},{value:":",paraId:20,tocIndex:5},{value:"currentFirstChild",paraId:21,tocIndex:5},{value:": \u662F\u4E00\u4E2A",paraId:21,tocIndex:5},{value:"fiber",paraId:21,tocIndex:5},{value:"\u8282\u70B9, \u901A\u8FC7",paraId:21,tocIndex:5},{value:"fiber.sibling",paraId:21,tocIndex:5},{value:"\u53EF\u4EE5\u5C06\u5144\u5F1F\u8282\u70B9\u5168\u90E8\u904D\u5386\u51FA\u6765. \u6240\u4EE5\u53EF\u4EE5\u5C06",paraId:21,tocIndex:5},{value:"currentFirstChild",paraId:21,tocIndex:5},{value:"\u7406\u89E3\u4E3A\u94FE\u8868\u5934\u90E8, \u5B83\u4EE3\u8868\u4E00\u4E2A\u5E8F\u5217, \u6E90\u7801\u4E2D\u88AB\u8BB0\u4E3A",paraId:21,tocIndex:5},{value:"oldFiber",paraId:21,tocIndex:5},{value:".",paraId:21,tocIndex:5},{value:"newChildren",paraId:21,tocIndex:5},{value:": \u662F\u4E00\u4E2A\u6570\u7EC4, \u5176\u4E2D\u5305\u542B\u4E86\u82E5\u5E72\u4E2A",paraId:21,tocIndex:5},{value:"ReactElement",paraId:21,tocIndex:5},{value:"\u5BF9\u8C61. \u6240\u4EE5",paraId:21,tocIndex:5},{value:"newChildren",paraId:21,tocIndex:5},{value:"\u4E5F\u4EE3\u8868\u4E00\u4E2A\u5E8F\u5217.",paraId:21,tocIndex:5},{value:"\u6240\u4EE5",paraId:22,tocIndex:5},{value:"reconcileChildrenArray",paraId:22,tocIndex:5},{value:"\u5B9E\u9645\u5C31\u662F 2 \u4E2A\u5E8F\u5217\u4E4B\u95F4\u7684\u6BD4\u8F83(",paraId:22,tocIndex:5},{value:"\u94FE\u8868oldFiber",paraId:22,tocIndex:5},{value:"\u548C",paraId:22,tocIndex:5},{value:"\u6570\u7EC4newChildren",paraId:22,tocIndex:5},{value:"), \u6700\u540E\u8FD4\u56DE\u5408\u7406\u7684",paraId:22,tocIndex:5},{value:"fiber",paraId:22,tocIndex:5},{value:"\u5E8F\u5217.",paraId:22,tocIndex:5},{value:"\u4E0A\u8FF0\u4EE3\u7801\u4E2D, \u4EE5\u6CE8\u91CA\u5206\u5272\u7EBF\u4E3A\u754C\u9650, \u6574\u4E2A\u6838\u5FC3\u903B\u8F91\u5206\u4E3A 2 \u6B65\u9AA4:",paraId:23,tocIndex:5},{value:"\u7B2C\u4E00\u6B21\u5FAA\u73AF: \u904D\u5386\u6700\u957F",paraId:24,tocIndex:5},{value:"\u516C\u5171",paraId:24,tocIndex:5},{value:`\u5E8F\u5217(key \u76F8\u540C), \u516C\u5171\u5E8F\u5217\u7684\u8282\u70B9\u90FD\u89C6\u4E3A\u53EF\u590D\u7528
`,paraId:24,tocIndex:5},{value:"\u5982\u679C",paraId:25,tocIndex:5},{value:"newChildren\u5E8F\u5217",paraId:25,tocIndex:5},{value:"\u88AB\u904D\u5386\u5B8C, \u90A3\u4E48",paraId:25,tocIndex:5},{value:"oldFiber\u5E8F\u5217",paraId:25,tocIndex:5},{value:"\u4E2D\u5269\u4F59\u8282\u70B9\u90FD\u89C6\u4E3A\u5220\u9664(\u6253\u4E0A",paraId:25,tocIndex:5},{value:"Deletion",paraId:25,tocIndex:5},{value:"\u6807\u8BB0)",paraId:25,tocIndex:5},{value:"\u5982\u679C",paraId:25,tocIndex:5},{value:"oldFiber\u5E8F\u5217",paraId:25,tocIndex:5},{value:"\u88AB\u904D\u5386\u5B8C, \u90A3\u4E48",paraId:25,tocIndex:5},{value:"newChildren\u5E8F\u5217",paraId:25,tocIndex:5},{value:"\u4E2D\u5269\u4F59\u8282\u70B9\u90FD\u89C6\u4E3A\u65B0\u589E(\u6253\u4E0A",paraId:25,tocIndex:5},{value:"Placement",paraId:25,tocIndex:5},{value:"\u6807\u8BB0)",paraId:25,tocIndex:5},{value:"\u7B2C\u4E8C\u6B21\u5FAA\u73AF: \u904D\u5386\u5269\u4F59",paraId:24,tocIndex:5},{value:"\u975E\u516C\u5171",paraId:24,tocIndex:5},{value:`\u5E8F\u5217, \u4F18\u5148\u590D\u7528 oldFiber \u5E8F\u5217\u4E2D\u7684\u8282\u70B9
`,paraId:24,tocIndex:5},{value:"\u5728\u5BF9\u6BD4\u66F4\u65B0\u9636\u6BB5(\u975E\u521D\u6B21\u521B\u5EFA",paraId:26,tocIndex:5},{value:"fiber",paraId:26,tocIndex:5},{value:", \u6B64\u65F6",paraId:26,tocIndex:5},{value:"shouldTrackSideEffects",paraId:26,tocIndex:5},{value:"\u88AB\u8BBE\u7F6E\u4E3A true). \u7B2C\u4E8C\u6B21\u5FAA\u73AF\u904D\u5386\u5B8C\u6210\u4E4B\u540E, ",paraId:26,tocIndex:5},{value:"oldFiber\u5E8F\u5217\u4E2D",paraId:26,tocIndex:5},{value:"\u6CA1\u6709\u5339\u914D\u4E0A\u7684\u8282\u70B9\u90FD\u89C6\u4E3A\u5220\u9664(\u6253\u4E0A",paraId:26,tocIndex:5},{value:"Deletion",paraId:26,tocIndex:5},{value:"\u6807\u8BB0)",paraId:26,tocIndex:5},{value:"\u5047\u8BBE\u6709\u5982\u4E0B\u56FE\u6240\u793A 2 \u4E2A\u521D\u59CB\u5316\u5E8F\u5217:",paraId:27,tocIndex:5},{value:"\u63A5\u4E0B\u6765\u7B2C\u4E00\u6B21\u5FAA\u73AF, \u4F1A\u904D\u5386\u516C\u5171\u5E8F\u5217",paraId:28,tocIndex:5},{value:"A,B",paraId:28,tocIndex:5},{value:", \u751F\u6210\u7684 fiber \u8282\u70B9",paraId:28,tocIndex:5},{value:"fiber(A), fiber(B)",paraId:28,tocIndex:5},{value:"\u53EF\u4EE5\u590D\u7528.",paraId:28,tocIndex:5},{value:"\u6700\u540E\u7B2C\u4E8C\u6B21\u5FAA\u73AF, \u4F1A\u904D\u5386\u5269\u4F59\u5E8F\u5217",paraId:29,tocIndex:5},{value:"E,C,X,Y",paraId:29,tocIndex:5},{value:":",paraId:29,tocIndex:5},{value:"\u751F\u6210\u7684 fiber \u8282\u70B9",paraId:30,tocIndex:5},{value:"fiber(E), fiber(C)",paraId:30,tocIndex:5},{value:"\u53EF\u4EE5\u590D\u7528. \u5176\u4E2D",paraId:30,tocIndex:5},{value:"fiber(C)",paraId:30,tocIndex:5},{value:"\u8282\u70B9\u53D1\u751F\u4E86\u4F4D\u79FB(\u6253\u4E0A",paraId:30,tocIndex:5},{value:"Placement",paraId:30,tocIndex:5},{value:"\u6807\u8BB0).",paraId:30,tocIndex:5},{value:"fiber(X), fiber(Y)",paraId:30,tocIndex:5},{value:"\u662F\u65B0\u589E(\u6253\u4E0A",paraId:30,tocIndex:5},{value:"Placement",paraId:30,tocIndex:5},{value:"\u6807\u8BB0).",paraId:30,tocIndex:5},{value:"\u540C\u65F6",paraId:30,tocIndex:5},{value:"oldFiber",paraId:30,tocIndex:5},{value:"\u5E8F\u5217\u4E2D\u7684",paraId:30,tocIndex:5},{value:"fiber(D)",paraId:30,tocIndex:5},{value:"\u8282\u70B9\u786E\u5B9A\u88AB\u5220\u9664(\u6253\u4E0A",paraId:30,tocIndex:5},{value:"Deletion",paraId:30,tocIndex:5},{value:"\u6807\u8BB0).",paraId:30,tocIndex:5},{value:"\u6574\u4E2A\u4E3B\u5E72\u903B\u8F91\u5C31\u4ECB\u7ECD\u5B8C\u4E86, \u63A5\u4E0B\u6765\u8D34\u4E0A\u5B8C\u6574\u6E90\u7801",paraId:31,tocIndex:5},{value:"\u7B2C\u4E00\u6B21\u5FAA\u73AF",paraId:32,tocIndex:5},{value:`// 1. \u7B2C\u4E00\u6B21\u5FAA\u73AF: \u904D\u5386\u6700\u957F\u516C\u5171\u5E8F\u5217(key\u76F8\u540C), \u516C\u5171\u5E8F\u5217\u7684\u8282\u70B9\u90FD\u89C6\u4E3A\u53EF\u590D\u7528
for (; oldFiber !== null && newIdx < newChildren.length; newIdx++) {
  if (oldFiber.index > newIdx) {
    nextOldFiber = oldFiber;
    oldFiber = null;
  } else {
    nextOldFiber = oldFiber.sibling;
  }
  // new\u69FD\u4F4D\u548Cold\u69FD\u4F4D\u8FDB\u884C\u6BD4\u8F83, \u5982\u679Ckey\u4E0D\u540C, \u8FD4\u56DEnull
  // key\u76F8\u540C, \u6BD4\u8F83type\u662F\u5426\u4E00\u81F4. type\u4E00\u81F4\u5219\u6267\u884CuseFiber(update\u903B\u8F91), type\u4E0D\u4E00\u81F4\u5219\u8FD0\u884CcreateXXX(insert\u903B\u8F91)
  const newFiber = updateSlot(
    returnFiber,
    oldFiber,
    newChildren[newIdx],
    lanes,
  );

  if (newFiber === null) {
    // \u5982\u679C\u8FD4\u56DEnull, \u8868\u660Ekey\u4E0D\u540C. \u65E0\u6CD5\u6EE1\u8DB3\u516C\u5171\u5E8F\u5217\u6761\u4EF6, \u9000\u51FA\u5FAA\u73AF
    if (oldFiber === null) {
      oldFiber = nextOldFiber;
    }
    break;
  }
  if (shouldTrackSideEffects) {
    // \u82E5\u662F\u65B0\u589E\u8282\u70B9, \u5219\u7ED9\u8001\u8282\u70B9\u6253\u4E0ADeletion\u6807\u8BB0
    if (oldFiber && newFiber.alternate === null) {
      deleteChild(returnFiber, oldFiber);
    }
  }

  // lastPlacedIndex \u8BB0\u5F55\u88AB\u79FB\u52A8\u7684\u8282\u70B9\u7D22\u5F15
  // \u5982\u679C\u5F53\u524D\u8282\u70B9\u53EF\u590D\u7528, \u5219\u8981\u5224\u65AD\u4F4D\u7F6E\u662F\u5426\u79FB\u52A8.
  lastPlacedIndex = placeChild(newFiber, lastPlacedIndex, newIdx);

  // \u66F4\u65B0resultingFirstChild\u7ED3\u679C\u5E8F\u5217
  if (previousNewFiber === null) {
    resultingFirstChild = newFiber;
  } else {
    previousNewFiber.sibling = newFiber;
  }
  previousNewFiber = newFiber;
  oldFiber = nextOldFiber;
}
`,paraId:33,tocIndex:5},{value:"\u7B2C\u4E8C\u6B21\u5FAA\u73AF",paraId:34,tocIndex:5},{value:`// 1. \u5C06\u7B2C\u4E00\u6B21\u5FAA\u73AF\u540E, oldFiber\u5269\u4F59\u5E8F\u5217\u52A0\u5165\u5230\u4E00\u4E2Amap\u4E2D. \u76EE\u7684\u662F\u4E3A\u4E86\u7B2C\u4E8C\u6B21\u5FAA\u73AF\u80FD\u987A\u5229\u7684\u627E\u5230\u53EF\u590D\u7528\u8282\u70B9
const existingChildren = mapRemainingChildren(returnFiber, oldFiber);

// 2. \u7B2C\u4E8C\u6B21\u5FAA\u73AF: \u904D\u5386\u5269\u4F59\u975E\u516C\u5171\u5E8F\u5217, \u4F18\u5148\u590D\u7528oldFiber\u5E8F\u5217\u4E2D\u7684\u8282\u70B9
for (; newIdx < newChildren.length; newIdx++) {
  const newFiber = updateFromMap(
    existingChildren,
    returnFiber,
    newIdx,
    newChildren[newIdx],
    lanes,
  );
  if (newFiber !== null) {
    if (shouldTrackSideEffects) {
      if (newFiber.alternate !== null) {
        // \u5982\u679CnewFiber\u662F\u901A\u8FC7\u590D\u7528\u521B\u5EFA\u7684, \u5219\u6E05\u7406map\u4E2D\u5BF9\u5E94\u7684\u8001\u8282\u70B9
        existingChildren.delete(newFiber.key === null ? newIdx : newFiber.key);
      }
    }
    lastPlacedIndex = placeChild(newFiber, lastPlacedIndex, newIdx);
    // \u66F4\u65B0resultingFirstChild\u7ED3\u679C\u5E8F\u5217
    if (previousNewFiber === null) {
      resultingFirstChild = newFiber;
    } else {
      previousNewFiber.sibling = newFiber;
    }
    previousNewFiber = newFiber;
  }
}
// 3. \u5584\u540E\u5DE5\u4F5C, \u7B2C\u4E8C\u6B21\u5FAA\u73AF\u5B8C\u6210\u4E4B\u540E, existingChildren\u4E2D\u5269\u4F59\u7684fiber\u8282\u70B9\u5C31\u662F\u5C06\u8981\u88AB\u5220\u9664\u7684\u8282\u70B9, \u6253\u4E0ADeletion\u6807\u8BB0
if (shouldTrackSideEffects) {
  existingChildren.forEach((child) => deleteChild(returnFiber, child));
}
`,paraId:35,tocIndex:5},{value:"\u65E0\u8BBA\u662F\u5355\u8282\u70B9\u8FD8\u662F\u53EF\u8FED\u4EE3\u8282\u70B9\u7684\u6BD4\u8F83, \u6700\u7EC8\u7684\u76EE\u7684\u90FD\u662F\u751F\u6210\u4E0B\u7EA7\u5B50\u8282\u70B9. \u5E76\u5728",paraId:36,tocIndex:6},{value:"reconcileChildren",paraId:36,tocIndex:6},{value:"\u8FC7\u7A0B\u4E2D, \u7ED9\u4E00\u4E9B\u6709\u526F\u4F5C\u7528\u7684\u8282\u70B9(\u65B0\u589E, \u5220\u9664, \u79FB\u52A8\u4F4D\u7F6E\u7B49)\u6253\u4E0A\u526F\u4F5C\u7528\u6807\u8BB0, \u7B49\u5F85 commit \u9636\u6BB5(\u53C2\u8003",paraId:36,tocIndex:6},{value:"fiber \u6811\u6E32\u67D3",paraId:37,tocIndex:6},{value:")\u7684\u5904\u7406.",paraId:36,tocIndex:6},{value:"\u672C\u8282\u4ECB\u7ECD\u4E86 React \u6E90\u7801\u4E2D, ",paraId:38,tocIndex:7},{value:"fiber\u6784\u9020\u5FAA\u73AF",paraId:38,tocIndex:7},{value:"\u9636\u6BB5\u7528\u4E8E\u751F\u6210\u4E0B\u7EA7\u5B50\u8282\u70B9\u7684",paraId:38,tocIndex:7},{value:"reconcileChildren",paraId:38,tocIndex:7},{value:"\u51FD\u6570(\u51FD\u6570\u4E2D\u7684\u7B97\u6CD5\u88AB\u79F0\u4E3A\u8C03\u548C\u7B97\u6CD5), \u5E76\u6F14\u793A\u4E86",paraId:38,tocIndex:7},{value:"\u53EF\u8FED\u4EE3\u8282\u70B9\u6BD4\u8F83",paraId:38,tocIndex:7},{value:"\u7684\u56FE\u89E3\u793A\u4F8B. \u8BE5\u7B97\u6CD5\u5341\u5206\u5DE7\u5999, \u5176\u6838\u5FC3\u903B\u8F91\u628A",paraId:38,tocIndex:7},{value:"newChildren\u5E8F\u5217",paraId:38,tocIndex:7},{value:"\u5206\u4E3A 2 \u6B65\u904D\u5386, \u5148\u904D\u5386\u516C\u5171\u5E8F\u5217, \u518D\u904D\u5386\u975E\u516C\u5171\u90E8\u5206, \u540C\u65F6\u590D\u7528",paraId:38,tocIndex:7},{value:"oldFiber",paraId:38,tocIndex:7},{value:"\u5E8F\u5217\u4E2D\u7684\u8282\u70B9.",paraId:38,tocIndex:7}],ta={},Xt={title:"\u542F\u52A8\u8FC7\u7A0B",toc:"menu",filename:"docs/main/bootstrap.md",group:"\u8FD0\u884C\u6838\u5FC3",order:1,description:"\u5728\u524D\u6587reconciler \u8FD0\u4F5C\u6D41\u7A0B\u628Areconciler\u7684\u6D41\u7A0B\u5F52\u7ED3\u6210 4 \u4E2A\u6B65\u9AA4."},ja=[{id:"react-\u5E94\u7528\u7684\u542F\u52A8\u8FC7\u7A0B",depth:1,title:"React \u5E94\u7528\u7684\u542F\u52A8\u8FC7\u7A0B"},{id:"\u542F\u52A8\u6D41\u7A0B",depth:2,title:"\u542F\u52A8\u6D41\u7A0B"},{id:"\u521B\u5EFA\u5168\u5C40\u5BF9\u8C61-create-global-obj",depth:3,title:"\u521B\u5EFA\u5168\u5C40\u5BF9\u8C61 {#create-global-obj}"},{id:"\u521B\u5EFA-reactdomblockingroot-\u5BF9\u8C61",depth:3,title:"\u521B\u5EFA ReactDOM(Blocking)Root \u5BF9\u8C61"},{id:"legacy-\u6A21\u5F0F",depth:4,title:"legacy \u6A21\u5F0F"},{id:"concurrent-\u6A21\u5F0F\u548C-blocking-\u6A21\u5F0F",depth:4,title:"Concurrent \u6A21\u5F0F\u548C Blocking \u6A21\u5F0F"},{id:"\u521B\u5EFA-fiberroot-\u5BF9\u8C61-create-root-impl",depth:3,title:"\u521B\u5EFA fiberRoot \u5BF9\u8C61 {#create-root-impl}"},{id:"\u521B\u5EFA-hostrootfiber-\u5BF9\u8C61",depth:3,title:"\u521B\u5EFA HostRootFiber \u5BF9\u8C61"},{id:"\u8C03\u7528\u66F4\u65B0\u5165\u53E3",depth:2,title:"\u8C03\u7528\u66F4\u65B0\u5165\u53E3"},{id:"\u601D\u8003",depth:2,title:"\u601D\u8003"},{id:"\u53EF\u4E2D\u65AD\u6E32\u67D3",depth:3,title:"\u53EF\u4E2D\u65AD\u6E32\u67D3"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"}],Ha=[{value:"\u5728\u524D\u6587",paraId:0,tocIndex:0},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:1,tocIndex:0},{value:"\u628A",paraId:0,tocIndex:0},{value:"reconciler",paraId:0,tocIndex:0},{value:"\u7684\u6D41\u7A0B\u5F52\u7ED3\u6210 4 \u4E2A\u6B65\u9AA4.",paraId:0,tocIndex:0},{value:"\u672C\u7AE0\u8282\u4E3B\u8981\u8BB2\u89E3",paraId:2,tocIndex:0},{value:"react",paraId:2,tocIndex:0},{value:"\u5E94\u7528\u7A0B\u5E8F\u7684\u542F\u52A8\u8FC7\u7A0B, \u4F4D\u4E8E",paraId:2,tocIndex:0},{value:"react-dom",paraId:2,tocIndex:0},{value:"\u5305, \u8854\u63A5",paraId:2,tocIndex:0},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:2,tocIndex:0},{value:"\u4E2D\u7684",paraId:2,tocIndex:0},{value:"\u8F93\u5165",paraId:3,tocIndex:0},{value:"\u6B65\u9AA4.",paraId:2,tocIndex:0},{value:"\u5728\u6B63\u5F0F\u5206\u6790\u6E90\u7801\u4E4B\u524D, \u5148\u4E86\u89E3\u4E00\u4E0B",paraId:4,tocIndex:0},{value:"react",paraId:4,tocIndex:0},{value:"\u5E94\u7528\u7684",paraId:4,tocIndex:0},{value:"\u542F\u52A8\u6A21\u5F0F",paraId:4,tocIndex:0},{value:":",paraId:4,tocIndex:0},{value:"\u5728\u5F53\u524D\u7A33\u5B9A\u7248",paraId:5,tocIndex:0},{value:"react@17.0.2",paraId:5,tocIndex:0},{value:"\u6E90\u7801\u4E2D, \u6709 3 \u79CD\u542F\u52A8\u65B9\u5F0F. \u5148\u5F15\u51FA\u5B98\u7F51\u4E0A\u5BF9\u4E8E",paraId:5,tocIndex:0},{value:"\u8FD9 3 \u79CD\u6A21\u5F0F\u7684\u4ECB\u7ECD",paraId:5,tocIndex:0},{value:", \u5176\u57FA\u672C\u8BF4\u660E\u5982\u4E0B:",paraId:5,tocIndex:0},{value:"legacy",paraId:6,tocIndex:0},{value:" \u6A21\u5F0F: ",paraId:6,tocIndex:0},{value:"ReactDOM.render(<App />, rootNode)",paraId:6,tocIndex:0},{value:". \u8FD9\u662F\u5F53\u524D React app \u4F7F\u7528\u7684\u65B9\u5F0F. \u8FD9\u4E2A\u6A21\u5F0F\u53EF\u80FD\u4E0D\u652F\u6301",paraId:6,tocIndex:0},{value:"\u8FD9\u4E9B\u65B0\u529F\u80FD(concurrent \u652F\u6301\u7684\u6240\u6709\u529F\u80FD)",paraId:6,tocIndex:0},{value:".",paraId:6,tocIndex:0},{value:`// LegacyRoot
ReactDOM.render(<App />, document.getElementById('root'), (dom) => {}); // \u652F\u6301callback\u56DE\u8C03, \u53C2\u6570\u662F\u4E00\u4E2Adom\u5BF9\u8C61
`,paraId:7,tocIndex:0},{value:"Blocking \u6A21\u5F0F",paraId:8,tocIndex:0},{value:": ",paraId:8,tocIndex:0},{value:"ReactDOM.createBlockingRoot(rootNode).render(<App />)",paraId:8,tocIndex:0},{value:". \u76EE\u524D\u6B63\u5728\u5B9E\u9A8C\u4E2D, \u5B83\u4EC5\u63D0\u4F9B\u4E86 ",paraId:8,tocIndex:0},{value:"concurrent",paraId:8,tocIndex:0},{value:" \u6A21\u5F0F\u7684\u5C0F\u90E8\u5206\u529F\u80FD, \u4F5C\u4E3A\u8FC1\u79FB\u5230 ",paraId:8,tocIndex:0},{value:"concurrent",paraId:8,tocIndex:0},{value:" \u6A21\u5F0F\u7684\u7B2C\u4E00\u4E2A\u6B65\u9AA4.",paraId:8,tocIndex:0},{value:`// BlockingRoot
// 1. \u521B\u5EFAReactDOMRoot\u5BF9\u8C61
const reactDOMBlockingRoot = ReactDOM.createBlockingRoot(
  document.getElementById('root'),
);
// 2. \u8C03\u7528render
reactDOMBlockingRoot.render(<App />); // \u4E0D\u652F\u6301\u56DE\u8C03
`,paraId:9,tocIndex:0},{value:"Concurrent \u6A21\u5F0F",paraId:10,tocIndex:0},{value:": ",paraId:10,tocIndex:0},{value:"ReactDOM.createRoot(rootNode).render(<App />)",paraId:10,tocIndex:0},{value:". \u76EE\u524D\u5728\u5B9E\u9A8C\u4E2D, \u672A\u6765\u7A33\u5B9A\u4E4B\u540E\uFF0C\u6253\u7B97\u4F5C\u4E3A React \u7684\u9ED8\u8BA4\u5F00\u53D1\u6A21\u5F0F. \u8FD9\u4E2A\u6A21\u5F0F\u5F00\u542F\u4E86\u6240\u6709\u7684\u65B0\u529F\u80FD.",paraId:10,tocIndex:0},{value:`// ConcurrentRoot
// 1. \u521B\u5EFAReactDOMRoot\u5BF9\u8C61
const reactDOMRoot = ReactDOM.createRoot(document.getElementById('root'));
// 2. \u8C03\u7528render
reactDOMRoot.render(<App />); // \u4E0D\u652F\u6301\u56DE\u8C03
`,paraId:11,tocIndex:0},{value:"\u6CE8\u610F: \u867D\u7136",paraId:12,tocIndex:0},{value:"17.0.2",paraId:12,tocIndex:0},{value:"\u7684\u6E90\u7801\u4E2D\u6709",paraId:12,tocIndex:0},{value:"createRoot",paraId:12,tocIndex:0},{value:"\u548C",paraId:12,tocIndex:0},{value:"createBlockingRoot",paraId:12,tocIndex:0},{value:"\u65B9\u6CD5",paraId:12,tocIndex:0},{value:"(\u5982\u679C\u81EA\u884C\u6784\u5EFA, ",paraId:12,tocIndex:0},{value:"\u4F1A\u9ED8\u8BA4\u6784\u5EFA",paraId:12,tocIndex:0},{value:"experimental",paraId:12,tocIndex:0},{value:"\u7248\u672C",paraId:12,tocIndex:0},{value:"), \u4F46\u662F\u7A33\u5B9A\u7248\u7684\u6784\u5EFA\u5165\u53E3",paraId:12,tocIndex:0},{value:"\u6392\u9664\u6389\u4E86\u8FD9\u4E24\u4E2A api",paraId:12,tocIndex:0},{value:", \u6240\u4EE5\u5B9E\u9645\u5728",paraId:12,tocIndex:0},{value:"npm i react-dom",paraId:12,tocIndex:0},{value:"\u5B89\u88C5",paraId:12,tocIndex:0},{value:"17.0.2",paraId:12,tocIndex:0},{value:"\u7A33\u5B9A\u7248\u540E, \u4E0D\u80FD\u4F7F\u7528\u8BE5 api.\u5982\u679C\u8981\u60F3\u4F53\u9A8C\u975E",paraId:12,tocIndex:0},{value:"legacy",paraId:12,tocIndex:0},{value:"\u6A21\u5F0F, \u9700\u8981",paraId:12,tocIndex:0},{value:"\u663E\u793A\u5B89\u88C5 alpha \u7248\u672C",paraId:12,tocIndex:0},{value:"(\u6216\u81EA\u884C\u6784\u5EFA).",paraId:12,tocIndex:0},{value:"\u5728\u8C03\u7528\u5165\u53E3\u51FD\u6570\u4E4B\u524D,",paraId:13,tocIndex:1},{value:"reactElement(<App/>)",paraId:13,tocIndex:1},{value:"\u548C DOM \u5BF9\u8C61",paraId:13,tocIndex:1},{value:"div#root",paraId:13,tocIndex:1},{value:"\u4E4B\u95F4\u6CA1\u6709\u5173\u8054, \u7528\u56FE\u7247\u8868\u793A\u5982\u4E0B:",paraId:13,tocIndex:1},{value:"\u65E0\u8BBA",paraId:14,tocIndex:2},{value:"Legacy, Concurrent\u6216Blocking",paraId:14,tocIndex:2},{value:"\u6A21\u5F0F, react \u5728\u521D\u59CB\u5316\u65F6, \u90FD\u4F1A\u521B\u5EFA 3 \u4E2A\u5168\u5C40\u5BF9\u8C61",paraId:14,tocIndex:2},{value:"ReactDOM(Blocking)Root",paraId:15,tocIndex:2},{value:"\u5BF9\u8C61",paraId:15,tocIndex:2},{value:"\u5C5E\u4E8E",paraId:16,tocIndex:2},{value:"react-dom",paraId:16,tocIndex:2},{value:"\u5305, \u8BE5\u5BF9\u8C61",paraId:16,tocIndex:2},{value:"\u66B4\u9732\u6709",paraId:16,tocIndex:2},{value:"render,unmount",paraId:16,tocIndex:2},{value:"\u65B9\u6CD5",paraId:16,tocIndex:2},{value:", \u901A\u8FC7\u8C03\u7528\u8BE5\u5B9E\u4F8B\u7684",paraId:16,tocIndex:2},{value:"render",paraId:16,tocIndex:2},{value:"\u65B9\u6CD5, \u53EF\u4EE5\u5F15\u5BFC react \u5E94\u7528\u7684\u542F\u52A8.",paraId:16,tocIndex:2},{value:"fiberRoot",paraId:17,tocIndex:2},{value:"\u5BF9\u8C61",paraId:17,tocIndex:2},{value:"\u5C5E\u4E8E",paraId:18,tocIndex:2},{value:"react-reconciler",paraId:18,tocIndex:2},{value:"\u5305, \u4F5C\u4E3A",paraId:18,tocIndex:2},{value:"react-reconciler",paraId:18,tocIndex:2},{value:"\u5728\u8FD0\u884C\u8FC7\u7A0B\u4E2D\u7684\u5168\u5C40\u4E0A\u4E0B\u6587, \u4FDD\u5B58 fiber \u6784\u5EFA\u8FC7\u7A0B\u4E2D\u6240\u4F9D\u8D56\u7684\u5168\u5C40\u72B6\u6001.",paraId:18,tocIndex:2},{value:"\u5176\u5927\u90E8\u5206\u5B9E\u4F8B\u53D8\u91CF\u7528\u6765\u5B58\u50A8",paraId:18,tocIndex:2},{value:"fiber \u6784\u9020\u5FAA\u73AF",paraId:18,tocIndex:2},{value:"(\u8BE6\u89C1",paraId:18,tocIndex:2},{value:"\u4E24\u5927\u5DE5\u4F5C\u5FAA\u73AF",paraId:19,tocIndex:2},{value:")\u8FC7\u7A0B\u7684\u5404\u79CD\u72B6\u6001.react \u5E94\u7528\u5185\u90E8, \u53EF\u4EE5\u6839\u636E\u8FD9\u4E9B\u5B9E\u4F8B\u53D8\u91CF\u7684\u503C, \u63A7\u5236\u6267\u884C\u903B\u8F91.",paraId:18,tocIndex:2},{value:"HostRootFiber",paraId:20,tocIndex:2},{value:"\u5BF9\u8C61",paraId:20,tocIndex:2},{value:"\u5C5E\u4E8E",paraId:21,tocIndex:2},{value:"react-reconciler",paraId:21,tocIndex:2},{value:"\u5305, \u8FD9\u662F react \u5E94\u7528\u4E2D\u7684\u7B2C\u4E00\u4E2A Fiber \u5BF9\u8C61, \u662F Fiber \u6811\u7684\u6839\u8282\u70B9, \u8282\u70B9\u7684\u7C7B\u578B\u662F",paraId:21,tocIndex:2},{value:"HostRoot",paraId:21,tocIndex:2},{value:".",paraId:21,tocIndex:2},{value:"\u8FD9 3 \u4E2A\u5BF9\u8C61\u662F react \u4F53\u7CFB\u5F97\u4EE5\u8FD0\u884C\u7684\u57FA\u672C\u4FDD\u969C, \u4E00\u7ECF\u521B\u5EFA\u5927\u591A\u6570\u573A\u666F\u4E0D\u4F1A\u518D\u9500\u6BC1(\u9664\u975E\u5378\u8F7D\u6574\u4E2A\u5E94\u7528",paraId:22,tocIndex:2},{value:"root.unmount()",paraId:22,tocIndex:2},{value:").",paraId:22,tocIndex:2},{value:"\u8FD9\u4E00\u8FC7\u7A0B\u662F\u4ECE",paraId:23,tocIndex:2},{value:"react-dom",paraId:23,tocIndex:2},{value:"\u5305\u53D1\u8D77, \u5185\u90E8\u8C03\u7528\u4E86",paraId:23,tocIndex:2},{value:"react-reconciler",paraId:23,tocIndex:2},{value:"\u5305, \u6838\u5FC3\u6D41\u7A0B\u56FE\u5982\u4E0B(\u5176\u4E2D\u7EA2\u8272\u6807\u6CE8\u4E86 3 \u4E2A\u5BF9\u8C61\u7684\u521B\u5EFA\u65F6\u673A).",paraId:23,tocIndex:2},{value:"\u4E0B\u9762\u9010\u4E00\u89E3\u91CA\u8FD9 3 \u4E2A\u5BF9\u8C61\u7684\u521B\u5EFA\u8FC7\u7A0B.",paraId:24,tocIndex:2},{value:"\u7531\u4E8E 3 \u79CD\u6A21\u5F0F\u542F\u52A8\u7684 api \u6709\u6240\u4E0D\u540C, \u6240\u4EE5\u4ECE\u6E90\u7801\u4E0A\u8FFD\u8E2A, \u4E5F\u5BF9\u5E94\u4E86 3 \u79CD\u65B9\u5F0F. \u6700\u7EC8\u90FD new \u4E00\u4E2A",paraId:25,tocIndex:3},{value:"ReactDOMRoot",paraId:25,tocIndex:3},{value:"\u6216",paraId:25,tocIndex:3},{value:"ReactDOMBlockingRoot",paraId:25,tocIndex:3},{value:"\u7684\u5B9E\u4F8B, \u9700\u8981\u521B\u5EFA\u8FC7\u7A0B\u4E2D",paraId:25,tocIndex:3},{value:"RootTag",paraId:25,tocIndex:3},{value:"\u53C2\u6570, 3 \u79CD\u6A21\u5F0F\u5404\u4E0D\u76F8\u540C. \u8BE5",paraId:25,tocIndex:3},{value:"RootTag",paraId:25,tocIndex:3},{value:"\u7684\u7C7B\u578B\u51B3\u5B9A\u4E86\u6574\u4E2A react \u5E94\u7528\u662F\u5426\u652F\u6301",paraId:25,tocIndex:3},{value:"\u53EF\u4E2D\u65AD\u6E32\u67D3(\u540E\u6587\u6709\u89E3\u91CA)",paraId:26,tocIndex:3},{value:".",paraId:25,tocIndex:3},{value:"\u4E0B\u9762\u6839\u636E 3 \u79CD mode \u4E0B\u7684\u542F\u52A8\u51FD\u6570\u9010\u4E00\u5206\u6790.",paraId:27,tocIndex:3},{value:"legacy",paraId:28,tocIndex:4},{value:"\u6A21\u5F0F\u8868\u9762\u4E0A\u662F\u76F4\u63A5\u8C03\u7528",paraId:28,tocIndex:4},{value:"ReactDOM.render",paraId:28,tocIndex:4},{value:", \u8DDF\u8E2A",paraId:28,tocIndex:4},{value:"ReactDOM.render",paraId:28,tocIndex:4},{value:"\u540E\u7EED\u8C03\u7528",paraId:28,tocIndex:4},{value:"legacyRenderSubtreeIntoContainer",paraId:28,tocIndex:4},{value:"(",paraId:28,tocIndex:4},{value:"\u6E90\u7801\u94FE\u63A5",paraId:28,tocIndex:4},{value:")",paraId:28,tocIndex:4},{value:`function legacyRenderSubtreeIntoContainer(
  parentComponent: ?React$Component<any, any>,
  children: ReactNodeList,
  container: Container,
  forceHydrate: boolean,
  callback: ?Function,
) {
  let root: RootType = (container._reactRootContainer: any);
  let fiberRoot;
  if (!root) {
    // \u521D\u6B21\u8C03\u7528, root\u8FD8\u672A\u521D\u59CB\u5316, \u4F1A\u8FDB\u5165\u6B64\u5206\u652F
    //1. \u521B\u5EFAReactDOMRoot\u5BF9\u8C61, \u521D\u59CB\u5316react\u5E94\u7528\u73AF\u5883
    root = container._reactRootContainer = legacyCreateRootFromDOMContainer(
      container,
      forceHydrate,
    );
    fiberRoot = root._internalRoot;
    if (typeof callback === 'function') {
      const originalCallback = callback;
      callback = function () {
        // instance\u6700\u7EC8\u6307\u5411 children(\u5165\u53C2: \u5982<App/>)\u751F\u6210\u7684dom\u8282\u70B9
        const instance = getPublicRootInstance(fiberRoot);
        originalCallback.call(instance);
      };
    }
    // 2. \u66F4\u65B0\u5BB9\u5668
    unbatchedUpdates(() => {
      updateContainer(children, fiberRoot, parentComponent, callback);
    });
  } else {
    // root\u5DF2\u7ECF\u521D\u59CB\u5316, \u4E8C\u6B21\u8C03\u7528render\u4F1A\u8FDB\u5165
    // 1. \u83B7\u53D6FiberRoot\u5BF9\u8C61
    fiberRoot = root._internalRoot;
    if (typeof callback === 'function') {
      const originalCallback = callback;
      callback = function () {
        const instance = getPublicRootInstance(fiberRoot);
        originalCallback.call(instance);
      };
    }
    // 2. \u8C03\u7528\u66F4\u65B0
    updateContainer(children, fiberRoot, parentComponent, callback);
  }
  return getPublicRootInstance(fiberRoot);
}
`,paraId:29,tocIndex:4},{value:"\u7EE7\u7EED\u8DDF\u8E2A",paraId:30,tocIndex:4},{value:"legacyCreateRootFromDOMContainer",paraId:30,tocIndex:4},{value:". \u6700\u540E\u8C03\u7528",paraId:30,tocIndex:4},{value:"new ReactDOMBlockingRoot(container, LegacyRoot, options);",paraId:30,tocIndex:4},{value:`function legacyCreateRootFromDOMContainer(
  container: Container,
  forceHydrate: boolean,
): RootType {
  const shouldHydrate =
    forceHydrate || shouldHydrateDueToLegacyHeuristic(container);
  return createLegacyRoot(
    container,
    shouldHydrate
      ? {
          hydrate: true,
        }
      : undefined,
  );
}

export function createLegacyRoot(
  container: Container,
  options?: RootOptions,
): RootType {
  return new ReactDOMBlockingRoot(container, LegacyRoot, options); // \u6CE8\u610F\u8FD9\u91CC\u7684LegacyRoot\u662F\u56FA\u5B9A\u7684, \u5E76\u4E0D\u662F\u5916\u754C\u4F20\u5165\u7684
}
`,paraId:31,tocIndex:4},{value:"\u901A\u8FC7\u4EE5\u4E0A\u5206\u6790,",paraId:32,tocIndex:4},{value:"legacy",paraId:32,tocIndex:4},{value:"\u6A21\u5F0F\u4E0B\u8C03\u7528",paraId:32,tocIndex:4},{value:"ReactDOM.render",paraId:32,tocIndex:4},{value:"\u6709 2 \u4E2A\u6838\u5FC3\u6B65\u9AA4:",paraId:32,tocIndex:4},{value:"\u521B\u5EFA",paraId:33,tocIndex:4},{value:"ReactDOMBlockingRoot",paraId:33,tocIndex:4},{value:"\u5B9E\u4F8B(\u5728 Concurrent \u6A21\u5F0F\u548C Blocking \u6A21\u5F0F\u4E2D\u8BE6\u7EC6\u5206\u6790\u8BE5\u7C7B), \u521D\u59CB\u5316 react \u5E94\u7528\u73AF\u5883.",paraId:33,tocIndex:4},{value:"\u8C03\u7528",paraId:33,tocIndex:4},{value:"updateContainer",paraId:33,tocIndex:4},{value:"\u8FDB\u884C\u66F4\u65B0.",paraId:33,tocIndex:4},{value:"Concurrent",paraId:34,tocIndex:5},{value:"\u6A21\u5F0F\u548C",paraId:34,tocIndex:5},{value:"Blocking",paraId:34,tocIndex:5},{value:"\u6A21\u5F0F\u4ECE\u8C03\u7528\u65B9\u5F0F\u4E0A\u76F4\u63A5\u53EF\u4EE5\u770B\u51FA",paraId:34,tocIndex:5},{value:"\u5206\u522B\u8C03\u7528",paraId:35,tocIndex:5},{value:"ReactDOM.createRoot",paraId:35,tocIndex:5},{value:"\u548C",paraId:35,tocIndex:5},{value:"ReactDOM.createBlockingRoot",paraId:35,tocIndex:5},{value:"\u521B\u5EFA",paraId:35,tocIndex:5},{value:"ReactDOMRoot",paraId:35,tocIndex:5},{value:"\u548C",paraId:35,tocIndex:5},{value:"ReactDOMBlockingRoot",paraId:35,tocIndex:5},{value:"\u5B9E\u4F8B",paraId:35,tocIndex:5},{value:"\u8C03\u7528",paraId:35,tocIndex:5},{value:"ReactDOMRoot",paraId:35,tocIndex:5},{value:"\u548C",paraId:35,tocIndex:5},{value:"ReactDOMBlockingRoot",paraId:35,tocIndex:5},{value:"\u5B9E\u4F8B\u7684",paraId:35,tocIndex:5},{value:"render",paraId:35,tocIndex:5},{value:"\u65B9\u6CD5",paraId:35,tocIndex:5},{value:`export function createRoot(
  container: Container,
  options?: RootOptions,
): RootType {
  return new ReactDOMRoot(container, options);
}

export function createBlockingRoot(
  container: Container,
  options?: RootOptions,
): RootType {
  return new ReactDOMBlockingRoot(container, BlockingRoot, options); // \u6CE8\u610F\u7B2C2\u4E2A\u53C2\u6570BlockingRoot\u662F\u56FA\u5B9A\u5199\u6B7B\u7684
}
`,paraId:36,tocIndex:5},{value:"\u7EE7\u7EED\u67E5\u770B",paraId:37,tocIndex:5},{value:"ReactDOMRoot",paraId:37,tocIndex:5},{value:"\u548C",paraId:37,tocIndex:5},{value:"ReactDOMBlockingRoot",paraId:37,tocIndex:5},{value:"\u5BF9\u8C61",paraId:37,tocIndex:5},{value:`function ReactDOMRoot(container: Container, options: void | RootOptions) {
  // \u521B\u5EFA\u4E00\u4E2AfiberRoot\u5BF9\u8C61, \u5E76\u5C06\u5176\u6302\u8F7D\u5230this._internalRoot\u4E4B\u4E0A
  this._internalRoot = createRootImpl(container, ConcurrentRoot, options);
}
function ReactDOMBlockingRoot(
  container: Container,
  tag: RootTag,
  options: void | RootOptions,
) {
  // \u521B\u5EFA\u4E00\u4E2AfiberRoot\u5BF9\u8C61, \u5E76\u5C06\u5176\u6302\u8F7D\u5230this._internalRoot\u4E4B\u4E0A
  this._internalRoot = createRootImpl(container, tag, options);
}

ReactDOMRoot.prototype.render = ReactDOMBlockingRoot.prototype.render =
  function (children: ReactNodeList): void {
    const root = this._internalRoot;
    // \u6267\u884C\u66F4\u65B0
    updateContainer(children, root, null, null);
  };

ReactDOMRoot.prototype.unmount = ReactDOMBlockingRoot.prototype.unmount =
  function (): void {
    const root = this._internalRoot;
    const container = root.containerInfo;
    // \u6267\u884C\u66F4\u65B0
    updateContainer(null, root, null, () => {
      unmarkContainerAsRoot(container);
    });
  };
`,paraId:38,tocIndex:5},{value:"ReactDOMRoot",paraId:39,tocIndex:5},{value:"\u548C",paraId:39,tocIndex:5},{value:"ReactDOMBlockingRoot",paraId:39,tocIndex:5},{value:"\u6709\u76F8\u540C\u7684\u7279\u6027",paraId:39,tocIndex:5},{value:"\u8C03\u7528",paraId:40,tocIndex:5},{value:"createRootImpl",paraId:40,tocIndex:5},{value:"\u521B\u5EFA",paraId:40,tocIndex:5},{value:"fiberRoot",paraId:40,tocIndex:5},{value:"\u5BF9\u8C61, \u5E76\u5C06\u5176\u6302\u8F7D\u5230",paraId:40,tocIndex:5},{value:"this._internalRoot",paraId:40,tocIndex:5},{value:"\u4E0A.",paraId:40,tocIndex:5},{value:"\u539F\u578B\u4E0A\u6709",paraId:40,tocIndex:5},{value:"render",paraId:40,tocIndex:5},{value:"\u548C",paraId:40,tocIndex:5},{value:"unmount",paraId:40,tocIndex:5},{value:"\u65B9\u6CD5, \u4E14\u5185\u90E8\u90FD\u4F1A\u8C03\u7528",paraId:40,tocIndex:5},{value:"updateContainer",paraId:40,tocIndex:5},{value:"\u8FDB\u884C\u66F4\u65B0.",paraId:40,tocIndex:5},{value:"\u65E0\u8BBA\u54EA\u79CD\u6A21\u5F0F\u4E0B, \u5728",paraId:41,tocIndex:6},{value:"ReactDOM(Blocking)Root",paraId:41,tocIndex:6},{value:"\u7684\u521B\u5EFA\u8FC7\u7A0B\u4E2D, \u90FD\u4F1A\u8C03\u7528\u4E00\u4E2A\u76F8\u540C\u7684\u51FD\u6570",paraId:41,tocIndex:6},{value:"createRootImpl",paraId:41,tocIndex:6},{value:", \u67E5\u770B\u540E\u7EED\u7684\u51FD\u6570\u8C03\u7528, \u6700\u540E\u4F1A\u521B\u5EFA",paraId:41,tocIndex:6},{value:"fiberRoot \u5BF9\u8C61",paraId:41,tocIndex:6},{value:"(\u5728\u8FD9\u4E2A\u8FC7\u7A0B\u4E2D, \u7279\u522B\u6CE8\u610F",paraId:41,tocIndex:6},{value:"RootTag",paraId:41,tocIndex:6},{value:"\u7684\u4F20\u9012\u8FC7\u7A0B):",paraId:41,tocIndex:6},{value:`// \u6CE8\u610F: 3\u79CD\u6A21\u5F0F\u4E0B\u7684tag\u662F\u5404\u4E0D\u76F8\u540C(\u5206\u522B\u662FConcurrentRoot,BlockingRoot,LegacyRoot).
this._internalRoot = createRootImpl(container, tag, options);
`,paraId:42,tocIndex:6},{value:`function createRootImpl(
  container: Container,
  tag: RootTag,
  options: void | RootOptions,
) {
  // ... \u7701\u7565\u90E8\u5206\u6E90\u7801(\u6709\u5173hydrate\u670D\u52A1\u7AEF\u6E32\u67D3\u7B49, \u6682\u65F6\u7528\u4E0D\u4E0A)
  // 1. \u521B\u5EFAfiberRoot
  const root = createContainer(container, tag, hydrate, hydrationCallbacks); // \u6CE8\u610FRootTag\u7684\u4F20\u9012
  // 2. \u6807\u8BB0dom\u5BF9\u8C61, \u628Adom\u548Cfiber\u5BF9\u8C61\u5173\u8054\u8D77\u6765
  markContainerAsRoot(root.current, container);
  // ...\u7701\u7565\u90E8\u5206\u65E0\u5173\u4EE3\u7801
  return root;
}
`,paraId:43,tocIndex:6},{value:`export function createContainer(
  containerInfo: Container,
  tag: RootTag,
  hydrate: boolean,
  hydrationCallbacks: null | SuspenseHydrationCallbacks,
): OpaqueRoot {
  // \u521B\u5EFAfiberRoot\u5BF9\u8C61
  return createFiberRoot(containerInfo, tag, hydrate, hydrationCallbacks); // \u6CE8\u610FRootTag\u7684\u4F20\u9012
}
`,paraId:44,tocIndex:6},{value:"\u5728",paraId:45,tocIndex:7},{value:"createFiberRoot",paraId:45,tocIndex:7},{value:"\u4E2D, \u521B\u5EFA\u4E86",paraId:45,tocIndex:7},{value:"react",paraId:45,tocIndex:7},{value:"\u5E94\u7528\u7684\u9996\u4E2A",paraId:45,tocIndex:7},{value:"fiber",paraId:45,tocIndex:7},{value:"\u5BF9\u8C61, \u79F0\u4E3A",paraId:45,tocIndex:7},{value:"HostRootFiber(fiber.tag = HostRoot)",paraId:45,tocIndex:7},{value:`export function createFiberRoot(
  containerInfo: any,
  tag: RootTag,
  hydrate: boolean,
  hydrationCallbacks: null | SuspenseHydrationCallbacks,
): FiberRoot {
  // \u521B\u5EFAfiberRoot\u5BF9\u8C61, \u6CE8\u610FRootTag\u7684\u4F20\u9012
  const root: FiberRoot = (new FiberRootNode(containerInfo, tag, hydrate): any);

  // 1. \u8FD9\u91CC\u521B\u5EFA\u4E86\`react\`\u5E94\u7528\u7684\u9996\u4E2A\`fiber\`\u5BF9\u8C61, \u79F0\u4E3A\`HostRootFiber\`
  const uninitializedFiber = createHostRootFiber(tag);
  root.current = uninitializedFiber;
  uninitializedFiber.stateNode = root;
  // 2. \u521D\u59CB\u5316HostRootFiber\u7684updateQueue
  initializeUpdateQueue(uninitializedFiber);

  return root;
}
`,paraId:46,tocIndex:7},{value:"\u5728\u521B\u5EFA",paraId:47,tocIndex:7},{value:"HostRootFiber",paraId:47,tocIndex:7},{value:"\u65F6, \u5176\u4E2D",paraId:47,tocIndex:7},{value:"fiber.mode",paraId:47,tocIndex:7},{value:"\u5C5E\u6027, \u4F1A\u4E0E 3 \u79CD",paraId:47,tocIndex:7},{value:"RootTag",paraId:47,tocIndex:7},{value:"(",paraId:47,tocIndex:7},{value:"ConcurrentRoot",paraId:47,tocIndex:7},{value:",",paraId:47,tocIndex:7},{value:"BlockingRoot",paraId:47,tocIndex:7},{value:",",paraId:47,tocIndex:7},{value:"LegacyRoot",paraId:47,tocIndex:7},{value:")\u5173\u8054\u8D77\u6765.",paraId:47,tocIndex:7},{value:`export function createHostRootFiber(tag: RootTag): Fiber {
  let mode;
  if (tag === ConcurrentRoot) {
    mode = ConcurrentMode | BlockingMode | StrictMode;
  } else if (tag === BlockingRoot) {
    mode = BlockingMode | StrictMode;
  } else {
    mode = NoMode;
  }
  return createFiber(HostRoot, null, null, mode); // \u6CE8\u610F\u8FD9\u91CC\u8BBE\u7F6E\u7684mode\u5C5E\u6027\u662F\u7531RootTag\u51B3\u5B9A\u7684
}
`,paraId:48,tocIndex:7},{value:"\u6CE8\u610F:",paraId:49,tocIndex:7},{value:"fiber",paraId:49,tocIndex:7},{value:"\u6811\u4E2D\u6240\u6709\u8282\u70B9\u7684",paraId:49,tocIndex:7},{value:"mode",paraId:49,tocIndex:7},{value:"\u90FD\u4F1A\u548C",paraId:49,tocIndex:7},{value:"HostRootFiber.mode",paraId:49,tocIndex:7},{value:"\u4E00\u81F4(\u65B0\u5EFA\u7684 fiber \u8282\u70B9, \u5176 mode \u6765\u6E90\u4E8E\u7236\u8282\u70B9),\u6240\u4EE5",paraId:49,tocIndex:7},{value:"HostRootFiber.mode",paraId:49,tocIndex:7},{value:"\u975E\u5E38\u91CD\u8981, \u5B83\u51B3\u5B9A\u4E86\u4EE5\u540E\u6574\u4E2A fiber \u6811\u6784\u5EFA\u8FC7\u7A0B.",paraId:49,tocIndex:7},{value:"\u8FD0\u884C\u5230\u8FD9\u91CC, 3 \u4E2A\u5BF9\u8C61\u521B\u5EFA\u6210\u529F, ",paraId:50,tocIndex:7},{value:"react",paraId:50,tocIndex:7},{value:"\u5E94\u7528\u7684\u521D\u59CB\u5316\u5B8C\u6BD5.",paraId:50,tocIndex:7},{value:"\u5C06\u6B64\u523B\u5185\u5B58\u4E2D\u5404\u4E2A\u5BF9\u8C61\u7684\u5F15\u7528\u60C5\u51B5\u8868\u793A\u51FA\u6765:",paraId:51,tocIndex:7},{value:"legacy",paraId:52,tocIndex:7},{value:"concurrent",paraId:53,tocIndex:7},{value:"blocking",paraId:54,tocIndex:7},{value:"\u6CE8\u610F:",paraId:55,tocIndex:7},{value:"3 \u79CD\u6A21\u5F0F\u4E0B,",paraId:56,tocIndex:7},{value:"HostRootFiber.mode",paraId:56,tocIndex:7},{value:"\u662F\u4E0D\u4E00\u81F4\u7684",paraId:56,tocIndex:7},{value:"legacy \u4E0B, ",paraId:56,tocIndex:7},{value:"div#root",paraId:56,tocIndex:7},{value:"\u548C",paraId:56,tocIndex:7},{value:"ReactDOMBlockingRoot",paraId:56,tocIndex:7},{value:"\u4E4B\u95F4\u901A\u8FC7",paraId:56,tocIndex:7},{value:"_reactRootContainer",paraId:56,tocIndex:7},{value:"\u5173\u8054. \u5176\u4ED6\u6A21\u5F0F\u662F\u6CA1\u6709\u5173\u8054\u7684",paraId:56,tocIndex:7},{value:"\u6B64\u65F6",paraId:56,tocIndex:7},{value:"reactElement(<App/>)",paraId:56,tocIndex:7},{value:"\u8FD8\u662F\u72EC\u7ACB\u5728\u5916\u7684, \u8FD8\u6CA1\u6709\u548C\u76EE\u524D\u521B\u5EFA\u7684 3 \u4E2A\u5168\u5C40\u5BF9\u8C61\u5173\u8054\u8D77\u6765",paraId:56,tocIndex:7},{value:"legacy",paraId:57,tocIndex:8},{value:`
\u56DE\u5230`,paraId:57,tocIndex:8},{value:"legacyRenderSubtreeIntoContainer",paraId:57,tocIndex:8},{value:"\u51FD\u6570\u4E2D\u6709:",paraId:57,tocIndex:8},{value:`// 2. \u66F4\u65B0\u5BB9\u5668
unbatchedUpdates(() => {
  updateContainer(children, fiberRoot, parentComponent, callback);
});
`,paraId:58,tocIndex:8},{value:"concurrent \u548C blocking",paraId:59,tocIndex:8},{value:`
\u5728`,paraId:59,tocIndex:8},{value:"ReactDOM(Blocking)Root",paraId:59,tocIndex:8},{value:"\u539F\u578B\u4E0A\u6709",paraId:59,tocIndex:8},{value:"render",paraId:59,tocIndex:8},{value:"\u65B9\u6CD5",paraId:59,tocIndex:8},{value:`ReactDOMRoot.prototype.render = ReactDOMBlockingRoot.prototype.render =
  function (children: ReactNodeList): void {
    const root = this._internalRoot;
    // \u6267\u884C\u66F4\u65B0
    updateContainer(children, root, null, null);
  };
`,paraId:60,tocIndex:8},{value:"\u76F8\u540C\u70B9:",paraId:61,tocIndex:8},{value:"3 \u79CD\u6A21\u5F0F\u5728\u8C03\u7528\u66F4\u65B0\u65F6\u90FD\u4F1A\u6267\u884C",paraId:62,tocIndex:8},{value:"updateContainer",paraId:62,tocIndex:8},{value:". ",paraId:62,tocIndex:8},{value:"updateContainer",paraId:62,tocIndex:8},{value:"\u51FD\u6570\u4E32\u8054\u4E86",paraId:62,tocIndex:8},{value:"react-dom",paraId:62,tocIndex:8},{value:"\u4E0E",paraId:62,tocIndex:8},{value:"react-reconciler",paraId:62,tocIndex:8},{value:", \u4E4B\u540E\u7684\u903B\u8F91\u8FDB\u5165\u4E86",paraId:62,tocIndex:8},{value:"react-reconciler",paraId:62,tocIndex:8},{value:"\u5305.",paraId:62,tocIndex:8},{value:"\u4E0D\u540C\u70B9:",paraId:63,tocIndex:8},{value:"legacy",paraId:64,tocIndex:8},{value:"\u4E0B\u7684\u66F4\u65B0\u4F1A\u5148\u8C03\u7528",paraId:64,tocIndex:8},{value:"unbatchedUpdates",paraId:64,tocIndex:8},{value:", \u66F4\u6539\u6267\u884C\u4E0A\u4E0B\u6587\u4E3A",paraId:64,tocIndex:8},{value:"LegacyUnbatchedContext",paraId:64,tocIndex:8},{value:", \u4E4B\u540E\u8C03\u7528",paraId:64,tocIndex:8},{value:"updateContainer",paraId:64,tocIndex:8},{value:"\u8FDB\u884C\u66F4\u65B0.",paraId:64,tocIndex:8},{value:"concurrent",paraId:65,tocIndex:8},{value:"\u548C",paraId:65,tocIndex:8},{value:"blocking",paraId:65,tocIndex:8},{value:"\u4E0D\u4F1A\u66F4\u6539\u6267\u884C\u4E0A\u4E0B\u6587, \u76F4\u63A5\u8C03\u7528",paraId:65,tocIndex:8},{value:"updateContainer",paraId:65,tocIndex:8},{value:"\u8FDB\u884C\u66F4\u65B0.",paraId:65,tocIndex:8},{value:"\u7EE7\u7EED\u8DDF\u8E2A",paraId:66,tocIndex:8},{value:"updateContainer",paraId:66,tocIndex:8},{value:"\u51FD\u6570",paraId:66,tocIndex:8},{value:`export function updateContainer(
  element: ReactNodeList,
  container: OpaqueRoot,
  parentComponent: ?React$Component<any, any>,
  callback: ?Function,
): Lane {
  const current = container.current;
  // 1. \u83B7\u53D6\u5F53\u524D\u65F6\u95F4\u6233, \u8BA1\u7B97\u672C\u6B21\u66F4\u65B0\u7684\u4F18\u5148\u7EA7
  const eventTime = requestEventTime();
  const lane = requestUpdateLane(current);

  // 2. \u8BBE\u7F6Efiber.updateQueue
  const update = createUpdate(eventTime, lane);
  update.payload = { element };
  callback = callback === undefined ? null : callback;
  if (callback !== null) {
    update.callback = callback;
  }
  enqueueUpdate(current, update);

  // 3. \u8FDB\u5165reconciler\u8FD0\u4F5C\u6D41\u7A0B\u4E2D\u7684\`\u8F93\u5165\`\u73AF\u8282
  scheduleUpdateOnFiber(current, lane, eventTime);
  return lane;
}
`,paraId:67,tocIndex:8},{value:"updateContainer",paraId:68,tocIndex:8},{value:"\u51FD\u6570\u4F4D\u4E8E",paraId:68,tocIndex:8},{value:"react-reconciler",paraId:68,tocIndex:8},{value:"\u5305\u4E2D, \u5B83\u4E32\u8054\u4E86",paraId:68,tocIndex:8},{value:"react-dom",paraId:68,tocIndex:8},{value:"\u4E0E",paraId:68,tocIndex:8},{value:"react-reconciler",paraId:68,tocIndex:8},{value:". \u6B64\u5904\u6682\u65F6\u4E0D\u6DF1\u5165\u5206\u6790",paraId:68,tocIndex:8},{value:"updateContainer",paraId:68,tocIndex:8},{value:"\u51FD\u6570\u7684\u5177\u4F53\u529F\u80FD, \u9700\u8981\u5173\u6CE8\u5176\u6700\u540E\u8C03\u7528\u4E86",paraId:68,tocIndex:8},{value:"scheduleUpdateOnFiber",paraId:68,tocIndex:8},{value:".",paraId:68,tocIndex:8},{value:"\u5728\u524D\u6587",paraId:69,tocIndex:8},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:70,tocIndex:8},{value:"\u4E2D, \u91CD\u70B9\u5206\u6790\u8FC7",paraId:69,tocIndex:8},{value:"scheduleUpdateOnFiber",paraId:69,tocIndex:8},{value:"\u662F",paraId:69,tocIndex:8},{value:"\u8F93\u5165",paraId:69,tocIndex:8},{value:"\u9636\u6BB5\u7684\u5165\u53E3\u51FD\u6570.",paraId:69,tocIndex:8},{value:"\u6240\u4EE5\u5230\u6B64\u4E3A\u6B62, \u901A\u8FC7\u8C03\u7528",paraId:71,tocIndex:8},{value:"react-dom",paraId:71,tocIndex:8},{value:"\u5305\u7684",paraId:71,tocIndex:8},{value:"api",paraId:71,tocIndex:8},{value:"(\u5982: ",paraId:71,tocIndex:8},{value:"ReactDOM.render",paraId:71,tocIndex:8},{value:"), ",paraId:71,tocIndex:8},{value:"react",paraId:71,tocIndex:8},{value:"\u5185\u90E8\u7ECF\u8FC7\u4E00\u7CFB\u5217\u8FD0\u8F6C, \u5B8C\u6210\u4E86\u521D\u59CB\u5316, \u5E76\u4E14\u8FDB\u5165\u4E86",paraId:71,tocIndex:8},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:71,tocIndex:8},{value:"\u7684\u7B2C\u4E00\u4E2A\u9636\u6BB5.",paraId:71,tocIndex:8},{value:"react \u4E2D\u6700\u5E7F\u4E3A\u4EBA\u77E5\u7684\u53EF\u4E2D\u65AD\u6E32\u67D3(render \u53EF\u4EE5\u4E2D\u65AD, \u90E8\u5206\u751F\u547D\u5468\u671F\u51FD\u6570\u6709\u53EF\u80FD\u6267\u884C\u591A\u6B21, ",paraId:72,tocIndex:10},{value:"UNSAFE_componentWillMount",paraId:72,tocIndex:10},{value:",",paraId:72,tocIndex:10},{value:"UNSAFE_componentWillReceiveProps",paraId:72,tocIndex:10},{value:")\u53EA\u6709\u5728",paraId:72,tocIndex:10},{value:"HostRootFiber.mode === ConcurrentRoot | BlockingRoot",paraId:72,tocIndex:10},{value:"\u624D\u4F1A\u5F00\u542F. \u5982\u679C\u4F7F\u7528\u7684\u662F",paraId:72,tocIndex:10},{value:"legacy",paraId:72,tocIndex:10},{value:", \u5373\u901A\u8FC7",paraId:72,tocIndex:10},{value:"ReactDOM.render(<App/>, dom)",paraId:72,tocIndex:10},{value:"\u8FD9\u79CD\u65B9\u5F0F\u542F\u52A8\u65F6",paraId:72,tocIndex:10},{value:"HostRootFiber.mode = NoMode",paraId:72,tocIndex:10},{value:", \u8FD9\u79CD\u60C5\u51B5\u4E0B\u65E0\u8BBA\u662F\u9996\u6B21 render \u8FD8\u662F\u540E\u7EED update \u90FD\u53EA\u4F1A\u8FDB\u5165\u540C\u6B65\u5DE5\u4F5C\u5FAA\u73AF, ",paraId:72,tocIndex:10},{value:"reconciliation",paraId:72,tocIndex:10},{value:"\u6CA1\u6709\u673A\u4F1A\u4E2D\u65AD, \u6240\u4EE5\u751F\u547D\u5468\u671F\u51FD\u6570\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21.",paraId:72,tocIndex:10},{value:"\u5BF9\u4E8E",paraId:73,tocIndex:10},{value:"\u53EF\u4E2D\u65AD\u6E32\u67D3",paraId:73,tocIndex:10},{value:"\u7684\u5BA3\u4F20\u6700\u65E9\u6765\u81EA",paraId:73,tocIndex:10},{value:"2017 \u5E74 Lin Clark \u7684\u6F14\u8BB2",paraId:73,tocIndex:10},{value:". \u6F14\u8BB2\u4E2D\u9610\u8FF0\u4E86\u672A\u6765 react \u4F1A\u5E94\u7528 fiber \u67B6\u6784, ",paraId:73,tocIndex:10},{value:"reconciliation\u53EF\u4E2D\u65AD",paraId:73,tocIndex:10},{value:"\u7B49(13:15 \u79D2). \u5728",paraId:73,tocIndex:10},{value:"v16.1.0",paraId:73,tocIndex:10},{value:"\u4E2D\u5E94\u7528\u4E86 fiber.",paraId:73,tocIndex:10},{value:"\u5728\u6700\u65B0\u7A33\u5B9A\u7248",paraId:74,tocIndex:10},{value:"v17.0.2",paraId:74,tocIndex:10},{value:"\u4E2D, ",paraId:74,tocIndex:10},{value:"\u53EF\u4E2D\u65AD\u6E32\u67D3",paraId:74,tocIndex:10},{value:"\u867D\u7136\u5B9E\u73B0, \u4F46\u662F\u5E76\u6CA1\u6709\u5728\u7A33\u5B9A\u7248\u66B4\u9732\u51FA api. \u53EA\u80FD",paraId:74,tocIndex:10},{value:"\u5B89\u88C5 alpha \u7248\u672C",paraId:74,tocIndex:10},{value:"\u624D\u80FD\u4F53\u9A8C\u8BE5\u7279\u6027.",paraId:74,tocIndex:10},{value:"\u4F46\u662F\u4E0D\u5C11\u5F00\u53D1\u4EBA\u5458\u8BA4\u4E3A\u7A33\u5B9A\u7248\u672C\u7684",paraId:75,tocIndex:10},{value:"react",paraId:75,tocIndex:10},{value:"\u5DF2\u7ECF\u662F\u53EF\u4E2D\u65AD\u6E32\u67D3(\u5176\u5B9E\u662F\u6709\u8BEF\u533A\u7684), \u5927\u6982\u7387\u4E5F\u662F\u53D7\u5230\u4E86\u5404\u7C7B\u5BA3\u4F20\u6587\u7AE0\u7684\u5F71\u54CD. \u524D\u7AEF\u5927\u73AF\u5883\u8FD8\u662F\u6BD4\u8F83\u6D6E\u8E81\u7684, \u5728\u5F53\u4E0B, \u66F4\u9700\u8981\u9759\u4E0B\u5FC3\u6765\u5B66\u4E60.",paraId:75,tocIndex:10},{value:"\u672C\u7AE0\u8282\u4ECB\u7ECD\u4E86",paraId:76,tocIndex:11},{value:"react",paraId:76,tocIndex:11},{value:"\u5E94\u7528\u7684 3 \u79CD\u542F\u52A8\u65B9\u5F0F. \u5206\u6790\u4E86\u542F\u52A8\u540E\u521B\u5EFA\u4E86 3 \u4E2A\u5173\u952E\u5BF9\u8C61, \u5E76\u7ED8\u5236\u4E86\u5BF9\u8C61\u5728\u5185\u5B58\u4E2D\u7684\u5F15\u7528\u5173\u7CFB. \u542F\u52A8\u8FC7\u7A0B\u6700\u540E\u8C03\u7528",paraId:76,tocIndex:11},{value:"updateContainer",paraId:76,tocIndex:11},{value:"\u8FDB\u5165",paraId:76,tocIndex:11},{value:"react-reconciler",paraId:76,tocIndex:11},{value:"\u5305,\u8FDB\u800C\u8C03\u7528",paraId:76,tocIndex:11},{value:"schedulerUpdateOnFiber",paraId:76,tocIndex:11},{value:"\u51FD\u6570, \u4E0E",paraId:76,tocIndex:11},{value:"reconciler\u8FD0\u4F5C\u6D41\u7A0B",paraId:76,tocIndex:11},{value:"\u4E2D\u7684",paraId:76,tocIndex:11},{value:"\u8F93\u5165",paraId:76,tocIndex:11},{value:"\u9636\u6BB5\u76F8\u8854\u63A5.",paraId:76,tocIndex:11}],dn={},Ya={title:"\u8C03\u5EA6\u539F\u7406",toc:"menu",filename:"docs/main/scheduler.md",group:"\u8FD0\u884C\u6838\u5FC3",order:3,description:"\u5728 React \u8FD0\u884C\u65F6\u4E2D, \u8C03\u5EA6\u4E2D\u5FC3(\u4F4D\u4E8Escheduler\u5305), \u662F\u6574\u4E2A React \u8FD0\u884C\u65F6\u7684\u4E2D\u67A2(\u5176\u5B9E\u662F\u5FC3\u810F), \u6240\u4EE5\u7406\u89E3scheduler\u8C03\u5EA6, \u5C31\u57FA\u672C\u628A\u63E1\u4E86 React \u7684\u547D\u95E8."},Mn=[{id:"react-\u8C03\u5EA6\u539F\u7406scheduler",depth:1,title:"React \u8C03\u5EA6\u539F\u7406(scheduler)"},{id:"\u8C03\u5EA6\u5B9E\u73B0",depth:2,title:"\u8C03\u5EA6\u5B9E\u73B0"},{id:"\u5185\u6838",depth:3,title:"\u5185\u6838"},{id:"\u4EFB\u52A1\u961F\u5217\u7BA1\u7406",depth:3,title:"\u4EFB\u52A1\u961F\u5217\u7BA1\u7406"},{id:"\u521B\u5EFA\u4EFB\u52A1",depth:4,title:"\u521B\u5EFA\u4EFB\u52A1"},{id:"\u6D88\u8D39\u4EFB\u52A1",depth:4,title:"\u6D88\u8D39\u4EFB\u52A1"},{id:"\u65F6\u95F4\u5207\u7247\u539F\u7406",depth:4,title:"\u65F6\u95F4\u5207\u7247\u539F\u7406"},{id:"\u53EF\u4E2D\u65AD\u6E32\u67D3\u539F\u7406",depth:4,title:"\u53EF\u4E2D\u65AD\u6E32\u67D3\u539F\u7406"},{id:"\u8282\u6D41\u9632\u6296-throttle-debounce",depth:2,title:"\u8282\u6D41\u9632\u6296 {#throttle-debounce}"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"}],ar=[{value:"\u5728 React \u8FD0\u884C\u65F6\u4E2D, \u8C03\u5EA6\u4E2D\u5FC3(\u4F4D\u4E8E",paraId:0,tocIndex:0},{value:"scheduler",paraId:0,tocIndex:0},{value:"\u5305), \u662F\u6574\u4E2A React \u8FD0\u884C\u65F6\u7684\u4E2D\u67A2(\u5176\u5B9E\u662F\u5FC3\u810F), \u6240\u4EE5\u7406\u89E3",paraId:0,tocIndex:0},{value:"scheduler",paraId:0,tocIndex:0},{value:"\u8C03\u5EA6, \u5C31\u57FA\u672C\u628A\u63E1\u4E86 React \u7684\u547D\u95E8.",paraId:0,tocIndex:0},{value:"\u5728\u6DF1\u5165\u5206\u6790\u4E4B\u524D, \u5EFA\u8BAE\u56DE\u987E\u4E00\u4E0B\u5F80\u671F\u4E0E",paraId:1,tocIndex:0},{value:"scheduler",paraId:1,tocIndex:0},{value:"\u76F8\u5173\u7684\u6587\u7AE0(\u8FD9 3 \u7BC7\u6587\u7AE0\u4E0D\u957F, \u5171 10 \u5206\u949F\u80FD\u6D4F\u89C8\u5B8C):",paraId:1,tocIndex:0},{value:"React \u5DE5\u4F5C\u5FAA\u73AF",paraId:2,tocIndex:0},{value:": \u4ECE\u5B8F\u89C2\u7684\u89D2\u5EA6\u4ECB\u7ECD React \u4F53\u7CFB\u4E2D\u4E24\u4E2A\u91CD\u8981\u7684\u5FAA\u73AF, \u5176\u4E2D",paraId:3,tocIndex:0},{value:"\u4EFB\u52A1\u8C03\u5EA6\u5FAA\u73AF",paraId:3,tocIndex:0},{value:"\u5C31\u662F\u672C\u6587\u7684\u4E3B\u89D2.",paraId:3,tocIndex:0},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:4,tocIndex:0},{value:": \u4ECE\u5B8F\u89C2\u7684\u89D2\u5EA6\u4ECB\u7ECD\u4E86",paraId:3,tocIndex:0},{value:"react-reconciler",paraId:3,tocIndex:0},{value:"\u5305\u7684\u6838\u5FC3\u4F5C\u7528, \u5E76\u628A",paraId:3,tocIndex:0},{value:"reconciler",paraId:3,tocIndex:0},{value:"\u5206\u4E3A\u4E86 4 \u4E2A\u9636\u6BB5. \u5176\u4E2D\u7B2C 2 \u4E2A\u9636\u6BB5",paraId:3,tocIndex:0},{value:"\u6CE8\u518C\u8C03\u5EA6\u4EFB\u52A1",paraId:3,tocIndex:0},{value:"\u4E32\u8054\u4E86",paraId:3,tocIndex:0},{value:"scheduler",paraId:3,tocIndex:0},{value:"\u5305\u548C",paraId:3,tocIndex:0},{value:"react-reconciler",paraId:3,tocIndex:0},{value:"\u5305, \u5176\u5B9E\u5C31\u662F",paraId:3,tocIndex:0},{value:"\u4EFB\u52A1\u8C03\u5EA6\u5FAA\u73AF",paraId:3,tocIndex:0},{value:"\u4E2D\u7684\u4E00\u4E2A\u4EFB\u52A1(",paraId:3,tocIndex:0},{value:"task",paraId:3,tocIndex:0},{value:").",paraId:3,tocIndex:0},{value:"React \u4E2D\u7684\u4F18\u5148\u7EA7\u7BA1\u7406",paraId:5,tocIndex:0},{value:": \u4ECB\u7ECD\u4E86 React \u4F53\u7CFB\u4E2D\u7684 3 \u4E2D\u4F18\u5148\u7EA7\u7684\u7BA1\u7406, \u5217\u51FA\u4E86\u6E90\u7801\u4E2D",paraId:3,tocIndex:0},{value:"react-reconciler",paraId:3,tocIndex:0},{value:"\u4E0E",paraId:3,tocIndex:0},{value:"scheduler",paraId:3,tocIndex:0},{value:"\u5305\u4E2D\u5173\u4E8E\u4F18\u5148\u7EA7\u7684\u8F6C\u6362\u601D\u8DEF. \u5176\u4E2D",paraId:3,tocIndex:0},{value:"SchedulerPriority",paraId:3,tocIndex:0},{value:"\u63A7\u5236",paraId:3,tocIndex:0},{value:"\u4EFB\u52A1\u8C03\u5EA6\u5FAA\u73AF",paraId:3,tocIndex:0},{value:"\u4E2D\u5FAA\u73AF\u7684\u987A\u5E8F.",paraId:3,tocIndex:0},{value:"\u4E86\u89E3\u4E0A\u8FF0\u57FA\u7840\u77E5\u8BC6\u4E4B\u540E, \u518D\u8C08",paraId:6,tocIndex:0},{value:"scheduler",paraId:6,tocIndex:0},{value:"\u539F\u7406, \u5176\u5B9E\u5C31\u662F\u5728\u5927\u7684\u6846\u67B6\u4E0B\u53BB\u6DFB\u52A0\u5B9E\u73B0\u7EC6\u8282, \u76F8\u5BF9\u8F83\u4E3A\u5BB9\u6613. \u4E0B\u9762\u5C31\u6B63\u5F0F\u8FDB\u5165\u4E3B\u9898.",paraId:6,tocIndex:0},{value:"\u8C03\u5EA6\u4E2D\u5FC3",paraId:7,tocIndex:1},{value:"\u6700\u6838\u5FC3\u7684\u4EE3\u7801, \u5728",paraId:7,tocIndex:1},{value:"SchedulerHostConfig.default.js",paraId:7,tocIndex:1},{value:"\u4E2D.",paraId:7,tocIndex:1},{value:"\u8BE5 js \u6587\u4EF6\u4E00\u5171\u5BFC\u51FA\u4E86 8 \u4E2A\u51FD\u6570, \u6700\u6838\u5FC3\u7684\u903B\u8F91, \u5C31\u96C6\u4E2D\u5728\u4E86\u8FD9 8 \u4E2A\u51FD\u6570\u4E2D :",paraId:8,tocIndex:2},{value:`export let requestHostCallback; // \u8BF7\u6C42\u53CA\u65F6\u56DE\u8C03: port.postMessage
export let cancelHostCallback; // \u53D6\u6D88\u53CA\u65F6\u56DE\u8C03: scheduledHostCallback = null
export let requestHostTimeout; // \u8BF7\u6C42\u5EF6\u65F6\u56DE\u8C03: setTimeout
export let cancelHostTimeout; // \u53D6\u6D88\u5EF6\u65F6\u56DE\u8C03: cancelTimeout
export let shouldYieldToHost; // \u662F\u5426\u8BA9\u51FA\u4E3B\u7EBF\u7A0B(currentTime >= deadline && needsPaint): \u8BA9\u6D4F\u89C8\u5668\u80FD\u591F\u6267\u884C\u66F4\u9AD8\u4F18\u5148\u7EA7\u7684\u4EFB\u52A1(\u5982ui\u7ED8\u5236, \u7528\u6237\u8F93\u5165\u7B49)
export let requestPaint; // \u8BF7\u6C42\u7ED8\u5236: \u8BBE\u7F6E needsPaint = true
export let getCurrentTime; // \u83B7\u53D6\u5F53\u524D\u65F6\u95F4
export let forceFrameRate; // \u5F3A\u5236\u8BBE\u7F6E yieldInterval (\u8BA9\u51FA\u4E3B\u7EBF\u7A0B\u7684\u5468\u671F). \u8FD9\u4E2A\u51FD\u6570\u867D\u7136\u5B58\u5728, \u4F46\u662F\u4ECE\u6E90\u7801\u6765\u770B, \u51E0\u4E4E\u6CA1\u6709\u7528\u5230
`,paraId:9,tocIndex:2},{value:"\u6211\u4EEC\u77E5\u9053 react \u53EF\u4EE5\u5728 nodejs \u73AF\u5883\u4E2D\u4F7F\u7528, \u6240\u4EE5\u5728\u4E0D\u540C\u7684 js \u6267\u884C\u73AF\u5883\u4E2D, \u8FD9\u4E9B\u51FD\u6570\u7684\u5B9E\u73B0\u4F1A\u6709\u533A\u522B. \u4E0B\u9762\u57FA\u4E8E\u666E\u901A\u6D4F\u89C8\u5668\u73AF\u5883, \u5BF9\u8FD9 8 \u4E2A\u51FD\u6570\u9010\u4E00\u5206\u6790 :",paraId:10,tocIndex:2},{value:"\u8C03\u5EA6\u76F8\u5173: \u8BF7\u6C42\u6216\u53D6\u6D88\u8C03\u5EA6",paraId:11,tocIndex:2},{value:"requestHostCallback",paraId:12,tocIndex:2},{value:"cancelHostCallback",paraId:12,tocIndex:2},{value:"requestHostTimeout",paraId:12,tocIndex:2},{value:"cancelHostTimeout",paraId:12,tocIndex:2},{value:"\u8FD9 4 \u4E2A\u51FD\u6570\u6E90\u7801\u5F88\u7B80\u6D01, \u975E\u5E38\u597D\u7406\u89E3, \u5B83\u4EEC\u7684\u76EE\u7684\u5C31\u662F\u8BF7\u6C42\u6267\u884C(\u6216\u53D6\u6D88)\u56DE\u8C03\u51FD\u6570. \u73B0\u5728\u91CD\u70B9\u4ECB\u7ECD\u5176\u4E2D\u7684",paraId:13,tocIndex:2},{value:"\u53CA\u65F6\u56DE\u8C03",paraId:13,tocIndex:2},{value:"(",paraId:13,tocIndex:2},{value:"\u5EF6\u65F6\u56DE\u8C03",paraId:13,tocIndex:2},{value:"\u7684 2 \u4E2A\u51FD\u6570\u6682\u65F6\u5C5E\u4E8E\u4FDD\u7559 api, 17.0.2 \u7248\u672C\u5176\u5B9E\u6CA1\u6709\u7528\u4E0A)",paraId:13,tocIndex:2},{value:`// \u63A5\u6536 MessageChannel \u6D88\u606F
const performWorkUntilDeadline = () => {
  // ...\u7701\u7565\u65E0\u5173\u4EE3\u7801
  if (scheduledHostCallback !== null) {
    const currentTime = getCurrentTime();
    // \u66F4\u65B0deadline
    deadline = currentTime + yieldInterval;
    // \u6267\u884Ccallback
    scheduledHostCallback(hasTimeRemaining, currentTime);
  } else {
    isMessageLoopRunning = false;
  }
};

const channel = new MessageChannel();
const port = channel.port2;
channel.port1.onmessage = performWorkUntilDeadline;

// \u8BF7\u6C42\u56DE\u8C03
requestHostCallback = function (callback) {
  // 1. \u4FDD\u5B58callback
  scheduledHostCallback = callback;
  if (!isMessageLoopRunning) {
    isMessageLoopRunning = true;
    // 2. \u901A\u8FC7 MessageChannel \u53D1\u9001\u6D88\u606F
    port.postMessage(null);
  }
};
// \u53D6\u6D88\u56DE\u8C03
cancelHostCallback = function () {
  scheduledHostCallback = null;
};
`,paraId:14,tocIndex:2},{value:"\u5F88\u660E\u663E, \u8BF7\u6C42\u56DE\u8C03\u4E4B\u540E",paraId:15,tocIndex:2},{value:"scheduledHostCallback = callback",paraId:15,tocIndex:2},{value:", \u7136\u540E\u901A\u8FC7",paraId:15,tocIndex:2},{value:"MessageChannel",paraId:15,tocIndex:2},{value:"\u53D1\u6D88\u606F\u7684\u65B9\u5F0F\u89E6\u53D1",paraId:15,tocIndex:2},{value:"performWorkUntilDeadline",paraId:15,tocIndex:2},{value:"\u51FD\u6570, \u6700\u540E\u6267\u884C\u56DE\u8C03",paraId:15,tocIndex:2},{value:"scheduledHostCallback",paraId:15,tocIndex:2},{value:".",paraId:15,tocIndex:2},{value:"\u6B64\u5904\u9700\u8981\u6CE8\u610F: ",paraId:16,tocIndex:2},{value:"MessageChannel",paraId:16,tocIndex:2},{value:"\u5728\u6D4F\u89C8\u5668\u4E8B\u4EF6\u5FAA\u73AF\u4E2D\u5C5E\u4E8E",paraId:16,tocIndex:2},{value:"\u5B8F\u4EFB\u52A1",paraId:16,tocIndex:2},{value:", \u6240\u4EE5\u8C03\u5EA6\u4E2D\u5FC3\u6C38\u8FDC\u662F",paraId:16,tocIndex:2},{value:"\u5F02\u6B65\u6267\u884C",paraId:16,tocIndex:2},{value:"\u56DE\u8C03\u51FD\u6570.",paraId:16,tocIndex:2},{value:"\u65F6\u95F4\u5207\u7247(",paraId:17,tocIndex:2},{value:"time slicing",paraId:17,tocIndex:2},{value:")\u76F8\u5173: \u6267\u884C\u65F6\u95F4\u5206\u5272, \u8BA9\u51FA\u4E3B\u7EBF\u7A0B(\u628A\u63A7\u5236\u6743\u5F52\u8FD8\u6D4F\u89C8\u5668, \u6D4F\u89C8\u5668\u53EF\u4EE5\u5904\u7406\u7528\u6237\u8F93\u5165, UI \u7ED8\u5236\u7B49\u7D27\u6025\u4EFB\u52A1).",paraId:17,tocIndex:2},{value:"getCurrentTime",paraId:18,tocIndex:2},{value:": \u83B7\u53D6\u5F53\u524D\u65F6\u95F4",paraId:18,tocIndex:2},{value:"shouldYieldToHost",paraId:18,tocIndex:2},{value:": \u662F\u5426\u8BA9\u51FA\u4E3B\u7EBF\u7A0B",paraId:18,tocIndex:2},{value:"requestPaint",paraId:18,tocIndex:2},{value:": \u8BF7\u6C42\u7ED8\u5236",paraId:18,tocIndex:2},{value:"forceFrameRate",paraId:18,tocIndex:2},{value:": \u5F3A\u5236\u8BBE\u7F6E ",paraId:18,tocIndex:2},{value:"yieldInterval",paraId:18,tocIndex:2},{value:"(\u4ECE\u6E90\u7801\u4E2D\u7684\u5F15\u7528\u6765\u770B, \u7B97\u4E00\u4E2A\u4FDD\u7559\u51FD\u6570, \u5176\u4ED6\u5730\u65B9\u6CA1\u6709\u7528\u5230)",paraId:18,tocIndex:2},{value:`const localPerformance = performance;
// \u83B7\u53D6\u5F53\u524D\u65F6\u95F4
getCurrentTime = () => localPerformance.now();

// \u65F6\u95F4\u5207\u7247\u5468\u671F, \u9ED8\u8BA4\u662F5ms(\u5982\u679C\u4E00\u4E2Atask\u8FD0\u884C\u8D85\u8FC7\u8BE5\u5468\u671F, \u4E0B\u4E00\u4E2Atask\u6267\u884C\u4E4B\u524D, \u4F1A\u628A\u63A7\u5236\u6743\u5F52\u8FD8\u6D4F\u89C8\u5668)
let yieldInterval = 5;

let deadline = 0;
const maxYieldInterval = 300;
let needsPaint = false;
const scheduling = navigator.scheduling;
// \u662F\u5426\u8BA9\u51FA\u4E3B\u7EBF\u7A0B
shouldYieldToHost = function () {
  const currentTime = getCurrentTime();
  if (currentTime >= deadline) {
    if (needsPaint || scheduling.isInputPending()) {
      // There is either a pending paint or a pending input.
      return true;
    }
    // There's no pending input. Only yield if we've reached the max
    // yield interval.
    return currentTime >= maxYieldInterval; // \u5728\u6301\u7EED\u8FD0\u884C\u7684react\u5E94\u7528\u4E2D, currentTime\u80AF\u5B9A\u5927\u4E8E300ms, \u8FD9\u4E2A\u5224\u65AD\u53EA\u5728\u521D\u59CB\u5316\u8FC7\u7A0B\u4E2D\u624D\u6709\u53EF\u80FD\u8FD4\u56DEfalse
  } else {
    // There's still time left in the frame.
    return false;
  }
};

// \u8BF7\u6C42\u7ED8\u5236
requestPaint = function () {
  needsPaint = true;
};

// \u8BBE\u7F6E\u65F6\u95F4\u5207\u7247\u7684\u5468\u671F
forceFrameRate = function (fps) {
  if (fps < 0 || fps > 125) {
    // Using console['error'] to evade Babel and ESLint
    console['error'](
      'forceFrameRate takes a positive int between 0 and 125, ' +
        'forcing frame rates higher than 125 fps is not supported',
    );
    return;
  }
  if (fps > 0) {
    yieldInterval = Math.floor(1000 / fps);
  } else {
    // reset the framerate
    yieldInterval = 5;
  }
};
`,paraId:19,tocIndex:2},{value:"\u8FD9 4 \u4E2A\u51FD\u6570\u4EE3\u7801\u90FD\u5F88\u7B80\u6D01, \u5176\u529F\u80FD\u5728\u6CE8\u91CA\u4E2D\u90FD\u6709\u89E3\u91CA.",paraId:20,tocIndex:2},{value:"\u6CE8\u610F",paraId:21,tocIndex:2},{value:"shouldYieldToHost",paraId:21,tocIndex:2},{value:"\u7684\u5224\u5B9A\u6761\u4EF6:",paraId:21,tocIndex:2},{value:"currentTime >= deadline",paraId:22,tocIndex:2},{value:": \u53EA\u6709\u65F6\u95F4\u8D85\u8FC7",paraId:22,tocIndex:2},{value:"deadline",paraId:22,tocIndex:2},{value:"\u4E4B\u540E\u624D\u4F1A\u8BA9\u51FA\u4E3B\u7EBF\u7A0B(\u5176\u4E2D",paraId:22,tocIndex:2},{value:"deadline = currentTime + yieldInterval",paraId:22,tocIndex:2},{value:`).
`,paraId:22,tocIndex:2},{value:"yieldInterval",paraId:23,tocIndex:2},{value:"\u9ED8\u8BA4\u662F",paraId:23,tocIndex:2},{value:"5ms",paraId:23,tocIndex:2},{value:", \u53EA\u80FD\u901A\u8FC7",paraId:23,tocIndex:2},{value:"forceFrameRate",paraId:23,tocIndex:2},{value:"\u51FD\u6570\u6765\u4FEE\u6539(\u4E8B\u5B9E\u4E0A\u5728 v17.0.2 \u6E90\u7801\u4E2D, \u5E76\u6CA1\u6709\u4F7F\u7528\u5230\u8BE5\u51FD\u6570).",paraId:23,tocIndex:2},{value:"\u5982\u679C\u4E00\u4E2A",paraId:23,tocIndex:2},{value:"task",paraId:23,tocIndex:2},{value:"\u8FD0\u884C\u65F6\u95F4\u8D85\u8FC7",paraId:23,tocIndex:2},{value:"5ms",paraId:23,tocIndex:2},{value:", \u4E0B\u4E00\u4E2A",paraId:23,tocIndex:2},{value:"task",paraId:23,tocIndex:2},{value:"\u6267\u884C\u4E4B\u524D, \u4F1A\u628A\u63A7\u5236\u6743\u5F52\u8FD8\u6D4F\u89C8\u5668.",paraId:23,tocIndex:2},{value:"navigator.scheduling.isInputPending()",paraId:22,tocIndex:2},{value:": \u8FD9 facebook \u5B98\u65B9\u8D21\u732E\u7ED9 Chromium \u7684 api, \u73B0\u5728\u5DF2\u7ECF\u5217\u5165 W3C \u6807\u51C6(",paraId:22,tocIndex:2},{value:"\u5177\u4F53\u89E3\u91CA",paraId:22,tocIndex:2},{value:"), \u7528\u4E8E\u5224\u65AD\u662F\u5426\u6709\u8F93\u5165\u4E8B\u4EF6(\u5305\u62EC: input \u6846\u8F93\u5165\u4E8B\u4EF6, \u70B9\u51FB\u4E8B\u4EF6\u7B49).",paraId:22,tocIndex:2},{value:"\u4ECB\u7ECD\u5B8C\u8FD9 8 \u4E2A\u5185\u90E8\u51FD\u6570, \u6700\u540E\u6D4F\u89C8\u4E00\u4E0B\u5B8C\u6574\u56DE\u8C03\u7684\u5B9E\u73B0",paraId:24,tocIndex:2},{value:"performWorkUntilDeadline",paraId:24,tocIndex:2},{value:"(\u903B\u8F91\u5F88\u6E05\u6670, \u5728\u6CE8\u91CA\u4E2D\u89E3\u91CA):",paraId:24,tocIndex:2},{value:`const performWorkUntilDeadline = () => {
  if (scheduledHostCallback !== null) {
    const currentTime = getCurrentTime(); // 1. \u83B7\u53D6\u5F53\u524D\u65F6\u95F4
    deadline = currentTime + yieldInterval; // 2. \u8BBE\u7F6Edeadline
    const hasTimeRemaining = true;
    try {
      // 3. \u6267\u884C\u56DE\u8C03, \u8FD4\u56DE\u662F\u5426\u6709\u8FD8\u6709\u5269\u4F59\u4EFB\u52A1
      const hasMoreWork = scheduledHostCallback(hasTimeRemaining, currentTime);
      if (!hasMoreWork) {
        // \u6CA1\u6709\u5269\u4F59\u4EFB\u52A1, \u9000\u51FA
        isMessageLoopRunning = false;
        scheduledHostCallback = null;
      } else {
        port.postMessage(null); // \u6709\u5269\u4F59\u4EFB\u52A1, \u53D1\u8D77\u65B0\u7684\u8C03\u5EA6
      }
    } catch (error) {
      port.postMessage(null); // \u5982\u6709\u5F02\u5E38, \u91CD\u65B0\u53D1\u8D77\u8C03\u5EA6
      throw error;
    }
  } else {
    isMessageLoopRunning = false;
  }
  needsPaint = false; // \u91CD\u7F6E\u5F00\u5173
};
`,paraId:25,tocIndex:2},{value:"\u5206\u6790\u5230\u8FD9\u91CC, \u53EF\u4EE5\u5F97\u5230\u8C03\u5EA6\u4E2D\u5FC3\u7684\u5185\u6838\u5B9E\u73B0\u56FE:",paraId:26,tocIndex:2},{value:"\u8BF4\u660E: \u8FD9\u4E2A\u6D41\u7A0B\u56FE\u5F88\u7B80\u5355, \u6E90\u7801\u91CF\u4E5F\u5F88\u5C11(\u603B\u5171\u4E0D\u5230 80 \u884C), \u4F46\u662F\u5B83\u4EE3\u8868\u4E86",paraId:27,tocIndex:2},{value:"scheduler",paraId:27,tocIndex:2},{value:"\u7684\u6838\u5FC3, \u6240\u4EE5\u7CBE\u534E\u5176\u5B9E\u5E76\u4E0D\u4E00\u5B9A\u9700\u8981\u5F88\u591A\u4EE3\u7801.",paraId:27,tocIndex:2},{value:"\u901A\u8FC7\u4E0A\u6587\u7684\u5206\u6790, \u6211\u4EEC\u5DF2\u7ECF\u77E5\u9053\u8BF7\u6C42\u548C\u53D6\u6D88\u8C03\u5EA6\u7684\u5B9E\u73B0\u539F\u7406. \u8C03\u5EA6\u7684\u76EE\u7684\u662F\u4E3A\u4E86\u6D88\u8D39\u4EFB\u52A1, \u63A5\u4E0B\u6765\u5C31\u5177\u4F53\u5206\u6790\u4EFB\u52A1\u961F\u5217\u662F\u5982\u4F55\u7BA1\u7406\u4E0E\u5B9E\u73B0\u7684.",paraId:28,tocIndex:3},{value:"\u5728",paraId:29,tocIndex:3},{value:"Scheduler.js",paraId:29,tocIndex:3},{value:"\u4E2D, \u7EF4\u62A4\u4E86\u4E00\u4E2A",paraId:29,tocIndex:3},{value:"taskQueue",paraId:29,tocIndex:3},{value:", \u4EFB\u52A1\u961F\u5217\u7BA1\u7406\u5C31\u662F\u56F4\u7ED5\u8FD9\u4E2A",paraId:29,tocIndex:3},{value:"taskQueue",paraId:29,tocIndex:3},{value:"\u5C55\u5F00.",paraId:29,tocIndex:3},{value:`// Tasks are stored on a min heap
var taskQueue = [];
var timerQueue = [];
`,paraId:30,tocIndex:3},{value:"\u6CE8\u610F:",paraId:31,tocIndex:3},{value:"taskQueue",paraId:32,tocIndex:3},{value:"\u662F\u4E00\u4E2A\u5C0F\u9876\u5806\u6570\u7EC4, \u5173\u4E8E\u5806\u6392\u5E8F\u7684\u8BE6\u7EC6\u89E3\u91CA, \u53EF\u4EE5\u67E5\u770B",paraId:32,tocIndex:3},{value:"React \u7B97\u6CD5\u4E4B\u5806\u6392\u5E8F",paraId:33,tocIndex:3},{value:".",paraId:32,tocIndex:3},{value:"\u6E90\u7801\u4E2D\u9664\u4E86",paraId:32,tocIndex:3},{value:"taskQueue",paraId:32,tocIndex:3},{value:"\u961F\u5217\u4E4B\u5916\u8FD8\u6709\u4E00\u4E2A",paraId:32,tocIndex:3},{value:"timerQueue",paraId:32,tocIndex:3},{value:"\u961F\u5217. \u8FD9\u4E2A\u961F\u5217\u662F\u9884\u7559\u7ED9\u5EF6\u65F6\u4EFB\u52A1\u4F7F\u7528\u7684, \u5728 react@17.0.2 \u7248\u672C\u91CC\u9762, \u4ECE\u6E90\u7801\u4E2D\u7684\u5F15\u7528\u6765\u770B, \u7B97\u4E00\u4E2A\u4FDD\u7559\u529F\u80FD, \u6CA1\u6709\u7528\u5230.",paraId:32,tocIndex:3},{value:"\u5728",paraId:34,tocIndex:4},{value:"unstable_scheduleCallback",paraId:34,tocIndex:4},{value:"\u51FD\u6570\u4E2D(",paraId:34,tocIndex:4},{value:"\u6E90\u7801\u94FE\u63A5",paraId:34,tocIndex:4},{value:"):",paraId:34,tocIndex:4},{value:`// \u7701\u7565\u90E8\u5206\u65E0\u5173\u4EE3\u7801
function unstable_scheduleCallback(priorityLevel, callback, options) {
  // 1. \u83B7\u53D6\u5F53\u524D\u65F6\u95F4
  var currentTime = getCurrentTime();
  var startTime;
  if (typeof options === 'object' && options !== null) {
    // \u4ECE\u51FD\u6570\u8C03\u7528\u5173\u7CFB\u6765\u770B, \u5728v17.0.2\u4E2D,\u6240\u6709\u8C03\u7528 unstable_scheduleCallback \u90FD\u672A\u4F20\u5165options
    // \u6240\u4EE5\u7701\u7565\u5EF6\u65F6\u4EFB\u52A1\u76F8\u5173\u7684\u4EE3\u7801
  } else {
    startTime = currentTime;
  }
  // 2. \u6839\u636E\u4F20\u5165\u7684\u4F18\u5148\u7EA7, \u8BBE\u7F6E\u4EFB\u52A1\u7684\u8FC7\u671F\u65F6\u95F4 expirationTime
  var timeout;
  switch (priorityLevel) {
    case ImmediatePriority:
      timeout = IMMEDIATE_PRIORITY_TIMEOUT;
      break;
    case UserBlockingPriority:
      timeout = USER_BLOCKING_PRIORITY_TIMEOUT;
      break;
    case IdlePriority:
      timeout = IDLE_PRIORITY_TIMEOUT;
      break;
    case LowPriority:
      timeout = LOW_PRIORITY_TIMEOUT;
      break;
    case NormalPriority:
    default:
      timeout = NORMAL_PRIORITY_TIMEOUT;
      break;
  }
  var expirationTime = startTime + timeout;
  // 3. \u521B\u5EFA\u65B0\u4EFB\u52A1
  var newTask = {
    id: taskIdCounter++,
    callback,
    priorityLevel,
    startTime,
    expirationTime,
    sortIndex: -1,
  };
  if (startTime > currentTime) {
    // \u7701\u7565\u65E0\u5173\u4EE3\u7801 v17.0.2\u4E2D\u4E0D\u4F1A\u4F7F\u7528
  } else {
    newTask.sortIndex = expirationTime;
    // 4. \u52A0\u5165\u4EFB\u52A1\u961F\u5217
    push(taskQueue, newTask);
    // 5. \u8BF7\u6C42\u8C03\u5EA6
    if (!isHostCallbackScheduled && !isPerformingWork) {
      isHostCallbackScheduled = true;
      requestHostCallback(flushWork);
    }
  }
  return newTask;
}
`,paraId:35,tocIndex:4},{value:"\u903B\u8F91\u5F88\u6E05\u6670(\u5728\u6CE8\u91CA\u4E2D\u5DF2\u6807\u660E), \u91CD\u70B9\u5206\u6790",paraId:36,tocIndex:4},{value:"task",paraId:36,tocIndex:4},{value:"\u5BF9\u8C61\u7684\u5404\u4E2A\u5C5E\u6027:",paraId:36,tocIndex:4},{value:`var newTask = {
  id: taskIdCounter++, // id: \u4E00\u4E2A\u81EA\u589E\u7F16\u53F7
  callback, // callback: \u4F20\u5165\u7684\u56DE\u8C03\u51FD\u6570
  priorityLevel, // priorityLevel: \u4F18\u5148\u7EA7\u7B49\u7EA7
  startTime, // startTime: \u521B\u5EFAtask\u65F6\u7684\u5F53\u524D\u65F6\u95F4
  expirationTime, // expirationTime: task\u7684\u8FC7\u671F\u65F6\u95F4, \u4F18\u5148\u7EA7\u8D8A\u9AD8 expirationTime = startTime + timeout \u8D8A\u5C0F
  sortIndex: -1,
};
newTask.sortIndex = expirationTime; // sortIndex: \u6392\u5E8F\u7D22\u5F15, \u5168\u7B49\u4E8E\u8FC7\u671F\u65F6\u95F4. \u4FDD\u8BC1\u8FC7\u671F\u65F6\u95F4\u8D8A\u5C0F, \u8D8A\u7D27\u6025\u7684\u4EFB\u52A1\u6392\u5728\u6700\u524D\u9762
`,paraId:37,tocIndex:4},{value:"\u521B\u5EFA\u4EFB\u52A1\u4E4B\u540E, \u6700\u540E\u8BF7\u6C42\u8C03\u5EA6",paraId:38,tocIndex:5},{value:"requestHostCallback(flushWork)",paraId:38,tocIndex:5},{value:"(",paraId:38,tocIndex:5},{value:"\u521B\u5EFA\u4EFB\u52A1",paraId:38,tocIndex:5},{value:"\u6E90\u7801\u4E2D\u7684\u7B2C 5 \u6B65), ",paraId:38,tocIndex:5},{value:"flushWork",paraId:38,tocIndex:5},{value:"\u51FD\u6570\u4F5C\u4E3A\u53C2\u6570\u88AB\u4F20\u5165\u8C03\u5EA6\u4E2D\u5FC3\u5185\u6838\u7B49\u5F85\u56DE\u8C03. ",paraId:38,tocIndex:5},{value:"requestHostCallback",paraId:38,tocIndex:5},{value:"\u51FD\u6570\u5728\u4E0A\u6587\u8C03\u5EA6\u5185\u6838\u4E2D\u5DF2\u7ECF\u4ECB\u7ECD\u8FC7\u4E86, \u5728\u8C03\u5EA6\u4E2D\u5FC3\u4E2D, \u53EA\u9700\u4E0B\u4E00\u4E2A\u4E8B\u4EF6\u5FAA\u73AF\u5C31\u4F1A\u6267\u884C\u56DE\u8C03, \u6700\u7EC8\u6267\u884C",paraId:38,tocIndex:5},{value:"flushWork",paraId:38,tocIndex:5},{value:".",paraId:38,tocIndex:5},{value:`// \u7701\u7565\u65E0\u5173\u4EE3\u7801
function flushWork(hasTimeRemaining, initialTime) {
  // 1. \u505A\u597D\u5168\u5C40\u6807\u8BB0, \u8868\u793A\u73B0\u5728\u5DF2\u7ECF\u8FDB\u5165\u8C03\u5EA6\u9636\u6BB5
  isHostCallbackScheduled = false;
  isPerformingWork = true;
  const previousPriorityLevel = currentPriorityLevel;
  try {
    // 2. \u5FAA\u73AF\u6D88\u8D39\u961F\u5217
    return workLoop(hasTimeRemaining, initialTime);
  } finally {
    // 3. \u8FD8\u539F\u5168\u5C40\u6807\u8BB0
    currentTask = null;
    currentPriorityLevel = previousPriorityLevel;
    isPerformingWork = false;
  }
}
`,paraId:39,tocIndex:5},{value:"flushWork",paraId:40,tocIndex:5},{value:"\u4E2D\u8C03\u7528\u4E86",paraId:40,tocIndex:5},{value:"workLoop",paraId:40,tocIndex:5},{value:". \u961F\u5217\u6D88\u8D39\u7684\u4E3B\u8981\u903B\u8F91\u662F\u5728",paraId:40,tocIndex:5},{value:"workLoop",paraId:40,tocIndex:5},{value:"\u51FD\u6570\u4E2D, \u8FD9\u5C31\u662F",paraId:40,tocIndex:5},{value:"React \u5DE5\u4F5C\u5FAA\u73AF",paraId:41,tocIndex:5},{value:"\u4E00\u6587\u4E2D\u63D0\u5230\u7684",paraId:40,tocIndex:5},{value:"\u4EFB\u52A1\u8C03\u5EA6\u5FAA\u73AF",paraId:40,tocIndex:5},{value:".",paraId:40,tocIndex:5},{value:`// \u7701\u7565\u90E8\u5206\u65E0\u5173\u4EE3\u7801
function workLoop(hasTimeRemaining, initialTime) {
  let currentTime = initialTime; // \u4FDD\u5B58\u5F53\u524D\u65F6\u95F4, \u7528\u4E8E\u5224\u65AD\u4EFB\u52A1\u662F\u5426\u8FC7\u671F
  currentTask = peek(taskQueue); // \u83B7\u53D6\u961F\u5217\u4E2D\u7684\u7B2C\u4E00\u4E2A\u4EFB\u52A1
  while (currentTask !== null) {
    if (
      currentTask.expirationTime > currentTime &&
      (!hasTimeRemaining || shouldYieldToHost())
    ) {
      // \u867D\u7136currentTask\u6CA1\u6709\u8FC7\u671F, \u4F46\u662F\u6267\u884C\u65F6\u95F4\u8D85\u8FC7\u4E86\u9650\u5236(\u6BD5\u7ADF\u53EA\u67095ms, shouldYieldToHost()\u8FD4\u56DEtrue). \u505C\u6B62\u7EE7\u7EED\u6267\u884C, \u8BA9\u51FA\u4E3B\u7EBF\u7A0B
      break;
    }
    const callback = currentTask.callback;
    if (typeof callback === 'function') {
      currentTask.callback = null;
      currentPriorityLevel = currentTask.priorityLevel;
      const didUserCallbackTimeout = currentTask.expirationTime <= currentTime;
      // \u6267\u884C\u56DE\u8C03
      const continuationCallback = callback(didUserCallbackTimeout);
      currentTime = getCurrentTime();
      // \u56DE\u8C03\u5B8C\u6210, \u5224\u65AD\u662F\u5426\u8FD8\u6709\u8FDE\u7EED(\u6D3E\u751F)\u56DE\u8C03
      if (typeof continuationCallback === 'function') {
        // \u4EA7\u751F\u4E86\u8FDE\u7EED\u56DE\u8C03(\u5982fiber\u6811\u592A\u5927, \u51FA\u73B0\u4E86\u4E2D\u65AD\u6E32\u67D3), \u4FDD\u7559currentTask
        currentTask.callback = continuationCallback;
      } else {
        // \u628AcurrentTask\u79FB\u51FA\u961F\u5217
        if (currentTask === peek(taskQueue)) {
          pop(taskQueue);
        }
      }
    } else {
      // \u5982\u679C\u4EFB\u52A1\u88AB\u53D6\u6D88(\u8FD9\u65F6currentTask.callback = null), \u5C06\u5176\u79FB\u51FA\u961F\u5217
      pop(taskQueue);
    }
    // \u66F4\u65B0currentTask
    currentTask = peek(taskQueue);
  }
  if (currentTask !== null) {
    return true; // \u5982\u679Ctask\u961F\u5217\u6CA1\u6709\u6E05\u7A7A, \u8FD4\u56DEtrue. \u7B49\u5F85\u8C03\u5EA6\u4E2D\u5FC3\u4E0B\u4E00\u6B21\u56DE\u8C03
  } else {
    return false; // task\u961F\u5217\u5DF2\u7ECF\u6E05\u7A7A, \u8FD4\u56DEfalse.
  }
}
`,paraId:42,tocIndex:5},{value:"workLoop",paraId:43,tocIndex:5},{value:"\u5C31\u662F\u4E00\u4E2A\u5927\u5FAA\u73AF, \u867D\u7136\u4EE3\u7801\u4E5F\u4E0D\u591A, \u4F46\u662F\u975E\u5E38\u7CBE\u9AD3, \u5728\u6B64\u5904\u5B9E\u73B0\u4E86",paraId:43,tocIndex:5},{value:"\u65F6\u95F4\u5207\u7247(time slicing)",paraId:43,tocIndex:5},{value:"\u548C",paraId:43,tocIndex:5},{value:"fiber\u6811\u7684\u53EF\u4E2D\u65AD\u6E32\u67D3",paraId:43,tocIndex:5},{value:". \u8FD9 2 \u5927\u7279\u6027\u7684\u5B9E\u73B0, \u90FD\u96C6\u4E2D\u4E8E\u8FD9\u4E2A",paraId:43,tocIndex:5},{value:"while",paraId:43,tocIndex:5},{value:"\u5FAA\u73AF.",paraId:43,tocIndex:5},{value:"\u6BCF\u4E00\u6B21",paraId:44,tocIndex:5},{value:"while",paraId:44,tocIndex:5},{value:"\u5FAA\u73AF\u7684\u9000\u51FA\u5C31\u662F\u4E00\u4E2A\u65F6\u95F4\u5207\u7247, \u6DF1\u5165\u5206\u6790",paraId:44,tocIndex:5},{value:"while",paraId:44,tocIndex:5},{value:"\u5FAA\u73AF\u7684\u9000\u51FA\u6761\u4EF6:",paraId:44,tocIndex:5},{value:"\u961F\u5217\u88AB\u5B8C\u5168\u6E05\u7A7A: \u8FD9\u79CD\u60C5\u51B5\u5C31\u662F\u5F88\u6B63\u5E38\u7684\u60C5\u51B5, \u4E00\u6C14\u5475\u6210, \u6CA1\u6709\u9047\u5230\u4EFB\u4F55\u963B\u788D.",paraId:45,tocIndex:5},{value:"\u6267\u884C\u8D85\u65F6: \u5728\u6D88\u8D39",paraId:45,tocIndex:5},{value:"taskQueue",paraId:45,tocIndex:5},{value:"\u65F6, \u5728\u6267\u884C",paraId:45,tocIndex:5},{value:"task.callback",paraId:45,tocIndex:5},{value:"\u4E4B\u524D, \u90FD\u4F1A\u68C0\u6D4B\u662F\u5426\u8D85\u65F6, \u6240\u4EE5\u8D85\u65F6\u68C0\u6D4B\u662F\u4EE5",paraId:45,tocIndex:5},{value:"task",paraId:45,tocIndex:5},{value:`\u4E3A\u5355\u4F4D.
`,paraId:45,tocIndex:5},{value:"\u5982\u679C\u67D0\u4E2A",paraId:46,tocIndex:5},{value:"task.callback",paraId:46,tocIndex:5},{value:"\u6267\u884C\u65F6\u95F4\u592A\u957F(\u5982: ",paraId:46,tocIndex:5},{value:"fiber\u6811",paraId:46,tocIndex:5},{value:"\u5F88\u5927, \u6216\u903B\u8F91\u5F88\u91CD)\u4E5F\u4F1A\u9020\u6210\u8D85\u65F6",paraId:46,tocIndex:5},{value:"\u6240\u4EE5\u5728\u6267\u884C",paraId:46,tocIndex:5},{value:"task.callback",paraId:46,tocIndex:5},{value:"\u8FC7\u7A0B\u4E2D, \u4E5F\u9700\u8981\u4E00\u79CD\u673A\u5236\u68C0\u6D4B\u662F\u5426\u8D85\u65F6, \u5982\u679C\u8D85\u65F6\u4E86\u5C31\u7ACB\u523B\u6682\u505C",paraId:46,tocIndex:5},{value:"task.callback",paraId:46,tocIndex:5},{value:"\u7684\u6267\u884C.",paraId:46,tocIndex:5},{value:"\u6D88\u8D39\u4EFB\u52A1\u961F\u5217\u7684\u8FC7\u7A0B\u4E2D, \u53EF\u4EE5\u6D88\u8D39",paraId:47,tocIndex:6},{value:"1~n",paraId:47,tocIndex:6},{value:"\u4E2A task, \u751A\u81F3\u6E05\u7A7A\u6574\u4E2A queue. \u4F46\u662F\u5728\u6BCF\u4E00\u6B21\u5177\u4F53\u6267\u884C",paraId:47,tocIndex:6},{value:"task.callback",paraId:47,tocIndex:6},{value:"\u4E4B\u524D\u90FD\u8981\u8FDB\u884C\u8D85\u65F6\u68C0\u6D4B, \u5982\u679C\u8D85\u65F6\u53EF\u4EE5\u7ACB\u5373\u9000\u51FA\u5FAA\u73AF\u5E76\u7B49\u5F85\u4E0B\u4E00\u6B21\u8C03\u7528.",paraId:47,tocIndex:6},{value:"\u5728\u65F6\u95F4\u5207\u7247\u7684\u57FA\u7840\u4E4B\u4E0A, \u5982\u679C\u5355\u4E2A",paraId:48,tocIndex:7},{value:"task.callback",paraId:48,tocIndex:7},{value:"\u6267\u884C\u65F6\u95F4\u5C31\u5F88\u957F(\u5047\u8BBE 200ms). \u5C31\u9700\u8981",paraId:48,tocIndex:7},{value:"task.callback",paraId:48,tocIndex:7},{value:"\u81EA\u5DF1\u80FD\u591F\u68C0\u6D4B\u662F\u5426\u8D85\u65F6, \u6240\u4EE5\u5728 fiber \u6811\u6784\u9020\u8FC7\u7A0B\u4E2D, \u6BCF\u6784\u9020\u5B8C\u6210\u4E00\u4E2A\u5355\u5143, \u90FD\u4F1A\u68C0\u6D4B\u4E00\u6B21\u8D85\u65F6(",paraId:48,tocIndex:7},{value:"\u6E90\u7801\u94FE\u63A5",paraId:48,tocIndex:7},{value:"), \u5982\u9047\u8D85\u65F6\u5C31\u9000\u51FA",paraId:48,tocIndex:7},{value:"fiber\u6811\u6784\u9020\u5FAA\u73AF",paraId:48,tocIndex:7},{value:", \u5E76\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684\u56DE\u8C03\u51FD\u6570(\u5C31\u662F\u6B64\u5904\u7684",paraId:48,tocIndex:7},{value:"continuationCallback",paraId:48,tocIndex:7},{value:")\u5E76\u7B49\u5F85\u4E0B\u4E00\u6B21\u56DE\u8C03\u7EE7\u7EED\u672A\u5B8C\u6210\u7684",paraId:48,tocIndex:7},{value:"fiber\u6811\u6784\u9020",paraId:48,tocIndex:7},{value:".",paraId:48,tocIndex:7},{value:"\u901A\u8FC7\u4E0A\u6587\u7684\u5206\u6790, \u5DF2\u7ECF\u8986\u76D6\u4E86",paraId:49,tocIndex:8},{value:"scheduler",paraId:49,tocIndex:8},{value:"\u5305\u4E2D\u7684\u6838\u5FC3\u539F\u7406. \u73B0\u5728\u518D\u6B21\u56DE\u5230",paraId:49,tocIndex:8},{value:"react-reconciler",paraId:49,tocIndex:8},{value:"\u5305\u4E2D, \u5728\u8C03\u5EA6\u8FC7\u7A0B\u4E2D\u7684\u5173\u952E\u8DEF\u5F84\u4E2D, \u6211\u4EEC\u8FD8\u9700\u8981\u7406\u89E3\u4E00\u4E9B\u7EC6\u8282.",paraId:49,tocIndex:8},{value:"\u5728",paraId:50,tocIndex:8},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:51,tocIndex:8},{value:"\u4E2D\u603B\u7ED3\u7684 4 \u4E2A\u9636\u6BB5\u4E2D, ",paraId:50,tocIndex:8},{value:"\u6CE8\u518C\u8C03\u5EA6\u4EFB\u52A1",paraId:50,tocIndex:8},{value:"\u5C5E\u4E8E\u7B2C 2 \u4E2A\u9636\u6BB5, \u6838\u5FC3\u903B\u8F91\u4F4D\u4E8E",paraId:50,tocIndex:8},{value:"ensureRootIsScheduled",paraId:50,tocIndex:8},{value:"\u51FD\u6570\u4E2D.",paraId:50,tocIndex:8},{value:`
\u73B0\u5728\u6211\u4EEC\u5DF2\u7ECF\u7406\u89E3\u4E86`,paraId:50,tocIndex:8},{value:"\u8C03\u5EA6\u539F\u7406",paraId:50,tocIndex:8},{value:", \u518D\u6B21\u5206\u6790",paraId:50,tocIndex:8},{value:"ensureRootIsScheduled",paraId:50,tocIndex:8},{value:"(",paraId:50,tocIndex:8},{value:"\u6E90\u7801\u5730\u5740",paraId:50,tocIndex:8},{value:"):",paraId:50,tocIndex:8},{value:`// ... \u7701\u7565\u90E8\u5206\u65E0\u5173\u4EE3\u7801
function ensureRootIsScheduled(root: FiberRoot, currentTime: number) {
  // \u524D\u534A\u90E8\u5206: \u5224\u65AD\u662F\u5426\u9700\u8981\u6CE8\u518C\u65B0\u7684\u8C03\u5EA6
  const existingCallbackNode = root.callbackNode;
  const nextLanes = getNextLanes(
    root,
    root === workInProgressRoot ? workInProgressRootRenderLanes : NoLanes,
  );
  const newCallbackPriority = returnNextLanesPriority();
  if (nextLanes === NoLanes) {
    return;
  }
  // \u8282\u6D41\u9632\u6296
  if (existingCallbackNode !== null) {
    const existingCallbackPriority = root.callbackPriority;
    if (existingCallbackPriority === newCallbackPriority) {
      return;
    }
    cancelCallback(existingCallbackNode);
  }
  // \u540E\u534A\u90E8\u5206: \u6CE8\u518C\u8C03\u5EA6\u4EFB\u52A1 \u7701\u7565\u4EE3\u7801...

  // \u66F4\u65B0\u6807\u8BB0
  root.callbackPriority = newCallbackPriority;
  root.callbackNode = newCallbackNode;
}
`,paraId:52,tocIndex:8},{value:"\u6B63\u5E38\u60C5\u51B5\u4E0B, ",paraId:53,tocIndex:8},{value:"ensureRootIsScheduled",paraId:53,tocIndex:8},{value:"\u51FD\u6570\u4F1A\u4E0E",paraId:53,tocIndex:8},{value:"scheduler",paraId:53,tocIndex:8},{value:"\u5305\u901A\u4FE1, \u6700\u540E\u6CE8\u518C\u4E00\u4E2A",paraId:53,tocIndex:8},{value:"task",paraId:53,tocIndex:8},{value:"\u5E76\u7B49\u5F85\u56DE\u8C03.",paraId:53,tocIndex:8},{value:"\u5728",paraId:54,tocIndex:8},{value:"task",paraId:54,tocIndex:8},{value:"\u6CE8\u518C\u5B8C\u6210\u4E4B\u540E, \u4F1A\u8BBE\u7F6E",paraId:54,tocIndex:8},{value:"fiberRoot",paraId:54,tocIndex:8},{value:"\u5BF9\u8C61\u4E0A\u7684\u5C5E\u6027(",paraId:54,tocIndex:8},{value:"fiberRoot",paraId:54,tocIndex:8},{value:"\u662F react \u8FD0\u884C\u65F6\u4E2D\u7684\u91CD\u8981\u5168\u5C40\u5BF9\u8C61, \u53EF\u53C2\u8003",paraId:54,tocIndex:8},{value:"React \u5E94\u7528\u7684\u542F\u52A8\u8FC7\u7A0B",paraId:55,tocIndex:8},{value:"), \u4EE3\u8868\u73B0\u5728\u5DF2\u7ECF\u5904\u4E8E\u8C03\u5EA6\u8FDB\u884C\u4E2D",paraId:54,tocIndex:8},{value:"\u518D\u6B21\u8FDB\u5165",paraId:54,tocIndex:8},{value:"ensureRootIsScheduled",paraId:54,tocIndex:8},{value:"\u65F6(\u6BD4\u5982\u8FDE\u7EED 2 \u6B21",paraId:54,tocIndex:8},{value:"setState",paraId:54,tocIndex:8},{value:", \u7B2C 2 \u6B21",paraId:54,tocIndex:8},{value:"setState",paraId:54,tocIndex:8},{value:"\u540C\u6837\u4F1A\u89E6\u53D1",paraId:54,tocIndex:8},{value:"reconciler\u8FD0\u4F5C\u6D41\u7A0B",paraId:54,tocIndex:8},{value:`\u4E2D\u7684\u8C03\u5EA6\u9636\u6BB5), \u5982\u679C\u53D1\u73B0\u5904\u4E8E\u8C03\u5EA6\u4E2D, \u5219\u9700\u8981\u4E00\u4E9B\u8282\u6D41\u548C\u9632\u6296\u63AA\u65BD, \u8FDB\u800C\u4FDD\u8BC1\u8C03\u5EA6\u6027\u80FD.
`,paraId:54,tocIndex:8},{value:"\u8282\u6D41(\u5224\u65AD\u6761\u4EF6: ",paraId:56,tocIndex:8},{value:"existingCallbackPriority === newCallbackPriority",paraId:56,tocIndex:8},{value:", \u65B0\u65E7\u66F4\u65B0\u7684\u4F18\u5148\u7EA7\u76F8\u540C, \u5982\u8FDE\u7EED\u591A\u6B21\u6267\u884C",paraId:56,tocIndex:8},{value:"setState",paraId:56,tocIndex:8},{value:"), \u5219\u65E0\u9700\u6CE8\u518C\u65B0",paraId:56,tocIndex:8},{value:"task",paraId:56,tocIndex:8},{value:"(\u7EE7\u7EED\u6CBF\u7528\u4E0A\u4E00\u4E2A\u4F18\u5148\u7EA7\u76F8\u540C\u7684",paraId:56,tocIndex:8},{value:"task",paraId:56,tocIndex:8},{value:"), \u76F4\u63A5\u9000\u51FA\u8C03\u7528.",paraId:56,tocIndex:8},{value:"\u9632\u6296(\u5224\u65AD\u6761\u4EF6: ",paraId:56,tocIndex:8},{value:"existingCallbackPriority !== newCallbackPriority",paraId:56,tocIndex:8},{value:", \u65B0\u65E7\u66F4\u65B0\u7684\u4F18\u5148\u7EA7\u4E0D\u540C), \u5219\u53D6\u6D88\u65E7",paraId:56,tocIndex:8},{value:"task",paraId:56,tocIndex:8},{value:", \u91CD\u65B0\u6CE8\u518C\u65B0",paraId:56,tocIndex:8},{value:"task",paraId:56,tocIndex:8},{value:".",paraId:56,tocIndex:8},{value:"\u672C\u8282\u4E3B\u8981\u5206\u6790\u4E86",paraId:57,tocIndex:9},{value:"scheduler",paraId:57,tocIndex:9},{value:"\u5305\u4E2D",paraId:57,tocIndex:9},{value:"\u8C03\u5EA6\u539F\u7406",paraId:57,tocIndex:9},{value:", \u4E5F\u5C31\u662F",paraId:57,tocIndex:9},{value:"React\u4E24\u5927\u5DE5\u4F5C\u5FAA\u73AF",paraId:57,tocIndex:9},{value:"\u4E2D\u7684",paraId:57,tocIndex:9},{value:"\u4EFB\u52A1\u8C03\u5EA6\u5FAA\u73AF",paraId:57,tocIndex:9},{value:". \u5E76\u4ECB\u7ECD\u4E86",paraId:57,tocIndex:9},{value:"\u65F6\u95F4\u5207\u7247",paraId:57,tocIndex:9},{value:"\u548C",paraId:57,tocIndex:9},{value:"\u53EF\u4E2D\u65AD\u6E32\u67D3",paraId:57,tocIndex:9},{value:"\u7B49\u7279\u6027\u5728",paraId:57,tocIndex:9},{value:"\u4EFB\u52A1\u8C03\u5EA6\u5FAA\u73AF",paraId:57,tocIndex:9},{value:"\u4E2D\u7684\u5B9E\u73B0. ",paraId:57,tocIndex:9},{value:"scheduler",paraId:57,tocIndex:9},{value:"\u5305\u662F",paraId:57,tocIndex:9},{value:"React",paraId:57,tocIndex:9},{value:"\u8FD0\u884C\u65F6\u7684\u5FC3\u810F, \u4E3A\u4E86\u63D0\u5347\u8C03\u5EA6\u6027\u80FD, \u6CE8\u518C",paraId:57,tocIndex:9},{value:"task",paraId:57,tocIndex:9},{value:"\u4E4B\u524D, \u5728",paraId:57,tocIndex:9},{value:"react-reconciler",paraId:57,tocIndex:9},{value:"\u5305\u4E2D\u505A\u4E86\u8282\u6D41\u548C\u9632\u6296\u7B49\u63AA\u65BD.",paraId:57,tocIndex:9}],Xa={},Zo={title:"\u6DF1\u5EA6\u4F18\u5148\u904D\u5386",toc:"menu",filename:"docs/algorithm/dfs.md",order:2,description:"\u5BF9\u4E8E\u6811\u6216\u56FE\u7ED3\u6784\u7684\u641C\u7D22(\u6216\u904D\u5386)\u6765\u8BB2, \u5206\u4E3A\u6DF1\u5EA6\u4F18\u5148(DFS)\u548C\u5E7F\u5EA6\u4F18\u5148(BFS)."},Vr=[{id:"react-\u7B97\u6CD5\u4E4B\u6DF1\u5EA6\u4F18\u5148\u904D\u5386",depth:1,title:"React \u7B97\u6CD5\u4E4B\u6DF1\u5EA6\u4F18\u5148\u904D\u5386"},{id:"\u6982\u5FF5",depth:2,title:"\u6982\u5FF5"},{id:"\u5B9E\u73B0\u65B9\u5F0F",depth:2,title:"\u5B9E\u73B0\u65B9\u5F0F"},{id:"react-\u5F53\u4E2D\u7684\u4F7F\u7528\u573A\u666F",depth:2,title:"React \u5F53\u4E2D\u7684\u4F7F\u7528\u573A\u666F"},{id:"reactelement-\u6811\u7684\u6784\u9020",depth:3,title:'ReactElement "\u6811"\u7684\u6784\u9020'},{id:"fiber-\u6811\u7684\u6784\u9020",depth:3,title:"fiber \u6811\u7684\u6784\u9020"},{id:"\u67E5\u627E-context-\u7684\u6D88\u8D39\u8282\u70B9",depth:3,title:"\u67E5\u627E context \u7684\u6D88\u8D39\u8282\u70B9"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"},{id:"\u53C2\u8003\u8D44\u6599",depth:2,title:"\u53C2\u8003\u8D44\u6599"}],yo=[{value:"\u5BF9\u4E8E\u6811\u6216\u56FE\u7ED3\u6784\u7684\u641C\u7D22(\u6216\u904D\u5386)\u6765\u8BB2, \u5206\u4E3A\u6DF1\u5EA6\u4F18\u5148(DFS)\u548C\u5E7F\u5EA6\u4F18\u5148(BFS).",paraId:0,tocIndex:0},{value:"\u6DF1\u5EA6\u4F18\u5148\u904D\u5386: DFS(\u82F1\u8BED:Depth-First-Search,DFS)\u662F\u4E00\u79CD\u7528\u4E8E\u904D\u5386\u6216\u641C\u7D22\u6811\u6216\u56FE\u7684\u7B97\u6CD5.",paraId:1,tocIndex:1},{value:"\u6765\u81EA wiki \u4E0A\u7684\u89E3\u91CA(\u66F4\u6743\u5A01): \u5F53",paraId:2,tocIndex:1},{value:"\u8282\u70B9v",paraId:2,tocIndex:1},{value:"\u7684\u6240\u5728\u8FB9\u90FD\u5DF1\u88AB\u63A2\u5BFB\u8FC7, \u641C\u7D22\u5C06\u56DE\u6EAF\u5230\u53D1\u73B0",paraId:2,tocIndex:1},{value:"\u8282\u70B9v",paraId:2,tocIndex:1},{value:"\u7684\u90A3\u6761\u8FB9\u7684\u8D77\u59CB\u8282\u70B9. \u8FD9\u4E00\u8FC7\u7A0B\u4E00\u76F4\u8FDB\u884C\u5230\u5DF2\u53D1\u73B0\u4ECE\u6E90\u8282\u70B9\u53EF\u8FBE\u7684\u6240\u6709\u8282\u70B9\u4E3A\u6B62. \u5982\u679C\u8FD8\u5B58\u5728\u672A\u88AB\u53D1\u73B0\u7684\u8282\u70B9, \u5219\u9009\u62E9\u5176\u4E2D\u4E00\u4E2A\u4F5C\u4E3A\u6E90\u8282\u70B9\u5E76\u91CD\u590D\u4EE5\u4E0A\u8FC7\u7A0B, \u6574\u4E2A\u8FDB\u7A0B\u53CD\u590D\u8FDB\u884C\u76F4\u5230\u6240\u6709\u8282\u70B9\u90FD\u88AB\u8BBF\u95EE\u4E3A\u6B62.",paraId:2,tocIndex:1},{value:"DFS \u7684\u4E3B\u6D41\u5B9E\u73B0\u65B9\u5F0F\u6709 2 \u79CD.",paraId:3,tocIndex:2},{value:"\u9012\u5F52(\u7B80\u5355\u7C97\u66B4)",paraId:4,tocIndex:2},{value:"\u5229\u7528",paraId:4,tocIndex:2},{value:"\u6808",paraId:4,tocIndex:2},{value:"\u5B58\u50A8\u904D\u5386\u8DEF\u5F84",paraId:4,tocIndex:2},{value:`function Node() {
  this.name = '';
  this.children = [];
}

function dfs(node) {
  console.log('\u63A2\u5BFB\u9636\u6BB5: ', node.name);
  node.children.forEach((child) => {
    dfs(child);
  });
  console.log('\u56DE\u6EAF\u9636\u6BB5: ', node.name);
}
`,paraId:5,tocIndex:2},{value:"\u4F7F\u7528\u6808",paraId:6,tocIndex:2},{value:`function Node() {
  this.name = '';
  this.children = [];

  // \u56E0\u4E3A\u8981\u5206\u8FA8\u63A2\u5BFB\u9636\u6BB5\u548C\u56DE\u6EAF\u9636\u6BB5, \u6240\u4EE5\u5FC5\u987B\u8981\u4E00\u4E2A\u5C5E\u6027\u6765\u8BB0\u5F55\u662F\u5426\u5DF2\u7ECF\u8BBF\u95EE\u8FC7\u8BE5\u8282\u70B9
  // \u5982\u679C\u4E0D\u6253\u5370\u63A2\u5BFB\u548C\u56DE\u6EAF, \u5C31\u4E0D\u9700\u8981\u6B64\u5C5E\u6027
  this.visited = false;
}

function dfs(node) {
  const stack = [];
  stack.push(node);
  // \u6808\u9876\u5143\u7D20\u8FD8\u5B58\u5728, \u5C31\u7EE7\u7EED\u5FAA\u73AF
  while ((node = stack[stack.length - 1])) {
    if (node.visited) {
      console.log('\u56DE\u6EAF\u9636\u6BB5: ', node.name);
      // \u56DE\u6EAF\u5B8C\u6210, \u5F39\u51FA\u8BE5\u5143\u7D20
      stack.pop();
    } else {
      console.log('\u63A2\u5BFB\u9636\u6BB5: ', node.name);
      node.visited = true;
      // \u5229\u7528\u6808\u7684\u5148\u8FDB\u540E\u51FA\u7684\u7279\u6027, \u5012\u5E8F\u5C06\u8282\u70B9\u9001\u5165\u6808\u4E2D
      for (let i = node.children.length - 1; i >= 0; i--) {
        stack.push(node.children[i]);
      }
    }
  }
}
`,paraId:7,tocIndex:2},{value:"\u6DF1\u5EA6\u4F18\u5148\u904D\u5386\u5728",paraId:8,tocIndex:3},{value:"react",paraId:8,tocIndex:3},{value:"\u5F53\u4E2D\u7684\u4F7F\u7528\u975E\u5E38\u5178\u578B, \u6700\u4E3B\u8981\u7684\u4F7F\u7528\u65F6\u5728",paraId:8,tocIndex:3},{value:"ReactElement",paraId:8,tocIndex:3},{value:"\u548C",paraId:8,tocIndex:3},{value:"fiber",paraId:8,tocIndex:3},{value:"\u6811\u7684\u6784\u9020\u8FC7\u7A0B. \u5176\u6B21\u662F\u5728\u4F7F\u7528",paraId:8,tocIndex:3},{value:"context",paraId:8,tocIndex:3},{value:"\u65F6, \u9700\u8981\u6DF1\u5EA6\u4F18\u5148\u5730\u67E5\u627E\u6D88\u8D39",paraId:8,tocIndex:3},{value:"context",paraId:8,tocIndex:3},{value:"\u7684\u8282\u70B9.",paraId:8,tocIndex:3},{value:"ReactElement",paraId:9,tocIndex:4},{value:"\u4E0D\u80FD\u7B97\u662F\u4E25\u683C\u7684\u6811\u7ED3\u6784, \u4E3A\u4E86\u65B9\u4FBF\u8868\u8FF0, \u540E\u6587\u90FD\u79F0\u4E4B\u4E3A\u6811.",paraId:9,tocIndex:4},{value:"\u5728",paraId:10,tocIndex:4},{value:"react-reconciler",paraId:10,tocIndex:4},{value:"\u5305\u4E2D, ",paraId:10,tocIndex:4},{value:"ReactElement",paraId:10,tocIndex:4},{value:"\u7684\u6784\u9020\u8FC7\u7A0B\u5B9E\u9645\u4E0A\u662F\u5D4C\u5957\u5728",paraId:10,tocIndex:4},{value:"fiber\u6811\u6784\u9020\u5FAA\u73AF",paraId:10,tocIndex:4},{value:"\u8FC7\u7A0B\u4E2D\u7684, \u4E0E",paraId:10,tocIndex:4},{value:"fiber",paraId:10,tocIndex:4},{value:"\u6811\u7684\u6784\u9020\u662F\u76F8\u4E92\u4EA4\u66FF\u8FDB\u884C\u7684(\u5728",paraId:10,tocIndex:4},{value:"fiber \u6811\u6784\u5EFA",paraId:10,tocIndex:4},{value:"\u7AE0\u8282\u4E2D\u8BE6\u7EC6\u89E3\u8BFB, \u672C\u8282\u53EA\u4ECB\u7ECD\u6DF1\u5EA6\u4F18\u5148\u904D\u5386\u7684\u4F7F\u7528\u573A\u666F).",paraId:10,tocIndex:4},{value:"ReactElement",paraId:11,tocIndex:4},{value:"\u6811\u7684\u6784\u9020, \u5B9E\u9645\u4E0A\u5C31\u662F\u5404\u7EA7\u7EC4\u4EF6",paraId:11,tocIndex:4},{value:"render",paraId:11,tocIndex:4},{value:"\u4E4B\u540E\u7684\u603B\u548C. \u6574\u4E2A\u8FC7\u7A0B\u4F53\u73B0\u5728",paraId:11,tocIndex:4},{value:"reconciler",paraId:11,tocIndex:4},{value:"\u5DE5\u4F5C\u5FAA\u73AF\u4E4B\u4E2D.",paraId:11,tocIndex:4},{value:"\u6E90\u7801\u4F4D\u4E8E",paraId:12,tocIndex:4},{value:"ReactFiberWorkLoop.js",paraId:12,tocIndex:4},{value:"\u4E2D, \u6B64\u5904\u4E3A\u4E86\u7B80\u660E, \u5DF2\u7ECF\u5C06\u6E90\u7801\u4E2D\u4E0E dfs \u65E0\u5173\u7684\u65C1\u652F\u903B\u8F91\u53BB\u6389.",paraId:12,tocIndex:4},{value:`function workLoopSync() {
  // 1. \u6700\u5916\u5C42\u5FAA\u73AF, \u4FDD\u8BC1\u6BCF\u4E00\u4E2A\u8282\u70B9\u90FD\u80FD\u904D\u5386, \u4E0D\u4F1A\u9057\u6F0F
  while (workInProgress !== null) {
    performUnitOfWork(workInProgress);
  }
}

function performUnitOfWork(unitOfWork: Fiber): void {
  const current = unitOfWork.alternate;
  let next;
  // 2. beginWork\u662F\u5411\u4E0B\u63A2\u5BFB\u9636\u6BB5
  next = beginWork(current, unitOfWork, subtreeRenderLanes);
  if (next === null) {
    // 3. completeUnitOfWork \u662F\u56DE\u6EAF\u9636\u6BB5
    completeUnitOfWork(unitOfWork);
  } else {
    workInProgress = next;
  }
}

function completeUnitOfWork(unitOfWork: Fiber): void {
  let completedWork = unitOfWork;
  do {
    const current = completedWork.alternate;
    const returnFiber = completedWork.return;
    let next;
    // 3.1 \u56DE\u6EAF\u5E76\u5904\u7406\u8282\u70B9
    next = completeWork(current, completedWork, subtreeRenderLanes);
    if (next !== null) {
      // \u5224\u65AD\u5728\u5904\u7406\u8282\u70B9\u7684\u8FC7\u7A0B\u4E2D, \u662F\u5426\u6D3E\u751F\u51FA\u65B0\u7684\u8282\u70B9
      workInProgress = next;
      return;
    }
    const siblingFiber = completedWork.sibling;
    // 3.2 \u5224\u65AD\u662F\u5426\u6709\u65C1\u652F
    if (siblingFiber !== null) {
      workInProgress = siblingFiber;
      return;
    }
    // 3.3 \u6CA1\u6709\u65C1\u652F \u7EE7\u7EED\u56DE\u6EAF
    completedWork = returnFiber;
    workInProgress = completedWork;
  } while (completedWork !== null);
}
`,paraId:13,tocIndex:4},{value:"\u4EE5\u4E0A\u6E90\u7801\u672C\u8D28\u4E0A\u662F\u91C7\u7528\u9012\u5F52\u7684\u65B9\u5F0F\u8FDB\u884C dfs, \u5047\u8BBE\u6709\u4EE5\u4E0B\u7EC4\u4EF6\u7ED3\u6784:",paraId:14,tocIndex:4},{value:`class App extends React.Component {
  render() {
    return (
      <div className="app">
        <header>header</header>
        <Content />
        <footer>footer</footer>
      </div>
    );
  }
}

class Content extends React.Component {
  render() {
    return (
      <React.Fragment>
        <p>1</p>
        <p>2</p>
        <p>3</p>
      </React.Fragment>
    );
  }
}

export default App;
`,paraId:15,tocIndex:4},{value:"\u5219\u53EF\u4EE5\u7ED8\u5236\u51FA\u904D\u5386\u8DEF\u5F84\u5982\u4E0B:",paraId:16,tocIndex:4},{value:"\u6CE8\u610F:",paraId:17,tocIndex:4},{value:"ReactElement",paraId:18,tocIndex:4},{value:"\u6811\u662F\u5728\u5927\u5FAA\u73AF\u4E2D\u7684",paraId:18,tocIndex:4},{value:"beginWork",paraId:18,tocIndex:4},{value:'\u9636\u6BB5"\u9010\u7EA7"\u751F\u6210\u7684.',paraId:18,tocIndex:4},{value:'"\u9010\u7EA7"\u4E2D\u7684\u6BCF\u4E00\u7EA7\u662F\u6307\u4E00\u4E2A',paraId:18,tocIndex:4},{value:"class",paraId:18,tocIndex:4},{value:"\u6216",paraId:18,tocIndex:4},{value:"function",paraId:18,tocIndex:4},{value:"\u7C7B\u578B\u7684\u7EC4\u4EF6, \u6BCF\u8C03\u7528\u4E00\u6B21",paraId:18,tocIndex:4},{value:"render",paraId:18,tocIndex:4},{value:"\u6216\u6267\u884C\u4E00\u6B21",paraId:18,tocIndex:4},{value:"function",paraId:18,tocIndex:4},{value:"\u8C03\u7528, \u5C31\u4F1A\u751F\u6210\u4E00\u6279",paraId:18,tocIndex:4},{value:"ReactElement",paraId:18,tocIndex:4},{value:"\u8282\u70B9.",paraId:18,tocIndex:4},{value:"ReactElement",paraId:18,tocIndex:4},{value:"\u6811\u7684\u6784\u9020, \u5B9E\u9645\u4E0A\u5C31\u662F\u5404\u7EA7\u7EC4\u4EF6",paraId:18,tocIndex:4},{value:"render",paraId:18,tocIndex:4},{value:"\u4E4B\u540E\u7684\u603B\u548C.",paraId:18,tocIndex:4},{value:"\u5728",paraId:19,tocIndex:5},{value:"ReactElement",paraId:19,tocIndex:5},{value:"\u7684\u6784\u9020\u8FC7\u7A0B\u4E2D, \u540C\u65F6\u4F34\u968F\u7740",paraId:19,tocIndex:5},{value:"fiber",paraId:19,tocIndex:5},{value:"\u6811\u7684\u6784\u9020, ",paraId:19,tocIndex:5},{value:"fiber",paraId:19,tocIndex:5},{value:"\u6811\u540C\u6837\u4E5F\u662F\u5728",paraId:19,tocIndex:5},{value:"beginWork",paraId:19,tocIndex:5},{value:"\u9636\u6BB5\u751F\u6210\u7684.",paraId:19,tocIndex:5},{value:"\u7ED8\u5236\u51FA\u904D\u5386\u8DEF\u5F84\u5982\u4E0B:",paraId:20,tocIndex:5},{value:"\u5F53",paraId:21,tocIndex:6},{value:"context",paraId:21,tocIndex:6},{value:"\u6539\u53D8\u4E4B\u540E, \u9700\u8981\u627E\u51FA\u4F9D\u8D56\u8BE5",paraId:21,tocIndex:6},{value:"context",paraId:21,tocIndex:6},{value:"\u7684\u6240\u6709\u5B50\u8282\u70B9(\u8BE6\u7EC6\u5206\u6790\u4F1A\u5728",paraId:21,tocIndex:6},{value:"context\u539F\u7406",paraId:21,tocIndex:6},{value:"\u7AE0\u8282\u6DF1\u5165\u89E3\u8BFB), \u8FD9\u91CC\u540C\u6837\u4E5F\u662F\u4E00\u4E2A",paraId:21,tocIndex:6},{value:"DFS",paraId:21,tocIndex:6},{value:", \u5177\u4F53\u6E90\u7801\u5728",paraId:21,tocIndex:6},{value:"ReactFiberNewContext.js",paraId:21,tocIndex:6},{value:".",paraId:21,tocIndex:6},{value:"\u5C06\u5176\u4E3B\u5E72\u903B\u8F91\u5265\u79BB\u51FA\u6765, \u53EF\u4EE5\u6E05\u6670\u7684\u770B\u51FA\u91C7\u7528\u5FAA\u73AF\u9012\u5F52\u7684\u65B9\u5F0F\u8FDB\u884C\u904D\u5386:",paraId:22,tocIndex:6},{value:`export function propagateContextChange(
  workInProgress: Fiber,
  context: ReactContext<mixed>,
  changedBits: number,
  renderLanes: Lanes,
): void {
  let fiber = workInProgress.child;
  while (fiber !== null) {
    let nextFiber;
    // Visit this fiber.
    const list = fiber.dependencies;
    if (list !== null) {
      // \u5339\u914Dcontext\u7B49\u903B\u8F91, \u548Cdfs\u65E0\u5173, \u6B64\u5904\u53EF\u4EE5\u6682\u65F6\u5FFD\u7565
      // ...
    } else {
      // \u5411\u4E0B\u63A2\u5BFB
      nextFiber = fiber.child;
    }
    fiber = nextFiber;
  }
}
`,paraId:23,tocIndex:6},{value:"\u7531\u4E8E",paraId:24,tocIndex:7},{value:"react",paraId:24,tocIndex:7},{value:"\u5185\u90E8\u4F7F\u7528\u4E86",paraId:24,tocIndex:7},{value:"ReactElement",paraId:24,tocIndex:7},{value:"\u548C",paraId:24,tocIndex:7},{value:"fiber",paraId:24,tocIndex:7},{value:"\u4E24\u5927\u6811\u5F62\u7ED3\u6784, \u6240\u4EE5\u6709\u4E0D\u5C11\u5173\u4E8E\u8282\u70B9\u8BBF\u95EE\u7684\u903B\u8F91.",paraId:24,tocIndex:7},{value:"\u672C\u8282\u4E3B\u8981\u4ECB\u7ECD\u4E86",paraId:25,tocIndex:7},{value:"DFS",paraId:25,tocIndex:7},{value:"\u7684\u6982\u5FF5\u548C\u5B83\u5728",paraId:25,tocIndex:7},{value:"react",paraId:25,tocIndex:7},{value:"\u6E90\u7801\u4E2D\u7684\u4F7F\u7528\u60C5\u51B5. \u5176\u4E2D",paraId:25,tocIndex:7},{value:"fiber",paraId:25,tocIndex:7},{value:"\u6811\u7684",paraId:25,tocIndex:7},{value:"DFS",paraId:25,tocIndex:7},{value:"\u904D\u5386, \u6D89\u53CA\u5230\u7684\u4EE3\u7801\u591A, \u5206\u5E03\u5E7F, \u6DB5\u76D6\u4E86",paraId:25,tocIndex:7},{value:"reconciler",paraId:25,tocIndex:7},{value:"\u9636\u6BB5\u7684\u5927\u90E8\u5206\u5DE5\u4F5C, \u662F",paraId:25,tocIndex:7},{value:"reconciler",paraId:25,tocIndex:7},{value:"\u9636\u6BB5\u5DE5\u4F5C\u5FAA\u73AF\u7684\u6838\u5FC3\u6D41\u7A0B.",paraId:25,tocIndex:7},{value:"\u9664\u4E86",paraId:26,tocIndex:7},{value:"DFS",paraId:26,tocIndex:7},{value:"\u4E4B\u5916, \u6E90\u7801\u4E2D\u8FD8\u6709\u5F88\u591A\u903B\u8F91\u90FD\u662F\u67E5\u627E\u6811\u4E2D\u7684\u8282\u70B9(\u5982: \u5411\u4E0A\u67E5\u627E\u7236\u8282\u70B9\u7B49). \u5BF9\u6811\u5F62\u7ED3\u6784\u7684\u904D\u5386\u5728\u6E90\u7801\u4E2D\u7684\u6BD4\u4F8B\u5F88\u9AD8, \u4E86\u89E3\u8FD9\u4E9B\u7B97\u6CD5\u6280\u5DE7\u80FD\u591F\u66F4\u597D\u7684\u7406\u89E3",paraId:26,tocIndex:7},{value:"react",paraId:26,tocIndex:7},{value:"\u6E90\u7801.",paraId:26,tocIndex:7},{value:"\u6DF1\u5EA6\u4F18\u5148\u641C\u7D22",paraId:27,tocIndex:8}],dr={},bo={title:"\u4F18\u5148\u7EA7\u7BA1\u7406",toc:"menu",filename:"docs/main/priority.md",group:"\u8FD0\u884C\u6838\u5FC3",order:2,description:"React\u5185\u90E8\u5BF9\u4E8E\u4F18\u5148\u7EA7\u7684\u7BA1\u7406, \u6839\u636E\u529F\u80FD\u7684\u4E0D\u540C\u5206\u4E3ALanePriority, SchedulerPriority, ReactPriorityLevel3 \u79CD\u7C7B\u578B. \u672C\u6587\u57FA\u4E8Ereact@17.0.2, \u68B3\u7406\u6E90\u7801\u4E2D\u7684\u4F18\u5148\u7EA7\u7BA1\u7406\u4F53\u7CFB."},Oo=[{id:"react-\u4E2D\u7684\u4F18\u5148\u7EA7\u7BA1\u7406",depth:1,title:"React \u4E2D\u7684\u4F18\u5148\u7EA7\u7BA1\u7406"},{id:"\u9884\u5907\u77E5\u8BC6",depth:2,title:"\u9884\u5907\u77E5\u8BC6"},{id:"lane-\u8F66\u9053\u6A21\u578B",depth:3,title:"Lane (\u8F66\u9053\u6A21\u578B)"},{id:"\u4F18\u5148\u7EA7\u533A\u522B\u548C\u8054\u7CFB",depth:2,title:"\u4F18\u5148\u7EA7\u533A\u522B\u548C\u8054\u7CFB"},{id:"lanepriority",depth:3,title:"LanePriority"},{id:"schedulerpriority",depth:3,title:"SchedulerPriority"},{id:"reactprioritylevel",depth:3,title:"ReactPriorityLevel"},{id:"\u8F6C\u6362\u5173\u7CFB",depth:3,title:"\u8F6C\u6362\u5173\u7CFB"},{id:"\u4F18\u5148\u7EA7\u4F7F\u7528",depth:2,title:"\u4F18\u5148\u7EA7\u4F7F\u7528"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"}],Ur=[{value:"React",paraId:0,tocIndex:0},{value:"\u5185\u90E8\u5BF9\u4E8E",paraId:0,tocIndex:0},{value:"\u4F18\u5148\u7EA7",paraId:0,tocIndex:0},{value:"\u7684\u7BA1\u7406, \u6839\u636E\u529F\u80FD\u7684\u4E0D\u540C\u5206\u4E3A",paraId:0,tocIndex:0},{value:"LanePriority",paraId:0,tocIndex:0},{value:", ",paraId:0,tocIndex:0},{value:"SchedulerPriority",paraId:0,tocIndex:0},{value:", ",paraId:0,tocIndex:0},{value:"ReactPriorityLevel",paraId:0,tocIndex:0},{value:"3 \u79CD\u7C7B\u578B. \u672C\u6587\u57FA\u4E8E",paraId:0,tocIndex:0},{value:"react@17.0.2",paraId:0,tocIndex:0},{value:", \u68B3\u7406\u6E90\u7801\u4E2D\u7684\u4F18\u5148\u7EA7\u7BA1\u7406\u4F53\u7CFB.",paraId:0,tocIndex:0},{value:"React",paraId:1,tocIndex:0},{value:"\u662F\u4E00\u4E2A\u58F0\u660E\u5F0F, \u9AD8\u6548\u4E14\u7075\u6D3B\u7684\u7528\u4E8E\u6784\u5EFA\u7528\u6237\u754C\u9762\u7684 JavaScript \u5E93. React \u56E2\u961F\u4E00\u76F4\u81F4\u529B\u4E8E\u5B9E\u73B0\u9AD8\u6548\u6E32\u67D3, \u5176\u4E2D\u6709 2 \u4E2A\u5341\u5206\u6709\u540D\u7684\u6F14\u8BB2:",paraId:1,tocIndex:0},{value:"2017 \u5E74 Lin Clark \u7684\u6F14\u8BB2",paraId:2,tocIndex:0},{value:"\u4E2D\u4ECB\u7ECD\u4E86",paraId:2,tocIndex:0},{value:"fiber",paraId:2,tocIndex:0},{value:"\u67B6\u6784\u548C",paraId:2,tocIndex:0},{value:"\u53EF\u4E2D\u65AD\u6E32\u67D3",paraId:2,tocIndex:0},{value:".",paraId:2,tocIndex:0},{value:"2018 \u5E74 Dan \u5728 JSConf \u51B0\u5C9B\u7684\u6F14\u8BB2",paraId:2,tocIndex:0},{value:"\u8FDB\u4E00\u6B65\u4ECB\u7ECD\u4E86\u65F6\u95F4\u5207\u7247(",paraId:2,tocIndex:0},{value:"time slicing",paraId:2,tocIndex:0},{value:")\u548C\u5F02\u6B65\u6E32\u67D3(",paraId:2,tocIndex:0},{value:"suspense",paraId:2,tocIndex:0},{value:")\u7B49\u7279\u6027.",paraId:2,tocIndex:0},{value:"\u6F14\u8BB2\u4E2D\u6240\u5C55\u793A\u7684",paraId:3,tocIndex:0},{value:"\u53EF\u4E2D\u65AD\u6E32\u67D3",paraId:3,tocIndex:0},{value:",",paraId:3,tocIndex:0},{value:"\u65F6\u95F4\u5207\u7247(time slicing)",paraId:3,tocIndex:0},{value:",",paraId:3,tocIndex:0},{value:"\u5F02\u6B65\u6E32\u67D3(suspense)",paraId:3,tocIndex:0},{value:"\u7B49\u7279\u6027, \u5728\u6E90\u7801\u4E2D\u5F97\u4EE5\u5B9E\u73B0\u90FD\u4F9D\u8D56\u4E8E",paraId:3,tocIndex:0},{value:"\u4F18\u5148\u7EA7\u7BA1\u7406",paraId:3,tocIndex:0},{value:".",paraId:3,tocIndex:0},{value:"\u5728",paraId:4,tocIndex:0},{value:"React@17.0.2",paraId:4,tocIndex:0},{value:"\u6E90\u7801\u4E2D, \u4E00\u5171\u6709",paraId:4,tocIndex:0},{value:"2\u5957\u4F18\u5148\u7EA7\u4F53\u7CFB",paraId:4,tocIndex:0},{value:"\u548C",paraId:4,tocIndex:0},{value:"1\u5957\u8F6C\u6362\u4F53\u7CFB",paraId:4,tocIndex:0},{value:", \u5728\u6DF1\u5165\u5206\u6790\u4E4B\u524D, \u518D\u6B21\u56DE\u987E\u4E00\u4E0B(",paraId:4,tocIndex:0},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:5,tocIndex:0},{value:"):",paraId:4,tocIndex:0},{value:"React",paraId:6,tocIndex:0},{value:"\u5185\u90E8\u5BF9\u4E8E",paraId:6,tocIndex:0},{value:"\u4F18\u5148\u7EA7",paraId:6,tocIndex:0},{value:"\u7684\u7BA1\u7406, \u8D2F\u7A7F\u8FD0\u4F5C\u6D41\u7A0B\u7684 4 \u4E2A\u9636\u6BB5(\u4ECE\u8F93\u5165\u5230\u8F93\u51FA), \u6839\u636E\u5176\u529F\u80FD\u7684\u4E0D\u540C, \u53EF\u4EE5\u5206\u4E3A 3 \u79CD\u7C7B\u578B:",paraId:6,tocIndex:0},{value:"fiber",paraId:7,tocIndex:0},{value:"\u4F18\u5148\u7EA7(",paraId:7,tocIndex:0},{value:"LanePriority",paraId:7,tocIndex:0},{value:"): \u4F4D\u4E8E",paraId:7,tocIndex:0},{value:"react-reconciler",paraId:7,tocIndex:0},{value:"\u5305, \u4E5F\u5C31\u662F",paraId:7,tocIndex:0},{value:"Lane(\u8F66\u9053\u6A21\u578B)",paraId:7,tocIndex:0},{value:".",paraId:7,tocIndex:0},{value:"\u8C03\u5EA6\u4F18\u5148\u7EA7(",paraId:7,tocIndex:0},{value:"SchedulerPriority",paraId:7,tocIndex:0},{value:"): \u4F4D\u4E8E",paraId:7,tocIndex:0},{value:"scheduler",paraId:7,tocIndex:0},{value:"\u5305.",paraId:7,tocIndex:0},{value:"\u4F18\u5148\u7EA7\u7B49\u7EA7(",paraId:7,tocIndex:0},{value:"ReactPriorityLevel",paraId:7,tocIndex:0},{value:") : \u4F4D\u4E8E",paraId:7,tocIndex:0},{value:"react-reconciler",paraId:7,tocIndex:0},{value:"\u5305\u4E2D\u7684",paraId:7,tocIndex:0},{value:"SchedulerWithReactIntegration.js",paraId:7,tocIndex:0},{value:", \u8D1F\u8D23\u4E0A\u8FF0 2 \u5957\u4F18\u5148\u7EA7\u4F53\u7CFB\u7684\u8F6C\u6362.",paraId:7,tocIndex:0},{value:"\u5728\u6DF1\u5165\u5206\u6790 3 \u79CD\u4F18\u5148\u7EA7\u4E4B\u524D, \u4E3A\u4E86\u6DF1\u5165\u7406\u89E3",paraId:8,tocIndex:1},{value:"LanePriority",paraId:8,tocIndex:1},{value:", \u9700\u8981\u5148\u4E86\u89E3",paraId:8,tocIndex:1},{value:"Lane",paraId:8,tocIndex:1},{value:", \u8FD9\u662F",paraId:8,tocIndex:1},{value:"react@17.0.0",paraId:8,tocIndex:1},{value:"\u7684\u65B0\u7279\u6027.",paraId:8,tocIndex:1},{value:"\u82F1\u6587\u5355\u8BCD",paraId:9,tocIndex:2},{value:"lane",paraId:9,tocIndex:2},{value:'\u7FFB\u8BD1\u6210\u4E2D\u6587\u8868\u793A"\u8F66\u9053, \u822A\u9053"\u7684\u610F\u601D, \u6240\u4EE5\u5F88\u591A\u6587\u7AE0\u90FD\u5C06',paraId:9,tocIndex:2},{value:"Lanes",paraId:9,tocIndex:2},{value:"\u6A21\u578B\u79F0\u4E3A",paraId:9,tocIndex:2},{value:"\u8F66\u9053\u6A21\u578B",paraId:9,tocIndex:2},{value:"Lane",paraId:10,tocIndex:2},{value:"\u6A21\u578B\u7684\u6E90\u7801\u5728",paraId:10,tocIndex:2},{value:"ReactFiberLane.js",paraId:10,tocIndex:2},{value:", \u6E90\u7801\u4E2D\u5927\u91CF\u4F7F\u7528\u4E86\u4F4D\u8FD0\u7B97(\u6709\u5173\u4F4D\u8FD0\u7B97\u7684\u8BB2\u89E3, \u53EF\u4EE5\u53C2\u8003",paraId:10,tocIndex:2},{value:"React \u7B97\u6CD5\u4E4B\u4F4D\u8FD0\u7B97",paraId:11,tocIndex:2},{value:").",paraId:10,tocIndex:2},{value:"\u9996\u5148\u5F15\u5165\u4F5C\u8005\u5BF9",paraId:12,tocIndex:2},{value:"Lane",paraId:12,tocIndex:2},{value:"\u7684\u89E3\u91CA(",paraId:12,tocIndex:2},{value:"\u76F8\u5E94\u7684 pr",paraId:12,tocIndex:2},{value:"), \u8FD9\u91CC\u7B80\u5355\u6982\u62EC\u5982\u4E0B:",paraId:12,tocIndex:2},{value:"Lane",paraId:13,tocIndex:2},{value:"\u7C7B\u578B\u88AB\u5B9A\u4E49\u4E3A\u4E8C\u8FDB\u5236\u53D8\u91CF, \u5229\u7528\u4E86\u4F4D\u63A9\u7801\u7684\u7279\u6027, \u5728\u9891\u7E41\u8FD0\u7B97\u7684\u65F6\u5019\u5360\u7528\u5185\u5B58\u5C11, \u8BA1\u7B97\u901F\u5EA6\u5FEB.",paraId:13,tocIndex:2},{value:"Lane",paraId:14,tocIndex:2},{value:"\u548C",paraId:14,tocIndex:2},{value:"Lanes",paraId:14,tocIndex:2},{value:"\u5C31\u662F\u5355\u6570\u548C\u590D\u6570\u7684\u5173\u7CFB, \u4EE3\u8868\u5355\u4E2A\u4EFB\u52A1\u7684\u5B9A\u4E49\u4E3A",paraId:14,tocIndex:2},{value:"Lane",paraId:14,tocIndex:2},{value:", \u4EE3\u8868\u591A\u4E2A\u4EFB\u52A1\u7684\u5B9A\u4E49\u4E3A",paraId:14,tocIndex:2},{value:"Lanes",paraId:14,tocIndex:2},{value:"Lane",paraId:15,tocIndex:2},{value:"\u662F\u5BF9\u4E8E",paraId:15,tocIndex:2},{value:"expirationTime",paraId:15,tocIndex:2},{value:"\u7684\u91CD\u6784, \u4EE5\u524D\u4F7F\u7528",paraId:15,tocIndex:2},{value:"expirationTime",paraId:15,tocIndex:2},{value:"\u8868\u793A\u7684\u5B57\u6BB5, \u90FD\u6539\u4E3A\u4E86",paraId:15,tocIndex:2},{value:"lane",paraId:15,tocIndex:2},{value:`  renderExpirationtime -> renderLanes
  update.expirationTime -> update.lane
  fiber.expirationTime -> fiber.lanes
  fiber.childExpirationTime -> fiber.childLanes
  root.firstPendingTime and root.lastPendingTime -> fiber.pendingLanes
`,paraId:16,tocIndex:2},{value:"\u4F7F\u7528",paraId:17,tocIndex:2},{value:"Lanes",paraId:17,tocIndex:2},{value:"\u6A21\u578B\u76F8\u6BD4",paraId:17,tocIndex:2},{value:"expirationTime",paraId:17,tocIndex:2},{value:"\u6A21\u578B\u7684\u4F18\u52BF:",paraId:17,tocIndex:2},{value:"Lanes",paraId:18,tocIndex:2},{value:"\u628A\u4EFB\u52A1\u4F18\u5148\u7EA7\u4ECE\u6279\u91CF\u4EFB\u52A1\u4E2D\u5206\u79BB\u51FA\u6765, \u53EF\u4EE5\u66F4\u65B9\u4FBF\u7684\u5224\u65AD\u5355\u4E2A\u4EFB\u52A1\u4E0E\u6279\u91CF\u4EFB\u52A1\u7684\u4F18\u5148\u7EA7\u662F\u5426\u91CD\u53E0.",paraId:18,tocIndex:2},{value:`// \u5224\u65AD: \u5355task\u4E0EbatchTask\u7684\u4F18\u5148\u7EA7\u662F\u5426\u91CD\u53E0
//1. \u901A\u8FC7expirationTime\u5224\u65AD
const isTaskIncludedInBatch = priorityOfTask >= priorityOfBatch;
//2. \u901A\u8FC7Lanes\u5224\u65AD
const isTaskIncludedInBatch = (task & batchOfTasks) !== 0;

// \u5F53\u540C\u65F6\u5904\u7406\u4E00\u7EC4\u4EFB\u52A1, \u8BE5\u7EC4\u5185\u6709\u591A\u4E2A\u4EFB\u52A1, \u4E14\u6BCF\u4E2A\u4EFB\u52A1\u7684\u4F18\u5148\u7EA7\u4E0D\u4E00\u81F4
// 1. \u5982\u679C\u901A\u8FC7expirationTime\u5224\u65AD. \u9700\u8981\u7EF4\u62A4\u4E00\u4E2A\u8303\u56F4(\u5728Lane\u91CD\u6784\u4E4B\u524D, \u6E90\u7801\u4E2D\u5C31\u662F\u8FD9\u6837\u6BD4\u8F83\u7684)
const isTaskIncludedInBatch =
  taskPriority <= highestPriorityInRange &&
  taskPriority >= lowestPriorityInRange;
//2. \u901A\u8FC7Lanes\u5224\u65AD
const isTaskIncludedInBatch = (task & batchOfTasks) !== 0;
`,paraId:19,tocIndex:2},{value:"Lanes",paraId:20,tocIndex:2},{value:"\u4F7F\u7528\u5355\u4E2A 32 \u4F4D\u4E8C\u8FDB\u5236\u53D8\u91CF\u5373\u53EF\u4EE3\u8868\u591A\u4E2A\u4E0D\u540C\u7684\u4EFB\u52A1, \u4E5F\u5C31\u662F\u8BF4\u4E00\u4E2A\u53D8\u91CF\u5373\u53EF\u4EE3\u8868\u4E00\u4E2A\u7EC4(",paraId:20,tocIndex:2},{value:"group",paraId:20,tocIndex:2},{value:"), \u5982\u679C\u8981\u5728\u4E00\u4E2A group \u4E2D\u5206\u79BB\u51FA\u5355\u4E2A task, \u975E\u5E38\u5BB9\u6613.",paraId:20,tocIndex:2},{value:"\u5728",paraId:21,tocIndex:2},{value:"expirationTime",paraId:21,tocIndex:2},{value:"\u6A21\u578B\u8BBE\u8BA1\u4E4B\u521D, react \u4F53\u7CFB\u4E2D\u8FD8\u6CA1\u6709",paraId:21,tocIndex:2},{value:"Suspense \u5F02\u6B65\u6E32\u67D3",paraId:21,tocIndex:2},{value:"\u7684\u6982\u5FF5.",paraId:21,tocIndex:2},{value:`
\u73B0\u5728\u6709\u5982\u4E0B\u573A\u666F: \u6709 3 \u4E2A\u4EFB\u52A1, \u5176\u4F18\u5148\u7EA7 `,paraId:21,tocIndex:2},{value:"A > B > C",paraId:21,tocIndex:2},{value:", \u6B63\u5E38\u6765\u8BB2\u53EA\u9700\u8981\u6309\u7167\u4F18\u5148\u7EA7\u987A\u5E8F\u6267\u884C\u5C31\u53EF\u4EE5\u4E86.",paraId:21,tocIndex:2},{value:`
\u4F46\u662F\u73B0\u5728\u60C5\u51B5\u53D8\u4E86: A \u548C C \u4EFB\u52A1\u662F`,paraId:21,tocIndex:2},{value:"CPU\u5BC6\u96C6\u578B",paraId:21,tocIndex:2},{value:", \u800C B \u662F",paraId:21,tocIndex:2},{value:"IO\u5BC6\u96C6\u578B",paraId:21,tocIndex:2},{value:"(Suspense \u4F1A\u8C03\u7528\u8FDC\u7A0B api, \u7B97\u662F IO \u4EFB\u52A1), \u5373 ",paraId:21,tocIndex:2},{value:"A(cpu) > B(IO) > C(cpu)",paraId:21,tocIndex:2},{value:". \u6B64\u65F6\u7684\u9700\u6C42\u9700\u8981\u5C06\u4EFB\u52A1",paraId:21,tocIndex:2},{value:"B",paraId:21,tocIndex:2},{value:"\u4ECE group \u4E2D\u5206\u79BB\u51FA\u6765, \u5148\u5904\u7406 cpu \u4EFB\u52A1",paraId:21,tocIndex:2},{value:"A\u548CC",paraId:21,tocIndex:2},{value:".",paraId:21,tocIndex:2},{value:`// \u4ECEgroup\u4E2D\u5220\u9664\u6216\u589E\u52A0task

//1. \u901A\u8FC7expirationTime\u5B9E\u73B0
// 0) \u7EF4\u62A4\u4E00\u4E2A\u94FE\u8868, \u6309\u7167\u5355\u4E2Atask\u7684\u4F18\u5148\u7EA7\u987A\u5E8F\u8FDB\u884C\u63D2\u5165
// 1) \u5220\u9664\u5355\u4E2Atask(\u4ECE\u94FE\u8868\u4E2D\u5220\u9664\u4E00\u4E2A\u5143\u7D20)
task.prev.next = task.next;
// 2) \u589E\u52A0\u5355\u4E2Atask(\u9700\u8981\u5BF9\u6BD4\u5F53\u524Dtask\u7684\u4F18\u5148\u7EA7, \u63D2\u5165\u5230\u94FE\u8868\u6B63\u786E\u7684\u4F4D\u7F6E\u4E0A)
let current = queue;
while (task.expirationTime >= current.expirationTime) {
  current = current.next;
}
task.next = current.next;
current.next = task;
// 3) \u6BD4\u8F83task\u662F\u5426\u5728group\u4E2D
const isTaskIncludedInBatch =
  taskPriority <= highestPriorityInRange &&
  taskPriority >= lowestPriorityInRange;

// 2. \u901A\u8FC7Lanes\u5B9E\u73B0
// 1) \u5220\u9664\u5355\u4E2Atask
batchOfTasks &= ~task;
// 2) \u589E\u52A0\u5355\u4E2Atask
batchOfTasks |= task;
// 3) \u6BD4\u8F83task\u662F\u5426\u5728group\u4E2D
const isTaskIncludedInBatch = (task & batchOfTasks) !== 0;
`,paraId:22,tocIndex:2},{value:"\u901A\u8FC7\u4E0A\u8FF0\u4F2A\u4EE3\u7801, \u53EF\u4EE5\u770B\u5230",paraId:23,tocIndex:2},{value:"Lanes",paraId:23,tocIndex:2},{value:"\u7684\u4F18\u8D8A\u6027, \u8FD0\u7528\u8D77\u6765\u4EE3\u7801\u91CF\u5C11, \u7B80\u6D01\u9AD8\u6548.",paraId:23,tocIndex:2},{value:"Lanes",paraId:24,tocIndex:2},{value:"\u662F\u4E00\u4E2A\u4E0D\u900F\u660E\u7684\u7C7B\u578B, \u53EA\u80FD\u5728",paraId:24,tocIndex:2},{value:"ReactFiberLane.js",paraId:24,tocIndex:2},{value:"\u8FD9\u4E2A\u6A21\u5757\u4E2D\u7EF4\u62A4. \u5982\u679C\u8981\u5728\u5176\u4ED6\u6587\u4EF6\u4E2D\u4F7F\u7528, \u53EA\u80FD\u901A\u8FC7",paraId:24,tocIndex:2},{value:"ReactFiberLane.js",paraId:24,tocIndex:2},{value:"\u4E2D\u63D0\u4F9B\u7684\u5DE5\u5177\u51FD\u6570\u6765\u4F7F\u7528.",paraId:24,tocIndex:2},{value:"\u5206\u6790\u8F66\u9053\u6A21\u578B\u7684\u6E90\u7801(",paraId:25,tocIndex:2},{value:"ReactFiberLane.js",paraId:25,tocIndex:2},{value:"\u4E2D), \u53EF\u4EE5\u5F97\u5230\u5982\u4E0B\u7ED3\u8BBA:",paraId:25,tocIndex:2},{value:"\u53EF\u4EE5\u4F7F\u7528\u7684\u6BD4\u7279\u4F4D\u4E00\u5171\u6709 31 \u4F4D(\u4E3A\u4EC0\u4E48? \u53EF\u4EE5\u53C2\u8003",paraId:26,tocIndex:2},{value:"React \u7B97\u6CD5\u4E4B\u4F4D\u8FD0\u7B97",paraId:27,tocIndex:2},{value:"\u4E2D\u7684\u8BF4\u660E).",paraId:26,tocIndex:2},{value:"\u5171\u5B9A\u4E49\u4E86",paraId:26,tocIndex:2},{value:"18 \u79CD\u8F66\u9053(",paraId:26,tocIndex:2},{value:"Lane/Lanes",paraId:26,tocIndex:2},{value:")\u53D8\u91CF",paraId:26,tocIndex:2},{value:", \u6BCF\u4E00\u4E2A\u53D8\u91CF\u5360\u6709 1 \u4E2A\u6216\u591A\u4E2A\u6BD4\u7279\u4F4D, \u5206\u522B\u5B9A\u4E49\u4E3A",paraId:26,tocIndex:2},{value:"Lane",paraId:26,tocIndex:2},{value:"\u548C",paraId:26,tocIndex:2},{value:"Lanes",paraId:26,tocIndex:2},{value:"\u7C7B\u578B.",paraId:26,tocIndex:2},{value:"\u6BCF\u4E00\u79CD\u8F66\u9053(",paraId:26,tocIndex:2},{value:"Lane/Lanes",paraId:26,tocIndex:2},{value:")\u90FD\u6709\u5BF9\u5E94\u7684\u4F18\u5148\u7EA7, \u6240\u4EE5\u6E90\u7801\u4E2D\u5B9A\u4E49\u4E86 18 \u79CD\u4F18\u5148\u7EA7(",paraId:26,tocIndex:2},{value:"LanePriority",paraId:26,tocIndex:2},{value:").",paraId:26,tocIndex:2},{value:"\u5360\u6709\u4F4E\u4F4D\u6BD4\u7279\u4F4D\u7684",paraId:26,tocIndex:2},{value:"Lane",paraId:26,tocIndex:2},{value:`\u53D8\u91CF\u5BF9\u5E94\u7684\u4F18\u5148\u7EA7\u8D8A\u9AD8
`,paraId:26,tocIndex:2},{value:"\u6700\u9AD8\u4F18\u5148\u7EA7\u4E3A",paraId:28,tocIndex:2},{value:"SyncLanePriority",paraId:28,tocIndex:2},{value:"\u5BF9\u5E94\u7684\u8F66\u9053\u4E3A",paraId:28,tocIndex:2},{value:"SyncLane = 0b0000000000000000000000000000001",paraId:28,tocIndex:2},{value:".",paraId:28,tocIndex:2},{value:"\u6700\u4F4E\u4F18\u5148\u7EA7\u4E3A",paraId:28,tocIndex:2},{value:"OffscreenLanePriority",paraId:28,tocIndex:2},{value:"\u5BF9\u5E94\u7684\u8F66\u9053\u4E3A",paraId:28,tocIndex:2},{value:"OffscreenLane = 0b1000000000000000000000000000000",paraId:28,tocIndex:2},{value:".",paraId:28,tocIndex:2},{value:"\u5728\u6E90\u7801\u4E2D, 3 \u79CD\u4F18\u5148\u7EA7\u4F4D\u4E8E\u4E0D\u540C\u7684 js \u6587\u4EF6, \u662F\u76F8\u4E92\u72EC\u7ACB\u7684.",paraId:29,tocIndex:3},{value:"\u6CE8\u610F:",paraId:30,tocIndex:3},{value:"LanePriority",paraId:31,tocIndex:3},{value:"\u548C",paraId:31,tocIndex:3},{value:"SchedulerPriority",paraId:31,tocIndex:3},{value:"\u4ECE\u547D\u540D\u4E0A\u770B, \u5B83\u4EEC\u4EE3\u8868\u7684\u662F",paraId:31,tocIndex:3},{value:"\u4F18\u5148\u7EA7",paraId:31,tocIndex:3},{value:"ReactPriorityLevel",paraId:31,tocIndex:3},{value:"\u4ECE\u547D\u540D\u4E0A\u770B, \u5B83\u4EE3\u8868\u7684\u662F",paraId:31,tocIndex:3},{value:"\u7B49\u7EA7",paraId:31,tocIndex:3},{value:"\u800C\u4E0D\u662F\u4F18\u5148\u7EA7, \u5B83\u7528\u4E8E\u8861\u91CF",paraId:31,tocIndex:3},{value:"LanePriority",paraId:31,tocIndex:3},{value:"\u548C",paraId:31,tocIndex:3},{value:"SchedulerPriority",paraId:31,tocIndex:3},{value:"\u7684\u7B49\u7EA7.",paraId:31,tocIndex:3},{value:"LanePriority",paraId:32,tocIndex:4},{value:": \u5C5E\u4E8E",paraId:32,tocIndex:4},{value:"react-reconciler",paraId:32,tocIndex:4},{value:"\u5305, \u5B9A\u4E49\u4E8E",paraId:32,tocIndex:4},{value:"ReactFiberLane.js",paraId:32,tocIndex:4},{value:"(",paraId:32,tocIndex:4},{value:"\u89C1\u6E90\u7801",paraId:32,tocIndex:4},{value:").",paraId:32,tocIndex:4},{value:`export const SyncLanePriority: LanePriority = 15;
export const SyncBatchedLanePriority: LanePriority = 14;

const InputDiscreteHydrationLanePriority: LanePriority = 13;
export const InputDiscreteLanePriority: LanePriority = 12;

// .....

const OffscreenLanePriority: LanePriority = 1;
export const NoLanePriority: LanePriority = 0;
`,paraId:33,tocIndex:4},{value:"\u4E0E",paraId:34,tocIndex:4},{value:"fiber",paraId:34,tocIndex:4},{value:"\u6784\u9020\u8FC7\u7A0B\u76F8\u5173\u7684\u4F18\u5148\u7EA7(\u5982",paraId:34,tocIndex:4},{value:"fiber.updateQueue",paraId:34,tocIndex:4},{value:",",paraId:34,tocIndex:4},{value:"fiber.lanes",paraId:34,tocIndex:4},{value:")\u90FD\u4F7F\u7528",paraId:34,tocIndex:4},{value:"LanePriority",paraId:34,tocIndex:4},{value:".",paraId:34,tocIndex:4},{value:"\u7531\u4E8E\u672C\u8282\u91CD\u70B9\u4ECB\u7ECD\u4F18\u5148\u7EA7\u4F53\u7CFB\u4EE5\u53CA\u5B83\u4EEC\u7684\u8F6C\u6362\u5173\u7CFB, \u5173\u4E8E",paraId:35,tocIndex:4},{value:"Lane(\u8F66\u9053\u6A21\u578B)",paraId:35,tocIndex:4},{value:"\u5728",paraId:35,tocIndex:4},{value:"fiber\u6811\u6784\u9020",paraId:35,tocIndex:4},{value:"\u65F6\u7684\u5177\u4F53\u4F7F\u7528, \u5728",paraId:35,tocIndex:4},{value:"fiber \u6811\u6784\u9020",paraId:35,tocIndex:4},{value:"\u7AE0\u8282\u8BE6\u7EC6\u89E3\u8BFB.",paraId:35,tocIndex:4},{value:"SchedulerPriority",paraId:36,tocIndex:5},{value:", \u5C5E\u4E8E",paraId:36,tocIndex:5},{value:"scheduler",paraId:36,tocIndex:5},{value:"\u5305, \u5B9A\u4E49\u4E8E",paraId:36,tocIndex:5},{value:"SchedulerPriorities.js",paraId:36,tocIndex:5},{value:"\u4E2D(",paraId:36,tocIndex:5},{value:"\u89C1\u6E90\u7801",paraId:36,tocIndex:5},{value:").",paraId:36,tocIndex:5},{value:`export const NoPriority = 0;
export const ImmediatePriority = 1;
export const UserBlockingPriority = 2;
export const NormalPriority = 3;
export const LowPriority = 4;
export const IdlePriority = 5;
`,paraId:37,tocIndex:5},{value:"\u4E0E",paraId:38,tocIndex:5},{value:"scheduler",paraId:38,tocIndex:5},{value:"\u8C03\u5EA6\u4E2D\u5FC3\u76F8\u5173\u7684\u4F18\u5148\u7EA7\u4F7F\u7528",paraId:38,tocIndex:5},{value:"SchedulerPriority",paraId:38,tocIndex:5},{value:".",paraId:38,tocIndex:5},{value:"reactPriorityLevel",paraId:39,tocIndex:6},{value:", \u5C5E\u4E8E",paraId:39,tocIndex:6},{value:"react-reconciler",paraId:39,tocIndex:6},{value:"\u5305, \u5B9A\u4E49\u4E8E",paraId:39,tocIndex:6},{value:"SchedulerWithReactIntegration.js",paraId:39,tocIndex:6},{value:"\u4E2D(",paraId:39,tocIndex:6},{value:"\u89C1\u6E90\u7801",paraId:39,tocIndex:6},{value:").",paraId:39,tocIndex:6},{value:`export const ImmediatePriority: ReactPriorityLevel = 99;
export const UserBlockingPriority: ReactPriorityLevel = 98;
export const NormalPriority: ReactPriorityLevel = 97;
export const LowPriority: ReactPriorityLevel = 96;
export const IdlePriority: ReactPriorityLevel = 95;
// NoPriority is the absence of priority. Also React-only.
export const NoPriority: ReactPriorityLevel = 90;
`,paraId:40,tocIndex:6},{value:"LanePriority",paraId:41,tocIndex:6},{value:"\u4E0E",paraId:41,tocIndex:6},{value:"SchedulerPriority",paraId:41,tocIndex:6},{value:"\u901A\u8FC7",paraId:41,tocIndex:6},{value:"ReactPriorityLevel",paraId:41,tocIndex:6},{value:"\u8FDB\u884C\u8F6C\u6362",paraId:41,tocIndex:6},{value:"\u4E3A\u4E86\u80FD\u534F\u540C\u8C03\u5EA6\u4E2D\u5FC3(",paraId:42,tocIndex:7},{value:"scheduler",paraId:42,tocIndex:7},{value:"\u5305)\u548C fiber \u6811\u6784\u9020(",paraId:42,tocIndex:7},{value:"react-reconciler",paraId:42,tocIndex:7},{value:"\u5305)\u4E2D\u5BF9\u4F18\u5148\u7EA7\u7684\u4F7F\u7528, \u5219\u9700\u8981\u8F6C\u6362",paraId:42,tocIndex:7},{value:"SchedulerPriority",paraId:42,tocIndex:7},{value:"\u548C",paraId:42,tocIndex:7},{value:"LanePriority",paraId:42,tocIndex:7},{value:", \u8F6C\u6362\u7684\u6865\u6881\u6B63\u662F",paraId:42,tocIndex:7},{value:"ReactPriorityLevel",paraId:42,tocIndex:7},{value:".",paraId:42,tocIndex:7},{value:"\u5728",paraId:43,tocIndex:7},{value:"SchedulerWithReactIntegration.js",paraId:43,tocIndex:7},{value:"\u4E2D",paraId:43,tocIndex:7},{value:", \u53EF\u4EE5\u4E92\u8F6C",paraId:43,tocIndex:7},{value:"SchedulerPriority",paraId:43,tocIndex:7},{value:" \u548C ",paraId:43,tocIndex:7},{value:"ReactPriorityLevel",paraId:43,tocIndex:7},{value:":",paraId:43,tocIndex:7},{value:`// \u628A SchedulerPriority \u8F6C\u6362\u6210 ReactPriorityLevel
export function getCurrentPriorityLevel(): ReactPriorityLevel {
  switch (Scheduler_getCurrentPriorityLevel()) {
    case Scheduler_ImmediatePriority:
      return ImmediatePriority;
    case Scheduler_UserBlockingPriority:
      return UserBlockingPriority;
    case Scheduler_NormalPriority:
      return NormalPriority;
    case Scheduler_LowPriority:
      return LowPriority;
    case Scheduler_IdlePriority:
      return IdlePriority;
    default:
      invariant(false, 'Unknown priority level.');
  }
}

// \u628A ReactPriorityLevel \u8F6C\u6362\u6210 SchedulerPriority
function reactPriorityToSchedulerPriority(reactPriorityLevel) {
  switch (reactPriorityLevel) {
    case ImmediatePriority:
      return Scheduler_ImmediatePriority;
    case UserBlockingPriority:
      return Scheduler_UserBlockingPriority;
    case NormalPriority:
      return Scheduler_NormalPriority;
    case LowPriority:
      return Scheduler_LowPriority;
    case IdlePriority:
      return Scheduler_IdlePriority;
    default:
      invariant(false, 'Unknown priority level.');
  }
}
`,paraId:44,tocIndex:7},{value:"\u5728",paraId:45,tocIndex:7},{value:"ReactFiberLane.js",paraId:45,tocIndex:7},{value:"\u4E2D",paraId:45,tocIndex:7},{value:", \u53EF\u4EE5\u4E92\u8F6C",paraId:45,tocIndex:7},{value:"LanePriority",paraId:45,tocIndex:7},{value:" \u548C ",paraId:45,tocIndex:7},{value:"ReactPriorityLevel",paraId:45,tocIndex:7},{value:":",paraId:45,tocIndex:7},{value:`export function schedulerPriorityToLanePriority(
  schedulerPriorityLevel: ReactPriorityLevel,
): LanePriority {
  switch (schedulerPriorityLevel) {
    case ImmediateSchedulerPriority:
      return SyncLanePriority;
    // ... \u7701\u7565\u90E8\u5206\u4EE3\u7801
    default:
      return NoLanePriority;
  }
}

export function lanePriorityToSchedulerPriority(
  lanePriority: LanePriority,
): ReactPriorityLevel {
  switch (lanePriority) {
    case SyncLanePriority:
    case SyncBatchedLanePriority:
      return ImmediateSchedulerPriority;
    // ... \u7701\u7565\u90E8\u5206\u4EE3\u7801
    default:
      invariant(
        false,
        'Invalid update priority: %s. This is a bug in React.',
        lanePriority,
      );
  }
}
`,paraId:46,tocIndex:7},{value:"\u901A\u8FC7",paraId:47,tocIndex:8},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:48,tocIndex:8},{value:"\u4E2D\u7684\u5F52\u7EB3, ",paraId:47,tocIndex:8},{value:"reconciler",paraId:47,tocIndex:8},{value:"\u4ECE\u8F93\u5165\u5230\u8F93\u51FA\u4E00\u5171\u7ECF\u5386\u4E86 4 \u4E2A\u9636\u6BB5, \u5728\u6BCF\u4E2A\u9636\u6BB5\u4E2D\u90FD\u4F1A\u6D89\u53CA\u5230\u4E0E",paraId:47,tocIndex:8},{value:"\u4F18\u5148\u7EA7",paraId:47,tocIndex:8},{value:"\u76F8\u5173\u7684\u5904\u7406. \u6B63\u662F\u901A\u8FC7",paraId:47,tocIndex:8},{value:"\u4F18\u5148\u7EA7",paraId:47,tocIndex:8},{value:"\u7684\u7075\u6D3B\u8FD0\u7528, ",paraId:47,tocIndex:8},{value:"React",paraId:47,tocIndex:8},{value:"\u5B9E\u73B0\u4E86",paraId:47,tocIndex:8},{value:"\u53EF\u4E2D\u65AD\u6E32\u67D3",paraId:47,tocIndex:8},{value:",",paraId:47,tocIndex:8},{value:"\u65F6\u95F4\u5207\u7247(time slicing)",paraId:47,tocIndex:8},{value:",",paraId:47,tocIndex:8},{value:"\u5F02\u6B65\u6E32\u67D3(suspense)",paraId:47,tocIndex:8},{value:"\u7B49\u7279\u6027.",paraId:47,tocIndex:8},{value:"\u5728\u7406\u89E3\u4E86\u4F18\u5148\u7EA7\u7684\u57FA\u672C\u601D\u8DEF\u4E4B\u540E, \u63A5\u4E0B\u6765\u5C31\u6B63\u5F0F\u8FDB\u5165 react \u6E90\u7801\u5206\u6790\u4E2D\u7684\u786C\u6838\u90E8\u5206(",paraId:49,tocIndex:8},{value:"scheduler \u8C03\u5EA6\u539F\u7406",paraId:49,tocIndex:8},{value:"\u548C",paraId:49,tocIndex:8},{value:"fiber\u6811\u6784\u9020",paraId:49,tocIndex:8},{value:")",paraId:49,tocIndex:8},{value:"\u672C\u6587\u4ECB\u7ECD\u4E86 react \u6E90\u7801\u4E2D\u6709\u5173\u4F18\u5148\u7EA7\u7684\u90E8\u5206, \u5E76\u68B3\u7406\u4E86 3 \u79CD\u4F18\u5148\u7EA7\u4E4B\u95F4\u7684\u533A\u522B\u548C\u8054\u7CFB. \u5B83\u4EEC\u8D2F\u7A7F\u4E86",paraId:50,tocIndex:9},{value:"reconciler \u8FD0\u4F5C\u6D41\u7A0B",paraId:51,tocIndex:9},{value:"\u4E2D\u7684 4 \u4E2A\u9636\u6BB5, \u5728 react \u6E90\u7801\u4E2D\u6240\u5360\u7528\u7684\u4EE3\u7801\u91CF\u6BD4\u8F83\u9AD8, \u7406\u89E3\u5B83\u4EEC\u7684\u8BBE\u8BA1\u601D\u8DEF, \u4E3A\u63A5\u4E0B\u6765\u5206\u6790",paraId:50,tocIndex:9},{value:"\u8C03\u5EA6\u539F\u7406",paraId:50,tocIndex:9},{value:"\u548C",paraId:50,tocIndex:9},{value:"fiber\u6784\u9020",paraId:50,tocIndex:9},{value:"\u6253\u4E0B\u57FA\u7840.",paraId:50,tocIndex:9}],gr={},nu={title:"\u4E24\u5927\u5DE5\u4F5C\u5FAA\u73AF",toc:"menu",filename:"docs/main/workloop.md",group:"\u57FA\u672C\u6982\u5FF5",order:1,description:"\u5728\u524D\u6587(React \u5E94\u7528\u7684\u5B8F\u89C2\u5305\u7ED3\u6784)\u4E2D, \u4ECB\u7ECD\u4E86react\u6838\u5FC3\u5305\u4E4B\u95F4\u7684\u4F9D\u8D56\u548C\u8C03\u7528\u5173\u7CFB, \u5E76\u7ED8\u5236\u51FA\u4E86\u6982\u89C8\u56FE. \u5728\u6982\u89C8\u56FE\u4E2D, \u53EF\u4EE5\u770B\u5230\u6709\u4E24\u4E2A\u5927\u7684\u5FAA\u73AF, \u5B83\u4EEC\u5206\u522B\u4F4D\u4E8Escheduler\u548Creact-reconciler\u5305\u4E2D:"},yr=[{id:"react-\u5DE5\u4F5C\u5FAA\u73AF-workloop",depth:1,title:"React \u5DE5\u4F5C\u5FAA\u73AF (workLoop)"},{id:"\u533A\u522B\u4E0E\u8054\u7CFB",depth:2,title:"\u533A\u522B\u4E0E\u8054\u7CFB"},{id:"\u4E3B\u5E72\u903B\u8F91",depth:2,title:"\u4E3B\u5E72\u903B\u8F91"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"}],bu=[{value:"\u5728\u524D\u6587(",paraId:0,tocIndex:0},{value:"React \u5E94\u7528\u7684\u5B8F\u89C2\u5305\u7ED3\u6784",paraId:1,tocIndex:0},{value:")\u4E2D, \u4ECB\u7ECD\u4E86",paraId:0,tocIndex:0},{value:"react",paraId:0,tocIndex:0},{value:"\u6838\u5FC3\u5305\u4E4B\u95F4\u7684\u4F9D\u8D56\u548C\u8C03\u7528\u5173\u7CFB, \u5E76\u7ED8\u5236\u51FA\u4E86\u6982\u89C8\u56FE. \u5728\u6982\u89C8\u56FE\u4E2D, \u53EF\u4EE5\u770B\u5230\u6709\u4E24\u4E2A\u5927\u7684\u5FAA\u73AF, \u5B83\u4EEC\u5206\u522B\u4F4D\u4E8E",paraId:0,tocIndex:0},{value:"scheduler",paraId:0,tocIndex:0},{value:"\u548C",paraId:0,tocIndex:0},{value:"react-reconciler",paraId:0,tocIndex:0},{value:"\u5305\u4E2D:",paraId:0,tocIndex:0},{value:"\u672C\u6587\u5C06\u8FD9\u4E24\u4E2A\u5FAA\u73AF\u5206\u522B\u8868\u8FF0\u4E3A",paraId:2,tocIndex:0},{value:"\u4EFB\u52A1\u8C03\u5EA6\u5FAA\u73AF",paraId:2,tocIndex:0},{value:"\u548C",paraId:2,tocIndex:0},{value:"fiber\u6784\u9020\u5FAA\u73AF",paraId:2,tocIndex:0},{value:". \u63A5\u4E0B\u6765\u4ECE\u5B8F\u89C2\u89D2\u5EA6\u9610\u8FF0\u8FD9\u4E24\u5927\u5FAA\u73AF\u7684\u4F5C\u7528, \u4EE5\u53CA\u5B83\u4EEC\u4E4B\u95F4\u7684\u533A\u522B\u548C\u8054\u7CFB. \u66F4\u6DF1\u5165\u7684\u6E90\u7801\u5206\u6790\u5206\u522B\u5728",paraId:2,tocIndex:0},{value:"scheduler \u8C03\u5EA6\u673A\u5236",paraId:2,tocIndex:0},{value:"\u548C",paraId:2,tocIndex:0},{value:"fiber \u6811\u6784\u9020",paraId:2,tocIndex:0},{value:"\u7AE0\u8282\u4E2D\u8BE6\u7EC6\u89E3\u8BFB.",paraId:2,tocIndex:0},{value:"\u4EFB\u52A1\u8C03\u5EA6\u5FAA\u73AF",paraId:3,tocIndex:0},{value:"\u6E90\u7801\u4F4D\u4E8E",paraId:4,tocIndex:0},{value:"Scheduler.js",paraId:4,tocIndex:0},{value:", \u5B83\u662F",paraId:4,tocIndex:0},{value:"react",paraId:4,tocIndex:0},{value:"\u5E94\u7528\u5F97\u4EE5\u8FD0\u884C\u7684\u4FDD\u8BC1, \u5B83\u9700\u8981\u5FAA\u73AF\u8C03\u7528, \u63A7\u5236\u6240\u6709\u4EFB\u52A1(",paraId:4,tocIndex:0},{value:"task",paraId:4,tocIndex:0},{value:")\u7684\u8C03\u5EA6.",paraId:4,tocIndex:0},{value:"fiber\u6784\u9020\u5FAA\u73AF",paraId:5,tocIndex:0},{value:"\u6E90\u7801\u4F4D\u4E8E",paraId:6,tocIndex:0},{value:"ReactFiberWorkLoop.js",paraId:6,tocIndex:0},{value:", \u63A7\u5236 fiber \u6811\u7684\u6784\u9020, \u6574\u4E2A\u8FC7\u7A0B\u662F\u4E00\u4E2A",paraId:6,tocIndex:0},{value:"\u6DF1\u5EA6\u4F18\u5148\u904D\u5386",paraId:7,tocIndex:0},{value:".",paraId:6,tocIndex:0},{value:"\u8FD9\u4E24\u4E2A\u5FAA\u73AF\u5BF9\u5E94\u7684 js \u6E90\u7801\u4E0D\u540C\u4E8E\u5176\u4ED6\u95ED\u5305(\u8FD0\u884C\u65F6\u5C31\u662F\u95ED\u5305), \u5176\u4E2D\u5B9A\u4E49\u7684\u5168\u5C40\u53D8\u91CF, \u4E0D\u4EC5\u662F\u8BE5\u4F5C\u7528\u57DF\u7684\u79C1\u6709\u53D8\u91CF, \u66F4\u7528\u4E8E",paraId:8,tocIndex:0},{value:"\u63A7\u5236react\u5E94\u7528\u7684\u6267\u884C\u8FC7\u7A0B",paraId:8,tocIndex:0},{value:".",paraId:8,tocIndex:0},{value:"\u533A\u522B",paraId:9,tocIndex:1},{value:"\u4EFB\u52A1\u8C03\u5EA6\u5FAA\u73AF",paraId:10,tocIndex:1},{value:"\u662F\u4EE5",paraId:10,tocIndex:1},{value:"\u4E8C\u53C9\u5806",paraId:10,tocIndex:1},{value:"\u4E3A\u6570\u636E\u7ED3\u6784(\u8BE6\u89C1",paraId:10,tocIndex:1},{value:"react \u7B97\u6CD5\u4E4B\u5806\u6392\u5E8F",paraId:11,tocIndex:1},{value:"), \u5FAA\u73AF\u6267\u884C",paraId:10,tocIndex:1},{value:"\u5806",paraId:10,tocIndex:1},{value:"\u7684\u9876\u70B9, \u76F4\u5230",paraId:10,tocIndex:1},{value:"\u5806",paraId:10,tocIndex:1},{value:"\u88AB\u6E05\u7A7A.",paraId:10,tocIndex:1},{value:"\u4EFB\u52A1\u8C03\u5EA6\u5FAA\u73AF",paraId:10,tocIndex:1},{value:"\u7684\u903B\u8F91\u504F\u5411\u5B8F\u89C2, \u5B83\u8C03\u5EA6\u7684\u662F\u6BCF\u4E00\u4E2A\u4EFB\u52A1(",paraId:10,tocIndex:1},{value:"task",paraId:10,tocIndex:1},{value:"), \u800C\u4E0D\u5173\u5FC3\u8FD9\u4E2A\u4EFB\u52A1\u5177\u4F53\u662F\u5E72\u4EC0\u4E48\u7684(\u751A\u81F3\u53EF\u4EE5\u5C06",paraId:10,tocIndex:1},{value:"Scheduler",paraId:10,tocIndex:1},{value:"\u5305\u8131\u79BB",paraId:10,tocIndex:1},{value:"react",paraId:10,tocIndex:1},{value:"\u4F7F\u7528), \u5177\u4F53\u4EFB\u52A1\u5176\u5B9E\u5C31\u662F\u6267\u884C\u56DE\u8C03\u51FD\u6570",paraId:10,tocIndex:1},{value:"performSyncWorkOnRoot",paraId:10,tocIndex:1},{value:"\u6216",paraId:10,tocIndex:1},{value:"performConcurrentWorkOnRoot",paraId:10,tocIndex:1},{value:".",paraId:10,tocIndex:1},{value:"fiber\u6784\u9020\u5FAA\u73AF",paraId:10,tocIndex:1},{value:"\u662F\u4EE5",paraId:10,tocIndex:1},{value:"\u6811",paraId:10,tocIndex:1},{value:"\u4E3A\u6570\u636E\u7ED3\u6784, \u4ECE\u4E0A\u81F3\u4E0B\u6267\u884C\u6DF1\u5EA6\u4F18\u5148\u904D\u5386(\u8BE6\u89C1",paraId:10,tocIndex:1},{value:"react \u7B97\u6CD5\u4E4B\u6DF1\u5EA6\u4F18\u5148\u904D\u5386",paraId:12,tocIndex:1},{value:").",paraId:10,tocIndex:1},{value:"fiber\u6784\u9020\u5FAA\u73AF",paraId:10,tocIndex:1},{value:"\u7684\u903B\u8F91\u504F\u5411\u5177\u4F53\u5B9E\u73B0, \u5B83\u53EA\u662F\u4EFB\u52A1(",paraId:10,tocIndex:1},{value:"task",paraId:10,tocIndex:1},{value:")\u7684\u4E00\u90E8\u5206(\u5982",paraId:10,tocIndex:1},{value:"performSyncWorkOnRoot",paraId:10,tocIndex:1},{value:"\u5305\u62EC: ",paraId:10,tocIndex:1},{value:"fiber",paraId:10,tocIndex:1},{value:"\u6811\u7684\u6784\u9020, ",paraId:10,tocIndex:1},{value:"DOM",paraId:10,tocIndex:1},{value:"\u6E32\u67D3, \u8C03\u5EA6\u68C0\u6D4B), \u53EA\u8D1F\u8D23",paraId:10,tocIndex:1},{value:"fiber",paraId:10,tocIndex:1},{value:"\u6811\u7684\u6784\u9020.",paraId:10,tocIndex:1},{value:"\u8054\u7CFB",paraId:13,tocIndex:1},{value:"fiber\u6784\u9020\u5FAA\u73AF",paraId:14,tocIndex:1},{value:"\u662F",paraId:14,tocIndex:1},{value:"\u4EFB\u52A1\u8C03\u5EA6\u5FAA\u73AF",paraId:14,tocIndex:1},{value:"\u4E2D\u7684\u4EFB\u52A1(",paraId:14,tocIndex:1},{value:"task",paraId:14,tocIndex:1},{value:")\u7684\u4E00\u90E8\u5206. \u5B83\u4EEC\u662F\u4ECE\u5C5E\u5173\u7CFB, \u6BCF\u4E2A\u4EFB\u52A1\u90FD\u4F1A\u91CD\u65B0\u6784\u9020\u4E00\u4E2A",paraId:14,tocIndex:1},{value:"fiber",paraId:14,tocIndex:1},{value:"\u6811.",paraId:14,tocIndex:1},{value:"\u901A\u8FC7\u4E0A\u6587\u7684\u63CF\u8FF0, \u4E24\u5927\u5FAA\u73AF\u7684\u5206\u5DE5\u53EF\u4EE5\u603B\u7ED3\u4E3A: \u5927\u5FAA\u73AF(\u4EFB\u52A1\u8C03\u5EA6\u5FAA\u73AF)\u8D1F\u8D23\u8C03\u5EA6",paraId:15,tocIndex:2},{value:"task",paraId:15,tocIndex:2},{value:", \u5C0F\u5FAA\u73AF(fiber \u6784\u9020\u5FAA\u73AF)\u8D1F\u8D23\u5B9E\u73B0",paraId:15,tocIndex:2},{value:"task",paraId:15,tocIndex:2},{value:" .",paraId:15,tocIndex:2},{value:"react \u8FD0\u884C\u7684\u4E3B\u5E72\u903B\u8F91, \u5373\u5C06",paraId:16,tocIndex:2},{value:"\u8F93\u5165\u8F6C\u6362\u4E3A\u8F93\u51FA",paraId:16,tocIndex:2},{value:"\u7684\u6838\u5FC3\u6B65\u9AA4, \u5B9E\u9645\u4E0A\u5C31\u662F\u56F4\u7ED5\u8FD9\u4E24\u5927\u5DE5\u4F5C\u5FAA\u73AF\u8FDB\u884C\u5C55\u5F00.",paraId:16,tocIndex:2},{value:"\u7ED3\u5408\u4E0A\u6587\u7684\u5B8F\u89C2\u6982\u89C8\u56FE(\u5C55\u793A\u6838\u5FC3\u5305\u4E4B\u95F4\u7684\u8C03\u7528\u5173\u7CFB), \u53EF\u4EE5\u5C06 react \u8FD0\u884C\u7684\u4E3B\u5E72\u903B\u8F91\u8FDB\u884C\u6982\u62EC:",paraId:17,tocIndex:2},{value:"\u8F93\u5165: \u5C06\u6BCF\u4E00\u6B21\u66F4\u65B0(\u5982: \u65B0\u589E, \u5220\u9664, \u4FEE\u6539\u8282\u70B9\u4E4B\u540E)\u89C6\u4E3A\u4E00\u6B21",paraId:18,tocIndex:2},{value:"\u66F4\u65B0\u9700\u6C42",paraId:18,tocIndex:2},{value:"(\u76EE\u7684\u662F\u8981\u66F4\u65B0",paraId:18,tocIndex:2},{value:"DOM",paraId:18,tocIndex:2},{value:"\u8282\u70B9).",paraId:18,tocIndex:2},{value:"\u6CE8\u518C\u8C03\u5EA6\u4EFB\u52A1: ",paraId:18,tocIndex:2},{value:"react-reconciler",paraId:18,tocIndex:2},{value:"\u6536\u5230",paraId:18,tocIndex:2},{value:"\u66F4\u65B0\u9700\u6C42",paraId:18,tocIndex:2},{value:"\u4E4B\u540E, \u5E76\u4E0D\u4F1A\u7ACB\u5373\u6784\u9020",paraId:18,tocIndex:2},{value:"fiber\u6811",paraId:18,tocIndex:2},{value:", \u800C\u662F\u53BB\u8C03\u5EA6\u4E2D\u5FC3",paraId:18,tocIndex:2},{value:"scheduler",paraId:18,tocIndex:2},{value:"\u6CE8\u518C\u4E00\u4E2A\u65B0\u4EFB\u52A1",paraId:18,tocIndex:2},{value:"task",paraId:18,tocIndex:2},{value:", \u5373\u628A",paraId:18,tocIndex:2},{value:"\u66F4\u65B0\u9700\u6C42",paraId:18,tocIndex:2},{value:"\u8F6C\u6362\u6210\u4E00\u4E2A",paraId:18,tocIndex:2},{value:"task",paraId:18,tocIndex:2},{value:".",paraId:18,tocIndex:2},{value:"\u6267\u884C\u8C03\u5EA6\u4EFB\u52A1(\u8F93\u51FA): \u8C03\u5EA6\u4E2D\u5FC3",paraId:18,tocIndex:2},{value:"scheduler",paraId:18,tocIndex:2},{value:"\u901A\u8FC7",paraId:18,tocIndex:2},{value:"\u4EFB\u52A1\u8C03\u5EA6\u5FAA\u73AF",paraId:18,tocIndex:2},{value:"\u6765\u6267\u884C",paraId:18,tocIndex:2},{value:"task",paraId:18,tocIndex:2},{value:"(",paraId:18,tocIndex:2},{value:"task",paraId:18,tocIndex:2},{value:"\u7684\u6267\u884C\u8FC7\u7A0B\u53C8\u56DE\u5230\u4E86",paraId:18,tocIndex:2},{value:"react-reconciler",paraId:18,tocIndex:2},{value:`\u5305\u4E2D).
`,paraId:18,tocIndex:2},{value:"fiber\u6784\u9020\u5FAA\u73AF",paraId:19,tocIndex:2},{value:"\u662F",paraId:19,tocIndex:2},{value:"task",paraId:19,tocIndex:2},{value:"\u7684\u5B9E\u73B0\u73AF\u8282\u4E4B\u4E00, \u5FAA\u73AF\u5B8C\u6210\u4E4B\u540E\u4F1A\u6784\u9020\u51FA\u6700\u65B0\u7684 fiber \u6811.",paraId:19,tocIndex:2},{value:"commitRoot",paraId:19,tocIndex:2},{value:"\u662F",paraId:19,tocIndex:2},{value:"task",paraId:19,tocIndex:2},{value:"\u7684\u5B9E\u73B0\u73AF\u8282\u4E4B\u4E8C, \u628A\u6700\u65B0\u7684 fiber \u6811\u6700\u7EC8\u6E32\u67D3\u5230\u9875\u9762\u4E0A, ",paraId:19,tocIndex:2},{value:"task",paraId:19,tocIndex:2},{value:"\u5B8C\u6210.",paraId:19,tocIndex:2},{value:"\u4E3B\u5E72\u903B\u8F91\u5C31\u662F",paraId:20,tocIndex:2},{value:"\u8F93\u5165\u5230\u8F93\u51FA",paraId:20,tocIndex:2},{value:"\u8FD9\u4E00\u6761\u94FE\u8DEF, \u4E3A\u4E86\u66F4\u597D\u7684\u6027\u80FD(\u5982",paraId:20,tocIndex:2},{value:"\u6279\u91CF\u66F4\u65B0",paraId:20,tocIndex:2},{value:", ",paraId:20,tocIndex:2},{value:"\u53EF\u4E2D\u65AD\u6E32\u67D3",paraId:20,tocIndex:2},{value:"\u7B49\u529F\u80FD), ",paraId:20,tocIndex:2},{value:"react",paraId:20,tocIndex:2},{value:"\u5728\u8F93\u5165\u5230\u8F93\u51FA\u7684\u94FE\u8DEF\u4E0A\u505A\u4E86\u5F88\u591A\u4F18\u5316\u7B56\u7565, \u6BD4\u5982\u672C\u6587\u8BB2\u8FF0\u7684",paraId:20,tocIndex:2},{value:"\u4EFB\u52A1\u8C03\u5EA6\u5FAA\u73AF",paraId:20,tocIndex:2},{value:"\u548C",paraId:20,tocIndex:2},{value:"fiber\u6784\u9020\u5FAA\u73AF",paraId:20,tocIndex:2},{value:"\u76F8\u4E92\u914D\u5408\u5C31\u53EF\u4EE5\u5B9E\u73B0",paraId:20,tocIndex:2},{value:"\u53EF\u4E2D\u65AD\u6E32\u67D3",paraId:20,tocIndex:2},{value:".",paraId:20,tocIndex:2},{value:"\u672C\u8282\u4ECE\u5B8F\u89C2\u89D2\u5EA6\u63CF\u8FF0\u4E86",paraId:21,tocIndex:3},{value:"react",paraId:21,tocIndex:3},{value:"\u6E90\u7801\u4E2D\u7684\u4E24\u5927\u5DE5\u4F5C\u5FAA\u73AF. \u901A\u8FC7\u8FD9\u4E24\u4E2A\u5927\u5FAA\u73AF\u6982\u62EC\u51FA",paraId:21,tocIndex:3},{value:"react",paraId:21,tocIndex:3},{value:"\u8FD0\u884C\u7684\u4E3B\u5E72\u903B\u8F91. ",paraId:21,tocIndex:3},{value:"react-reconciler",paraId:21,tocIndex:3},{value:"\u548C",paraId:21,tocIndex:3},{value:"Scheduler",paraId:21,tocIndex:3},{value:"\u5305\u4EE3\u7801\u91CF\u591A\u4E14\u903B\u8F91\u590D\u6742, \u4F46\u5B9E\u9645\u4E0A\u5927\u90E8\u5206\u90FD\u662F\u670D\u52A1\u4E8E\u8FD9\u4E2A\u4E3B\u5E72. \u4E86\u89E3\u8FD9\u4E24\u5927\u5FAA\u73AF, \u66F4\u5BB9\u6613\u7406\u89E3",paraId:21,tocIndex:3},{value:"react",paraId:21,tocIndex:3},{value:"\u7684\u6574\u4F53\u8FD0\u884C\u94FE\u8DEF.",paraId:21,tocIndex:3}],ru={},Qr={title:"context \u539F\u7406",toc:"menu",filename:"docs/main/context.md",group:"\u72B6\u6001\u7BA1\u7406",order:4,description:"\u7B80\u5355\u6765\u8BB2, Context\u63D0\u4F9B\u4E86\u4E00\u79CD\u76F4\u63A5\u8BBF\u95EE\u7956\u5148\u8282\u70B9\u4E0A\u7684\u72B6\u6001\u7684\u65B9\u6CD5, \u907F\u514D\u4E86\u591A\u7EA7\u7EC4\u4EF6\u5C42\u5C42\u4F20\u9012props."},so=[{id:"react-context-\u539F\u7406",depth:1,title:"React Context \u539F\u7406"},{id:"\u521B\u5EFA-context",depth:2,title:"\u521B\u5EFA Context"},{id:"context_currentvalue-\u5B58\u50A8",depth:3,title:"context._currentValue \u5B58\u50A8"},{id:"\u6D88\u8D39-context",depth:2,title:"\u6D88\u8D39 Context"},{id:"\u66F4\u65B0-context",depth:2,title:"\u66F4\u65B0 Context"},{id:"\u603B\u7ED3",depth:2,title:"\u603B\u7ED3"}],po=[{value:"\u7B80\u5355\u6765\u8BB2, ",paraId:0,tocIndex:0},{value:"Context",paraId:0,tocIndex:0},{value:"\u63D0\u4F9B\u4E86\u4E00\u79CD\u76F4\u63A5\u8BBF\u95EE\u7956\u5148\u8282\u70B9\u4E0A\u7684\u72B6\u6001\u7684\u65B9\u6CD5, \u907F\u514D\u4E86\u591A\u7EA7\u7EC4\u4EF6\u5C42\u5C42\u4F20\u9012",paraId:0,tocIndex:0},{value:"props",paraId:0,tocIndex:0},{value:".",paraId:0,tocIndex:0},{value:"\u6709\u5173",paraId:1,tocIndex:0},{value:"Context",paraId:1,tocIndex:0},{value:"\u7684\u7528\u6CD5, \u8BF7\u76F4\u63A5\u67E5\u770B\u5B98\u65B9\u6587\u6863, \u672C\u6587\u5C06\u4ECE",paraId:1,tocIndex:0},{value:"fiber\u6811\u6784\u9020",paraId:1,tocIndex:0},{value:"\u7684\u89C6\u89D2, \u5206\u6790",paraId:1,tocIndex:0},{value:"Context",paraId:1,tocIndex:0},{value:"\u7684\u5B9E\u73B0\u539F\u7406.",paraId:1,tocIndex:0},{value:"\u6839\u636E\u5B98\u7F51\u793A\u4F8B, \u901A\u8FC7",paraId:2,tocIndex:1},{value:"React.createContext",paraId:2,tocIndex:1},{value:"\u8FD9\u4E2A api \u6765\u521B\u5EFA",paraId:2,tocIndex:1},{value:"context",paraId:2,tocIndex:1},{value:"\u5BF9\u8C61. \u5728",paraId:2,tocIndex:1},{value:"createContext",paraId:2,tocIndex:1},{value:"\u4E2D, \u53EF\u4EE5\u770B\u5230",paraId:2,tocIndex:1},{value:"context",paraId:2,tocIndex:1},{value:"\u5BF9\u8C61\u7684\u6570\u636E\u7ED3\u6784:",paraId:2,tocIndex:1},{value:`export function createContext<T>(
  defaultValue: T,
  calculateChangedBits: ?(a: T, b: T) => number,
): ReactContext<T> {
  if (calculateChangedBits === undefined) {
    calculateChangedBits = null;
  }
  const context: ReactContext<T> = {
    $$typeof: REACT_CONTEXT_TYPE,
    _calculateChangedBits: calculateChangedBits,
    // As a workaround to support multiple concurrent renderers, we categorize
    // some renderers as primary and others as secondary. We only expect
    // there to be two concurrent renderers at most: React Native (primary) and
    // Fabric (secondary); React DOM (primary) and React ART (secondary).
    // Secondary renderers store their context values on separate fields.
    _currentValue: defaultValue,
    _currentValue2: defaultValue,
    _threadCount: 0,
    Provider: (null: any),
    Consumer: (null: any),
  };

  context.Provider = {
    $$typeof: REACT_PROVIDER_TYPE,
    _context: context,
  };
  context.Consumer = context;
  return context;
}
`,paraId:3,tocIndex:1},{value:"createContext",paraId:4,tocIndex:1},{value:"\u6838\u5FC3\u903B\u8F91:",paraId:4,tocIndex:1},{value:"\u5176\u521D\u59CB\u503C\u4FDD\u5B58\u5728",paraId:5,tocIndex:1},{value:"context._currentValue",paraId:5,tocIndex:1},{value:"(\u540C\u65F6\u4FDD\u5B58\u5230",paraId:5,tocIndex:1},{value:"context._currentValue2",paraId:5,tocIndex:1},{value:". \u82F1\u6587\u6CE8\u91CA\u5DF2\u7ECF\u89E3\u91CA, \u4FDD\u5B58 2 \u4E2A value \u662F\u4E3A\u4E86\u652F\u6301\u591A\u4E2A\u6E32\u67D3\u5668\u5E76\u53D1\u6E32\u67D3)",paraId:5,tocIndex:1},{value:"\u540C\u65F6\u521B\u5EFA\u4E86",paraId:5,tocIndex:1},{value:"context.Provider",paraId:5,tocIndex:1},{value:", ",paraId:5,tocIndex:1},{value:"context.Consumer",paraId:5,tocIndex:1},{value:"2 \u4E2A",paraId:5,tocIndex:1},{value:"reactElement",paraId:5,tocIndex:1},{value:"\u5BF9\u8C61.",paraId:5,tocIndex:1},{value:"\u6BD4\u5982, \u521B\u5EFA",paraId:6,tocIndex:1},{value:"const MyContext = React.createContext(defaultValue);",paraId:6,tocIndex:1},{value:", \u4E4B\u540E\u4F7F\u7528",paraId:6,tocIndex:1},{value:"<MyContext.Provider value={/* \u67D0\u4E2A\u503C */}>",paraId:6,tocIndex:1},{value:"\u58F0\u660E\u4E00\u4E2A",paraId:6,tocIndex:1},{value:"ContextProvider",paraId:6,tocIndex:1},{value:"\u7C7B\u578B\u7684\u7EC4\u4EF6.",paraId:6,tocIndex:1},{value:"\u5728",paraId:7,tocIndex:1},{value:"fiber\u6811\u6E32\u67D3",paraId:7,tocIndex:1},{value:"\u65F6, \u5728",paraId:7,tocIndex:1},{value:"beginWork",paraId:7,tocIndex:1},{value:"\u4E2D",paraId:7,tocIndex:1},{value:"ContextProvider",paraId:7,tocIndex:1},{value:"\u7C7B\u578B\u7684\u8282\u70B9\u5BF9\u5E94\u7684\u5904\u7406\u51FD\u6570\u662F",paraId:7,tocIndex:1},{value:"updateContextProvider",paraId:7,tocIndex:1},{value:":",paraId:7,tocIndex:1},{value:`function beginWork(
  current: Fiber | null,
  workInProgress: Fiber,
  renderLanes: Lanes,
): Fiber | null {
  const updateLanes = workInProgress.lanes;
  workInProgress.lanes = NoLanes;
  // ...\u7701\u7565\u65E0\u5173\u4EE3\u7801
  switch (workInProgress.tag) {
    case ContextProvider:
      return updateContextProvider(current, workInProgress, renderLanes);
    case ContextConsumer:
      return updateContextConsumer(current, workInProgress, renderLanes);
  }
}

function updateContextProvider(
  current: Fiber | null,
  workInProgress: Fiber,
  renderLanes: Lanes,
) {
  // ...\u7701\u7565\u65E0\u5173\u4EE3\u7801
  const providerType: ReactProviderType<any> = workInProgress.type;
  const context: ReactContext<any> = providerType._context;

  const newProps = workInProgress.pendingProps;
  const oldProps = workInProgress.memoizedProps;
  // \u63A5\u6536\u65B0value
  const newValue = newProps.value;

  // \u66F4\u65B0 ContextProvider._currentValue
  pushProvider(workInProgress, newValue);

  if (oldProps !== null) {
    // ... \u7701\u7565\u66F4\u65B0context\u7684\u903B\u8F91, \u4E0B\u6587\u8BA8\u8BBA
  }

  const newChildren = newProps.children;
  reconcileChildren(current, workInProgress, newChildren, renderLanes);
  return workInProgress.child;
}
`,paraId:8,tocIndex:1},{value:"updateContextProvider()",paraId:9,tocIndex:1},{value:"\u5728",paraId:9,tocIndex:1},{value:"fiber\u521D\u6B21\u521B\u5EFA",paraId:9,tocIndex:1},{value:"\u65F6\u5341\u5206\u7B80\u5355, \u4EC5\u4EC5\u5C31\u662F\u4FDD\u5B58\u4E86",paraId:9,tocIndex:1},{value:"pendingProps.value",paraId:9,tocIndex:1},{value:"\u505A\u4E3A",paraId:9,tocIndex:1},{value:"context",paraId:9,tocIndex:1},{value:"\u7684\u6700\u65B0\u503C, \u4E4B\u540E\u8FD9\u4E2A\u6700\u65B0\u7684\u503C\u7528\u4E8E\u4F9B\u7ED9\u6D88\u8D39.",paraId:9,tocIndex:1},{value:"\u6CE8\u610F",paraId:10,tocIndex:2},{value:"updateContextProvider -> pushProvider",paraId:10,tocIndex:2},{value:"\u4E2D\u7684",paraId:10,tocIndex:2},{value:"pushProvider(workInProgress, newValue)",paraId:10,tocIndex:2},{value:":",paraId:10,tocIndex:2},{value:`// ...\u7701\u7565\u65E0\u5173\u4EE3\u7801
export function pushProvider<T>(providerFiber: Fiber, nextValue: T): void {
  const context: ReactContext<T> = providerFiber.type._context;
  push(valueCursor, context._currentValue, providerFiber);
  context._currentValue = nextValue;
}
`,paraId:11,tocIndex:2},{value:"pushProvider",paraId:12,tocIndex:2},{value:"\u5B9E\u9645\u4E0A\u662F\u4E00\u4E2A\u5B58\u50A8\u51FD\u6570, \u5229\u7528",paraId:12,tocIndex:2},{value:"\u6808",paraId:12,tocIndex:2},{value:"\u7684\u7279\u6027, \u5148\u628A",paraId:12,tocIndex:2},{value:"context._currentValue",paraId:12,tocIndex:2},{value:"\u538B\u6808, \u4E4B\u540E\u66F4\u65B0",paraId:12,tocIndex:2},{value:"context._currentValue = nextValue",paraId:12,tocIndex:2},{value:".",paraId:12,tocIndex:2},{value:"\u4E0E",paraId:13,tocIndex:2},{value:"pushProvider",paraId:13,tocIndex:2},{value:"\u5BF9\u5E94\u7684\u8FD8\u6709",paraId:13,tocIndex:2},{value:"popProvider",paraId:13,tocIndex:2},{value:", \u540C\u6837\u5229\u7528",paraId:13,tocIndex:2},{value:"\u6808",paraId:13,tocIndex:2},{value:"\u7684\u7279\u6027, \u628A",paraId:13,tocIndex:2},{value:"\u6808",paraId:13,tocIndex:2},{value:"\u4E2D\u7684\u503C\u5F39\u51FA, \u8FD8\u539F\u5230",paraId:13,tocIndex:2},{value:"context._currentValue",paraId:13,tocIndex:2},{value:"\u4E2D.",paraId:13,tocIndex:2},{value:"\u672C\u8282\u91CD\u70B9\u5206\u6790",paraId:14,tocIndex:2},{value:"Context Api",paraId:14,tocIndex:2},{value:"\u5728",paraId:14,tocIndex:2},{value:"fiber\u6811\u6784\u9020",paraId:14,tocIndex:2},{value:"\u8FC7\u7A0B\u4E2D\u7684\u4F5C\u7528. \u6709\u5173",paraId:14,tocIndex:2},{value:"pushProvider/popProvider",paraId:14,tocIndex:2},{value:"\u7684\u5177\u4F53\u5B9E\u73B0\u8FC7\u7A0B(\u6808\u5B58\u50A8), \u5728",paraId:14,tocIndex:2},{value:"React \u7B97\u6CD5\u4E4B\u6808\u64CD\u4F5C",paraId:15,tocIndex:2},{value:"\u4E2D\u6709\u8BE6\u7EC6\u56FE\u89E3.",paraId:14,tocIndex:2},{value:"\u4F7F\u7528\u4E86",paraId:16,tocIndex:3},{value:"MyContext.Provider",paraId:16,tocIndex:3},{value:"\u7EC4\u4EF6\u4E4B\u540E, \u5728",paraId:16,tocIndex:3},{value:"fiber\u6811\u6784\u9020",paraId:16,tocIndex:3},{value:"\u8FC7\u7A0B\u4E2D, context \u7684\u503C\u4F1A\u88AB",paraId:16,tocIndex:3},{value:"ContextProvider",paraId:16,tocIndex:3},{value:"\u7C7B\u578B\u7684",paraId:16,tocIndex:3},{value:"fiber",paraId:16,tocIndex:3},{value:"\u8282\u70B9\u6240\u66F4\u65B0. \u5728\u540E\u7EED\u7684\u8FC7\u7A0B\u4E2D, \u5982\u4F55\u8BFB\u53D6",paraId:16,tocIndex:3},{value:"context._currentValue",paraId:16,tocIndex:3},{value:"?",paraId:16,tocIndex:3},{value:"\u5728",paraId:17,tocIndex:3},{value:"react",paraId:17,tocIndex:3},{value:"\u4E2D, \u5171\u63D0\u4F9B\u4E86 3 \u79CD\u65B9\u5F0F\u53EF\u4EE5\u6D88\u8D39",paraId:17,tocIndex:3},{value:"Context",paraId:17,tocIndex:3},{value:":",paraId:17,tocIndex:3},{value:"\u4F7F\u7528",paraId:18,tocIndex:3},{value:"MyContext.Consumer",paraId:18,tocIndex:3},{value:"\u7EC4\u4EF6: \u7528\u4E8E",paraId:18,tocIndex:3},{value:"JSX",paraId:18,tocIndex:3},{value:". \u5982, ",paraId:18,tocIndex:3},{value:"<MyContext.Consumer>(value)=>{}</MyContext.Consumer>",paraId:18,tocIndex:3},{value:"beginWork",paraId:19,tocIndex:3},{value:"\u4E2D, \u5BF9\u4E8E",paraId:19,tocIndex:3},{value:"ContextConsumer",paraId:19,tocIndex:3},{value:"\u7C7B\u578B\u7684\u8282\u70B9, \u5BF9\u5E94\u7684\u5904\u7406\u51FD\u6570\u662F",paraId:19,tocIndex:3},{value:"updateContextConsumer",paraId:19,tocIndex:3},{value:`function updateContextConsumer(
  current: Fiber | null,
  workInProgress: Fiber,
  renderLanes: Lanes,
) {
  let context: ReactContext<any> = workInProgress.type;
  const newProps = workInProgress.pendingProps;
  const render = newProps.children;

  // \u8BFB\u53D6context
  prepareToReadContext(workInProgress, renderLanes);
  const newValue = readContext(context, newProps.unstable_observedBits);
  let newChildren;

  // ...\u7701\u7565\u65E0\u5173\u4EE3\u7801
}
`,paraId:20,tocIndex:3},{value:"\u4F7F\u7528",paraId:21,tocIndex:3},{value:"useContext",paraId:21,tocIndex:3},{value:": \u7528\u4E8E",paraId:21,tocIndex:3},{value:"function",paraId:21,tocIndex:3},{value:"\u4E2D. \u5982, ",paraId:21,tocIndex:3},{value:"const value = useContext(MyContext)",paraId:21,tocIndex:3},{value:"\u8FDB\u5165",paraId:22,tocIndex:3},{value:"updateFunctionComponent",paraId:22,tocIndex:3},{value:"\u540E, \u4F1A\u8C03\u7528",paraId:22,tocIndex:3},{value:"prepareToReadContext",paraId:22,tocIndex:3},{value:"\u65E0\u8BBA\u662F\u521D\u6B21",paraId:22,tocIndex:3},{value:"\u521B\u5EFA\u9636\u6BB5",paraId:22,tocIndex:3},{value:", \u8FD8\u662F",paraId:22,tocIndex:3},{value:"\u66F4\u65B0\u9636\u6BB5",paraId:22,tocIndex:3},{value:", ",paraId:22,tocIndex:3},{value:"useContext",paraId:22,tocIndex:3},{value:"\u90FD\u76F4\u63A5\u8C03\u7528\u4E86",paraId:22,tocIndex:3},{value:"readContext",paraId:22,tocIndex:3},{value:"class",paraId:23,tocIndex:3},{value:"\u7EC4\u4EF6\u4E2D, \u4F7F\u7528\u4E00\u4E2A\u9759\u6001\u5C5E\u6027",paraId:23,tocIndex:3},{value:"contextType",paraId:23,tocIndex:3},{value:": \u7528\u4E8E",paraId:23,tocIndex:3},{value:"class",paraId:23,tocIndex:3},{value:"\u7EC4\u4EF6\u4E2D\u83B7\u53D6",paraId:23,tocIndex:3},{value:"context",paraId:23,tocIndex:3},{value:". \u5982, ",paraId:23,tocIndex:3},{value:"MyClass.contextType = MyContext;",paraId:23,tocIndex:3},{value:"\u8FDB\u5165",paraId:24,tocIndex:3},{value:"updateClassComponent",paraId:24,tocIndex:3},{value:"\u540E, \u4F1A\u8C03\u7528",paraId:24,tocIndex:3},{value:"prepareToReadContext",paraId:24,tocIndex:3},{value:"\u65E0\u8BBA",paraId:24,tocIndex:3},{value:"constructClassInstance",paraId:24,tocIndex:3},{value:",",paraId:24,tocIndex:3},{value:"mountClassInstance",paraId:24,tocIndex:3},{value:", ",paraId:24,tocIndex:3},{value:"updateClassInstance",paraId:24,tocIndex:3},{value:"\u5185\u90E8\u90FD\u8C03\u7528",paraId:24,tocIndex:3},{value:"context = readContext((contextType: any));",paraId:24,tocIndex:3},{value:"\u6240\u4EE5\u8FD9 3 \u79CD\u65B9\u5F0F\u53EA\u662F",paraId:25,tocIndex:3},{value:"react",paraId:25,tocIndex:3},{value:"\u6839\u636E\u4E0D\u540C\u4F7F\u7528\u573A\u666F\u5C01\u88C5\u7684",paraId:25,tocIndex:3},{value:"api",paraId:25,tocIndex:3},{value:", \u5185\u90E8\u90FD\u4F1A\u8C03\u7528",paraId:25,tocIndex:3},{value:"prepareToReadContext",paraId:25,tocIndex:3},{value:"\u548C",paraId:25,tocIndex:3},{value:"readContext(contextType)",paraId:25,tocIndex:3},{value:".",paraId:25,tocIndex:3},{value:`// ... \u7701\u7565\u65E0\u5173\u4EE3\u7801
export function prepareToReadContext(
  workInProgress: Fiber,
  renderLanes: Lanes,
): void {
  // 1. \u8BBE\u7F6E\u5168\u5C40\u53D8\u91CF, \u4E3AreadContext\u505A\u51C6\u5907
  currentlyRenderingFiber = workInProgress;
  lastContextDependency = null;
  lastContextWithAllBitsObserved = null;

  const dependencies = workInProgress.dependencies;
  if (dependencies !== null) {
    const firstContext = dependencies.firstContext;
    if (firstContext !== null) {
      if (includesSomeLane(dependencies.lanes, renderLanes)) {
        // Context list has a pending update. Mark that this fiber performed work.
        markWorkInProgressReceivedUpdate();
      }
      // Reset the work-in-progress list
      dependencies.firstContext = null;
    }
  }
}
// ... \u7701\u7565\u65E0\u5173\u4EE3\u7801
export function readContext<T>(
  context: ReactContext<T>,
  observedBits: void | number | boolean,
): T {
  const contextItem = {
    context: ((context: any): ReactContext<mixed>),
    observedBits: resolvedObservedBits,
    next: null,
  };
  // 1. \u6784\u9020\u4E00\u4E2AcontextItem, \u52A0\u5165\u5230 workInProgress.dependencies\u94FE\u8868\u4E4B\u540E
  if (lastContextDependency === null) {
    lastContextDependency = contextItem;
    currentlyRenderingFiber.dependencies = {
      lanes: NoLanes,
      firstContext: contextItem,
      responders: null,
    };
  } else {
    lastContextDependency = lastContextDependency.next = contextItem;
  }
  // 2. \u8FD4\u56DE currentValue
  return isPrimaryRenderer ? context._currentValue : context._currentValue2;
}
`,paraId:26,tocIndex:3},{value:"\u6838\u5FC3\u903B\u8F91:",paraId:27,tocIndex:3},{value:"prepareToReadContext",paraId:28,tocIndex:3},{value:": \u8BBE\u7F6E",paraId:28,tocIndex:3},{value:"currentlyRenderingFiber = workInProgress",paraId:28,tocIndex:3},{value:", \u5E76\u91CD\u7F6E",paraId:28,tocIndex:3},{value:"lastContextDependency",paraId:28,tocIndex:3},{value:"\u7B49\u5168\u5C40\u53D8\u91CF.",paraId:28,tocIndex:3},{value:"readContext",paraId:28,tocIndex:3},{value:": \u8FD4\u56DE",paraId:28,tocIndex:3},{value:"context._currentValue",paraId:28,tocIndex:3},{value:", \u5E76\u6784\u9020\u4E00\u4E2A",paraId:28,tocIndex:3},{value:"contextItem",paraId:28,tocIndex:3},{value:"\u6DFB\u52A0\u5230",paraId:28,tocIndex:3},{value:"workInProgress.dependencies",paraId:28,tocIndex:3},{value:"\u94FE\u8868\u4E4B\u540E.",paraId:28,tocIndex:3},{value:"\u6CE8\u610F: \u8FD9\u4E2A",paraId:29,tocIndex:3},{value:"readContext",paraId:29,tocIndex:3},{value:"\u5E76\u4E0D\u662F\u7EAF\u51FD\u6570, \u5B83\u8FD8\u6709\u4E00\u4E9B\u526F\u4F5C\u7528, \u4F1A\u66F4\u6539",paraId:29,tocIndex:3},{value:"workInProgress.dependencies",paraId:29,tocIndex:3},{value:", \u5176\u4E2D",paraId:29,tocIndex:3},{value:"contextItem.context",paraId:29,tocIndex:3},{value:"\u4FDD\u5B58\u4E86\u5F53\u524D",paraId:29,tocIndex:3},{value:"context",paraId:29,tocIndex:3},{value:"\u7684\u5F15\u7528. \u8FD9\u4E2A",paraId:29,tocIndex:3},{value:"dependencies",paraId:29,tocIndex:3},{value:"\u5C5E\u6027\u4F1A\u5728\u66F4\u65B0\u65F6\u4F7F\u7528, \u7528\u4E8E\u5224\u5B9A\u662F\u5426\u4F9D\u8D56\u4E86",paraId:29,tocIndex:3},{value:"ContextProvider",paraId:29,tocIndex:3},{value:"\u4E2D\u7684\u503C.",paraId:29,tocIndex:3},{value:"\u8FD4\u56DE",paraId:30,tocIndex:3},{value:"context._currentValue",paraId:30,tocIndex:3},{value:"\u4E4B\u540E, \u4E4B\u540E\u7EE7\u7EED\u8FDB\u884C",paraId:30,tocIndex:3},{value:"fiber\u6811\u6784\u9020",paraId:30,tocIndex:3},{value:"\u76F4\u5230\u5168\u90E8\u5B8C\u6210\u5373\u53EF.",paraId:30,tocIndex:3},{value:"\u6765\u5230\u66F4\u65B0\u9636\u6BB5, \u540C\u6837\u8FDB\u5165",paraId:31,tocIndex:4},{value:"updateContextConsumer",paraId:31,tocIndex:4},{value:`function updateContextProvider(
  current: Fiber | null,
  workInProgress: Fiber,
  renderLanes: Lanes,
) {
  const providerType: ReactProviderType<any> = workInProgress.type;
  const context: ReactContext<any> = providerType._context;

  const newProps = workInProgress.pendingProps;
  const oldProps = workInProgress.memoizedProps;

  const newValue = newProps.value;

  pushProvider(workInProgress, newValue);

  if (oldProps !== null) {
    // \u66F4\u65B0\u9636\u6BB5\u8FDB\u5165
    const oldValue = oldProps.value;
    // \u5BF9\u6BD4 newValue \u548C oldValue
    const changedBits = calculateChangedBits(context, newValue, oldValue);
    if (changedBits === 0) {
      // value\u6CA1\u6709\u53D8\u52A8, \u8FDB\u5165 Bailout \u903B\u8F91
      if (
        oldProps.children === newProps.children &&
        !hasLegacyContextChanged()
      ) {
        return bailoutOnAlreadyFinishedWork(
          current,
          workInProgress,
          renderLanes,
        );
      }
    } else {
      // value\u53D8\u52A8, \u67E5\u627E\u5BF9\u5E94\u7684consumers, \u5E76\u4F7F\u5176\u80FD\u591F\u88AB\u66F4\u65B0
      propagateContextChange(workInProgress, context, changedBits, renderLanes);
    }
  }
  // ... \u7701\u7565\u65E0\u5173\u4EE3\u7801
}
`,paraId:32,tocIndex:4},{value:"\u6838\u5FC3\u903B\u8F91:",paraId:33,tocIndex:4},{value:"value",paraId:34,tocIndex:4},{value:"\u6CA1\u6709\u6539\u53D8, \u76F4\u63A5\u8FDB\u5165",paraId:34,tocIndex:4},{value:"Bailout",paraId:34,tocIndex:4},{value:"(\u53EF\u4EE5\u56DE\u987E",paraId:34,tocIndex:4},{value:"fiber \u6811\u6784\u9020(\u5BF9\u6BD4\u66F4\u65B0)",paraId:35,tocIndex:4},{value:"\u4E2D\u5BF9",paraId:34,tocIndex:4},{value:"bailout",paraId:34,tocIndex:4},{value:"\u7684\u89E3\u91CA).",paraId:34,tocIndex:4},{value:"value",paraId:34,tocIndex:4},{value:"\u6539\u53D8, \u8C03\u7528",paraId:34,tocIndex:4},{value:"propagateContextChange",paraId:34,tocIndex:4},{value:"propagateContextChange",paraId:36,tocIndex:4},{value:":",paraId:36,tocIndex:4},{value:`export function propagateContextChange(
  workInProgress: Fiber,
  context: ReactContext<mixed>,
  changedBits: number,
  renderLanes: Lanes,
): void {
  let fiber = workInProgress.child;
  if (fiber !== null) {
    // Set the return pointer of the child to the work-in-progress fiber.
    fiber.return = workInProgress;
  }
  while (fiber !== null) {
    let nextFiber;
    const list = fiber.dependencies;
    if (list !== null) {
      nextFiber = fiber.child;
      let dependency = list.firstContext;
      while (dependency !== null) {
        // \u68C0\u67E5 dependency\u4E2D\u4F9D\u8D56\u7684context
        if (
          dependency.context === context &&
          (dependency.observedBits & changedBits) !== 0
        ) {
          // \u7B26\u5408\u6761\u4EF6, \u5B89\u6392\u8C03\u5EA6
          if (fiber.tag === ClassComponent) {
            // class \u7EC4\u4EF6\u9700\u8981\u521B\u5EFA\u4E00\u4E2Aupdate\u5BF9\u8C61, \u6DFB\u52A0\u5230updateQueue\u961F\u5217
            const update = createUpdate(
              NoTimestamp,
              pickArbitraryLane(renderLanes),
            );
            update.tag = ForceUpdate; // \u6CE8\u610FForceUpdate, \u4FDD\u8BC1class\u7EC4\u4EF6\u4E00\u5B9A\u6267\u884Crender
            enqueueUpdate(fiber, update);
          }
          fiber.lanes = mergeLanes(fiber.lanes, renderLanes);
          const alternate = fiber.alternate;
          if (alternate !== null) {
            alternate.lanes = mergeLanes(alternate.lanes, renderLanes);
          }
          // \u5411\u4E0A
          scheduleWorkOnParentPath(fiber.return, renderLanes);

          // \u6807\u8BB0\u4F18\u5148\u7EA7
          list.lanes = mergeLanes(list.lanes, renderLanes);

          // \u9000\u51FA\u67E5\u627E
          break;
        }
        dependency = dependency.next;
      }
    }

    // ...\u7701\u7565\u65E0\u5173\u4EE3\u7801
    // ...\u7701\u7565\u65E0\u5173\u4EE3\u7801

    fiber = nextFiber;
  }
}
`,paraId:37,tocIndex:4},{value:"propagateContextChange",paraId:38,tocIndex:4},{value:"\u6E90\u7801\u6BD4\u8F83\u957F, \u6838\u5FC3\u903B\u8F91\u5982\u4E0B:",paraId:38,tocIndex:4},{value:"\u5411\u4E0B\u904D\u5386: \u4ECE",paraId:39,tocIndex:4},{value:"ContextProvider",paraId:39,tocIndex:4},{value:"\u7C7B\u578B\u7684\u8282\u70B9\u5F00\u59CB, \u5411\u4E0B\u67E5\u627E\u6240\u6709",paraId:39,tocIndex:4},{value:"fiber.dependencies",paraId:39,tocIndex:4},{value:"\u4F9D\u8D56\u8BE5",paraId:39,tocIndex:4},{value:"context",paraId:39,tocIndex:4},{value:"\u7684\u8282\u70B9(\u5047\u8BBE\u53EB\u505A",paraId:39,tocIndex:4},{value:"consumer",paraId:39,tocIndex:4},{value:").",paraId:39,tocIndex:4},{value:"\u5411\u4E0A\u904D\u5386: \u4ECE",paraId:40,tocIndex:4},{value:"consumer",paraId:40,tocIndex:4},{value:"\u8282\u70B9\u5F00\u59CB, \u5411\u4E0A\u904D\u5386, \u4FEE\u6539\u7236\u8DEF\u5F84\u4E0A\u6240\u6709\u8282\u70B9\u7684",paraId:40,tocIndex:4},{value:"fiber.childLanes",paraId:40,tocIndex:4},{value:"\u5C5E\u6027, \u8868\u660E\u5176\u5B50\u8282\u70B9\u6709\u6539\u52A8, \u5B50\u8282\u70B9\u4F1A\u8FDB\u5165\u66F4\u65B0\u903B\u8F91.",paraId:40,tocIndex:4},{value:"\u8FD9\u4E00\u6B65\u901A\u8FC7\u8C03\u7528",paraId:41,tocIndex:4},{value:"scheduleWorkOnParentPath(fiber.return, renderLanes)",paraId:41,tocIndex:4},{value:"\u5B9E\u73B0.",paraId:41,tocIndex:4},{value:`export function scheduleWorkOnParentPath(
  parent: Fiber | null,
  renderLanes: Lanes,
) {
  // Update the child lanes of all the ancestors, including the alternates.
  let node = parent;
  while (node !== null) {
    const alternate = node.alternate;
    if (!isSubsetOfLanes(node.childLanes, renderLanes)) {
      node.childLanes = mergeLanes(node.childLanes, renderLanes);
      if (alternate !== null) {
        alternate.childLanes = mergeLanes(
          alternate.childLanes,
          renderLanes,
        );
      }
    } else if (
      alternate !== null &&
      !isSubsetOfLanes(alternate.childLanes, renderLanes)
    ) {
      alternate.childLanes = mergeLanes(alternate.childLanes, renderLanes);
    } else {
      // Neither alternate was updated, which means the rest of the
      // ancestor path already has sufficient priority.
      break;
    }
    node = node.return;
  }
}
`,paraId:42,tocIndex:4},{value:"scheduleWorkOnParentPath",paraId:43,tocIndex:4},{value:"\u4E0E",paraId:43,tocIndex:4},{value:"markUpdateLaneFromFiberToRoot",paraId:43,tocIndex:4},{value:"\u7684\u4F5C\u7528\u76F8\u4F3C, \u5177\u4F53\u53EF\u4EE5\u56DE\u987E",paraId:43,tocIndex:4},{value:"fiber \u6811\u6784\u9020(\u5BF9\u6BD4\u66F4\u65B0)",paraId:44,tocIndex:4},{value:"\u901A\u8FC7\u4EE5\u4E0A 2 \u4E2A\u6B65\u9AA4, \u4FDD\u8BC1\u4E86\u6240\u6709\u6D88\u8D39\u8BE5",paraId:45,tocIndex:4},{value:"context",paraId:45,tocIndex:4},{value:"\u7684\u5B50\u8282\u70B9\u90FD\u4F1A\u88AB\u91CD\u65B0\u6784\u9020, \u8FDB\u800C\u4FDD\u8BC1\u4E86\u72B6\u6001\u7684\u4E00\u81F4\u6027, \u5B9E\u73B0\u4E86",paraId:45,tocIndex:4},{value:"context",paraId:45,tocIndex:4},{value:"\u66F4\u65B0.",paraId:45,tocIndex:4},{value:"Context",paraId:46,tocIndex:5},{value:"\u7684\u5B9E\u73B0\u601D\u8DEF\u8FD8\u662F\u6BD4\u8F83\u6E05\u6670, \u603B\u4F53\u5206\u4E3A 2 \u6B65.",paraId:46,tocIndex:5},{value:"\u5728\u6D88\u8D39\u72B6\u6001\u65F6,",paraId:47,tocIndex:5},{value:"ContextConsumer",paraId:47,tocIndex:5},{value:"\u8282\u70B9\u8C03\u7528",paraId:47,tocIndex:5},{value:"readContext(MyContext)",paraId:47,tocIndex:5},{value:"\u83B7\u53D6\u6700\u65B0\u72B6\u6001.",paraId:47,tocIndex:5},{value:"\u5728\u66F4\u65B0\u72B6\u6001\u65F6, \u7531",paraId:47,tocIndex:5},{value:"ContextProvider",paraId:47,tocIndex:5},{value:"\u8282\u70B9\u8D1F\u8D23\u67E5\u627E\u6240\u6709",paraId:47,tocIndex:5},{value:"ContextConsumer",paraId:47,tocIndex:5},{value:"\u8282\u70B9, \u5E76\u8BBE\u7F6E\u6D88\u8D39\u8282\u70B9\u7684\u7236\u8DEF\u5F84\u4E0A\u6240\u6709\u8282\u70B9\u7684",paraId:47,tocIndex:5},{value:"fiber.childLanes",paraId:47,tocIndex:5},{value:", \u4FDD\u8BC1\u6D88\u8D39\u8282\u70B9\u53EF\u4EE5\u5F97\u5230\u66F4\u65B0.",paraId:47,tocIndex:5}],Io={},Mr={title:"\u56FE\u89E3React\u539F\u7406\u7CFB\u5217",toc:"menu",filename:"docs/index.md",description:"\u56FE\u89E3React\u539F\u7406\u7CFB\u5217, \u4EE5react\u6838\u5FC3\u5305\u7ED3\u6784\u548C\u8FD0\u884C\u673A\u5236\u4E3A\u4E3B\u7EBF\u7D22\u8FDB\u884C\u5C55\u5F00. \u5305\u62ECreact \u57FA\u672C\u5305\u7ED3\u6784, react \u5DE5\u4F5C\u5FAA\u73AF, react \u542F\u52A8\u6A21\u5F0F, react fiber\u539F\u7406, react hook\u539F\u7406, react \u5408\u6210\u4E8B\u4EF6\u7B49\u6838\u5FC3\u5185\u5BB9",keywords:["react","react\u539F\u7406","react fiber","react hook","react \u5408\u6210\u4E8B\u4EF6","react \u5DE5\u4F5C\u5FAA\u73AF","react \u542F\u52A8\u6A21\u5F0F","react \u57FA\u672C\u5305\u7ED3\u6784"],hero:{title:"\u56FE\u89E3React\u539F\u7406",description:"\u57FA\u4E8E[`react@17.0.2`](https://github.com/facebook/react/tree/v17.0.2)(\u5C3D\u53EF\u80FD\u8DDF\u968F react \u7248\u672C\u7684\u5347\u7EA7, \u6301\u7EED\u66F4\u65B0). \u7528\u5927\u91CF\u914D\u56FE\u7684\u65B9\u5F0F, \u81F4\u529B\u4E8E\u5C06`react\u539F\u7406`\u8868\u8FF0\u6E05\u695A.",actions:[{text:"\u5F00\u59CB\u5B66\u4E60",link:"/main/macro-structure"}]},footer:"Open-source GPL-3 Licensed | Copyright \xA9 [\u516C\u91CC\u67D2(KM.Seven)](https://github.com/7kms)<br />Powered by [dumi](https://d.umijs.org/)"},ou=[{id:"\u4F7F\u7528\u6307\u5357",depth:2,title:"\u4F7F\u7528\u6307\u5357"},{id:"\u9002\u7528\u8BFB\u8005",depth:2,title:"\u9002\u7528\u8BFB\u8005"}],To=[{value:"\u672C\u7CFB\u5217\u4EE5 react \u6838\u5FC3\u5305\u7ED3\u6784\u548C\u8FD0\u884C\u673A\u5236\u4E3A\u4E3B\u7EBF\u7D22\u8FDB\u884C\u5C55\u5F00. \u5305\u62EC",paraId:0,tocIndex:0},{value:"react \u5B8F\u89C2\u7ED3\u6784",paraId:0,tocIndex:0},{value:", ",paraId:0,tocIndex:0},{value:"react \u5DE5\u4F5C\u5FAA\u73AF",paraId:0,tocIndex:0},{value:", ",paraId:0,tocIndex:0},{value:"react \u542F\u52A8\u6A21\u5F0F",paraId:0,tocIndex:0},{value:", ",paraId:0,tocIndex:0},{value:"react fiber\u539F\u7406",paraId:0,tocIndex:0},{value:", ",paraId:0,tocIndex:0},{value:"react hook\u539F\u7406",paraId:0,tocIndex:0},{value:", ",paraId:0,tocIndex:0},{value:"react \u5408\u6210\u4E8B\u4EF6",paraId:0,tocIndex:0},{value:"\u7B49\u6838\u5FC3\u5185\u5BB9.",paraId:0,tocIndex:0},{value:"\u5F00\u6E90\u4F5C\u54C1\u9700\u8981\u793E\u533A\u7684\u51C0\u5316\u548C\u53C2\u4E0E, \u5982\u6709\u8868\u8FF0\u4E0D\u6E05\u6670\u6216\u8868\u8FF0\u9519\u8BEF, \u6B22\u8FCE",paraId:0,tocIndex:0},{value:"issue \u52D8\u8BEF",paraId:0,tocIndex:0},{value:". \u5982\u679C\u5BF9\u4F60\u6709\u5E2E\u52A9, \u8BF7\u4E0D\u541D star.",paraId:0,tocIndex:0},{value:"\u672C\u7CFB\u5217\u6700\u521D\u5199\u4F5C\u4E8E 2020 \u5E74 6 \u6708(\u5F53\u65F6\u7A33\u5B9A\u7248\u672C\u662F v16.13.1), \u968F\u7740 react \u5B98\u65B9\u7684\u5347\u7EA7, \u672C repo \u4F1A\u5C06\u4E3B\u8981\u7248\u672C\u7684\u6587\u7AE0\u4FDD\u5B58\u5728\u4EE5\u7248\u672C\u53F7\u547D\u540D\u7684\u5206\u652F\u4E2D.",paraId:0,tocIndex:0},{value:'\u5F53\u4E0B\u524D\u7AEF\u6280\u672F\u5708\u603B\u4F53\u6BD4\u8F83\u6D6E\u8E81, \u5404\u6280\u672F\u5E73\u53F0\u5145\u65A5\u7740\u4E0D\u5C11"\u6807\u9898\u515A". \u771F\u6B63\u5BF9\u4E8E\u6280\u672F\u672C\u8EAB, \u4E0D\u80FD\u6025\u4E8E\u6C42\u6210, \u9700\u8981\u9759\u4E0B\u5FC3\u6765\u4FEE\u70BC.',paraId:0,tocIndex:0},{value:"\u672C\u7CFB\u5217\u4E0D\u662F\u9762\u7ECF, \u4F46\u4F1A\u5217\u4E3E\u4E00\u4E9B\u9762\u8BD5\u9898\u6765\u52A0\u6DF1\u5BF9 react \u7406\u89E3.",paraId:0,tocIndex:0},{value:"\u672C\u7CFB\u5217\u6240\u6709\u5185\u5BB9\u7686\u4E3A\u539F\u521B, \u5982\u9700\u8F6C\u8F7D, \u8BF7\u6CE8\u660E\u51FA\u5904.",paraId:0,tocIndex:0},{value:"\u5BF9",paraId:1,tocIndex:1},{value:"react",paraId:1,tocIndex:1},{value:",",paraId:1,tocIndex:1},{value:"react-dom",paraId:1,tocIndex:1},{value:"\u5F00\u53D1 web \u5E94\u7528\u6709\u5B9E\u8DF5\u7ECF\u9A8C.",paraId:1,tocIndex:1},{value:"\u671F\u671B\u6DF1\u5165\u7406\u89E3",paraId:1,tocIndex:1},{value:"react",paraId:1,tocIndex:1},{value:"\u5185\u5728\u4F5C\u7528\u539F\u7406.",paraId:1,tocIndex:1}],Br=null,zn={},ln={"docs/main/reconciler-workflow":{frontmatter:d,toc:p,texts:s,demos:l},"docs/main/fibertree-prepare":{frontmatter:h,toc:x,texts:m,demos:f},"docs/interview/01-setstate":{frontmatter:Te,toc:De,texts:ye,demos:Pe},"docs/main/fibertree-commit":{frontmatter:T,toc:F,texts:Z,demos:ve},"docs/main/fibertree-create":{frontmatter:z,toc:ae,texts:be,demos:O},"docs/main/fibertree-update":{frontmatter:N,toc:Q,texts:G,demos:Re},"docs/main/object-structure":{frontmatter:ue,toc:Me,texts:He,demos:Y},"docs/algorithm/linkedlist":{frontmatter:Xe,toc:et,texts:ct,demos:Je},"docs/main/macro-structure":{frontmatter:xe,toc:le,texts:se,demos:oe},"docs/main/synthetic-event":{frontmatter:ne,toc:pe,texts:V,demos:ke},"docs/algorithm/bitfield":{frontmatter:we,toc:ze,texts:Fe,demos:de},"docs/algorithm/heapsort":{frontmatter:pt,toc:Tt,texts:yt,demos:Ye},"docs/main/state-effects":{frontmatter:v,toc:B,texts:ee,demos:fe},"docs/main/hook-summary":{frontmatter:Ae,toc:Ne,texts:Se,demos:ce},"docs/interview/06-key":{frontmatter:Ve,toc:Qe,texts:mt,demos:We},"docs/main/hook-effect":{frontmatter:Ue,toc:je,texts:Ce,demos:Ee},"docs/algorithm/stack":{frontmatter:at,toc:gt,texts:kt,demos:tt},"docs/interview/index":{frontmatter:va,toc:fa,texts:wa,demos:$t},"docs/main/hook-state":{frontmatter:Pn,toc:tr,texts:On,demos:Qa},"docs/algorithm/diff":{frontmatter:nt,toc:It,texts:Vt,demos:Et},"docs/main/bootstrap":{frontmatter:Xt,toc:ja,texts:Ha,demos:ta},"docs/main/scheduler":{frontmatter:Ya,toc:Mn,texts:ar,demos:dn},"docs/algorithm/dfs":{frontmatter:Zo,toc:Vr,texts:yo,demos:Xa},"docs/main/priority":{frontmatter:bo,toc:Oo,texts:Ur,demos:dr},"docs/main/workloop":{frontmatter:nu,toc:yr,texts:bu,demos:gr},"docs/main/context":{frontmatter:Qr,toc:so,texts:po,demos:ru},"docs/index":{frontmatter:Mr,toc:ou,texts:To,demos:Io}},cn=Object.entries(ln).reduce(function(Tn,Ja){var oa=o()(Ja,2),Wr=oa[0],Nn=oa[1];return Object.values(Nn.demos).forEach(function(Dn){Dn.routeId=Wr}),Object.assign(Tn,Nn.demos),delete Nn.demos,Tn},{})},87042:function(i,I,e){"use strict";e.d(I,{Ac:function(){return He},ql:function(){return W.ql},rU:function(){return _},OL:function(){return S},Q$:function(){return Je},p6:function(){return yt},m8:function(){return Xe.m},fp:function(){return o.fp},Ov:function(){return j.Ov},TH:function(){return o.TH},pC:function(){return o.pC},UO:function(){return o.UO},Qt:function(){return X.Q},lr:function(){return P}});var u=e(62435),o=e(96974),r=e(55648);function l(){return l=Object.assign||function(fe){for(var v=1;v<arguments.length;v++){var B=arguments[v];for(var ee in B)Object.prototype.hasOwnProperty.call(B,ee)&&(fe[ee]=B[ee])}return fe},l.apply(this,arguments)}function d(fe,v){if(fe==null)return{};var B={},ee=Object.keys(fe),ce,Ae;for(Ae=0;Ae<ee.length;Ae++)ce=ee[Ae],!(v.indexOf(ce)>=0)&&(B[ce]=fe[ce]);return B}const p=["onClick","reloadDocument","replace","state","target","to"],s=["aria-current","caseSensitive","className","end","style","to","children"];function f(fe,v){if(!fe){typeof console!="undefined"&&console.warn(v);try{throw new Error(v)}catch(B){}}}function h(fe){let{basename:v,children:B,window:ee}=fe,ce=useRef();ce.current==null&&(ce.current=createBrowserHistory({window:ee}));let Ae=ce.current,[Ne,Se]=useState({action:Ae.action,location:Ae.location});return useLayoutEffect(()=>Ae.listen(Se),[Ae]),createElement(Router,{basename:v,children:B,location:Ne.location,navigationType:Ne.action,navigator:Ae})}function x(fe){let{basename:v,children:B,window:ee}=fe,ce=useRef();ce.current==null&&(ce.current=createHashHistory({window:ee}));let Ae=ce.current,[Ne,Se]=useState({action:Ae.action,location:Ae.location});return useLayoutEffect(()=>Ae.listen(Se),[Ae]),createElement(Router,{basename:v,children:B,location:Ne.location,navigationType:Ne.action,navigator:Ae})}function m(fe){let{basename:v,children:B,history:ee}=fe;const[ce,Ae]=useState({action:ee.action,location:ee.location});return useLayoutEffect(()=>ee.listen(Ae),[ee]),createElement(Router,{basename:v,children:B,location:ce.location,navigationType:ce.action,navigator:ee})}function g(fe){return!!(fe.metaKey||fe.altKey||fe.ctrlKey||fe.shiftKey)}const y=(0,u.forwardRef)(function(v,B){let{onClick:ee,reloadDocument:ce,replace:Ae=!1,state:Ne,target:Se,to:We}=v,Ve=d(v,p),Qe=(0,o.oQ)(We),mt=E(We,{replace:Ae,state:Ne,target:Se});function Ee(Ue){ee&&ee(Ue),!Ue.defaultPrevented&&!ce&&mt(Ue)}return(0,u.createElement)("a",l({},Ve,{href:Qe,onClick:Ee,ref:B,target:Se}))}),S=(0,u.forwardRef)(function(v,B){let{"aria-current":ee="page",caseSensitive:ce=!1,className:Ae="",end:Ne=!1,style:Se,to:We,children:Ve}=v,Qe=d(v,s),mt=(0,o.TH)(),Ee=(0,o.WU)(We),Ue=mt.pathname,je=Ee.pathname;ce||(Ue=Ue.toLowerCase(),je=je.toLowerCase());let Ce=Ue===je||!Ne&&Ue.startsWith(je)&&Ue.charAt(je.length)==="/",tt=Ce?ee:void 0,at;typeof Ae=="function"?at=Ae({isActive:Ce}):at=[Ae,Ce?"active":null].filter(Boolean).join(" ");let gt=typeof Se=="function"?Se({isActive:Ce}):Se;return(0,u.createElement)(y,l({},Qe,{"aria-current":tt,className:at,ref:B,style:gt,to:We}),typeof Ve=="function"?Ve({isActive:Ce}):Ve)});function E(fe,v){let{target:B,replace:ee,state:ce}=v===void 0?{}:v,Ae=(0,o.s0)(),Ne=(0,o.TH)(),Se=(0,o.WU)(fe);return(0,u.useCallback)(We=>{if(We.button===0&&(!B||B==="_self")&&!g(We)){We.preventDefault();let Ve=!!ee||(0,r.Ep)(Ne)===(0,r.Ep)(Se);Ae(fe,{replace:Ve,state:ce})}},[Ne,Ae,Se,ee,ce,B,fe])}function P(fe){let v=(0,u.useRef)(k(fe)),B=(0,o.TH)(),ee=(0,u.useMemo)(()=>{let Ne=k(B.search);for(let Se of v.current.keys())Ne.has(Se)||v.current.getAll(Se).forEach(We=>{Ne.append(Se,We)});return Ne},[B.search]),ce=(0,o.s0)(),Ae=(0,u.useCallback)((Ne,Se)=>{ce("?"+k(Ne),Se)},[ce]);return[ee,Ae]}function k(fe){return fe===void 0&&(fe=""),new URLSearchParams(typeof fe=="string"||Array.isArray(fe)||fe instanceof URLSearchParams?fe:Object.keys(fe).reduce((v,B)=>{let ee=fe[B];return v.concat(Array.isArray(ee)?ee.map(ce=>[B,ce]):[[B,ee]])},[]))}var A=e(58096),L=e(49647),j=e(34162),C=["prefetch"];function _(fe){var v,B=fe.prefetch,ee=(0,L.Z)(fe,C),ce=(0,j.Ov)(),Ae=typeof fe.to=="string"?fe.to:(v=fe.to)===null||v===void 0?void 0:v.pathname;return Ae?u.createElement(y,(0,A.Z)({onMouseEnter:function(){var Se;return B&&Ae&&((Se=ce.preloadRoute)===null||Se===void 0?void 0:Se.call(ce,Ae))}},ee),fe.children):null}var W=e(70405),X=e(59918);function te(fe){return te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},te(fe)}function q(){"use strict";q=function(){return fe};var fe={},v=Object.prototype,B=v.hasOwnProperty,ee=Object.defineProperty||function(Et,nt,It){Et[nt]=It.value},ce=typeof Symbol=="function"?Symbol:{},Ae=ce.iterator||"@@iterator",Ne=ce.asyncIterator||"@@asyncIterator",Se=ce.toStringTag||"@@toStringTag";function We(Et,nt,It){return Object.defineProperty(Et,nt,{value:It,enumerable:!0,configurable:!0,writable:!0}),Et[nt]}try{We({},"")}catch(Et){We=function(It,Vt,ta){return It[Vt]=ta}}function Ve(Et,nt,It,Vt){var ta=nt&&nt.prototype instanceof Ee?nt:Ee,Xt=Object.create(ta.prototype),ja=new Pn(Vt||[]);return ee(Xt,"_invoke",{value:va(Et,It,ja)}),Xt}function Qe(Et,nt,It){try{return{type:"normal",arg:Et.call(nt,It)}}catch(Vt){return{type:"throw",arg:Vt}}}fe.wrap=Ve;var mt={};function Ee(){}function Ue(){}function je(){}var Ce={};We(Ce,Ae,function(){return this});var tt=Object.getPrototypeOf,at=tt&&tt(tt(tr([])));at&&at!==v&&B.call(at,Ae)&&(Ce=at);var gt=je.prototype=Ee.prototype=Object.create(Ce);function kt(Et){["next","throw","return"].forEach(function(nt){We(Et,nt,function(It){return this._invoke(nt,It)})})}function $t(Et,nt){function It(ta,Xt,ja,Ha){var dn=Qe(Et[ta],Et,Xt);if(dn.type!=="throw"){var Ya=dn.arg,Mn=Ya.value;return Mn&&te(Mn)=="object"&&B.call(Mn,"__await")?nt.resolve(Mn.__await).then(function(ar){It("next",ar,ja,Ha)},function(ar){It("throw",ar,ja,Ha)}):nt.resolve(Mn).then(function(ar){Ya.value=ar,ja(Ya)},function(ar){return It("throw",ar,ja,Ha)})}Ha(dn.arg)}var Vt;ee(this,"_invoke",{value:function(Xt,ja){function Ha(){return new nt(function(dn,Ya){It(Xt,ja,dn,Ya)})}return Vt=Vt?Vt.then(Ha,Ha):Ha()}})}function va(Et,nt,It){var Vt="suspendedStart";return function(ta,Xt){if(Vt==="executing")throw new Error("Generator is already running");if(Vt==="completed"){if(ta==="throw")throw Xt;return On()}for(It.method=ta,It.arg=Xt;;){var ja=It.delegate;if(ja){var Ha=fa(ja,It);if(Ha){if(Ha===mt)continue;return Ha}}if(It.method==="next")It.sent=It._sent=It.arg;else if(It.method==="throw"){if(Vt==="suspendedStart")throw Vt="completed",It.arg;It.dispatchException(It.arg)}else It.method==="return"&&It.abrupt("return",It.arg);Vt="executing";var dn=Qe(Et,nt,It);if(dn.type==="normal"){if(Vt=It.done?"completed":"suspendedYield",dn.arg===mt)continue;return{value:dn.arg,done:It.done}}dn.type==="throw"&&(Vt="completed",It.method="throw",It.arg=dn.arg)}}}function fa(Et,nt){var It=nt.method,Vt=Et.iterator[It];if(Vt===void 0)return nt.delegate=null,It==="throw"&&Et.iterator.return&&(nt.method="return",nt.arg=void 0,fa(Et,nt),nt.method==="throw")||It!=="return"&&(nt.method="throw",nt.arg=new TypeError("The iterator does not provide a '"+It+"' method")),mt;var ta=Qe(Vt,Et.iterator,nt.arg);if(ta.type==="throw")return nt.method="throw",nt.arg=ta.arg,nt.delegate=null,mt;var Xt=ta.arg;return Xt?Xt.done?(nt[Et.resultName]=Xt.value,nt.next=Et.nextLoc,nt.method!=="return"&&(nt.method="next",nt.arg=void 0),nt.delegate=null,mt):Xt:(nt.method="throw",nt.arg=new TypeError("iterator result is not an object"),nt.delegate=null,mt)}function wa(Et){var nt={tryLoc:Et[0]};1 in Et&&(nt.catchLoc=Et[1]),2 in Et&&(nt.finallyLoc=Et[2],nt.afterLoc=Et[3]),this.tryEntries.push(nt)}function Qa(Et){var nt=Et.completion||{};nt.type="normal",delete nt.arg,Et.completion=nt}function Pn(Et){this.tryEntries=[{tryLoc:"root"}],Et.forEach(wa,this),this.reset(!0)}function tr(Et){if(Et){var nt=Et[Ae];if(nt)return nt.call(Et);if(typeof Et.next=="function")return Et;if(!isNaN(Et.length)){var It=-1,Vt=function ta(){for(;++It<Et.length;)if(B.call(Et,It))return ta.value=Et[It],ta.done=!1,ta;return ta.value=void 0,ta.done=!0,ta};return Vt.next=Vt}}return{next:On}}function On(){return{value:void 0,done:!0}}return Ue.prototype=je,ee(gt,"constructor",{value:je,configurable:!0}),ee(je,"constructor",{value:Ue,configurable:!0}),Ue.displayName=We(je,Se,"GeneratorFunction"),fe.isGeneratorFunction=function(Et){var nt=typeof Et=="function"&&Et.constructor;return!!nt&&(nt===Ue||(nt.displayName||nt.name)==="GeneratorFunction")},fe.mark=function(Et){return Object.setPrototypeOf?Object.setPrototypeOf(Et,je):(Et.__proto__=je,We(Et,Se,"GeneratorFunction")),Et.prototype=Object.create(gt),Et},fe.awrap=function(Et){return{__await:Et}},kt($t.prototype),We($t.prototype,Ne,function(){return this}),fe.AsyncIterator=$t,fe.async=function(Et,nt,It,Vt,ta){ta===void 0&&(ta=Promise);var Xt=new $t(Ve(Et,nt,It,Vt),ta);return fe.isGeneratorFunction(nt)?Xt:Xt.next().then(function(ja){return ja.done?ja.value:Xt.next()})},kt(gt),We(gt,Se,"Generator"),We(gt,Ae,function(){return this}),We(gt,"toString",function(){return"[object Generator]"}),fe.keys=function(Et){var nt=Object(Et),It=[];for(var Vt in nt)It.push(Vt);return It.reverse(),function ta(){for(;It.length;){var Xt=It.pop();if(Xt in nt)return ta.value=Xt,ta.done=!1,ta}return ta.done=!0,ta}},fe.values=tr,Pn.prototype={constructor:Pn,reset:function(nt){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Qa),!nt)for(var It in this)It.charAt(0)==="t"&&B.call(this,It)&&!isNaN(+It.slice(1))&&(this[It]=void 0)},stop:function(){this.done=!0;var nt=this.tryEntries[0].completion;if(nt.type==="throw")throw nt.arg;return this.rval},dispatchException:function(nt){if(this.done)throw nt;var It=this;function Vt(Ya,Mn){return ja.type="throw",ja.arg=nt,It.next=Ya,Mn&&(It.method="next",It.arg=void 0),!!Mn}for(var ta=this.tryEntries.length-1;ta>=0;--ta){var Xt=this.tryEntries[ta],ja=Xt.completion;if(Xt.tryLoc==="root")return Vt("end");if(Xt.tryLoc<=this.prev){var Ha=B.call(Xt,"catchLoc"),dn=B.call(Xt,"finallyLoc");if(Ha&&dn){if(this.prev<Xt.catchLoc)return Vt(Xt.catchLoc,!0);if(this.prev<Xt.finallyLoc)return Vt(Xt.finallyLoc)}else if(Ha){if(this.prev<Xt.catchLoc)return Vt(Xt.catchLoc,!0)}else{if(!dn)throw new Error("try statement without catch or finally");if(this.prev<Xt.finallyLoc)return Vt(Xt.finallyLoc)}}}},abrupt:function(nt,It){for(var Vt=this.tryEntries.length-1;Vt>=0;--Vt){var ta=this.tryEntries[Vt];if(ta.tryLoc<=this.prev&&B.call(ta,"finallyLoc")&&this.prev<ta.finallyLoc){var Xt=ta;break}}Xt&&(nt==="break"||nt==="continue")&&Xt.tryLoc<=It&&It<=Xt.finallyLoc&&(Xt=null);var ja=Xt?Xt.completion:{};return ja.type=nt,ja.arg=It,Xt?(this.method="next",this.next=Xt.finallyLoc,mt):this.complete(ja)},complete:function(nt,It){if(nt.type==="throw")throw nt.arg;return nt.type==="break"||nt.type==="continue"?this.next=nt.arg:nt.type==="return"?(this.rval=this.arg=nt.arg,this.method="return",this.next="end"):nt.type==="normal"&&It&&(this.next=It),mt},finish:function(nt){for(var It=this.tryEntries.length-1;It>=0;--It){var Vt=this.tryEntries[It];if(Vt.finallyLoc===nt)return this.complete(Vt.completion,Vt.afterLoc),Qa(Vt),mt}},catch:function(nt){for(var It=this.tryEntries.length-1;It>=0;--It){var Vt=this.tryEntries[It];if(Vt.tryLoc===nt){var ta=Vt.completion;if(ta.type==="throw"){var Xt=ta.arg;Qa(Vt)}return Xt}}throw new Error("illegal catch attempt")},delegateYield:function(nt,It,Vt){return this.delegate={iterator:tr(nt),resultName:It,nextLoc:Vt},this.method==="next"&&(this.arg=void 0),mt}},fe}function he(fe,v){if(te(fe)!=="object"||fe===null)return fe;var B=fe[Symbol.toPrimitive];if(B!==void 0){var ee=B.call(fe,v||"default");if(te(ee)!=="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(fe)}function Pe(fe){var v=he(fe,"string");return te(v)==="symbol"?v:String(v)}function Te(fe,v,B){return v=Pe(v),v in fe?Object.defineProperty(fe,v,{value:B,enumerable:!0,configurable:!0,writable:!0}):fe[v]=B,fe}function De(fe,v){var B=Object.keys(fe);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(fe);v&&(ee=ee.filter(function(ce){return Object.getOwnPropertyDescriptor(fe,ce).enumerable})),B.push.apply(B,ee)}return B}function ye(fe){for(var v=1;v<arguments.length;v++){var B=arguments[v]!=null?arguments[v]:{};v%2?De(Object(B),!0).forEach(function(ee){Te(fe,ee,B[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(B)):De(Object(B)).forEach(function(ee){Object.defineProperty(fe,ee,Object.getOwnPropertyDescriptor(B,ee))})}return fe}function ve(fe,v,B,ee,ce,Ae,Ne){try{var Se=fe[Ae](Ne),We=Se.value}catch(Ve){B(Ve);return}Se.done?v(We):Promise.resolve(We).then(ee,ce)}function T(fe){return function(){var v=this,B=arguments;return new Promise(function(ee,ce){var Ae=fe.apply(v,B);function Ne(We){ve(Ae,ee,ce,Ne,Se,"next",We)}function Se(We){ve(Ae,ee,ce,Ne,Se,"throw",We)}Ne(void 0)})}}function F(fe,v){(v==null||v>fe.length)&&(v=fe.length);for(var B=0,ee=new Array(v);B<v;B++)ee[B]=fe[B];return ee}function Z(fe,v){if(fe){if(typeof fe=="string")return F(fe,v);var B=Object.prototype.toString.call(fe).slice(8,-1);if(B==="Object"&&fe.constructor&&(B=fe.constructor.name),B==="Map"||B==="Set")return Array.from(fe);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return F(fe,v)}}function O(fe,v){var B=typeof Symbol!="undefined"&&fe[Symbol.iterator]||fe["@@iterator"];if(!B){if(Array.isArray(fe)||(B=Z(fe))||v&&fe&&typeof fe.length=="number"){B&&(fe=B);var ee=0,ce=function(){};return{s:ce,n:function(){return ee>=fe.length?{done:!0}:{done:!1,value:fe[ee++]}},e:function(Ve){throw Ve},f:ce}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ae=!0,Ne=!1,Se;return{s:function(){B=B.call(fe)},n:function(){var Ve=B.next();return Ae=Ve.done,Ve},e:function(Ve){Ne=!0,Se=Ve},f:function(){try{!Ae&&B.return!=null&&B.return()}finally{if(Ne)throw Se}}}}function z(fe){if(Array.isArray(fe))return fe}function ae(fe){if(typeof Symbol!="undefined"&&fe[Symbol.iterator]!=null||fe["@@iterator"]!=null)return Array.from(fe)}function be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Re(fe){return z(fe)||ae(fe)||Z(fe)||be()}function N(fe,v){if(!(fe instanceof v))throw new TypeError("Cannot call a class as a function")}function Q(fe,v){for(var B=0;B<v.length;B++){var ee=v[B];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(fe,Pe(ee.key),ee)}}function G(fe,v,B){return v&&Q(fe.prototype,v),B&&Q(fe,B),Object.defineProperty(fe,"prototype",{writable:!1}),fe}function Y(fe,v){if(!fe)throw new Error(v)}function ue(fe){var v=fe.fns,B=fe.args;if(v.length===1)return v[0];var ee=v.pop();return v.reduce(function(ce,Ae){return function(){return Ae(ce,B)}},ee)}function Me(fe){return!!fe&&te(fe)==="object"&&typeof fe.then=="function"}var He;(function(fe){fe.compose="compose",fe.modify="modify",fe.event="event"})(He||(He={}));var Je=function(){function fe(v){N(this,fe),Te(this,"opts",void 0),Te(this,"hooks",{}),this.opts=v}return G(fe,[{key:"register",value:function(B){var ee=this;Y(B.apply,"plugin register failed, apply must supplied"),Object.keys(B.apply).forEach(function(ce){Y(ee.opts.validKeys.indexOf(ce)>-1,"register failed, invalid key ".concat(ce," ").concat(B.path?"from plugin ".concat(B.path):"",".")),ee.hooks[ce]=(ee.hooks[ce]||[]).concat(B.apply[ce])})}},{key:"getHooks",value:function(B){var ee=B.split("."),ce=Re(ee),Ae=ce[0],Ne=ce.slice(1),Se=this.hooks[Ae]||[];return Ne.length&&(Se=Se.map(function(We){try{var Ve=We,Qe=O(Ne),mt;try{for(Qe.s();!(mt=Qe.n()).done;){var Ee=mt.value;Ve=Ve[Ee]}}catch(Ue){Qe.e(Ue)}finally{Qe.f()}return Ve}catch(Ue){return null}}).filter(Boolean)),Se}},{key:"applyPlugins",value:function(B){var ee=B.key,ce=B.type,Ae=B.initialValue,Ne=B.args,Se=B.async,We=this.getHooks(ee)||[];switch(Ne&&Y(te(Ne)==="object","applyPlugins failed, args must be plain object."),Se&&Y(ce===He.modify||ce===He.event,"async only works with modify and event type."),ce){case He.modify:return Se?We.reduce(function(){var Ve=T(q().mark(function Qe(mt,Ee){var Ue;return q().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(Y(typeof Ee=="function"||te(Ee)==="object"||Me(Ee),"applyPlugins failed, all hooks for key ".concat(ee," must be function, plain object or Promise.")),!Me(mt)){Ce.next=5;break}return Ce.next=4,mt;case 4:mt=Ce.sent;case 5:if(typeof Ee!="function"){Ce.next=16;break}if(Ue=Ee(mt,Ne),!Me(Ue)){Ce.next=13;break}return Ce.next=10,Ue;case 10:return Ce.abrupt("return",Ce.sent);case 13:return Ce.abrupt("return",Ue);case 14:Ce.next=21;break;case 16:if(!Me(Ee)){Ce.next=20;break}return Ce.next=19,Ee;case 19:Ee=Ce.sent;case 20:return Ce.abrupt("return",ye(ye({},mt),Ee));case 21:case"end":return Ce.stop()}},Qe)}));return function(Qe,mt){return Ve.apply(this,arguments)}}(),Me(Ae)?Ae:Promise.resolve(Ae)):We.reduce(function(Ve,Qe){return Y(typeof Qe=="function"||te(Qe)==="object","applyPlugins failed, all hooks for key ".concat(ee," must be function or plain object.")),typeof Qe=="function"?Qe(Ve,Ne):ye(ye({},Ve),Qe)},Ae);case He.event:return T(q().mark(function Ve(){var Qe,mt,Ee,Ue;return q().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:Qe=O(We),Ce.prev=1,Qe.s();case 3:if((mt=Qe.n()).done){Ce.next=12;break}if(Ee=mt.value,Y(typeof Ee=="function","applyPlugins failed, all hooks for key ".concat(ee," must be function.")),Ue=Ee(Ne),!(Se&&Me(Ue))){Ce.next=10;break}return Ce.next=10,Ue;case 10:Ce.next=3;break;case 12:Ce.next=17;break;case 14:Ce.prev=14,Ce.t0=Ce.catch(1),Qe.e(Ce.t0);case 17:return Ce.prev=17,Qe.f(),Ce.finish(17);case 20:case"end":return Ce.stop()}},Ve,null,[[1,14,17,20]])}))();case He.compose:return function(){return ue({fns:We.concat(Ae),args:Ne})()}}}}],[{key:"create",value:function(B){var ee=new fe({validKeys:B.validKeys});return B.plugins.forEach(function(ce){ee.register(ce)}),ee}}]),fe}(),Xe=e(82651),et=e(52677),ct=e.n(et),oe=0,xe=0;function le(fe,v){if(!1)var B}function se(fe){return JSON.stringify(fe,null,2)}function ke(fe){var v=fe.length>1?fe.map(ne).join(" "):fe[0];return ct()(v)==="object"?"".concat(se(v)):v.toString()}function ne(fe){return ct()(fe)==="object"?"".concat(JSON.stringify(fe)):fe.toString()}var pe={log:function(){for(var v=arguments.length,B=new Array(v),ee=0;ee<v;ee++)B[ee]=arguments[ee];le("log",ke(B))},info:function(){for(var v=arguments.length,B=new Array(v),ee=0;ee<v;ee++)B[ee]=arguments[ee];le("info",ke(B))},warn:function(){for(var v=arguments.length,B=new Array(v),ee=0;ee<v;ee++)B[ee]=arguments[ee];le("warn",ke(B))},error:function(){for(var v=arguments.length,B=new Array(v),ee=0;ee<v;ee++)B[ee]=arguments[ee];le("error",ke(B))},group:function(){xe++},groupCollapsed:function(){xe++},groupEnd:function(){xe&&--xe},clear:function(){le("clear")},trace:function(){var v;(v=console).trace.apply(v,arguments)},profile:function(){var v;(v=console).profile.apply(v,arguments)},profileEnd:function(){var v;(v=console).profileEnd.apply(v,arguments)}},V=e(15009),de=e(99289),we=e(14570),ze=e(24497),Fe=typeof window!="undefined"?window.html2sketch:null;function Ye(fe,v){return pt.apply(this,arguments)}function pt(){return pt=_asyncToGenerator(_regeneratorRuntime().mark(function fe(v,B){return _regeneratorRuntime().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(B.type!=="group"){ce.next=6;break}return ce.next=3,Fe.nodeToGroup(v);case 3:ce.t0=ce.sent.toSketchJSON(),ce.next=9;break;case 6:return ce.next=8,Fe.nodeToSymbol(v);case 8:ce.t0=ce.sent.toSketchJSON();case 9:return ce.abrupt("return",ce.t0);case 10:case"end":return ce.stop()}},fe)})),pt.apply(this,arguments)}function Tt(fe,v){return getPluginManager().applyPlugins({key:"toSketchJSON",type:ApplyPluginsType.modify,initialValue:null,args:{target:fe,opts:v},async:!0})}var yt=null},35095:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var dumi__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14570),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(62435);function ownKeys(i,I){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);I&&(u=u.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),e.push.apply(e,u)}return e}function _objectSpread(i){for(var I=1;I<arguments.length;I++){var e=arguments[I]!=null?arguments[I]:{};I%2?ownKeys(Object(e),!0).forEach(function(u){_defineProperty(i,u,e[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(u){Object.defineProperty(i,u,Object.getOwnPropertyDescriptor(e,u))})}return i}function _defineProperty(i,I,e){return I in i?Object.defineProperty(i,I,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[I]=e,i}function _slicedToArray(i,I){return _arrayWithHoles(i)||_iterableToArrayLimit(i,I)||_unsupportedIterableToArray(i,I)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(i,I){if(i){if(typeof i=="string")return _arrayLikeToArray(i,I);var e=Object.prototype.toString.call(i).slice(8,-1);if(e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set")return Array.from(i);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _arrayLikeToArray(i,I)}}function _arrayLikeToArray(i,I){(I==null||I>i.length)&&(I=i.length);for(var e=0,u=new Array(I);e<I;e++)u[e]=i[e];return u}function _iterableToArrayLimit(i,I){var e=i==null?null:typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(e!=null){var u=[],o=!0,r=!1,l,d;try{for(e=e.call(i);!(o=(l=e.next()).done)&&(u.push(l.value),!(I&&u.length===I));o=!0);}catch(p){r=!0,d=p}finally{try{!o&&e.return!=null&&e.return()}finally{if(r)throw d}}return u}}function _arrayWithHoles(i){if(Array.isArray(i))return i}function _typeof(i){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},_typeof(i)}function builtInProcessor(entity,entryExports){var mod;switch(entity.$$__type){case"function":return eval(entity.$$__body.sourceCode);case"element":return mod=entity.$$__body.componentName.split(".").reduce(function(i,I){return i[I]},entryExports),mod===void 0?entity.$$__body.componentName:"_InternalPanelDoNotUseOrYouWillBeFired"in mod?mod._InternalPanelDoNotUseOrYouWillBeFired:mod}}function deepReplace(i,I){return Array.isArray(i)?i.map(function(e){return deepReplace(e,I)}):_typeof(i)==="object"&&(i==null?void 0:i.$$__type)==="element"?translatePresetToReact(i.$$__body,I):_typeof(i)==="object"&&Object.prototype.toString.call(i)==="[object Object]"?Object.entries(i).reduce(function(e,u){var o=_slicedToArray(u,2),r=o[0],l=o[1];return _objectSpread(_objectSpread({},e),{},_defineProperty({},r,deepReplace(l,I)))},{}):i}function translatePresetToReact(i,I){var e=i.props,u=i.size,o=I({$$__type:"element",$$__body:i});return React.createElement(o,deepReplace(_objectSpread(_objectSpread({},e),{},{style:_objectSpread(_objectSpread({},e.style),u)}),I))}var AtomRenderer=function i(I){var e=useSiteData(),u=e.entryExports;switch(I.type){case"COMPONENT":return translatePresetToReact(I.value,function(o){var r,l;return(r=(l=I.processor)===null||l===void 0?void 0:l.call(I,o,u))!==null&&r!==void 0?r:builtInProcessor(o,u)});default:return React.createElement(React.Fragment,null,I.type," atom is not supported.")}}},64236:function(i,I,e){"use strict";e.d(I,{D:function(){return o},W:function(){return r}});var u=e(62435),o=(0,u.createContext)({pkg:{},historyType:"browser",entryExports:{},demos:{},components:{},locales:[],themeConfig:{},loading:!1,setLoading:function(){},_2_level_nav_available:!0}),r=function(){return(0,u.useContext)(o)}},88903:function(i,I,e){"use strict";e.d(I,{b:function(){return h}});var u=e(14570),o=e(62435);function r(x,m){return f(x)||s(x,m)||d(x,m)||l()}function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(x,m){if(x){if(typeof x=="string")return p(x,m);var g=Object.prototype.toString.call(x).slice(8,-1);if(g==="Object"&&x.constructor&&(g=x.constructor.name),g==="Map"||g==="Set")return Array.from(x);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return p(x,m)}}function p(x,m){(m==null||m>x.length)&&(m=x.length);for(var g=0,y=new Array(m);g<m;g++)y[g]=x[g];return y}function s(x,m){var g=x==null?null:typeof Symbol!="undefined"&&x[Symbol.iterator]||x["@@iterator"];if(g!=null){var y=[],S=!0,E=!1,P,k;try{for(g=g.call(x);!(S=(P=g.next()).done)&&(y.push(P.value),!(m&&y.length===m));S=!0);}catch(A){E=!0,k=A}finally{try{!S&&g.return!=null&&g.return()}finally{if(E)throw k}}return y}}function f(x){if(Array.isArray(x))return x}var h=function(){var m=(0,u.YB)(),g=(0,u.WF)(),y=g.locales,S=(0,o.useState)(function(){return y.find(function(k){var A=k.id;return A===m.locale})}),E=r(S,1),P=E[0];return P}},77742:function(i,I,e){"use strict";e.d(I,{AM:function(){return g},LI:function(){return y},M7:function(){return S},RX:function(){return m},m7:function(){return P},qu:function(){return E}});var u=e(14570),o=e(62435),r=e(88903);function l(k){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},l(k)}function d(k,A){return x(k)||h(k,A)||s(k,A)||p()}function p(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(k,A){if(k){if(typeof k=="string")return f(k,A);var L=Object.prototype.toString.call(k).slice(8,-1);if(L==="Object"&&k.constructor&&(L=k.constructor.name),L==="Map"||L==="Set")return Array.from(k);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return f(k,A)}}function f(k,A){(A==null||A>k.length)&&(A=k.length);for(var L=0,j=new Array(A);L<A;L++)j[L]=k[L];return j}function h(k,A){var L=k==null?null:typeof Symbol!="undefined"&&k[Symbol.iterator]||k["@@iterator"];if(L!=null){var j=[],C=!0,_=!1,W,X;try{for(L=L.call(k);!(C=(W=L.next()).done)&&(j.push(W.value),!(A&&j.length===A));C=!0);}catch(te){_=!0,X=te}finally{try{!C&&L.return!=null&&L.return()}finally{if(_)throw X}}return j}}function x(k){if(Array.isArray(k))return k}var m=function(){var A=(0,u.YB)(),L=(0,u.Ov)(),j=L.routes,C=(0,u.WF)(),_=C.locales,W=(0,o.useState)(function(){var q=_.slice().reverse();return Object.values(j).reduce(function(he,Pe){var Te=q.find(function(De){return"suffix"in De?Pe.path.endsWith(De.suffix):Pe.path.startsWith(De.base.slice(1))});return Pe.parentId==="DocLayout"&&Te.id===A.locale&&(he[Pe.id]=Pe),he},{})}),X=d(W,1),te=X[0];return te},g=function(A){var L=`/**
 * This is an auto-generated demo by dumi
 * if you think it is not working as expected,
 * please report the issue at
 * https://github.com/umijs/dumi/issues
 */`;return A.startsWith("18.")||A==="latest"?"".concat(L,`

import React from 'react';
import { createRoot } from "react-dom/client";
import App from "./App";

const rootElement = document.getElementById("root");
const root = createRoot(rootElement);

root.render(<App />);`):"".concat(L,`

import React from 'react';
import ReactDOM from 'react-dom';
import App from './App';

ReactDOM.render(
  <App />,
  document.getElementById('root'),
);`)},y=typeof window!="undefined"?o.useLayoutEffect:o.useEffect,S=function(){var A=(0,r.b)();return(0,o.useCallback)(function(L,j){return("order"in L&&"order"in j?L.order-j.order:0)||("link"in L&&"link"in j?L.link.split("/").length-j.link.split("/").length:0)||("path"in L&&"path"in j?L.path.split("/").length-j.path.split("/").length:0)||(L.title?L.title.localeCompare(j.title||"",A.id):-1)},[])},E=function(A,L,j){var C,_=L==="nav.second"?l(j.nav)==="object"?j.nav.second:{}:j[L];switch(l(_)){case"object":A.title=_.title||A.title,A.order=(C=_.order)!==null&&C!==void 0?C:A.order;break;case"string":A.title=_||A.title;break;default:}return A};function P(k,A){return Array.isArray(k)?k:k[A.id]}},19532:function(i,I,e){"use strict";e.d(I,{Z:function(){return Q}});var u=e(62435),o=Object.defineProperty,r=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,p=(G,Y,ue)=>Y in G?o(G,Y,{enumerable:!0,configurable:!0,writable:!0,value:ue}):G[Y]=ue,s=(G,Y)=>{for(var ue in Y||(Y={}))l.call(Y,ue)&&p(G,ue,Y[ue]);if(r)for(var ue of r(Y))d.call(Y,ue)&&p(G,ue,Y[ue]);return G};const f=G=>u.createElement("svg",s({viewBox:"64 64 896 896"},G),u.createElement("path",{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0 0 51.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}),u.createElement("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}));var h="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSI2NCA2NCA4OTYgODk2Ij48cGF0aCBkPSJNNjk5IDM1M2gtNDYuOWMtMTAuMiAwLTE5LjkgNC45LTI1LjkgMTMuM0w0NjkgNTg0LjNsLTcxLjItOTguOGMtNi04LjMtMTUuNi0xMy4zLTI1LjktMTMuM0gzMjVjLTYuNSAwLTEwLjMgNy40LTYuNSAxMi43bDEyNC42IDE3Mi44YTMxLjggMzEuOCAwIDAgMCA1MS43IDBsMjEwLjYtMjkyYzMuOS01LjMuMS0xMi43LTYuNC0xMi43eiIvPjxwYXRoIGQ9Ik01MTIgNjRDMjY0LjYgNjQgNjQgMjY0LjYgNjQgNTEyczIwMC42IDQ0OCA0NDggNDQ4IDQ0OC0yMDAuNiA0NDgtNDQ4Uzc1OS40IDY0IDUxMiA2NHptMCA4MjBjLTIwNS40IDAtMzcyLTE2Ni42LTM3Mi0zNzJzMTY2LjYtMzcyIDM3Mi0zNzIgMzcyIDE2Ni42IDM3MiAzNzItMTY2LjYgMzcyLTM3MiAzNzJ6Ii8+PC9zdmc+",x=Object.defineProperty,m=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,S=(G,Y,ue)=>Y in G?x(G,Y,{enumerable:!0,configurable:!0,writable:!0,value:ue}):G[Y]=ue,E=(G,Y)=>{for(var ue in Y||(Y={}))g.call(Y,ue)&&S(G,ue,Y[ue]);if(m)for(var ue of m(Y))y.call(Y,ue)&&S(G,ue,Y[ue]);return G};const P=G=>u.createElement("svg",E({viewBox:"64 64 896 896"},G),u.createElement("path",{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 0 0-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}),u.createElement("path",{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}));var k="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSI2NCA2NCA4OTYgODk2Ij48cGF0aCBkPSJNNjg1LjQgMzU0LjhjMC00LjQtMy42LTgtOC04bC02NiAuM0w1MTIgNDY1LjZsLTk5LjMtMTE4LjQtNjYuMS0uM2MtNC40IDAtOCAzLjUtOCA4IDAgMS45LjcgMy43IDEuOSA1LjJsMTMwLjEgMTU1TDM0MC41IDY3MGE4LjMyIDguMzIgMCAwIDAtMS45IDUuMmMwIDQuNCAzLjYgOCA4IDhsNjYuMS0uM0w1MTIgNTY0LjRsOTkuMyAxMTguNCA2NiAuM2M0LjQgMCA4LTMuNSA4LTggMC0xLjktLjctMy43LTEuOS01LjJMNTUzLjUgNTE1bDEzMC4xLTE1NWMxLjItMS40IDEuOC0zLjMgMS44LTUuMnoiLz48cGF0aCBkPSJNNTEyIDY1QzI2NC42IDY1IDY0IDI2NS42IDY0IDUxM3MyMDAuNiA0NDggNDQ4IDQ0OCA0NDgtMjAwLjYgNDQ4LTQ0OFM3NTkuNCA2NSA1MTIgNjV6bTAgODIwYy0yMDUuNCAwLTM3Mi0xNjYuNi0zNzItMzcyczE2Ni42LTM3MiAzNzItMzcyIDM3MiAxNjYuNiAzNzIgMzcyLTE2Ni42IDM3Mi0zNzIgMzcyeiIvPjwvc3ZnPg==",A=Object.defineProperty,L=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,_=(G,Y,ue)=>Y in G?A(G,Y,{enumerable:!0,configurable:!0,writable:!0,value:ue}):G[Y]=ue,W=(G,Y)=>{for(var ue in Y||(Y={}))j.call(Y,ue)&&_(G,ue,Y[ue]);if(L)for(var ue of L(Y))C.call(Y,ue)&&_(G,ue,Y[ue]);return G};const X=G=>u.createElement("svg",W({viewBox:"64 64 896 896"},G),u.createElement("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}),u.createElement("path",{d:"M464 336a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}));var te="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSI2NCA2NCA4OTYgODk2Ij48cGF0aCBkPSJNNTEyIDY0QzI2NC42IDY0IDY0IDI2NC42IDY0IDUxMnMyMDAuNiA0NDggNDQ4IDQ0OCA0NDgtMjAwLjYgNDQ4LTQ0OFM3NTkuNCA2NCA1MTIgNjR6bTAgODIwYy0yMDUuNCAwLTM3Mi0xNjYuNi0zNzItMzcyczE2Ni42LTM3MiAzNzItMzcyIDM3MiAxNjYuNiAzNzIgMzcyLTE2Ni42IDM3Mi0zNzIgMzcyeiIvPjxwYXRoIGQ9Ik00NjQgMzM2YTQ4IDQ4IDAgMSAwIDk2IDAgNDggNDggMCAxIDAtOTYgMHptNzIgMTEyaC00OGMtNC40IDAtOCAzLjYtOCA4djI3MmMwIDQuNCAzLjYgOCA4IDhoNDhjNC40IDAgOC0zLjYgOC04VjQ1NmMwLTQuNC0zLjYtOC04LTh6Ii8+PC9zdmc+",q=Object.defineProperty,he=Object.getOwnPropertySymbols,Pe=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable,De=(G,Y,ue)=>Y in G?q(G,Y,{enumerable:!0,configurable:!0,writable:!0,value:ue}):G[Y]=ue,ye=(G,Y)=>{for(var ue in Y||(Y={}))Pe.call(Y,ue)&&De(G,ue,Y[ue]);if(he)for(var ue of he(Y))Te.call(Y,ue)&&De(G,ue,Y[ue]);return G};const ve=G=>u.createElement("svg",ye({viewBox:"64 64 896 896"},G),u.createElement("path",{d:"M464 720a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}));var T="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSI2NCA2NCA4OTYgODk2Ij48cGF0aCBkPSJNNDY0IDcyMGE0OCA0OCAwIDEgMCA5NiAwIDQ4IDQ4IDAgMSAwLTk2IDB6bTE2LTMwNHYxODRjMCA0LjQgMy42IDggOCA4aDQ4YzQuNCAwIDgtMy42IDgtOFY0MTZjMC00LjQtMy42LTgtOC04aC00OGMtNC40IDAtOCAzLjYtOCA4em00NzUuNyA0NDAtNDE2LTcyMGMtNi4yLTEwLjctMTYuOS0xNi0yNy43LTE2cy0yMS42IDUuMy0yNy43IDE2bC00MTYgNzIwQzU2IDg3Ny40IDcxLjQgOTA0IDk2IDkwNGg4MzJjMjQuNiAwIDQwLTI2LjYgMjcuNy00OHptLTc4My41LTI3LjlMNTEyIDIzOS45bDMzOS44IDU4OC4ySDE3Mi4yeiIvPjwvc3ZnPg==";function F(G,Y){return be(G)||ae(G,Y)||O(G,Y)||Z()}function Z(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(G,Y){if(G){if(typeof G=="string")return z(G,Y);var ue=Object.prototype.toString.call(G).slice(8,-1);if(ue==="Object"&&G.constructor&&(ue=G.constructor.name),ue==="Map"||ue==="Set")return Array.from(G);if(ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ue))return z(G,Y)}}function z(G,Y){(Y==null||Y>G.length)&&(Y=G.length);for(var ue=0,Me=new Array(Y);ue<Y;ue++)Me[ue]=G[ue];return Me}function ae(G,Y){var ue=G==null?null:typeof Symbol!="undefined"&&G[Symbol.iterator]||G["@@iterator"];if(ue!=null){var Me=[],He=!0,Je=!1,Xe,et;try{for(ue=ue.call(G);!(He=(Xe=ue.next()).done)&&(Me.push(Xe.value),!(Y&&Me.length===Y));He=!0);}catch(ct){Je=!0,et=ct}finally{try{!He&&ue.return!=null&&ue.return()}finally{if(Je)throw et}}return Me}}function be(G){if(Array.isArray(G))return G}var Re={info:X,warning:ve,success:f,error:P},N=function(Y){var ue=(0,u.useState)(function(){return Re[Y.type]}),Me=F(ue,1),He=Me[0];return u.createElement("div",{className:"dumi-default-container markdown","data-type":Y.type},u.createElement(He,null),u.createElement("h4",null,Y.title||Y.type.toUpperCase()),u.createElement("section",null,Y.children))},Q=N},20729:function(i,I,e){"use strict";e.d(I,{Z:function(){return Cd}});var u=e(94184),o=e.n(u),r=e(14570),l=e(47697),d=e(62435),p=e.t(d,2),s=Object.defineProperty,f=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,m=(w,D,H)=>D in w?s(w,D,{enumerable:!0,configurable:!0,writable:!0,value:H}):w[D]=H,g=(w,D)=>{for(var H in D||(D={}))h.call(D,H)&&m(w,H,D[H]);if(f)for(var H of f(D))x.call(D,H)&&m(w,H,D[H]);return w};const y=w=>d.createElement("svg",g({viewBox:"64 64 896 896"},w),d.createElement("path",{d:"m709.6 210 .4-.2h.2L512 96 313.9 209.8h-.2l.7.3L151.5 304v416L512 928l360.5-208V304l-162.9-94zM482.7 843.6 339.6 761V621.4L210 547.8V372.9l272.7 157.3v313.4zM238.2 321.5l134.7-77.8 138.9 79.7 139.1-79.9 135.2 78-273.9 158-274-158zM814 548.3l-128.8 73.1v139.1l-143.9 83V530.4L814 373.1v175.2z"}));var S="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSI2NCA2NCA4OTYgODk2Ij48cGF0aCBkPSJtNzA5LjYgMjEwIC40LS4yaC4yTDUxMiA5NiAzMTMuOSAyMDkuOGgtLjJsLjcuM0wxNTEuNSAzMDR2NDE2TDUxMiA5MjhsMzYwLjUtMjA4VjMwNGwtMTYyLjktOTR6TTQ4Mi43IDg0My42IDMzOS42IDc2MVY2MjEuNEwyMTAgNTQ3LjhWMzcyLjlsMjcyLjcgMTU3LjN2MzEzLjR6TTIzOC4yIDMyMS41bDEzNC43LTc3LjggMTM4LjkgNzkuNyAxMzkuMS03OS45IDEzNS4yIDc4LTI3My45IDE1OC0yNzQtMTU4ek04MTQgNTQ4LjNsLTEyOC44IDczLjF2MTM5LjFsLTE0My45IDgzVjUzMC40TDgxNCAzNzMuMXYxNzUuMnoiLz48L3N2Zz4=",E=Object.defineProperty,P=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,L=(w,D,H)=>D in w?E(w,D,{enumerable:!0,configurable:!0,writable:!0,value:H}):w[D]=H,j=(w,D)=>{for(var H in D||(D={}))k.call(D,H)&&L(w,H,D[H]);if(P)for(var H of P(D))A.call(D,H)&&L(w,H,D[H]);return w};const C=w=>d.createElement("svg",j({viewBox:"64 64 896 896"},w),d.createElement("path",{d:"m925.6 405.1-203-253.7a6.5 6.5 0 0 0-5-2.4H306.4c-1.9 0-3.8.9-5 2.4l-203 253.7a6.5 6.5 0 0 0 .2 8.3l408.6 459.5c1.2 1.4 3 2.1 4.8 2.1 1.8 0 3.5-.8 4.8-2.1l408.6-459.5a6.5 6.5 0 0 0 .2-8.3zM645.2 206.4l34.4 133.9-132.5-133.9h98.1zm8.2 178.5H370.6L512 242l141.4 142.9zM378.8 206.4h98.1L344.3 340.3l34.5-133.9zm-53.4 7-44.1 171.5h-93.1l137.2-171.5zM194.6 434.9H289l125.8 247.7-220.2-247.7zM512 763.4 345.1 434.9h333.7L512 763.4zm97.1-80.8L735 434.9h94.4L609.1 682.6zm133.6-297.7-44.1-171.5 137.2 171.5h-93.1z"}));var _="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSI2NCA2NCA4OTYgODk2Ij48cGF0aCBkPSJtOTI1LjYgNDA1LjEtMjAzLTI1My43YTYuNSA2LjUgMCAwIDAtNS0yLjRIMzA2LjRjLTEuOSAwLTMuOC45LTUgMi40bC0yMDMgMjUzLjdhNi41IDYuNSAwIDAgMCAuMiA4LjNsNDA4LjYgNDU5LjVjMS4yIDEuNCAzIDIuMSA0LjggMi4xIDEuOCAwIDMuNS0uOCA0LjgtMi4xbDQwOC42LTQ1OS41YTYuNSA2LjUgMCAwIDAgLjItOC4zek02NDUuMiAyMDYuNGwzNC40IDEzMy45LTEzMi41LTEzMy45aDk4LjF6bTguMiAxNzguNUgzNzAuNkw1MTIgMjQybDE0MS40IDE0Mi45ek0zNzguOCAyMDYuNGg5OC4xTDM0NC4zIDM0MC4zbDM0LjUtMTMzLjl6bS01My40IDctNDQuMSAxNzEuNWgtOTMuMWwxMzcuMi0xNzEuNXpNMTk0LjYgNDM0LjlIMjg5bDEyNS44IDI0Ny43LTIyMC4yLTI0Ny43ek01MTIgNzYzLjQgMzQ1LjEgNDM0LjloMzMzLjdMNTEyIDc2My40em05Ny4xLTgwLjhMNzM1IDQzNC45aDk0LjRMNjA5LjEgNjgyLjZ6bTEzMy42LTI5Ny43LTQ0LjEtMTcxLjUgMTM3LjIgMTcxLjVoLTkzLjF6Ii8+PC9zdmc+",W=Object.defineProperty,X=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,he=(w,D,H)=>D in w?W(w,D,{enumerable:!0,configurable:!0,writable:!0,value:H}):w[D]=H,Pe=(w,D)=>{for(var H in D||(D={}))te.call(D,H)&&he(w,H,D[H]);if(X)for(var H of X(D))q.call(D,H)&&he(w,H,D[H]);return w};const Te=w=>d.createElement("svg",Pe({viewBox:"64 64 896 896"},w),d.createElement("path",{d:"M848 359.3H627.7L825.8 109c4.1-5.3.4-13-6.3-13H436c-2.8 0-5.5 1.5-6.9 4L170 547.5c-3.1 5.3.7 12 6.9 12h174.4l-89.4 357.6c-1.9 7.8 7.5 13.3 13.3 7.7L853.5 373c5.2-4.9 1.7-13.7-5.5-13.7zM378.2 732.5l60.3-241H281.1l189.6-327.4h224.6L487 427.4h211L378.2 732.5z"}));var De="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSI2NCA2NCA4OTYgODk2Ij48cGF0aCBkPSJNODQ4IDM1OS4zSDYyNy43TDgyNS44IDEwOWM0LjEtNS4zLjQtMTMtNi4zLTEzSDQzNmMtMi44IDAtNS41IDEuNS02LjkgNEwxNzAgNTQ3LjVjLTMuMSA1LjMuNyAxMiA2LjkgMTJoMTc0LjRsLTg5LjQgMzU3LjZjLTEuOSA3LjggNy41IDEzLjMgMTMuMyA3LjdMODUzLjUgMzczYzUuMi00LjkgMS43LTEzLjctNS41LTEzLjd6TTM3OC4yIDczMi41bDYwLjMtMjQxSDI4MS4xbDE4OS42LTMyNy40aDIyNC42TDQ4NyA0MjcuNGgyMTFMMzc4LjIgNzMyLjV6Ii8+PC9zdmc+",ye=e(20640),ve=e.n(ye),T=e(60037),F=function(){return d.createElement(d.Fragment,null)},Z=F,O=e(87462),z=e(4942),ae=e(1413),be=e(86854),Re=e(71002),N=e(91),Q=function(){if(typeof navigator=="undefined"||typeof window=="undefined")return!1;var w=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(w)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(w==null?void 0:w.substr(0,4))};function G(w){var D=d.useRef();D.current=w;var H=d.useCallback(function(){for(var re,J=arguments.length,ie=new Array(J),ge=0;ge<J;ge++)ie[ge]=arguments[ge];return(re=D.current)===null||re===void 0?void 0:re.call.apply(re,[D].concat(ie))},[]);return H}var Y=e(8410),ue=e(30470);function Me(w){return w!==void 0}function He(w,D){var H=D||{},re=H.defaultValue,J=H.value,ie=H.onChange,ge=H.postState,_e=(0,ue.Z)(function(){return Me(J)?J:Me(re)?typeof re=="function"?re():re:typeof w=="function"?w():w}),$e=(0,be.Z)(_e,2),ot=$e[0],it=$e[1],qe=J!==void 0?J:ot,St=ge?ge(qe):qe,st=G(ie),ft=(0,ue.Z)([qe]),wt=(0,be.Z)(ft,2),Nt=wt[0],Ht=wt[1];(0,Y.o)(function(){var At=Nt[0];ot!==At&&st(ot,At)},[Nt]),(0,Y.o)(function(){Me(J)||it(J)},[J]);var bt=G(function(At,Lt){it(At,Lt),Ht([qe],Lt)});return[St,bt]}var Je=e(82225),Xe=(0,d.createContext)(null),et=d.forwardRef(function(w,D){var H=w.prefixCls,re=w.className,J=w.style,ie=w.id,ge=w.active,_e=w.tabKey,$e=w.children;return d.createElement("div",{id:ie&&"".concat(ie,"-panel-").concat(_e),role:"tabpanel",tabIndex:ge?0:-1,"aria-labelledby":ie&&"".concat(ie,"-tab-").concat(_e),"aria-hidden":!ge,style:J,className:o()(H,ge&&"".concat(H,"-active"),re),ref:D},$e)}),ct=et,oe=["key","forceRender","style","className"];function xe(w){var D=w.id,H=w.activeKey,re=w.animated,J=w.tabPosition,ie=w.destroyInactiveTabPane,ge=d.useContext(Xe),_e=ge.prefixCls,$e=ge.tabs,ot=re.tabPane,it="".concat(_e,"-tabpane");return d.createElement("div",{className:o()("".concat(_e,"-content-holder"))},d.createElement("div",{className:o()("".concat(_e,"-content"),"".concat(_e,"-content-").concat(J),(0,z.Z)({},"".concat(_e,"-content-animated"),ot))},$e.map(function(qe){var St=qe.key,st=qe.forceRender,ft=qe.style,wt=qe.className,Nt=(0,N.Z)(qe,oe),Ht=St===H;return d.createElement(Je.ZP,(0,O.Z)({key:St,visible:Ht,forceRender:st,removeOnLeave:!!ie,leavedClassName:"".concat(it,"-hidden")},re.tabPaneMotion),function(bt,At){var Lt=bt.style,_t=bt.className;return d.createElement(ct,(0,O.Z)({},Nt,{prefixCls:it,id:D,tabKey:St,animated:ot,active:Ht,style:(0,ae.Z)((0,ae.Z)({},ft),Lt),className:o()(wt,_t),ref:At}))})})))}var le=e(41451),se=e(9220),ke=e(75164),ne=e(42550),pe={width:0,height:0,left:0,top:0};function V(w,D,H){return(0,d.useMemo)(function(){for(var re,J=new Map,ie=D.get((re=w[0])===null||re===void 0?void 0:re.key)||pe,ge=ie.left+ie.width,_e=0;_e<w.length;_e+=1){var $e=w[_e].key,ot=D.get($e);if(!ot){var it;ot=D.get((it=w[_e-1])===null||it===void 0?void 0:it.key)||pe}var qe=J.get($e)||(0,ae.Z)({},ot);qe.right=ge-qe.left-qe.width,J.set($e,qe)}return J},[w.map(function(re){return re.key}).join("_"),D,H])}function de(w,D){var H=d.useRef(w),re=d.useState({}),J=(0,be.Z)(re,2),ie=J[1];function ge(_e){var $e=typeof _e=="function"?_e(H.current):_e;$e!==H.current&&D($e,H.current),H.current=$e,ie({})}return[H.current,ge]}var we=.1,ze=.01,Fe=20,Ye=Math.pow(.995,Fe);function pt(w,D){var H=(0,d.useState)(),re=(0,be.Z)(H,2),J=re[0],ie=re[1],ge=(0,d.useState)(0),_e=(0,be.Z)(ge,2),$e=_e[0],ot=_e[1],it=(0,d.useState)(0),qe=(0,be.Z)(it,2),St=qe[0],st=qe[1],ft=(0,d.useState)(),wt=(0,be.Z)(ft,2),Nt=wt[0],Ht=wt[1],bt=(0,d.useRef)();function At(Mt){var zt=Mt.touches[0],jt=zt.screenX,Kt=zt.screenY;ie({x:jt,y:Kt}),window.clearInterval(bt.current)}function Lt(Mt){if(J){Mt.preventDefault();var zt=Mt.touches[0],jt=zt.screenX,Kt=zt.screenY;ie({x:jt,y:Kt});var Gt=jt-J.x,Qt=Kt-J.y;D(Gt,Qt);var la=Date.now();ot(la),st(la-$e),Ht({x:Gt,y:Qt})}}function _t(){if(J&&(ie(null),Ht(null),Nt)){var Mt=Nt.x/St,zt=Nt.y/St,jt=Math.abs(Mt),Kt=Math.abs(zt);if(Math.max(jt,Kt)<we)return;var Gt=Mt,Qt=zt;bt.current=window.setInterval(function(){if(Math.abs(Gt)<ze&&Math.abs(Qt)<ze){window.clearInterval(bt.current);return}Gt*=Ye,Qt*=Ye,D(Gt*Fe,Qt*Fe)},Fe)}}var Rt=(0,d.useRef)();function Ot(Mt){var zt=Mt.deltaX,jt=Mt.deltaY,Kt=0,Gt=Math.abs(zt),Qt=Math.abs(jt);Gt===Qt?Kt=Rt.current==="x"?zt:jt:Gt>Qt?(Kt=zt,Rt.current="x"):(Kt=jt,Rt.current="y"),D(-Kt,-Kt)&&Mt.preventDefault()}var Ct=(0,d.useRef)(null);Ct.current={onTouchStart:At,onTouchMove:Lt,onTouchEnd:_t,onWheel:Ot},d.useEffect(function(){function Mt(Gt){Ct.current.onTouchStart(Gt)}function zt(Gt){Ct.current.onTouchMove(Gt)}function jt(Gt){Ct.current.onTouchEnd(Gt)}function Kt(Gt){Ct.current.onWheel(Gt)}return document.addEventListener("touchmove",zt,{passive:!1}),document.addEventListener("touchend",jt,{passive:!1}),w.current.addEventListener("touchstart",Mt,{passive:!1}),w.current.addEventListener("wheel",Kt),function(){document.removeEventListener("touchmove",zt),document.removeEventListener("touchend",jt)}},[])}function Tt(w){var D=(0,d.useState)(0),H=(0,be.Z)(D,2),re=H[0],J=H[1],ie=(0,d.useRef)(0),ge=(0,d.useRef)();return ge.current=w,(0,Y.o)(function(){var _e;(_e=ge.current)===null||_e===void 0||_e.call(ge)},[re]),function(){ie.current===re&&(ie.current+=1,J(ie.current))}}function yt(w){var D=(0,d.useRef)([]),H=(0,d.useState)({}),re=(0,be.Z)(H,2),J=re[1],ie=(0,d.useRef)(typeof w=="function"?w():w),ge=Tt(function(){var $e=ie.current;D.current.forEach(function(ot){$e=ot($e)}),D.current=[],ie.current=$e,J({})});function _e($e){D.current.push($e),ge()}return[ie.current,_e]}var fe={width:0,height:0,left:0,top:0,right:0};function v(w,D,H,re,J,ie,ge){var _e=ge.tabs,$e=ge.tabPosition,ot=ge.rtl,it,qe,St;return["top","bottom"].includes($e)?(it="width",qe=ot?"right":"left",St=Math.abs(H)):(it="height",qe="top",St=-H),(0,d.useMemo)(function(){if(!_e.length)return[0,0];for(var st=_e.length,ft=st,wt=0;wt<st;wt+=1){var Nt=w.get(_e[wt].key)||fe;if(Nt[qe]+Nt[it]>St+D){ft=wt-1;break}}for(var Ht=0,bt=st-1;bt>=0;bt-=1){var At=w.get(_e[bt].key)||fe;if(At[qe]<St){Ht=bt+1;break}}return Ht>=ft?[0,0]:[Ht,ft]},[w,D,re,J,ie,St,$e,_e.map(function(st){return st.key}).join("_"),ot])}function B(w){var D;return w instanceof Map?(D={},w.forEach(function(H,re){D[re]=H})):D=w,JSON.stringify(D)}var ee="TABS_DQ";function ce(w){return String(w).replace(/"/g,ee)}function Ae(w,D){var H=w.prefixCls,re=w.editable,J=w.locale,ie=w.style;return!re||re.showAdd===!1?null:d.createElement("button",{ref:D,type:"button",className:"".concat(H,"-nav-add"),style:ie,"aria-label":(J==null?void 0:J.addAriaLabel)||"Add tab",onClick:function(_e){re.onEdit("add",{event:_e})}},re.addIcon||"+")}var Ne=d.forwardRef(Ae),Se=d.forwardRef(function(w,D){var H=w.position,re=w.prefixCls,J=w.extra;if(!J)return null;var ie,ge={};return(0,Re.Z)(J)==="object"&&!d.isValidElement(J)?ge=J:ge.right=J,H==="right"&&(ie=ge.right),H==="left"&&(ie=ge.left),ie?d.createElement("div",{className:"".concat(re,"-extra-content"),ref:D},ie):null}),We=Se,Ve=e(61254),Qe=e(98924),mt=e(80334),Ee=d.createContext(null),Ue=Ee,je=[];function Ce(w,D){var H=d.useState(function(){if(!(0,Qe.Z)())return null;var ft=document.createElement("div");return ft}),re=(0,be.Z)(H,1),J=re[0],ie=d.useRef(!1),ge=d.useContext(Ue),_e=d.useState(je),$e=(0,be.Z)(_e,2),ot=$e[0],it=$e[1],qe=ge||(ie.current?void 0:function(ft){it(function(wt){var Nt=[ft].concat((0,le.Z)(wt));return Nt})});function St(){J.parentElement||document.body.appendChild(J),ie.current=!0}function st(){var ft;(ft=J.parentElement)===null||ft===void 0||ft.removeChild(J),ie.current=!1}return(0,Y.Z)(function(){return w?ge?ge(St):St():st(),st},[w]),(0,Y.Z)(function(){ot.length&&(ot.forEach(function(ft){return ft()}),it(je))},[ot]),[J,qe]}function tt(w,D){if(!w)return!1;if(w.contains)return w.contains(D);for(var H=D;H;){if(H===w)return!0;H=H.parentNode}return!1}var at="data-rc-order",gt="rc-util-key",kt=new Map;function $t(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=w.mark;return D?D.startsWith("data-")?D:"data-".concat(D):gt}function va(w){if(w.attachTo)return w.attachTo;var D=document.querySelector("head");return D||document.body}function fa(w){return w==="queue"?"prependQueue":w?"prepend":"append"}function wa(w){return Array.from((kt.get(w)||w).children).filter(function(D){return D.tagName==="STYLE"})}function Qa(w){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,Qe.Z)())return null;var H=D.csp,re=D.prepend,J=document.createElement("style");J.setAttribute(at,fa(re)),H!=null&&H.nonce&&(J.nonce=H==null?void 0:H.nonce),J.innerHTML=w;var ie=va(D),ge=ie.firstChild;if(re){if(re==="queue"){var _e=wa(ie).filter(function($e){return["prepend","prependQueue"].includes($e.getAttribute(at))});if(_e.length)return ie.insertBefore(J,_e[_e.length-1].nextSibling),J}ie.insertBefore(J,ge)}else ie.appendChild(J);return J}function Pn(w){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=va(D);return wa(H).find(function(re){return re.getAttribute($t(D))===w})}function tr(w){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=Pn(w,D);if(H){var re=va(D);re.removeChild(H)}}function On(w,D){var H=kt.get(w);if(!H||!tt(document,H)){var re=Qa("",D),J=re.parentNode;kt.set(w,J),w.removeChild(re)}}function Et(){kt.clear()}function nt(w,D){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},re=va(H);On(re,H);var J=Pn(D,H);if(J){var ie,ge;if((ie=H.csp)!==null&&ie!==void 0&&ie.nonce&&J.nonce!==((ge=H.csp)===null||ge===void 0?void 0:ge.nonce)){var _e;J.nonce=(_e=H.csp)===null||_e===void 0?void 0:_e.nonce}return J.innerHTML!==w&&(J.innerHTML=w),J}var $e=Qa(w,H);return $e.setAttribute($t(H),D),$e}var It;function Vt(w){if(typeof document=="undefined")return 0;if(w||It===void 0){var D=document.createElement("div");D.style.width="100%",D.style.height="200px";var H=document.createElement("div"),re=H.style;re.position="absolute",re.top="0",re.left="0",re.pointerEvents="none",re.visibility="hidden",re.width="200px",re.height="150px",re.overflow="hidden",H.appendChild(D),document.body.appendChild(H);var J=D.offsetWidth;H.style.overflow="scroll";var ie=D.offsetWidth;J===ie&&(ie=H.clientWidth),document.body.removeChild(H),It=J-ie}return It}function ta(w){var D=w.match(/^(.*)px$/),H=Number(D==null?void 0:D[1]);return Number.isNaN(H)?Vt():H}function Xt(w){if(typeof document=="undefined"||!w||!(w instanceof Element))return{width:0,height:0};var D=getComputedStyle(w,"::-webkit-scrollbar"),H=D.width,re=D.height;return{width:ta(H),height:ta(re)}}function ja(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var Ha="rc-util-locker-".concat(Date.now()),dn=0;function Ya(w){var D=!!w,H=d.useState(function(){return dn+=1,"".concat(Ha,"_").concat(dn)}),re=(0,be.Z)(H,1),J=re[0];(0,Y.Z)(function(){if(D){var ie=Vt(),ge=ja();nt(`
html body {
  overflow-y: hidden;
  `.concat(ge?"width: calc(100% - ".concat(ie,"px);"):"",`
}`),J)}else tr(J);return function(){tr(J)}},[D,J])}var Mn=!1;function ar(w){return typeof w=="boolean"&&(Mn=w),Mn}var Xa=function(D){return D===!1?!1:!(0,Qe.Z)()||!D?null:typeof D=="string"?document.querySelector(D):typeof D=="function"?D():D},Zo=d.forwardRef(function(w,D){var H=w.open,re=w.autoLock,J=w.getContainer,ie=w.debug,ge=w.autoDestroy,_e=ge===void 0?!0:ge,$e=w.children,ot=d.useState(H),it=(0,be.Z)(ot,2),qe=it[0],St=it[1],st=qe||H;d.useEffect(function(){(_e||H)&&St(H)},[H,_e]);var ft=d.useState(function(){return Xa(J)}),wt=(0,be.Z)(ft,2),Nt=wt[0],Ht=wt[1];d.useEffect(function(){var Kt=Xa(J);Ht(Kt!=null?Kt:null)});var bt=Ce(st&&!Nt,ie),At=(0,be.Z)(bt,2),Lt=At[0],_t=At[1],Rt=Nt!=null?Nt:Lt;Ya(re&&H&&(0,Qe.Z)()&&(Rt===Lt||Rt===document.body));var Ot=null;if($e&&(0,ne.Yr)($e)&&D){var Ct=$e;Ot=Ct.ref}var Mt=(0,ne.x1)(Ot,D);if(!st||!(0,Qe.Z)()||Nt===void 0)return null;var zt=Rt===!1||ar(),jt=$e;return D&&(jt=d.cloneElement($e,{ref:Mt})),d.createElement(Ue.Provider,{value:_t},zt?jt:(0,Ve.createPortal)(jt,Rt))}),Vr=Zo,yo=Vr,dr=e(34203);function bo(w){var D;return w==null||(D=w.getRootNode)===null||D===void 0?void 0:D.call(w)}function Oo(w){return bo(w)!==(w==null?void 0:w.ownerDocument)}function Ur(w){return Oo(w)?bo(w):null}function gr(){var w=(0,ae.Z)({},p);return w.useId}var nu=0;function yr(){}function bu(w){var D=d.useState("ssr-id"),H=(0,be.Z)(D,2),re=H[0],J=H[1],ie=gr(),ge=ie==null?void 0:ie();return d.useEffect(function(){if(!ie){var _e=nu;nu+=1,J("rc_unique_".concat(_e))}},[]),w||ge||re}var ru=d.createContext(null),Qr=ru;function so(w){return w?Array.isArray(w)?w:[w]:[]}function po(w,D,H,re){return d.useMemo(function(){var J=so(H!=null?H:D),ie=so(re!=null?re:D),ge=new Set(J),_e=new Set(ie);return w&&(ge.has("hover")&&(ge.delete("hover"),ge.add("click")),_e.has("hover")&&(_e.delete("hover"),_e.add("click"))),[ge,_e]},[w,D,H,re])}var Io=function(w){if(!w)return!1;if(w instanceof Element){if(w.offsetParent)return!0;if(w.getBBox){var D=w.getBBox(),H=D.width,re=D.height;if(H||re)return!0}if(w.getBoundingClientRect){var J=w.getBoundingClientRect(),ie=J.width,ge=J.height;if(ie||ge)return!0}}return!1};function Mr(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],H=arguments.length>2?arguments[2]:void 0;return H?w[0]===D[0]:w[0]===D[0]&&w[1]===D[1]}function ou(w,D,H,re){for(var J=H.points,ie=Object.keys(w),ge=0;ge<ie.length;ge+=1){var _e,$e=ie[ge];if(Mr((_e=w[$e])===null||_e===void 0?void 0:_e.points,J,re))return"".concat(D,"-placement-").concat($e)}return""}function To(w,D,H,re){return D||(H?{motionName:"".concat(w,"-").concat(H)}:re?{motionName:re}:null)}function Br(w){return w.ownerDocument.defaultView}function zn(w){for(var D=[],H=w==null?void 0:w.parentElement,re=["hidden","scroll","clip","auto"];H;){var J=Br(H).getComputedStyle(H),ie=J.overflowX,ge=J.overflowY,_e=J.overflow;[ie,ge,_e].some(function($e){return re.includes($e)})&&D.push(H),H=H.parentElement}return D}function ln(w){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(w)?D:w}function cn(w){return ln(parseFloat(w),0)}function Tn(w,D){var H=(0,ae.Z)({},w);return(D||[]).forEach(function(re){if(!(re instanceof HTMLBodyElement)){var J=Br(re).getComputedStyle(re),ie=J.overflow,ge=J.overflowClipMargin,_e=J.borderTopWidth,$e=J.borderBottomWidth,ot=J.borderLeftWidth,it=J.borderRightWidth,qe=re.getBoundingClientRect(),St=re.offsetHeight,st=re.clientHeight,ft=re.offsetWidth,wt=re.clientWidth,Nt=cn(_e),Ht=cn($e),bt=cn(ot),At=cn(it),Lt=ln(Math.round(qe.width/ft*1e3)/1e3),_t=ln(Math.round(qe.height/St*1e3)/1e3),Rt=(ft-wt-bt-At)*Lt,Ot=(St-st-Nt-Ht)*_t,Ct=Nt*_t,Mt=Ht*_t,zt=bt*Lt,jt=At*Lt,Kt=0,Gt=0;if(ie==="clip"){var Qt=cn(ge);Kt=Qt*Lt,Gt=Qt*_t}var la=qe.x+zt-Kt,Pa=qe.y+Ct-Gt,Aa=la+qe.width+2*Kt-zt-jt-Rt,Na=Pa+qe.height+2*Gt-Ct-Mt-Ot;H.left=Math.max(H.left,la),H.top=Math.max(H.top,Pa),H.right=Math.min(H.right,Aa),H.bottom=Math.min(H.bottom,Na)}}),H}function Ja(w){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H="".concat(D),re=H.match(/^(.*)\%$/);return re?w*(parseFloat(re[1])/100):parseFloat(H)}function oa(w,D){var H=D||[],re=(0,be.Z)(H,2),J=re[0],ie=re[1];return[Ja(w.width,J),Ja(w.height,ie)]}function Wr(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[w[0],w[1]]}function Nn(w,D){var H=D[0],re=D[1],J,ie;return H==="t"?ie=w.y:H==="b"?ie=w.y+w.height:ie=w.y+w.height/2,re==="l"?J=w.x:re==="r"?J=w.x+w.width:J=w.x+w.width/2,{x:J,y:ie}}function Dn(w,D){var H={t:"b",b:"t",l:"r",r:"l"};return w.map(function(re,J){return J===D?H[re]||"c":re}).join("")}function zr(w,D,H,re,J,ie,ge){var _e=d.useState({ready:!1,offsetX:0,offsetY:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:J[re]||{}}),$e=(0,be.Z)(_e,2),ot=$e[0],it=$e[1],qe=d.useRef(0),St=d.useMemo(function(){return D?zn(D):[]},[D]),st=d.useRef({}),ft=function(){st.current={}};w||ft();var wt=G(function(){if(D&&H&&w){let Ma=function(rr,Xn){var Ar=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Oa,Co=zt.x+rr,mu=zt.y+Xn,ml=Co+ra,Td=mu+Ua,gl=Math.max(Co,Ar.left),yl=Math.max(mu,Ar.top),qd=Math.min(ml,Ar.right),Ad=Math.min(Td,Ar.bottom);return Math.max(0,(qd-gl)*(Ad-yl))},sn=function(){kn=zt.y+un,La=kn+Ua,gn=zt.x+ya,Rn=gn+ra};var bt=D,At=bt.style.left,Lt=bt.style.top,_t=bt.ownerDocument,Rt=Br(bt),Ot=(0,ae.Z)((0,ae.Z)({},J[re]),ie);bt.style.left="0",bt.style.top="0";var Ct;if(Array.isArray(H))Ct={x:H[0],y:H[1],width:0,height:0};else{var Mt=H.getBoundingClientRect();Ct={x:Mt.x,y:Mt.y,width:Mt.width,height:Mt.height}}var zt=bt.getBoundingClientRect(),jt=Rt.getComputedStyle(bt),Kt=jt.width,Gt=jt.height,Qt=_t.documentElement,la=Qt.clientWidth,Pa=Qt.clientHeight,Aa=Qt.scrollWidth,Na=Qt.scrollHeight,on=Qt.scrollTop,vn=Qt.scrollLeft,Ua=zt.height,ra=zt.width,ga=Ct.height,ha=Ct.width,Ra={left:0,top:0,right:la,bottom:Pa},Fa={left:-vn,top:-on,right:Aa-vn,bottom:Na-on},za=Ot.htmlRegion,ia="visible",Ba="visibleFirst";za!=="scroll"&&za!==Ba&&(za=ia);var fn=za===Ba,Ga=Tn(Fa,St),_a=Tn(Ra,St),Oa=za===ia?_a:Ga,wr=fn?_a:Oa;bt.style.left=At,bt.style.top=Lt;var qn=ln(Math.round(ra/parseFloat(Kt)*1e3)/1e3),ka=ln(Math.round(Ua/parseFloat(Gt)*1e3)/1e3);if(qn===0||ka===0||(0,dr.S)(H)&&!Io(H))return;var xn=Ot.offset,qa=Ot.targetOffset,Ka=oa(zt,xn),en=(0,be.Z)(Ka,2),Cr=en[0],kr=en[1],Kn=oa(Ct,qa),Rr=(0,be.Z)(Kn,2),Vn=Rr[0],tn=Rr[1];Ct.x-=Vn,Ct.y-=tn;var Dr=Ot.points||[],Qn=(0,be.Z)(Dr,2),hn=Qn[0],An=Qn[1],Yn=Wr(An),Un=Wr(hn),an=Nn(Ct,Yn),Cn=Nn(zt,Un),$a=(0,ae.Z)({},Ot),ya=an.x-Cn.x+Cr,un=an.y-Cn.y+kr,nr=Ma(ya,un),sr=Ma(ya,un,_a),Zr=Nn(Ct,["t","l"]),fr=Nn(zt,["t","l"]),oo=Nn(Ct,["b","r"]),mn=Nn(zt,["b","r"]),Wa=Ot.overflow||{},Pr=Wa.adjustX,Gr=Wa.adjustY,ca=Wa.shiftX,xa=Wa.shiftY,Za=function(Xn){return typeof Xn=="boolean"?Xn:Xn>=0},kn,La,gn,Rn;sn();var xr=Za(Gr),uo=Un[0]===Yn[0];if(xr&&Un[0]==="t"&&(La>wr.bottom||st.current.bt)){var pr=un;uo?pr-=Ua-ga:pr=Zr.y-mn.y-kr;var Uo=Ma(ya,pr),bn=Ma(ya,pr,_a);Uo>nr||Uo===nr&&(!fn||bn>=sr)?(st.current.bt=!0,un=pr,$a.points=[Dn(Un,0),Dn(Yn,0)]):st.current.bt=!1}if(xr&&Un[0]==="b"&&(kn<wr.top||st.current.tb)){var or=un;uo?or+=Ua-ga:or=oo.y-fr.y-kr;var lo=Ma(ya,or),wo=Ma(ya,or,_a);lo>nr||lo===nr&&(!fn||wo>=sr)?(st.current.tb=!0,un=or,$a.points=[Dn(Un,0),Dn(Yn,0)]):st.current.tb=!1}var Or=Za(Pr),sa=Un[1]===Yn[1];if(Or&&Un[1]==="l"&&(Rn>wr.right||st.current.rl)){var ba=ya;sa?ba-=ra-ha:ba=Zr.x-mn.x-Cr;var Va=Ma(ba,un),er=Ma(ba,un,_a);Va>nr||Va===nr&&(!fn||er>=sr)?(st.current.rl=!0,ya=ba,$a.points=[Dn(Un,1),Dn(Yn,1)]):st.current.rl=!1}if(Or&&Un[1]==="r"&&(gn<wr.left||st.current.lr)){var hr=ya;sa?hr+=ra-ha:hr=oo.x-fr.x-Cr;var Tr=Ma(hr,un),Au=Ma(hr,un,_a);Tr>nr||Tr===nr&&(!fn||Au>=sr)?(st.current.lr=!0,ya=hr,$a.points=[Dn(Un,1),Dn(Yn,1)]):st.current.lr=!1}sn();var Bo=ca===!0?0:ca;typeof Bo=="number"&&(gn<Oa.left&&(ya-=gn-Oa.left,Ct.x+ha<Oa.left+Bo&&(ya+=Ct.x-Oa.left+ha-Bo)),Rn>Oa.right&&(ya-=Rn-Oa.right,Ct.x>Oa.right-Bo&&(ya+=Ct.x-Oa.right+Bo)));var io=xa===!0?0:xa;typeof io=="number"&&(kn<Oa.top&&(un-=kn-Oa.top,Ct.y+ga<Oa.top+io&&(un+=Ct.y-Oa.top+ga-io)),La>Oa.bottom&&(un-=La-Oa.bottom,Ct.y>Oa.bottom-io&&(un+=Ct.y-Oa.bottom+io)));var Jo=zt.x+ya,hu=Jo+ra,ho=zt.y+un,Wo=ho+Ua,qo=Ct.x,zo=qo+ha,qu=Ct.y,ed=qu+ga,td=Math.max(Jo,qo),ad=Math.min(hu,zo),kd=(td+ad)/2,Rd=kd-Jo,Lu=Math.max(ho,qu),Pd=Math.min(Wo,ed),Od=(Lu+Pd)/2,Ln=Od-ho;ge==null||ge(D,$a),it({ready:!0,offsetX:ya/qn,offsetY:un/ka,arrowX:Rd/qn,arrowY:Ln/ka,scaleX:qn,scaleY:ka,align:$a})}}),Nt=function(){qe.current+=1;var At=qe.current;Promise.resolve().then(function(){qe.current===At&&wt()})},Ht=function(){it(function(At){return(0,ae.Z)((0,ae.Z)({},At),{},{ready:!1})})};return(0,Y.Z)(Ht,[re]),(0,Y.Z)(function(){w||Ht()},[w]),[ot.ready,ot.offsetX,ot.offsetY,ot.arrowX,ot.arrowY,ot.scaleX,ot.scaleY,ot.align,Nt]}function Yr(w,D,H,re){(0,Y.Z)(function(){if(w&&D&&H){let it=function(){re()};var J=D,ie=H,ge=zn(J),_e=zn(ie),$e=Br(ie),ot=new Set([$e].concat((0,le.Z)(ge),(0,le.Z)(_e)));return ot.forEach(function(qe){qe.addEventListener("scroll",it,{passive:!0})}),$e.addEventListener("resize",it,{passive:!0}),re(),function(){ot.forEach(function(qe){qe.removeEventListener("scroll",it),$e.removeEventListener("resize",it)})}}},[w,D,H])}function Fn(w,D,H,re,J,ie,ge,_e){var $e=d.useRef(w),ot=d.useRef(!1);$e.current!==w&&(ot.current=!0,$e.current=w),d.useEffect(function(){var it=(0,ke.Z)(function(){ot.current=!1});return function(){ke.Z.cancel(it)}},[w]),d.useEffect(function(){if(D&&re&&(!J||ie)){var it=!1,qe=function(Lt){var _t=Lt.target;it=ge(_t)},St=function(Lt){var _t=Lt.target;!ot.current&&$e.current&&!it&&!ge(_t)&&_e(!1)},st=Br(re);st.addEventListener("mousedown",qe),st.addEventListener("click",St);var ft=Ur(H);if(ft&&(ft.addEventListener("mousedown",qe),ft.addEventListener("click",St)),!1)var wt,Nt,Ht,bt;return function(){st.removeEventListener("mousedown",qe),st.removeEventListener("click",St),ft&&(ft.removeEventListener("mousedown",qe),ft.removeEventListener("click",St))}}},[D,H,re,J,ie])}function eo(w){var D=w.prefixCls,H=w.align,re=w.arrow,J=w.arrowPos,ie=re||{},ge=ie.className,_e=ie.content,$e=J.x,ot=$e===void 0?0:$e,it=J.y,qe=it===void 0?0:it,St=d.useRef();if(!H||!H.points)return null;var st={position:"absolute"};if(H.autoArrow!==!1){var ft=H.points[0],wt=H.points[1],Nt=ft[0],Ht=ft[1],bt=wt[0],At=wt[1];Nt===bt||!["t","b"].includes(Nt)?st.top=qe:Nt==="t"?st.top=0:st.bottom=0,Ht===At||!["l","r"].includes(Ht)?st.left=ot:Ht==="l"?st.left=0:st.right=0}return d.createElement("div",{ref:St,className:o()("".concat(D,"-arrow"),ge),style:st},_e)}function lr(w){var D=w.prefixCls,H=w.open,re=w.zIndex,J=w.mask,ie=w.motion;return J?d.createElement(Je.ZP,(0,O.Z)({},ie,{motionAppear:!0,visible:H,removeOnLeave:!0}),function(ge){var _e=ge.className;return d.createElement("div",{style:{zIndex:re},className:o()("".concat(D,"-mask"),_e)})}):null}var ir=d.memo(function(w){var D=w.children;return D},function(w,D){return D.cache}),br=ir,vo=d.forwardRef(function(w,D){var H=w.popup,re=w.className,J=w.prefixCls,ie=w.style,ge=w.target,_e=w.onVisibleChanged,$e=w.open,ot=w.keepDom,it=w.onClick,qe=w.mask,St=w.arrow,st=w.arrowPos,ft=w.align,wt=w.motion,Nt=w.maskMotion,Ht=w.forceRender,bt=w.getPopupContainer,At=w.autoDestroy,Lt=w.portal,_t=w.zIndex,Rt=w.onMouseEnter,Ot=w.onMouseLeave,Ct=w.ready,Mt=w.offsetX,zt=w.offsetY,jt=w.onAlign,Kt=w.onPrepare,Gt=w.stretch,Qt=w.targetWidth,la=w.targetHeight,Pa=typeof H=="function"?H():H,Aa=$e||ot,Na=(bt==null?void 0:bt.length)>0,on=d.useState(!bt||!Na),vn=(0,be.Z)(on,2),Ua=vn[0],ra=vn[1];if((0,Y.Z)(function(){!Ua&&Na&&ge&&ra(!0)},[Ua,Na,ge]),!Ua)return null;var ga=Ct||!$e?{left:Mt,top:zt}:{left:"-1000vw",top:"-1000vh"},ha={};return Gt&&(Gt.includes("height")&&la?ha.height=la:Gt.includes("minHeight")&&la&&(ha.minHeight=la),Gt.includes("width")&&Qt?ha.width=Qt:Gt.includes("minWidth")&&Qt&&(ha.minWidth=Qt)),$e||(ha.pointerEvents="none"),d.createElement(Lt,{open:Ht||Aa,getContainer:bt&&function(){return bt(ge)},autoDestroy:At},d.createElement(lr,{prefixCls:J,open:$e,zIndex:_t,mask:qe,motion:Nt}),d.createElement(se.Z,{onResize:jt,disabled:!$e},function(Ra){return d.createElement(Je.ZP,(0,O.Z)({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:Ht,leavedClassName:"".concat(J,"-hidden")},wt,{onAppearPrepare:Kt,onEnterPrepare:Kt,visible:$e,onVisibleChanged:function(za){var ia;wt==null||(ia=wt.onVisibleChanged)===null||ia===void 0||ia.call(wt,za),_e(za)}}),function(Fa,za){var ia=Fa.className,Ba=Fa.style,fn=o()(J,ia,re);return d.createElement("div",{ref:(0,ne.sQ)(Ra,D,za),className:fn,style:(0,ae.Z)((0,ae.Z)((0,ae.Z)((0,ae.Z)({"--arrow-x":"".concat(st.x||0,"px"),"--arrow-y":"".concat(st.y||0,"px")},ga),ha),Ba),{},{boxSizing:"border-box",zIndex:_t},ie),onMouseEnter:Rt,onMouseLeave:Ot,onClick:it},St&&d.createElement(eo,{prefixCls:J,arrow:St,arrowPos:st,align:ft}),d.createElement(br,{cache:!$e},Pa))})}))}),Ao=vo,Go=d.forwardRef(function(w,D){var H=w.children,re=w.getTriggerDOMNode,J=(0,ne.Yr)(H),ie=d.useCallback(function(_e){(0,ne.mH)(D,re?re(_e):_e)},[re]),ge=(0,ne.x1)(ie,H.ref);return J?d.cloneElement(H,{ref:ge}):H}),Lo=Go,ul=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Hd(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yo,D=d.forwardRef(function(H,re){var J=H.prefixCls,ie=J===void 0?"rc-trigger-popup":J,ge=H.children,_e=H.action,$e=_e===void 0?"hover":_e,ot=H.showAction,it=H.hideAction,qe=H.popupVisible,St=H.defaultPopupVisible,st=H.onPopupVisibleChange,ft=H.afterPopupVisibleChange,wt=H.mouseEnterDelay,Nt=H.mouseLeaveDelay,Ht=Nt===void 0?.1:Nt,bt=H.focusDelay,At=H.blurDelay,Lt=H.mask,_t=H.maskClosable,Rt=_t===void 0?!0:_t,Ot=H.getPopupContainer,Ct=H.forceRender,Mt=H.autoDestroy,zt=H.destroyPopupOnHide,jt=H.popup,Kt=H.popupClassName,Gt=H.popupStyle,Qt=H.popupPlacement,la=H.builtinPlacements,Pa=la===void 0?{}:la,Aa=H.popupAlign,Na=H.zIndex,on=H.stretch,vn=H.getPopupClassNameFromAlign,Ua=H.alignPoint,ra=H.onPopupClick,ga=H.onPopupAlign,ha=H.arrow,Ra=H.popupMotion,Fa=H.maskMotion,za=H.popupTransitionName,ia=H.popupAnimation,Ba=H.maskTransitionName,fn=H.maskAnimation,Ga=H.className,_a=H.getTriggerDOMNode,Oa=(0,N.Z)(H,ul),wr=Mt||zt||!1,qn=d.useState(!1),ka=(0,be.Z)(qn,2),xn=ka[0],qa=ka[1];(0,Y.Z)(function(){qa(Q())},[]);var Ka=d.useRef({}),en=d.useContext(Qr),Cr=d.useMemo(function(){return{registerSubPopup:function(Da,Bn){Ka.current[Da]=Bn,en==null||en.registerSubPopup(Da,Bn)}}},[en]),kr=bu(),Kn=d.useState(null),Rr=(0,be.Z)(Kn,2),Vn=Rr[0],tn=Rr[1],Dr=G(function(da){(0,dr.S)(da)&&Vn!==da&&tn(da),en==null||en.registerSubPopup(kr,da)}),Qn=d.useState(null),hn=(0,be.Z)(Qn,2),An=hn[0],Yn=hn[1],Un=G(function(da){(0,dr.S)(da)&&An!==da&&Yn(da)}),an=d.Children.only(ge),Cn=(an==null?void 0:an.props)||{},$a={},ya=G(function(da){var Da,Bn,ur=An;return(ur==null?void 0:ur.contains(da))||((Da=Ur(ur))===null||Da===void 0?void 0:Da.host)===da||da===ur||(Vn==null?void 0:Vn.contains(da))||((Bn=Ur(Vn))===null||Bn===void 0?void 0:Bn.host)===da||da===Vn||Object.values(Ka.current).some(function(Wn){return(Wn==null?void 0:Wn.contains(da))||da===Wn})}),un=To(ie,Ra,ia,za),nr=To(ie,Fa,fn,Ba),sr=d.useState(St||!1),Zr=(0,be.Z)(sr,2),fr=Zr[0],oo=Zr[1],mn=qe!=null?qe:fr,Wa=G(function(da){qe===void 0&&oo(da)});(0,Y.Z)(function(){oo(qe||!1)},[qe]);var Pr=d.useRef(mn);Pr.current=mn;var Gr=G(function(da){mn!==da&&(Wa(da),st==null||st(da))}),ca=d.useRef(),xa=function(){clearTimeout(ca.current)},Za=function(Da){var Bn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;xa(),Bn===0?Gr(Da):ca.current=setTimeout(function(){Gr(Da)},Bn*1e3)};d.useEffect(function(){return xa},[]);var kn=d.useState(!1),La=(0,be.Z)(kn,2),gn=La[0],Rn=La[1],xr=d.useRef(!0);(0,Y.Z)(function(){(!xr.current||mn)&&Rn(!0),xr.current=!0},[mn]);var uo=d.useState(null),pr=(0,be.Z)(uo,2),Uo=pr[0],bn=pr[1],or=d.useState([0,0]),lo=(0,be.Z)(or,2),wo=lo[0],Or=lo[1],sa=function(Da){Or([Da.clientX,Da.clientY])},ba=zr(mn,Vn,Ua?wo:An,Qt,Pa,Aa,ga),Va=(0,be.Z)(ba,9),er=Va[0],hr=Va[1],Tr=Va[2],Au=Va[3],Bo=Va[4],io=Va[5],Jo=Va[6],hu=Va[7],ho=Va[8],Wo=G(function(){gn||ho()});Yr(mn,An,Vn,Wo),(0,Y.Z)(function(){Wo()},[wo,Qt]),(0,Y.Z)(function(){mn&&!(Pa!=null&&Pa[Qt])&&Wo()},[JSON.stringify(Aa)]);var qo=d.useMemo(function(){var da=ou(Pa,ie,hu,Ua);return o()(da,vn==null?void 0:vn(hu))},[hu,vn,Pa,ie,Ua]);d.useImperativeHandle(re,function(){return{forceAlign:Wo}});var zo=function(Da){Rn(!1),ho(),ft==null||ft(Da)},qu=function(){return new Promise(function(Da){bn(function(){return Da})})};(0,Y.Z)(function(){Uo&&(ho(),Uo(),bn(null))},[Uo]);var ed=d.useState(0),td=(0,be.Z)(ed,2),ad=td[0],kd=td[1],Rd=d.useState(0),Lu=(0,be.Z)(Rd,2),Pd=Lu[0],Od=Lu[1],Ln=function(Da,Bn){if(Wo(),on){var ur=Bn.getBoundingClientRect();kd(ur.width),Od(ur.height)}},Ma=po(xn,$e,ot,it),sn=(0,be.Z)(Ma,2),rr=sn[0],Xn=sn[1],Ar=function(Da,Bn,ur,Wn){$a[Da]=function(jl){var el;Wn==null||Wn(jl),Za(Bn,ur);for(var nd=arguments.length,Fr=new Array(nd>1?nd-1:0),bl=1;bl<nd;bl++)Fr[bl-1]=arguments[bl];(el=Cn[Da])===null||el===void 0||el.call.apply(el,[Cn,jl].concat(Fr))}},Co=rr.has("click"),mu=Xn.has("click")||Xn.has("contextMenu");(Co||mu)&&($a.onClick=function(da){var Da;Pr.current&&mu?Za(!1):!Pr.current&&Co&&(sa(da),Za(!0));for(var Bn=arguments.length,ur=new Array(Bn>1?Bn-1:0),Wn=1;Wn<Bn;Wn++)ur[Wn-1]=arguments[Wn];(Da=Cn.onClick)===null||Da===void 0||Da.call.apply(Da,[Cn,da].concat(ur))}),Fn(mn,mu,An,Vn,Lt,Rt,ya,Za);var ml=rr.has("hover"),Td=Xn.has("hover"),gl,yl;ml&&(Ar("onMouseEnter",!0,wt,function(da){sa(da)}),gl=function(){Za(!0,wt)},Ua&&($a.onMouseMove=function(da){var Da;(Da=Cn.onMouseMove)===null||Da===void 0||Da.call(Cn,da)})),Td&&(Ar("onMouseLeave",!1,Ht),yl=function(){Za(!1,Ht)}),rr.has("focus")&&Ar("onFocus",!0,bt),Xn.has("focus")&&Ar("onBlur",!1,At),rr.has("contextMenu")&&($a.onContextMenu=function(da){var Da;sa(da),Za(!0),da.preventDefault();for(var Bn=arguments.length,ur=new Array(Bn>1?Bn-1:0),Wn=1;Wn<Bn;Wn++)ur[Wn-1]=arguments[Wn];(Da=Cn.onContextMenu)===null||Da===void 0||Da.call.apply(Da,[Cn,da].concat(ur))}),Ga&&($a.className=o()(Cn.className,Ga));var qd=(0,ae.Z)((0,ae.Z)({},Cn),$a),Ad={},Fl=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Fl.forEach(function(da){Oa[da]&&(Ad[da]=function(){for(var Da,Bn=arguments.length,ur=new Array(Bn),Wn=0;Wn<Bn;Wn++)ur[Wn]=arguments[Wn];(Da=qd[da])===null||Da===void 0||Da.call.apply(Da,[qd].concat(ur)),Oa[da].apply(Oa,ur)})});var Ri=d.cloneElement(an,(0,ae.Z)((0,ae.Z)({},qd),Ad)),ei={x:Au,y:Bo},ti=ha?(0,ae.Z)({},ha!==!0?ha:{}):null;return d.createElement(d.Fragment,null,d.createElement(se.Z,{disabled:!mn,ref:Un,onResize:Ln},d.createElement(Lo,{getTriggerDOMNode:_a},Ri)),d.createElement(Qr.Provider,{value:Cr},d.createElement(Ao,{portal:w,ref:Dr,prefixCls:ie,popup:jt,className:o()(Kt,qo),style:Gt,target:An,onMouseEnter:gl,onMouseLeave:yl,zIndex:Na,open:mn,keepDom:gn,onClick:ra,mask:Lt,motion:un,maskMotion:nr,onVisibleChanged:zo,onPrepare:qu,forceRender:Ct,autoDestroy:wr,getPopupContainer:Ot,align:hu,arrow:ti,arrowPos:ei,ready:er,offsetX:hr,offsetY:Tr,onAlign:Wo,stretch:on,targetWidth:ad/io,targetHeight:Pd/Jo})))});return D}var Eo=Hd(yo),$n=e(15105),Nu=$n.Z.ESC,uu=$n.Z.TAB;function Ud(w){var D=w.visible,H=w.triggerRef,re=w.onVisibleChange,J=w.autoFocus,ie=w.overlayRef,ge=d.useRef(!1),_e=function(){if(D){var qe,St;(qe=H.current)===null||qe===void 0||(St=qe.focus)===null||St===void 0||St.call(qe),re==null||re(!1)}},$e=function(){var qe;return(qe=ie.current)!==null&&qe!==void 0&&qe.focus?(ie.current.focus(),ge.current=!0,!0):!1},ot=function(qe){switch(qe.keyCode){case Nu:_e();break;case uu:{var St=!1;ge.current||(St=$e()),St?qe.preventDefault():_e();break}}};d.useEffect(function(){return D?(window.addEventListener("keydown",ot),J&&(0,ke.Z)($e,3),function(){window.removeEventListener("keydown",ot),ge.current=!1}):function(){ge.current=!1}},[D])}var dl=(0,d.forwardRef)(function(w,D){var H=w.overlay,re=w.arrow,J=w.prefixCls,ie=(0,d.useMemo)(function(){var _e;return typeof H=="function"?_e=H():_e=H,_e},[H]),ge=(0,ne.sQ)(D,ie==null?void 0:ie.ref);return d.createElement(d.Fragment,null,re&&d.createElement("div",{className:"".concat(J,"-arrow")}),d.cloneElement(ie,{ref:(0,ne.Yr)(ie)?ge:void 0}))}),Eu=dl,to={adjustX:1,adjustY:1},Xr=[0,0],Ko={topLeft:{points:["bl","tl"],overflow:to,offset:[0,-4],targetOffset:Xr},top:{points:["bc","tc"],overflow:to,offset:[0,-4],targetOffset:Xr},topRight:{points:["br","tr"],overflow:to,offset:[0,-4],targetOffset:Xr},bottomLeft:{points:["tl","bl"],overflow:to,offset:[0,4],targetOffset:Xr},bottom:{points:["tc","bc"],overflow:to,offset:[0,4],targetOffset:Xr},bottomRight:{points:["tr","br"],overflow:to,offset:[0,4],targetOffset:Xr}},Bd=Ko,kl=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function ud(w,D){var H,re=w.arrow,J=re===void 0?!1:re,ie=w.prefixCls,ge=ie===void 0?"rc-dropdown":ie,_e=w.transitionName,$e=w.animation,ot=w.align,it=w.placement,qe=it===void 0?"bottomLeft":it,St=w.placements,st=St===void 0?Bd:St,ft=w.getPopupContainer,wt=w.showAction,Nt=w.hideAction,Ht=w.overlayClassName,bt=w.overlayStyle,At=w.visible,Lt=w.trigger,_t=Lt===void 0?["hover"]:Lt,Rt=w.autoFocus,Ot=w.overlay,Ct=w.children,Mt=w.onVisibleChange,zt=(0,N.Z)(w,kl),jt=d.useState(),Kt=(0,be.Z)(jt,2),Gt=Kt[0],Qt=Kt[1],la="visible"in w?At:Gt,Pa=d.useRef(null),Aa=d.useRef(null),Na=d.useRef(null);d.useImperativeHandle(D,function(){return Pa.current});var on=function(ia){Qt(ia),Mt==null||Mt(ia)};Ud({visible:la,triggerRef:Na,onVisibleChange:on,autoFocus:Rt,overlayRef:Aa});var vn=function(ia){var Ba=w.onOverlayClick;Qt(!1),Ba&&Ba(ia)},Ua=function(){return d.createElement(Eu,{ref:Aa,overlay:Ot,prefixCls:ge,arrow:J})},ra=function(){return typeof Ot=="function"?Ua:Ua()},ga=function(){var ia=w.minOverlayWidthMatchTrigger,Ba=w.alignPoint;return"minOverlayWidthMatchTrigger"in w?ia:!Ba},ha=function(){var ia=w.openClassName;return ia!==void 0?ia:"".concat(ge,"-open")},Ra=d.cloneElement(Ct,{className:o()((H=Ct.props)===null||H===void 0?void 0:H.className,la&&ha()),ref:(0,ne.Yr)(Ct)?(0,ne.sQ)(Na,Ct.ref):void 0}),Fa=Nt;return!Fa&&_t.indexOf("contextMenu")!==-1&&(Fa=["click"]),d.createElement(Eo,(0,O.Z)({builtinPlacements:st},zt,{prefixCls:ge,ref:Pa,popupClassName:o()(Ht,(0,z.Z)({},"".concat(ge,"-show-arrow"),J)),popupStyle:bt,action:_t,showAction:wt,hideAction:Fa,popupPlacement:qe,popupAlign:ot,popupTransitionName:_e,popupAnimation:$e,popupVisible:la,stretch:ga()?"minWidth":"",popup:ra(),onPopupVisibleChange:on,onPopupClick:vn,getPopupContainer:ft}),Ra)}var _u=d.forwardRef(ud),Du=_u,dd=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Nr=void 0;function du(w,D){var H=w.prefixCls,re=w.invalidate,J=w.item,ie=w.renderItem,ge=w.responsive,_e=w.responsiveDisabled,$e=w.registerSize,ot=w.itemKey,it=w.className,qe=w.style,St=w.children,st=w.display,ft=w.order,wt=w.component,Nt=wt===void 0?"div":wt,Ht=(0,N.Z)(w,dd),bt=ge&&!st;function At(Ct){$e(ot,Ct)}d.useEffect(function(){return function(){At(null)}},[]);var Lt=ie&&J!==Nr?ie(J):St,_t;re||(_t={opacity:bt?0:1,height:bt?0:Nr,overflowY:bt?"hidden":Nr,order:ge?ft:Nr,pointerEvents:bt?"none":Nr,position:bt?"absolute":Nr});var Rt={};bt&&(Rt["aria-hidden"]=!0);var Ot=d.createElement(Nt,(0,O.Z)({className:o()(!re&&H,it),style:(0,ae.Z)((0,ae.Z)({},_t),qe)},Rt,Ht,{ref:D}),Lt);return ge&&(Ot=d.createElement(se.Z,{onResize:function(Mt){var zt=Mt.offsetWidth;At(zt)},disabled:_e},Ot)),Ot}var Su=d.forwardRef(du);Su.displayName="Item";var wu=Su;function Cu(w){if(typeof MessageChannel=="undefined")(0,ke.Z)(w);else{var D=new MessageChannel;D.port1.onmessage=function(){return w()},D.port2.postMessage(void 0)}}function Fu(){var w=d.useRef(null),D=function(re){w.current||(w.current=[],Cu(function(){(0,Ve.unstable_batchedUpdates)(function(){w.current.forEach(function(J){J()}),w.current=null})})),w.current.push(re)};return D}function lu(w,D){var H=d.useState(D),re=(0,be.Z)(H,2),J=re[0],ie=re[1],ge=G(function(_e){w(function(){ie(_e)})});return[J,ge]}var vr=["component"],iu=["className"],M=["className"],$=function(D,H){var re=d.useContext(ut);if(!re){var J=D.component,ie=J===void 0?"div":J,ge=(0,N.Z)(D,vr);return d.createElement(ie,(0,O.Z)({},ge,{ref:H}))}var _e=re.className,$e=(0,N.Z)(re,iu),ot=D.className,it=(0,N.Z)(D,M);return d.createElement(ut.Provider,{value:null},d.createElement(wu,(0,O.Z)({ref:H,className:o()(_e,ot)},$e,it)))},U=d.forwardRef($);U.displayName="RawItem";var me=U,Ze=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],ut=d.createContext(null),lt="responsive",xt="invalidate";function Dt(w){return"+ ".concat(w.length," ...")}function Ft(w,D){var H=w.prefixCls,re=H===void 0?"rc-overflow":H,J=w.data,ie=J===void 0?[]:J,ge=w.renderItem,_e=w.renderRawItem,$e=w.itemKey,ot=w.itemWidth,it=ot===void 0?10:ot,qe=w.ssr,St=w.style,st=w.className,ft=w.maxCount,wt=w.renderRest,Nt=w.renderRawRest,Ht=w.suffix,bt=w.component,At=bt===void 0?"div":bt,Lt=w.itemComponent,_t=w.onVisibleChange,Rt=(0,N.Z)(w,Ze),Ot=qe==="full",Ct=Fu(),Mt=lu(Ct,null),zt=(0,be.Z)(Mt,2),jt=zt[0],Kt=zt[1],Gt=jt||0,Qt=lu(Ct,new Map),la=(0,be.Z)(Qt,2),Pa=la[0],Aa=la[1],Na=lu(Ct,0),on=(0,be.Z)(Na,2),vn=on[0],Ua=on[1],ra=lu(Ct,0),ga=(0,be.Z)(ra,2),ha=ga[0],Ra=ga[1],Fa=lu(Ct,0),za=(0,be.Z)(Fa,2),ia=za[0],Ba=za[1],fn=(0,d.useState)(null),Ga=(0,be.Z)(fn,2),_a=Ga[0],Oa=Ga[1],wr=(0,d.useState)(null),qn=(0,be.Z)(wr,2),ka=qn[0],xn=qn[1],qa=d.useMemo(function(){return ka===null&&Ot?Number.MAX_SAFE_INTEGER:ka||0},[ka,jt]),Ka=(0,d.useState)(!1),en=(0,be.Z)(Ka,2),Cr=en[0],kr=en[1],Kn="".concat(re,"-item"),Rr=Math.max(vn,ha),Vn=ft===lt,tn=ie.length&&Vn,Dr=ft===xt,Qn=tn||typeof ft=="number"&&ie.length>ft,hn=(0,d.useMemo)(function(){var ca=ie;return tn?jt===null&&Ot?ca=ie:ca=ie.slice(0,Math.min(ie.length,Gt/it)):typeof ft=="number"&&(ca=ie.slice(0,ft)),ca},[ie,it,jt,ft,tn]),An=(0,d.useMemo)(function(){return tn?ie.slice(qa+1):ie.slice(hn.length)},[ie,hn,tn,qa]),Yn=(0,d.useCallback)(function(ca,xa){var Za;return typeof $e=="function"?$e(ca):(Za=$e&&(ca==null?void 0:ca[$e]))!==null&&Za!==void 0?Za:xa},[$e]),Un=(0,d.useCallback)(ge||function(ca){return ca},[ge]);function an(ca,xa,Za){ka===ca&&(xa===void 0||xa===_a)||(xn(ca),Za||(kr(ca<ie.length-1),_t==null||_t(ca)),xa!==void 0&&Oa(xa))}function Cn(ca,xa){Kt(xa.clientWidth)}function $a(ca,xa){Aa(function(Za){var kn=new Map(Za);return xa===null?kn.delete(ca):kn.set(ca,xa),kn})}function ya(ca,xa){Ra(xa),Ua(ha)}function un(ca,xa){Ba(xa)}function nr(ca){return Pa.get(Yn(hn[ca],ca))}(0,Y.Z)(function(){if(Gt&&typeof Rr=="number"&&hn){var ca=ia,xa=hn.length,Za=xa-1;if(!xa){an(0,null);return}for(var kn=0;kn<xa;kn+=1){var La=nr(kn);if(Ot&&(La=La||0),La===void 0){an(kn-1,void 0,!0);break}if(ca+=La,Za===0&&ca<=Gt||kn===Za-1&&ca+nr(Za)<=Gt){an(Za,null);break}else if(ca+Rr>Gt){an(kn-1,ca-La-ia+ha);break}}Ht&&nr(0)+ia>Gt&&Oa(null)}},[Gt,Pa,ha,ia,Yn,hn]);var sr=Cr&&!!An.length,Zr={};_a!==null&&tn&&(Zr={position:"absolute",left:_a,top:0});var fr={prefixCls:Kn,responsive:tn,component:Lt,invalidate:Dr},oo=_e?function(ca,xa){var Za=Yn(ca,xa);return d.createElement(ut.Provider,{key:Za,value:(0,ae.Z)((0,ae.Z)({},fr),{},{order:xa,item:ca,itemKey:Za,registerSize:$a,display:xa<=qa})},_e(ca,xa))}:function(ca,xa){var Za=Yn(ca,xa);return d.createElement(wu,(0,O.Z)({},fr,{order:xa,key:Za,item:ca,renderItem:Un,itemKey:Za,registerSize:$a,display:xa<=qa}))},mn,Wa={order:sr?qa:Number.MAX_SAFE_INTEGER,className:"".concat(Kn,"-rest"),registerSize:ya,display:sr};if(Nt)Nt&&(mn=d.createElement(ut.Provider,{value:(0,ae.Z)((0,ae.Z)({},fr),Wa)},Nt(An)));else{var Pr=wt||Dt;mn=d.createElement(wu,(0,O.Z)({},fr,Wa),typeof Pr=="function"?Pr(An):Pr)}var Gr=d.createElement(At,(0,O.Z)({className:o()(!Dr&&re,st),style:St,ref:D},Rt),hn.map(oo),Qn?mn:null,Ht&&d.createElement(wu,(0,O.Z)({},fr,{responsive:Vn,responsiveDisabled:!tn,order:qa,className:"".concat(Kn,"-suffix"),registerSize:un,display:!0,style:Zr}),Ht));return Vn&&(Gr=d.createElement(se.Z,{onResize:Cn,disabled:!tn},Gr)),Gr}var ea=d.forwardRef(Ft);ea.displayName="Overflow",ea.Item=me,ea.RESPONSIVE=lt,ea.INVALIDATE=xt;var ma=ea,aa=ma;function na(w,D){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,re=new Set;function J(ie,ge){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,$e=re.has(ie);if((0,mt.ZP)(!$e,"Warning: There may be circular references"),$e)return!1;if(ie===ge)return!0;if(H&&_e>1)return!1;re.add(ie);var ot=_e+1;if(Array.isArray(ie)){if(!Array.isArray(ge)||ie.length!==ge.length)return!1;for(var it=0;it<ie.length;it++)if(!J(ie[it],ge[it],ot))return!1;return!0}if(ie&&ge&&(0,Re.Z)(ie)==="object"&&(0,Re.Z)(ge)==="object"){var qe=Object.keys(ie);return qe.length!==Object.keys(ge).length?!1:qe.every(function(St){return J(ie[St],ge[St],ot)})}return!1}return J(w,D)}var ua=na,Ea=d.createContext(null);function nn(w,D){return w===void 0?null:"".concat(w,"-").concat(D)}function En(w){var D=d.useContext(Ea);return nn(D,w)}var Zn=e(56982),cr=["children","locked"],Sn=d.createContext(null);function fo(w,D){var H=(0,ae.Z)({},w);return Object.keys(D).forEach(function(re){var J=D[re];J!==void 0&&(H[re]=J)}),H}function Er(w){var D=w.children,H=w.locked,re=(0,N.Z)(w,cr),J=d.useContext(Sn),ie=(0,Zn.Z)(function(){return fo(J,re)},[J,re],function(ge,_e){return!H&&(ge[0]!==_e[0]||!ua(ge[1],_e[1],!0))});return d.createElement(Sn.Provider,{value:ie},D)}var Mo=[],cu=d.createContext(null);function No(){return d.useContext(cu)}var ao=d.createContext(Mo);function Zt(w){var D=d.useContext(ao);return d.useMemo(function(){return w!==void 0?[].concat((0,le.Z)(D),[w]):D},[D,w])}var _o=d.createContext(null),no=d.createContext({}),Do=no;function ju(w){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Io(w)){var H=w.nodeName.toLowerCase(),re=["input","select","textarea","button"].includes(H)||w.isContentEditable||H==="a"&&!!w.getAttribute("href"),J=w.getAttribute("tabindex"),ie=Number(J),ge=null;return J&&!Number.isNaN(ie)?ge=ie:re&&ge===null&&(ge=0),re&&w.disabled&&(ge=null),ge!==null&&(ge>=0||D&&ge<0)}return!1}function Vo(w){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,H=(0,le.Z)(w.querySelectorAll("*")).filter(function(re){return ju(re,D)});return ju(w,D)&&H.unshift(w),H}var Fo=null;function ll(){Fo=document.activeElement}function Hu(){Fo=null}function $l(){if(Fo)try{Fo.focus()}catch(w){}}function Rl(w,D){if(D.keyCode===9){var H=Vo(w),re=H[D.shiftKey?0:H.length-1],J=re===document.activeElement||w===document.activeElement;if(J){var ie=H[D.shiftKey?H.length-1:0];ie.focus(),D.preventDefault()}}}var ld=$n.Z.LEFT,id=$n.Z.RIGHT,cd=$n.Z.UP,su=$n.Z.DOWN,Qo=$n.Z.ENTER,il=$n.Z.ESC,Uu=$n.Z.HOME,Bu=$n.Z.END,Wd=[cd,su,ld,id];function cl(w,D,H,re){var J,ie,ge,_e,$e="prev",ot="next",it="children",qe="parent";if(w==="inline"&&re===Qo)return{inlineTrigger:!0};var St=(J={},(0,z.Z)(J,cd,$e),(0,z.Z)(J,su,ot),J),st=(ie={},(0,z.Z)(ie,ld,H?ot:$e),(0,z.Z)(ie,id,H?$e:ot),(0,z.Z)(ie,su,it),(0,z.Z)(ie,Qo,it),ie),ft=(ge={},(0,z.Z)(ge,cd,$e),(0,z.Z)(ge,su,ot),(0,z.Z)(ge,Qo,it),(0,z.Z)(ge,il,qe),(0,z.Z)(ge,ld,H?it:qe),(0,z.Z)(ge,id,H?qe:it),ge),wt={inline:St,horizontal:st,vertical:ft,inlineSub:St,horizontalSub:ft,verticalSub:ft},Nt=(_e=wt["".concat(w).concat(D?"":"Sub")])===null||_e===void 0?void 0:_e[re];switch(Nt){case $e:return{offset:-1,sibling:!0};case ot:return{offset:1,sibling:!0};case qe:return{offset:-1,sibling:!1};case it:return{offset:1,sibling:!1};default:return null}}function Wu(w){for(var D=w;D;){if(D.getAttribute("data-menu-list"))return D;D=D.parentElement}return null}function pu(w,D){for(var H=w||document.activeElement;H;){if(D.has(H))return H;H=H.parentElement}return null}function sl(w,D){var H=Vo(w,!0);return H.filter(function(re){return D.has(re)})}function zu(w,D,H){var re=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!w)return null;var J=sl(w,D),ie=J.length,ge=J.findIndex(function(_e){return H===_e});return re<0?ge===-1?ge=ie-1:ge-=1:re>0&&(ge+=1),ge=(ge+ie)%ie,J[ge]}function sd(w,D,H,re,J,ie,ge,_e,$e,ot){var it=d.useRef(),qe=d.useRef();qe.current=D;var St=function(){ke.Z.cancel(it.current)};return d.useEffect(function(){return function(){St()}},[]),function(st){var ft=st.which;if([].concat(Wd,[Qo,il,Uu,Bu]).includes(ft)){var wt,Nt,Ht,bt=function(){wt=new Set,Nt=new Map,Ht=new Map;var la=ie();return la.forEach(function(Pa){var Aa=document.querySelector("[data-menu-id='".concat(nn(re,Pa),"']"));Aa&&(wt.add(Aa),Ht.set(Aa,Pa),Nt.set(Pa,Aa))}),wt};bt();var At=Nt.get(D),Lt=pu(At,wt),_t=Ht.get(Lt),Rt=cl(w,ge(_t,!0).length===1,H,ft);if(!Rt&&ft!==Uu&&ft!==Bu)return;(Wd.includes(ft)||[Uu,Bu].includes(ft))&&st.preventDefault();var Ot=function(la){if(la){var Pa=la,Aa=la.querySelector("a");Aa!=null&&Aa.getAttribute("href")&&(Pa=Aa);var Na=Ht.get(la);_e(Na),St(),it.current=(0,ke.Z)(function(){qe.current===Na&&Pa.focus()})}};if([Uu,Bu].includes(ft)||Rt.sibling||!Lt){var Ct;!Lt||w==="inline"?Ct=J.current:Ct=Wu(Lt);var Mt,zt=sl(Ct,wt);ft===Uu?Mt=zt[0]:ft===Bu?Mt=zt[zt.length-1]:Mt=zu(Ct,wt,Lt,Rt.offset),Ot(Mt)}else if(Rt.inlineTrigger)$e(_t);else if(Rt.offset>0)$e(_t,!0),St(),it.current=(0,ke.Z)(function(){bt();var Qt=Lt.getAttribute("aria-controls"),la=document.getElementById(Qt),Pa=zu(la,wt);Ot(Pa)},5);else if(Rt.offset<0){var jt=ge(_t,!0),Kt=jt[jt.length-2],Gt=Nt.get(Kt);$e(Kt,!1),Ot(Gt)}}ot==null||ot(st)}}function pl(w){Promise.resolve().then(w)}var $u="__RC_UTIL_PATH_SPLIT__",pd=function(D){return D.join($u)},Id=function(D){return D.split($u)},vt="rc-menu-more";function dt(){var w=d.useState({}),D=(0,be.Z)(w,2),H=D[1],re=(0,d.useRef)(new Map),J=(0,d.useRef)(new Map),ie=d.useState([]),ge=(0,be.Z)(ie,2),_e=ge[0],$e=ge[1],ot=(0,d.useRef)(0),it=(0,d.useRef)(!1),qe=function(){it.current||H({})},St=(0,d.useCallback)(function(At,Lt){var _t=pd(Lt);J.current.set(_t,At),re.current.set(At,_t),ot.current+=1;var Rt=ot.current;pl(function(){Rt===ot.current&&qe()})},[]),st=(0,d.useCallback)(function(At,Lt){var _t=pd(Lt);J.current.delete(_t),re.current.delete(At)},[]),ft=(0,d.useCallback)(function(At){$e(At)},[]),wt=(0,d.useCallback)(function(At,Lt){var _t=re.current.get(At)||"",Rt=Id(_t);return Lt&&_e.includes(Rt[0])&&Rt.unshift(vt),Rt},[_e]),Nt=(0,d.useCallback)(function(At,Lt){return At.some(function(_t){var Rt=wt(_t,!0);return Rt.includes(Lt)})},[wt]),Ht=function(){var Lt=(0,le.Z)(re.current.keys());return _e.length&&Lt.push(vt),Lt},bt=(0,d.useCallback)(function(At){var Lt="".concat(re.current.get(At)).concat($u),_t=new Set;return(0,le.Z)(J.current.keys()).forEach(function(Rt){Rt.startsWith(Lt)&&_t.add(J.current.get(Rt))}),_t},[]);return d.useEffect(function(){return function(){it.current=!0}},[]),{registerPath:St,unregisterPath:st,refreshOverflowKeys:ft,isSubPathKey:Nt,getKeyPath:wt,getKeys:Ht,getSubPathKeys:bt}}function Wt(w){var D=d.useRef(w);D.current=w;var H=d.useCallback(function(){for(var re,J=arguments.length,ie=new Array(J),ge=0;ge<J;ge++)ie[ge]=arguments[ge];return(re=D.current)===null||re===void 0?void 0:re.call.apply(re,[D].concat(ie))},[]);return w?H:void 0}var Ca=Math.random().toFixed(5).toString().slice(2),rn=0;function Gn(w){var D=He(w,{value:w}),H=(0,be.Z)(D,2),re=H[0],J=H[1];return d.useEffect(function(){rn+=1;var ie="".concat(Ca,"-").concat(rn);J("rc-menu-uuid-".concat(ie))},[]),re}var Jn=e(15671),In=e(43144),_r=e(32531),ku=e(73568),ro=e(98423);function vd(w,D,H,re){var J=d.useContext(Sn),ie=J.activeKey,ge=J.onActive,_e=J.onInactive,$e={active:ie===w};return D||($e.onMouseEnter=function(ot){H==null||H({key:w,domEvent:ot}),ge(w)},$e.onMouseLeave=function(ot){re==null||re({key:w,domEvent:ot}),_e(w)}),$e}function Ru(w){var D=d.useContext(Sn),H=D.mode,re=D.rtl,J=D.inlineIndent;if(H!=="inline")return null;var ie=w;return re?{paddingRight:ie*J}:{paddingLeft:ie*J}}function Yo(w){var D=w.icon,H=w.props,re=w.children,J;return typeof D=="function"?J=d.createElement(D,(0,ae.Z)({},H)):J=D,J||re||null}var Pl=["item"];function fd(w){var D=w.item,H=(0,N.Z)(w,Pl);return Object.defineProperty(H,"item",{get:function(){return(0,mt.ZP)(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),D}}),H}var Iu=["title","attribute","elementRef"],zd=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Zu=["active"],Gu=function(w){(0,_r.Z)(H,w);var D=(0,ku.Z)(H);function H(){return(0,Jn.Z)(this,H),D.apply(this,arguments)}return(0,In.Z)(H,[{key:"render",value:function(){var J=this.props,ie=J.title,ge=J.attribute,_e=J.elementRef,$e=(0,N.Z)(J,Iu),ot=(0,ro.Z)($e,["eventKey","popupClassName","popupOffset","onTitleClick"]);return(0,mt.ZP)(!ge,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),d.createElement(aa.Item,(0,O.Z)({},ge,{title:typeof ie=="string"?ie:void 0},ot,{ref:_e}))}}]),H}(d.Component),xd=d.forwardRef(function(w,D){var H,re=w.style,J=w.className,ie=w.eventKey,ge=w.warnKey,_e=w.disabled,$e=w.itemIcon,ot=w.children,it=w.role,qe=w.onMouseEnter,St=w.onMouseLeave,st=w.onClick,ft=w.onKeyDown,wt=w.onFocus,Nt=(0,N.Z)(w,zd),Ht=En(ie),bt=d.useContext(Sn),At=bt.prefixCls,Lt=bt.onItemClick,_t=bt.disabled,Rt=bt.overflowDisabled,Ot=bt.itemIcon,Ct=bt.selectedKeys,Mt=bt.onActive,zt=d.useContext(Do),jt=zt._internalRenderMenuItem,Kt="".concat(At,"-item"),Gt=d.useRef(),Qt=d.useRef(),la=_t||_e,Pa=(0,ne.x1)(D,Qt),Aa=Zt(ie),Na=function(Ga){return{key:ie,keyPath:(0,le.Z)(Aa).reverse(),item:Gt.current,domEvent:Ga}},on=$e||Ot,vn=vd(ie,la,qe,St),Ua=vn.active,ra=(0,N.Z)(vn,Zu),ga=Ct.includes(ie),ha=Ru(Aa.length),Ra=function(Ga){if(!la){var _a=Na(Ga);st==null||st(fd(_a)),Lt(_a)}},Fa=function(Ga){if(ft==null||ft(Ga),Ga.which===$n.Z.ENTER){var _a=Na(Ga);st==null||st(fd(_a)),Lt(_a)}},za=function(Ga){Mt(ie),wt==null||wt(Ga)},ia={};w.role==="option"&&(ia["aria-selected"]=ga);var Ba=d.createElement(Gu,(0,O.Z)({ref:Gt,elementRef:Pa,role:it===null?"none":it||"menuitem",tabIndex:_e?null:-1,"data-menu-id":Rt&&Ht?null:Ht},Nt,ra,ia,{component:"li","aria-disabled":_e,style:(0,ae.Z)((0,ae.Z)({},ha),re),className:o()(Kt,(H={},(0,z.Z)(H,"".concat(Kt,"-active"),Ua),(0,z.Z)(H,"".concat(Kt,"-selected"),ga),(0,z.Z)(H,"".concat(Kt,"-disabled"),la),H),J),onClick:Ra,onKeyDown:Fa,onFocus:za}),ot,d.createElement(Yo,{props:(0,ae.Z)((0,ae.Z)({},w),{},{isSelected:ga}),icon:on}));return jt&&(Ba=jt(Ba,w,{selected:ga})),Ba});function hd(w,D){var H=w.eventKey,re=No(),J=Zt(H);return d.useEffect(function(){if(re)return re.registerPath(H,J),function(){re.unregisterPath(H,J)}},[J]),re?null:d.createElement(xd,(0,O.Z)({},w,{ref:D}))}var xo=d.forwardRef(hd),$d=["className","children"],So=function(D,H){var re=D.className,J=D.children,ie=(0,N.Z)(D,$d),ge=d.useContext(Sn),_e=ge.prefixCls,$e=ge.mode,ot=ge.rtl;return d.createElement("ul",(0,O.Z)({className:o()(_e,ot&&"".concat(_e,"-rtl"),"".concat(_e,"-sub"),"".concat(_e,"-").concat($e==="inline"?"inline":"vertical"),re),role:"menu"},ie,{"data-menu-list":!0,ref:H}),J)},vu=d.forwardRef(So);vu.displayName="SubMenuList";var Ku=vu,md=e(50344),Zd=["label","children","key","type"];function Vu(w,D){return(0,md.Z)(w).map(function(H,re){if(d.isValidElement(H)){var J,ie,ge=H.key,_e=(J=(ie=H.props)===null||ie===void 0?void 0:ie.eventKey)!==null&&J!==void 0?J:ge,$e=_e==null;$e&&(_e="tmp_key-".concat([].concat((0,le.Z)(D),[re]).join("-")));var ot={key:_e,eventKey:_e};return d.cloneElement(H,ot)}return H})}function gd(w){return(w||[]).map(function(D,H){if(D&&(0,Re.Z)(D)==="object"){var re=D,J=re.label,ie=re.children,ge=re.key,_e=re.type,$e=(0,N.Z)(re,Zd),ot=ge!=null?ge:"tmp-".concat(H);return ie||_e==="group"?_e==="group"?d.createElement(Ql,(0,O.Z)({key:ot},$e,{title:J}),gd(ie)):d.createElement(yd,(0,O.Z)({key:ot},$e,{title:J}),gd(ie)):_e==="divider"?d.createElement(Yl,(0,O.Z)({key:ot},$e)):d.createElement(xo,(0,O.Z)({key:ot},$e),J)}return null}).filter(function(D){return D})}function Gd(w,D,H){var re=w;return D&&(re=gd(D)),Vu(re,H)}var wn={adjustX:1,adjustY:1},jo={topLeft:{points:["bl","tl"],overflow:wn,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:wn,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:wn,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:wn,offset:[4,0]}},Xo={topLeft:{points:["bl","tl"],overflow:wn,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:wn,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:wn,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:wn,offset:[4,0]}},ec=null;function Zl(w,D,H){if(D)return D;if(H)return H[w]||H.other}var Kd={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function wi(w){var D=w.prefixCls,H=w.visible,re=w.children,J=w.popup,ie=w.popupClassName,ge=w.popupOffset,_e=w.disabled,$e=w.mode,ot=w.onVisibleChange,it=d.useContext(Sn),qe=it.getPopupContainer,St=it.rtl,st=it.subMenuOpenDelay,ft=it.subMenuCloseDelay,wt=it.builtinPlacements,Nt=it.triggerSubMenuAction,Ht=it.forceSubMenuRender,bt=it.rootClassName,At=it.motion,Lt=it.defaultMotions,_t=d.useState(!1),Rt=(0,be.Z)(_t,2),Ot=Rt[0],Ct=Rt[1],Mt=St?(0,ae.Z)((0,ae.Z)({},Xo),wt):(0,ae.Z)((0,ae.Z)({},jo),wt),zt=Kd[$e],jt=Zl($e,At,Lt),Kt=d.useRef(jt);$e!=="inline"&&(Kt.current=jt);var Gt=(0,ae.Z)((0,ae.Z)({},Kt.current),{},{leavedClassName:"".concat(D,"-hidden"),removeOnLeave:!1,motionAppear:!0}),Qt=d.useRef();return d.useEffect(function(){return Qt.current=(0,ke.Z)(function(){Ct(H)}),function(){ke.Z.cancel(Qt.current)}},[H]),d.createElement(Eo,{prefixCls:D,popupClassName:o()("".concat(D,"-popup"),(0,z.Z)({},"".concat(D,"-rtl"),St),ie,bt),stretch:$e==="horizontal"?"minWidth":null,getPopupContainer:qe,builtinPlacements:Mt,popupPlacement:zt,popupVisible:Ot,popup:J,popupAlign:ge&&{offset:ge},action:_e?[]:[Nt],mouseEnterDelay:st,mouseLeaveDelay:ft,onPopupVisibleChange:ot,forceRender:Ht,popupMotion:Gt},re)}function Gl(w){var D=w.id,H=w.open,re=w.keyPath,J=w.children,ie="inline",ge=d.useContext(Sn),_e=ge.prefixCls,$e=ge.forceSubMenuRender,ot=ge.motion,it=ge.defaultMotions,qe=ge.mode,St=d.useRef(!1);St.current=qe===ie;var st=d.useState(!St.current),ft=(0,be.Z)(st,2),wt=ft[0],Nt=ft[1],Ht=St.current?H:!1;d.useEffect(function(){St.current&&Nt(!1)},[qe]);var bt=(0,ae.Z)({},Zl(ie,ot,it));re.length>1&&(bt.motionAppear=!1);var At=bt.onVisibleChanged;return bt.onVisibleChanged=function(Lt){return!St.current&&!Lt&&Nt(!0),At==null?void 0:At(Lt)},wt?null:d.createElement(Er,{mode:ie,locked:!St.current},d.createElement(Je.ZP,(0,O.Z)({visible:Ht},bt,{forceRender:$e,removeOnLeave:!1,leavedClassName:"".concat(_e,"-hidden")}),function(Lt){var _t=Lt.className,Rt=Lt.style;return d.createElement(Ku,{id:D,className:_t,style:Rt},J)}))}var Kl=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],jn=["active"],Ol=function(D){var H,re=D.style,J=D.className,ie=D.title,ge=D.eventKey,_e=D.warnKey,$e=D.disabled,ot=D.internalPopupClose,it=D.children,qe=D.itemIcon,St=D.expandIcon,st=D.popupClassName,ft=D.popupOffset,wt=D.onClick,Nt=D.onMouseEnter,Ht=D.onMouseLeave,bt=D.onTitleClick,At=D.onTitleMouseEnter,Lt=D.onTitleMouseLeave,_t=(0,N.Z)(D,Kl),Rt=En(ge),Ot=d.useContext(Sn),Ct=Ot.prefixCls,Mt=Ot.mode,zt=Ot.openKeys,jt=Ot.disabled,Kt=Ot.overflowDisabled,Gt=Ot.activeKey,Qt=Ot.selectedKeys,la=Ot.itemIcon,Pa=Ot.expandIcon,Aa=Ot.onItemClick,Na=Ot.onOpenChange,on=Ot.onActive,vn=d.useContext(Do),Ua=vn._internalRenderSubMenuItem,ra=d.useContext(_o),ga=ra.isSubPathKey,ha=Zt(),Ra="".concat(Ct,"-submenu"),Fa=jt||$e,za=d.useRef(),ia=d.useRef(),Ba=qe||la,fn=St||Pa,Ga=zt.includes(ge),_a=!Kt&&Ga,Oa=ga(Qt,ge),wr=vd(ge,Fa,At,Lt),qn=wr.active,ka=(0,N.Z)(wr,jn),xn=d.useState(!1),qa=(0,be.Z)(xn,2),Ka=qa[0],en=qa[1],Cr=function(ya){Fa||en(ya)},kr=function(ya){Cr(!0),Nt==null||Nt({key:ge,domEvent:ya})},Kn=function(ya){Cr(!1),Ht==null||Ht({key:ge,domEvent:ya})},Rr=d.useMemo(function(){return qn||(Mt!=="inline"?Ka||ga([Gt],ge):!1)},[Mt,qn,Gt,Ka,ge,ga]),Vn=Ru(ha.length),tn=function(ya){Fa||(bt==null||bt({key:ge,domEvent:ya}),Mt==="inline"&&Na(ge,!Ga))},Dr=Wt(function($a){wt==null||wt(fd($a)),Aa($a)}),Qn=function(ya){Mt!=="inline"&&Na(ge,ya)},hn=function(){on(ge)},An=Rt&&"".concat(Rt,"-popup"),Yn=d.createElement("div",(0,O.Z)({role:"menuitem",style:Vn,className:"".concat(Ra,"-title"),tabIndex:Fa?null:-1,ref:za,title:typeof ie=="string"?ie:null,"data-menu-id":Kt&&Rt?null:Rt,"aria-expanded":_a,"aria-haspopup":!0,"aria-controls":An,"aria-disabled":Fa,onClick:tn,onFocus:hn},ka),ie,d.createElement(Yo,{icon:Mt!=="horizontal"?fn:null,props:(0,ae.Z)((0,ae.Z)({},D),{},{isOpen:_a,isSubMenu:!0})},d.createElement("i",{className:"".concat(Ra,"-arrow")}))),Un=d.useRef(Mt);if(Mt!=="inline"&&ha.length>1?Un.current="vertical":Un.current=Mt,!Kt){var an=Un.current;Yn=d.createElement(wi,{mode:an,prefixCls:Ra,visible:!ot&&_a&&Mt!=="inline",popupClassName:st,popupOffset:ft,popup:d.createElement(Er,{mode:an==="horizontal"?"vertical":an},d.createElement(Ku,{id:An,ref:ia},it)),disabled:Fa,onVisibleChange:Qn},Yn)}var Cn=d.createElement(aa.Item,(0,O.Z)({role:"none"},_t,{component:"li",style:re,className:o()(Ra,"".concat(Ra,"-").concat(Mt),J,(H={},(0,z.Z)(H,"".concat(Ra,"-open"),_a),(0,z.Z)(H,"".concat(Ra,"-active"),Rr),(0,z.Z)(H,"".concat(Ra,"-selected"),Oa),(0,z.Z)(H,"".concat(Ra,"-disabled"),Fa),H)),onMouseEnter:kr,onMouseLeave:Kn}),Yn,!Kt&&d.createElement(Gl,{id:An,open:_a,keyPath:ha},it));return Ua&&(Cn=Ua(Cn,D,{selected:Oa,active:Rr,open:_a,disabled:Fa})),d.createElement(Er,{onItemClick:Dr,mode:Mt==="horizontal"?"vertical":Mt,itemIcon:Ba,expandIcon:fn},Cn)};function yd(w){var D=w.eventKey,H=w.children,re=Zt(D),J=Vu(H,re),ie=No();d.useEffect(function(){if(ie)return ie.registerPath(D,re),function(){ie.unregisterPath(D,re)}},[re]);var ge;return ie?ge=J:ge=d.createElement(Ol,w,J),d.createElement(ao.Provider,{value:re},ge)}var Vd=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Qu=[],Tl=d.forwardRef(function(w,D){var H,re,J=w,ie=J.prefixCls,ge=ie===void 0?"rc-menu":ie,_e=J.rootClassName,$e=J.style,ot=J.className,it=J.tabIndex,qe=it===void 0?0:it,St=J.items,st=J.children,ft=J.direction,wt=J.id,Nt=J.mode,Ht=Nt===void 0?"vertical":Nt,bt=J.inlineCollapsed,At=J.disabled,Lt=J.disabledOverflow,_t=J.subMenuOpenDelay,Rt=_t===void 0?.1:_t,Ot=J.subMenuCloseDelay,Ct=Ot===void 0?.1:Ot,Mt=J.forceSubMenuRender,zt=J.defaultOpenKeys,jt=J.openKeys,Kt=J.activeKey,Gt=J.defaultActiveFirst,Qt=J.selectable,la=Qt===void 0?!0:Qt,Pa=J.multiple,Aa=Pa===void 0?!1:Pa,Na=J.defaultSelectedKeys,on=J.selectedKeys,vn=J.onSelect,Ua=J.onDeselect,ra=J.inlineIndent,ga=ra===void 0?24:ra,ha=J.motion,Ra=J.defaultMotions,Fa=J.triggerSubMenuAction,za=Fa===void 0?"hover":Fa,ia=J.builtinPlacements,Ba=J.itemIcon,fn=J.expandIcon,Ga=J.overflowedIndicator,_a=Ga===void 0?"...":Ga,Oa=J.overflowedIndicatorPopupClassName,wr=J.getPopupContainer,qn=J.onClick,ka=J.onOpenChange,xn=J.onKeyDown,qa=J.openAnimation,Ka=J.openTransitionName,en=J._internalRenderMenuItem,Cr=J._internalRenderSubMenuItem,kr=(0,N.Z)(J,Vd),Kn=d.useMemo(function(){return Gd(st,St,Qu)},[st,St]),Rr=d.useState(!1),Vn=(0,be.Z)(Rr,2),tn=Vn[0],Dr=Vn[1],Qn=d.useRef(),hn=Gn(wt),An=ft==="rtl",Yn=He(zt,{value:jt,postState:function(Ma){return Ma||Qu}}),Un=(0,be.Z)(Yn,2),an=Un[0],Cn=Un[1],$a=function(Ma){var sn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function rr(){Cn(Ma),ka==null||ka(Ma)}sn?(0,Ve.flushSync)(rr):rr()},ya=d.useState(an),un=(0,be.Z)(ya,2),nr=un[0],sr=un[1],Zr=d.useRef(!1),fr=d.useMemo(function(){return(Ht==="inline"||Ht==="vertical")&&bt?["vertical",bt]:[Ht,!1]},[Ht,bt]),oo=(0,be.Z)(fr,2),mn=oo[0],Wa=oo[1],Pr=mn==="inline",Gr=d.useState(mn),ca=(0,be.Z)(Gr,2),xa=ca[0],Za=ca[1],kn=d.useState(Wa),La=(0,be.Z)(kn,2),gn=La[0],Rn=La[1];d.useEffect(function(){Za(mn),Rn(Wa),Zr.current&&(Pr?Cn(nr):$a(Qu))},[mn,Wa]);var xr=d.useState(0),uo=(0,be.Z)(xr,2),pr=uo[0],Uo=uo[1],bn=pr>=Kn.length-1||xa!=="horizontal"||Lt;d.useEffect(function(){Pr&&sr(an)},[an]),d.useEffect(function(){return Zr.current=!0,function(){Zr.current=!1}},[]);var or=dt(),lo=or.registerPath,wo=or.unregisterPath,Or=or.refreshOverflowKeys,sa=or.isSubPathKey,ba=or.getKeyPath,Va=or.getKeys,er=or.getSubPathKeys,hr=d.useMemo(function(){return{registerPath:lo,unregisterPath:wo}},[lo,wo]),Tr=d.useMemo(function(){return{isSubPathKey:sa}},[sa]);d.useEffect(function(){Or(bn?Qu:Kn.slice(pr+1).map(function(Ln){return Ln.key}))},[pr,bn]);var Au=He(Kt||Gt&&((H=Kn[0])===null||H===void 0?void 0:H.key),{value:Kt}),Bo=(0,be.Z)(Au,2),io=Bo[0],Jo=Bo[1],hu=Wt(function(Ln){Jo(Ln)}),ho=Wt(function(){Jo(void 0)});(0,d.useImperativeHandle)(D,function(){return{list:Qn.current,focus:function(Ma){var sn,rr=io!=null?io:(sn=Kn.find(function(mu){return!mu.props.disabled}))===null||sn===void 0?void 0:sn.key;if(rr){var Xn,Ar,Co;(Xn=Qn.current)===null||Xn===void 0||(Ar=Xn.querySelector("li[data-menu-id='".concat(nn(hn,rr),"']")))===null||Ar===void 0||(Co=Ar.focus)===null||Co===void 0||Co.call(Ar,Ma)}}}});var Wo=He(Na||[],{value:on,postState:function(Ma){return Array.isArray(Ma)?Ma:Ma==null?Qu:[Ma]}}),qo=(0,be.Z)(Wo,2),zo=qo[0],qu=qo[1],ed=function(Ma){if(la){var sn=Ma.key,rr=zo.includes(sn),Xn;Aa?rr?Xn=zo.filter(function(Co){return Co!==sn}):Xn=[].concat((0,le.Z)(zo),[sn]):Xn=[sn],qu(Xn);var Ar=(0,ae.Z)((0,ae.Z)({},Ma),{},{selectedKeys:Xn});rr?Ua==null||Ua(Ar):vn==null||vn(Ar)}!Aa&&an.length&&xa!=="inline"&&$a(Qu)},td=Wt(function(Ln){qn==null||qn(fd(Ln)),ed(Ln)}),ad=Wt(function(Ln,Ma){var sn=an.filter(function(Xn){return Xn!==Ln});if(Ma)sn.push(Ln);else if(xa!=="inline"){var rr=er(Ln);sn=sn.filter(function(Xn){return!rr.has(Xn)})}ua(an,sn,!0)||$a(sn,!0)}),kd=function(Ma,sn){var rr=sn!=null?sn:!an.includes(Ma);ad(Ma,rr)},Rd=sd(xa,io,An,hn,Qn,Va,ba,Jo,kd,xn);d.useEffect(function(){Dr(!0)},[]);var Lu=d.useMemo(function(){return{_internalRenderMenuItem:en,_internalRenderSubMenuItem:Cr}},[en,Cr]),Pd=xa!=="horizontal"||Lt?Kn:Kn.map(function(Ln,Ma){return d.createElement(Er,{key:Ln.key,overflowDisabled:Ma>pr},Ln)}),Od=d.createElement(aa,(0,O.Z)({id:wt,ref:Qn,prefixCls:"".concat(ge,"-overflow"),component:"ul",itemComponent:xo,className:o()(ge,"".concat(ge,"-root"),"".concat(ge,"-").concat(xa),ot,(re={},(0,z.Z)(re,"".concat(ge,"-inline-collapsed"),gn),(0,z.Z)(re,"".concat(ge,"-rtl"),An),re),_e),dir:ft,style:$e,role:"menu",tabIndex:qe,data:Pd,renderRawItem:function(Ma){return Ma},renderRawRest:function(Ma){var sn=Ma.length,rr=sn?Kn.slice(-sn):null;return d.createElement(yd,{eventKey:vt,title:_a,disabled:bn,internalPopupClose:sn===0,popupClassName:Oa},rr)},maxCount:xa!=="horizontal"||Lt?aa.INVALIDATE:aa.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(Ma){Uo(Ma)},onKeyDown:Rd},kr));return d.createElement(Do.Provider,{value:Lu},d.createElement(Ea.Provider,{value:hn},d.createElement(Er,{prefixCls:ge,rootClassName:_e,mode:xa,openKeys:an,rtl:An,disabled:At,motion:tn?ha:null,defaultMotions:tn?Ra:null,activeKey:io,onActive:hu,onInactive:ho,selectedKeys:zo,inlineIndent:ga,subMenuOpenDelay:Rt,subMenuCloseDelay:Ct,forceSubMenuRender:Mt,builtinPlacements:ia,triggerSubMenuAction:za,getPopupContainer:wr,itemIcon:Ba,expandIcon:fn,onItemClick:td,onOpenChange:ad},d.createElement(_o.Provider,{value:Tr},Od),d.createElement("div",{style:{display:"none"},"aria-hidden":!0},d.createElement(cu.Provider,{value:hr},Kn)))))}),Qd=Tl,Il=["className","title","eventKey","children"],bd=["children"],Vl=function(D){var H=D.className,re=D.title,J=D.eventKey,ie=D.children,ge=(0,N.Z)(D,Il),_e=d.useContext(Sn),$e=_e.prefixCls,ot="".concat($e,"-item-group");return d.createElement("li",(0,O.Z)({role:"presentation"},ge,{onClick:function(qe){return qe.stopPropagation()},className:o()(ot,H)}),d.createElement("div",{role:"presentation",className:"".concat(ot,"-title"),title:typeof re=="string"?re:void 0},re),d.createElement("ul",{role:"group",className:"".concat(ot,"-list")},ie))};function Ql(w){var D=w.children,H=(0,N.Z)(w,bd),re=Zt(H.eventKey),J=Vu(D,re),ie=No();return ie?J:d.createElement(Vl,(0,ro.Z)(H,["warnKey"]),J)}function Yl(w){var D=w.className,H=w.style,re=d.useContext(Sn),J=re.prefixCls,ie=No();return ie?null:d.createElement("li",{className:o()("".concat(J,"-item-divider"),D),style:H})}var Ed=Qd;Ed.Item=xo,Ed.SubMenu=yd,Ed.ItemGroup=Ql,Ed.Divider=Yl;var vl=Ed;function fl(w,D){var H=w.prefixCls,re=w.id,J=w.tabs,ie=w.locale,ge=w.mobile,_e=w.moreIcon,$e=_e===void 0?"More":_e,ot=w.moreTransitionName,it=w.style,qe=w.className,St=w.editable,st=w.tabBarGutter,ft=w.rtl,wt=w.removeAriaLabel,Nt=w.onTabClick,Ht=w.getPopupContainer,bt=w.popupClassName,At=(0,d.useState)(!1),Lt=(0,be.Z)(At,2),_t=Lt[0],Rt=Lt[1],Ot=(0,d.useState)(null),Ct=(0,be.Z)(Ot,2),Mt=Ct[0],zt=Ct[1],jt="".concat(re,"-more-popup"),Kt="".concat(H,"-dropdown"),Gt=Mt!==null?"".concat(jt,"-").concat(Mt):null,Qt=ie==null?void 0:ie.dropdownAriaLabel;function la(ra,ga){ra.preventDefault(),ra.stopPropagation(),St.onEdit("remove",{key:ga,event:ra})}var Pa=d.createElement(vl,{onClick:function(ga){var ha=ga.key,Ra=ga.domEvent;Nt(ha,Ra),Rt(!1)},prefixCls:"".concat(Kt,"-menu"),id:jt,tabIndex:-1,role:"listbox","aria-activedescendant":Gt,selectedKeys:[Mt],"aria-label":Qt!==void 0?Qt:"expanded dropdown"},J.map(function(ra){var ga=St&&ra.closable!==!1&&!ra.disabled;return d.createElement(xo,{key:ra.key,id:"".concat(jt,"-").concat(ra.key),role:"option","aria-controls":re&&"".concat(re,"-panel-").concat(ra.key),disabled:ra.disabled},d.createElement("span",null,ra.label),ga&&d.createElement("button",{type:"button","aria-label":wt||"remove",tabIndex:0,className:"".concat(Kt,"-menu-item-remove"),onClick:function(Ra){Ra.stopPropagation(),la(Ra,ra.key)}},ra.closeIcon||St.removeIcon||"\xD7"))}));function Aa(ra){for(var ga=J.filter(function(ia){return!ia.disabled}),ha=ga.findIndex(function(ia){return ia.key===Mt})||0,Ra=ga.length,Fa=0;Fa<Ra;Fa+=1){ha=(ha+ra+Ra)%Ra;var za=ga[ha];if(!za.disabled){zt(za.key);return}}}function Na(ra){var ga=ra.which;if(!_t){[$n.Z.DOWN,$n.Z.SPACE,$n.Z.ENTER].includes(ga)&&(Rt(!0),ra.preventDefault());return}switch(ga){case $n.Z.UP:Aa(-1),ra.preventDefault();break;case $n.Z.DOWN:Aa(1),ra.preventDefault();break;case $n.Z.ESC:Rt(!1);break;case $n.Z.SPACE:case $n.Z.ENTER:Mt!==null&&Nt(Mt,ra);break}}(0,d.useEffect)(function(){var ra=document.getElementById(Gt);ra&&ra.scrollIntoView&&ra.scrollIntoView(!1)},[Mt]),(0,d.useEffect)(function(){_t||zt(null)},[_t]);var on=(0,z.Z)({},ft?"marginRight":"marginLeft",st);J.length||(on.visibility="hidden",on.order=1);var vn=o()((0,z.Z)({},"".concat(Kt,"-rtl"),ft)),Ua=ge?null:d.createElement(Du,{prefixCls:Kt,overlay:Pa,trigger:["hover"],visible:J.length?_t:!1,transitionName:ot,onVisibleChange:Rt,overlayClassName:o()(vn,bt),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:Ht},d.createElement("button",{type:"button",className:"".concat(H,"-nav-more"),style:on,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":jt,id:"".concat(re,"-more"),"aria-expanded":_t,onKeyDown:Na},$e));return d.createElement("div",{className:o()("".concat(H,"-nav-operations"),qe),style:it,ref:D},Ua,d.createElement(Ne,{prefixCls:H,locale:ie,editable:St}))}var Al=d.memo(d.forwardRef(fl),function(w,D){return D.tabMoving});function Ll(w){var D,H=w.prefixCls,re=w.id,J=w.active,ie=w.tab,ge=ie.key,_e=ie.label,$e=ie.disabled,ot=ie.closeIcon,it=w.closable,qe=w.renderWrapper,St=w.removeAriaLabel,st=w.editable,ft=w.onClick,wt=w.onFocus,Nt=w.style,Ht="".concat(H,"-tab"),bt=st&&it!==!1&&!$e;function At(Rt){$e||ft(Rt)}function Lt(Rt){Rt.preventDefault(),Rt.stopPropagation(),st.onEdit("remove",{key:ge,event:Rt})}var _t=d.createElement("div",{key:ge,"data-node-key":ce(ge),className:o()(Ht,(D={},(0,z.Z)(D,"".concat(Ht,"-with-remove"),bt),(0,z.Z)(D,"".concat(Ht,"-active"),J),(0,z.Z)(D,"".concat(Ht,"-disabled"),$e),D)),style:Nt,onClick:At},d.createElement("div",{role:"tab","aria-selected":J,id:re&&"".concat(re,"-tab-").concat(ge),className:"".concat(Ht,"-btn"),"aria-controls":re&&"".concat(re,"-panel-").concat(ge),"aria-disabled":$e,tabIndex:$e?null:0,onClick:function(Ot){Ot.stopPropagation(),At(Ot)},onKeyDown:function(Ot){[$n.Z.SPACE,$n.Z.ENTER].includes(Ot.which)&&(Ot.preventDefault(),At(Ot))},onFocus:wt},_e),bt&&d.createElement("button",{type:"button","aria-label":St||"remove",tabIndex:0,className:"".concat(Ht,"-remove"),onClick:function(Ot){Ot.stopPropagation(),Lt(Ot)}},ot||st.removeIcon||"\xD7"));return qe?qe(_t):_t}var Ml=Ll,Pu=function(D){var H=D.current||{},re=H.offsetWidth,J=re===void 0?0:re,ie=H.offsetHeight,ge=ie===void 0?0:ie;return[J,ge]},xl=function(D,H){return D[H?0:1]};function Xl(w,D){var H,re=d.useContext(Xe),J=re.prefixCls,ie=re.tabs,ge=w.className,_e=w.style,$e=w.id,ot=w.animated,it=w.activeKey,qe=w.rtl,St=w.extra,st=w.editable,ft=w.locale,wt=w.tabPosition,Nt=w.tabBarGutter,Ht=w.children,bt=w.onTabClick,At=w.onTabScroll,Lt=(0,d.useRef)(),_t=(0,d.useRef)(),Rt=(0,d.useRef)(),Ot=(0,d.useRef)(),Ct=(0,d.useRef)(),Mt=(0,d.useRef)(),zt=(0,d.useRef)(),jt=wt==="top"||wt==="bottom",Kt=de(0,function(sa,ba){jt&&At&&At({direction:sa>ba?"left":"right"})}),Gt=(0,be.Z)(Kt,2),Qt=Gt[0],la=Gt[1],Pa=de(0,function(sa,ba){!jt&&At&&At({direction:sa>ba?"top":"bottom"})}),Aa=(0,be.Z)(Pa,2),Na=Aa[0],on=Aa[1],vn=(0,d.useState)([0,0]),Ua=(0,be.Z)(vn,2),ra=Ua[0],ga=Ua[1],ha=(0,d.useState)([0,0]),Ra=(0,be.Z)(ha,2),Fa=Ra[0],za=Ra[1],ia=(0,d.useState)([0,0]),Ba=(0,be.Z)(ia,2),fn=Ba[0],Ga=Ba[1],_a=(0,d.useState)([0,0]),Oa=(0,be.Z)(_a,2),wr=Oa[0],qn=Oa[1],ka=yt(new Map),xn=(0,be.Z)(ka,2),qa=xn[0],Ka=xn[1],en=V(ie,qa,Fa[0]),Cr=xl(ra,jt),kr=xl(Fa,jt),Kn=xl(fn,jt),Rr=xl(wr,jt),Vn=Cr<kr+Kn,tn=Vn?Cr-Rr:Cr-Kn,Dr="".concat(J,"-nav-operations-hidden"),Qn=0,hn=0;jt&&qe?(Qn=0,hn=Math.max(0,kr-tn)):(Qn=Math.min(0,tn-kr),hn=0);function An(sa){return sa<Qn?Qn:sa>hn?hn:sa}var Yn=(0,d.useRef)(),Un=(0,d.useState)(),an=(0,be.Z)(Un,2),Cn=an[0],$a=an[1];function ya(){$a(Date.now())}function un(){window.clearTimeout(Yn.current)}pt(Ot,function(sa,ba){function Va(er,hr){er(function(Tr){var Au=An(Tr+hr);return Au})}return Vn?(jt?Va(la,sa):Va(on,ba),un(),ya(),!0):!1}),(0,d.useEffect)(function(){return un(),Cn&&(Yn.current=window.setTimeout(function(){$a(0)},100)),un},[Cn]);var nr=v(en,tn,jt?Qt:Na,kr,Kn,Rr,(0,ae.Z)((0,ae.Z)({},w),{},{tabs:ie})),sr=(0,be.Z)(nr,2),Zr=sr[0],fr=sr[1],oo=G(function(){var sa=arguments.length>0&&arguments[0]!==void 0?arguments[0]:it,ba=en.get(sa)||{width:0,height:0,left:0,right:0,top:0};if(jt){var Va=Qt;qe?ba.right<Qt?Va=ba.right:ba.right+ba.width>Qt+tn&&(Va=ba.right+ba.width-tn):ba.left<-Qt?Va=-ba.left:ba.left+ba.width>-Qt+tn&&(Va=-(ba.left+ba.width-tn)),on(0),la(An(Va))}else{var er=Na;ba.top<-Na?er=-ba.top:ba.top+ba.height>-Na+tn&&(er=-(ba.top+ba.height-tn)),la(0),on(An(er))}}),mn={};wt==="top"||wt==="bottom"?mn[qe?"marginRight":"marginLeft"]=Nt:mn.marginTop=Nt;var Wa=ie.map(function(sa,ba){var Va=sa.key;return d.createElement(Ml,{id:$e,prefixCls:J,key:Va,tab:sa,style:ba===0?void 0:mn,closable:sa.closable,editable:st,active:Va===it,renderWrapper:Ht,removeAriaLabel:ft==null?void 0:ft.removeAriaLabel,onClick:function(hr){bt(Va,hr)},onFocus:function(){oo(Va),ya(),Ot.current&&(qe||(Ot.current.scrollLeft=0),Ot.current.scrollTop=0)}})}),Pr=function(){return Ka(function(){var ba=new Map;return ie.forEach(function(Va){var er,hr=Va.key,Tr=(er=Ct.current)===null||er===void 0?void 0:er.querySelector('[data-node-key="'.concat(ce(hr),'"]'));Tr&&ba.set(hr,{width:Tr.offsetWidth,height:Tr.offsetHeight,left:Tr.offsetLeft,top:Tr.offsetTop})}),ba})};(0,d.useEffect)(function(){Pr()},[ie.map(function(sa){return sa.key}).join("_")]);var Gr=Tt(function(){var sa=Pu(Lt),ba=Pu(_t),Va=Pu(Rt);ga([sa[0]-ba[0]-Va[0],sa[1]-ba[1]-Va[1]]);var er=Pu(zt);Ga(er);var hr=Pu(Mt);qn(hr);var Tr=Pu(Ct);za([Tr[0]-er[0],Tr[1]-er[1]]),Pr()}),ca=ie.slice(0,Zr),xa=ie.slice(fr+1),Za=[].concat((0,le.Z)(ca),(0,le.Z)(xa)),kn=(0,d.useState)(),La=(0,be.Z)(kn,2),gn=La[0],Rn=La[1],xr=en.get(it),uo=(0,d.useRef)();function pr(){ke.Z.cancel(uo.current)}(0,d.useEffect)(function(){var sa={};return xr&&(jt?(qe?sa.right=xr.right:sa.left=xr.left,sa.width=xr.width):(sa.top=xr.top,sa.height=xr.height)),pr(),uo.current=(0,ke.Z)(function(){Rn(sa)}),pr},[xr,jt,qe]),(0,d.useEffect)(function(){oo()},[it,Qn,hn,B(xr),B(en),jt]),(0,d.useEffect)(function(){Gr()},[qe]);var Uo=!!Za.length,bn="".concat(J,"-nav-wrap"),or,lo,wo,Or;return jt?qe?(lo=Qt>0,or=Qt!==hn):(or=Qt<0,lo=Qt!==Qn):(wo=Na<0,Or=Na!==Qn),d.createElement(se.Z,{onResize:Gr},d.createElement("div",{ref:(0,ne.x1)(D,Lt),role:"tablist",className:o()("".concat(J,"-nav"),ge),style:_e,onKeyDown:function(){ya()}},d.createElement(We,{ref:_t,position:"left",extra:St,prefixCls:J}),d.createElement("div",{className:o()(bn,(H={},(0,z.Z)(H,"".concat(bn,"-ping-left"),or),(0,z.Z)(H,"".concat(bn,"-ping-right"),lo),(0,z.Z)(H,"".concat(bn,"-ping-top"),wo),(0,z.Z)(H,"".concat(bn,"-ping-bottom"),Or),H)),ref:Ot},d.createElement(se.Z,{onResize:Gr},d.createElement("div",{ref:Ct,className:"".concat(J,"-nav-list"),style:{transform:"translate(".concat(Qt,"px, ").concat(Na,"px)"),transition:Cn?"none":void 0}},Wa,d.createElement(Ne,{ref:zt,prefixCls:J,locale:ft,editable:st,style:(0,ae.Z)((0,ae.Z)({},Wa.length===0?void 0:mn),{},{visibility:Uo?"hidden":null})}),d.createElement("div",{className:o()("".concat(J,"-ink-bar"),(0,z.Z)({},"".concat(J,"-ink-bar-animated"),ot.inkBar)),style:gn})))),d.createElement(Al,(0,O.Z)({},w,{removeAriaLabel:ft==null?void 0:ft.removeAriaLabel,ref:Mt,prefixCls:J,tabs:Za,className:!Uo&&Dr,tabMoving:!!Cn})),d.createElement(We,{ref:Rt,position:"right",extra:St,prefixCls:J})))}var Jl=d.forwardRef(Xl),Ci=["renderTabBar"],Nl=["label","key"];function fu(w){var D=w.renderTabBar,H=(0,N.Z)(w,Ci),re=d.useContext(Xe),J=re.tabs;if(D){var ie=(0,ae.Z)((0,ae.Z)({},H),{},{panes:J.map(function(ge){var _e=ge.label,$e=ge.key,ot=(0,N.Z)(ge,Nl);return d.createElement(ct,(0,O.Z)({tab:_e,key:$e,tabKey:$e},ot))})});return D(ie,Jl)}return d.createElement(Jl,H)}function ql(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},D;return w===!1?D={inkBar:!1,tabPane:!1}:w===!0?D={inkBar:!0,tabPane:!1}:D=(0,ae.Z)({inkBar:!0},(0,Re.Z)(w)==="object"?w:{}),D.tabPaneMotion&&D.tabPane===void 0&&(D.tabPane=!0),!D.tabPaneMotion&&D.tabPane&&(D.tabPane=!1),D}var Sd=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],Ho=0;function Yd(w,D){var H,re=w.id,J=w.prefixCls,ie=J===void 0?"rc-tabs":J,ge=w.className,_e=w.items,$e=w.direction,ot=w.activeKey,it=w.defaultActiveKey,qe=w.editable,St=w.animated,st=w.tabPosition,ft=st===void 0?"top":st,wt=w.tabBarGutter,Nt=w.tabBarStyle,Ht=w.tabBarExtraContent,bt=w.locale,At=w.moreIcon,Lt=w.moreTransitionName,_t=w.destroyInactiveTabPane,Rt=w.renderTabBar,Ot=w.onChange,Ct=w.onTabClick,Mt=w.onTabScroll,zt=w.getPopupContainer,jt=w.popupClassName,Kt=(0,N.Z)(w,Sd),Gt=d.useMemo(function(){return(_e||[]).filter(function(ka){return ka&&(0,Re.Z)(ka)==="object"&&"key"in ka})},[_e]),Qt=$e==="rtl",la=ql(St),Pa=(0,d.useState)(!1),Aa=(0,be.Z)(Pa,2),Na=Aa[0],on=Aa[1];(0,d.useEffect)(function(){on(Q())},[]);var vn=He(function(){var ka;return(ka=Gt[0])===null||ka===void 0?void 0:ka.key},{value:ot,defaultValue:it}),Ua=(0,be.Z)(vn,2),ra=Ua[0],ga=Ua[1],ha=(0,d.useState)(function(){return Gt.findIndex(function(ka){return ka.key===ra})}),Ra=(0,be.Z)(ha,2),Fa=Ra[0],za=Ra[1];(0,d.useEffect)(function(){var ka=Gt.findIndex(function(qa){return qa.key===ra});if(ka===-1){var xn;ka=Math.max(0,Math.min(Fa,Gt.length-1)),ga((xn=Gt[ka])===null||xn===void 0?void 0:xn.key)}za(ka)},[Gt.map(function(ka){return ka.key}).join("_"),ra,Fa]);var ia=He(null,{value:re}),Ba=(0,be.Z)(ia,2),fn=Ba[0],Ga=Ba[1];(0,d.useEffect)(function(){re||(Ga("rc-tabs-".concat(Ho)),Ho+=1)},[]);function _a(ka,xn){Ct==null||Ct(ka,xn);var qa=ka!==ra;ga(ka),qa&&(Ot==null||Ot(ka))}var Oa={id:fn,activeKey:ra,animated:la,tabPosition:ft,rtl:Qt,mobile:Na},wr,qn=(0,ae.Z)((0,ae.Z)({},Oa),{},{editable:qe,locale:bt,moreIcon:At,moreTransitionName:Lt,tabBarGutter:wt,onTabClick:_a,onTabScroll:Mt,extra:Ht,style:Nt,panes:null,getPopupContainer:zt,popupClassName:jt});return d.createElement(Xe.Provider,{value:{tabs:Gt,prefixCls:ie}},d.createElement("div",(0,O.Z)({ref:D,id:re,className:o()(ie,"".concat(ie,"-").concat(ft),(H={},(0,z.Z)(H,"".concat(ie,"-mobile"),Na),(0,z.Z)(H,"".concat(ie,"-editable"),qe),(0,z.Z)(H,"".concat(ie,"-rtl"),Qt),H),ge)},Kt),wr,d.createElement(fu,(0,O.Z)({},qn,{renderTabBar:Rt})),d.createElement(xe,(0,O.Z)({destroyInactiveTabPane:_t},Oa,{animated:la}))))}var xu=d.forwardRef(Yd),_l=xu,ki=_l;function Xd(w,D){return Dl(w)||hl(w,D)||Jd(w,D)||Yu()}function Yu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jd(w,D){if(w){if(typeof w=="string")return Xu(w,D);var H=Object.prototype.toString.call(w).slice(8,-1);if(H==="Object"&&w.constructor&&(H=w.constructor.name),H==="Map"||H==="Set")return Array.from(w);if(H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return Xu(w,D)}}function Xu(w,D){(D==null||D>w.length)&&(D=w.length);for(var H=0,re=new Array(D);H<D;H++)re[H]=w[H];return re}function hl(w,D){var H=w==null?null:typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(H!=null){var re=[],J=!0,ie=!1,ge,_e;try{for(H=H.call(w);!(J=(ge=H.next()).done)&&(re.push(ge.value),!(D&&re.length===D));J=!0);}catch($e){ie=!0,_e=$e}finally{try{!J&&H.return!=null&&H.return()}finally{if(ie)throw _e}}return re}}function Dl(w){if(Array.isArray(w))return w}var wd=function(){return d.createElement("svg",{viewBox:"0 0 200 117"},d.createElement("path",{d:"M59.688 2.578c-3.438-3.437-8.438-3.437-11.563 0L3.75 48.516c-5 5.937-5 14.062 0 19.062l44.063 45.938c1.562 1.562 4.062 2.5 5.937 2.5s4.063-.938 5.938-2.5c3.437-3.438 3.437-8.438 0-11.563l-42.5-43.437 42.5-44.063c3.437-3.437 3.437-8.437 0-11.875Zm135.937 45.938L151.25 2.578c-3.438-3.437-8.438-3.437-11.563 0-3.125 3.438-3.437 8.438 0 11.563l42.5 44.375-42.5 44.062c-3.437 3.438-3.437 8.438 0 11.563 1.563 1.562 3.438 2.5 5.938 2.5 2.5 0 4.063-.938 5.938-2.5l44.062-45.938c5.625-5.625 5.625-13.75 0-19.687Zm-75.938-45c-4.062-1.563-9.062.937-10.937 5l-34.063 95c-1.562 4.062.938 9.062 5 10.937.938 0 1.563.938 2.5.938 3.438 0 6.563-2.5 7.5-5.938l35-95.937c1.563-4.063-.937-9.063-5-10Z"}))},Ou=function(){return d.createElement("svg",{viewBox:"0 0 200 117"},d.createElement("path",{d:"M59.688 2.578c-3.438-3.437-8.438-3.437-11.563 0L3.75 48.516c-5 5.937-5 14.062 0 19.062l44.063 45.938c1.562 1.562 4.062 2.5 5.937 2.5s4.063-.938 5.938-2.5c3.437-3.438 3.437-8.438 0-11.563l-42.5-43.437 42.5-44.063c3.437-3.437 3.437-8.437 0-11.875Zm135.937 45.938L151.25 2.578c-3.438-3.437-8.438-3.437-11.563 0-3.125 3.438-3.437 8.438 0 11.563l42.5 44.375-42.5 44.062c-3.437 3.438-3.437 8.438 0 11.563 1.563 1.562 3.438 2.5 5.938 2.5 2.5 0 4.063-.938 5.938-2.5l44.062-45.938c5.625-5.625 5.625-13.75 0-19.687Z"}))},Hn=function(){return d.createElement("svg",{viewBox:"0 0 1024 1024"},d.createElement("path",{d:"M853.333 469.333A42.667 42.667 0 0 0 810.667 512v256A42.667 42.667 0 0 1 768 810.667H256A42.667 42.667 0 0 1 213.333 768V256A42.667 42.667 0 0 1 256 213.333h256A42.667 42.667 0 0 0 512 128H256a128 128 0 0 0-128 128v512a128 128 0 0 0 128 128h512a128 128 0 0 0 128-128V512a42.667 42.667 0 0 0-42.667-42.667z"}),d.createElement("path",{d:"M682.667 213.333h67.413L481.707 481.28a42.667 42.667 0 0 0 0 60.587 42.667 42.667 0 0 0 60.586 0L810.667 273.92v67.413A42.667 42.667 0 0 0 853.333 384 42.667 42.667 0 0 0 896 341.333V170.667A42.667 42.667 0 0 0 853.333 128H682.667a42.667 42.667 0 0 0 0 85.333z"}))},_n=function(D){var H,re,J,ie,ge,_e=(0,r.YB)(),$e=Object.entries(D.asset.dependencies).filter(function(Ct){var Mt=Xd(Ct,2),zt=Mt[1].type;return zt==="FILE"}),ot=(0,d.useState)(0),it=Xd(ot,2),qe=it[0],St=it[1],st=(0,d.useState)(D.forceShowCode||D.defaultShowCode),ft=Xd(st,2),wt=ft[0],Nt=ft[1],Ht=(0,d.useRef)(),bt=(0,d.useState)(!1),At=Xd(bt,2),Lt=At[0],_t=At[1],Rt=$e.length===1,Ot=((H=$e[qe][0].match(/\.([^.]+)$/))===null||H===void 0?void 0:H[1])||"text";return d.createElement(d.Fragment,null,d.createElement("div",{className:"dumi-default-previewer-actions"},!((re=D.disabledActions)!==null&&re!==void 0&&re.includes("CSB"))&&d.createElement("button",{className:"dumi-default-previewer-action-btn",type:"button","data-dumi-tooltip":_e.formatMessage({id:"previewer.actions.codesandbox"}),onClick:function(){return(0,r.il)(D)}},d.createElement(y,null)),!((J=D.disabledActions)!==null&&J!==void 0&&J.includes("STACKBLITZ"))&&d.createElement("button",{className:"dumi-default-previewer-action-btn",type:"button","data-dumi-tooltip":_e.formatMessage({id:"previewer.actions.stackblitz"}),onClick:function(){return(0,r.Sc)(D)}},d.createElement(Te,null)),!((ie=D.disabledActions)!==null&&ie!==void 0&&ie.includes("HTML2SKETCH"))&&r.p6&&d.createElement("span",{className:"dumi-default-previewer-action-btn dumi-default-previewer-action-sketch","data-dumi-tooltip":_e.formatMessage({id:"previewer.actions.sketch"}),"data-copied":Lt||void 0},Lt?d.createElement(l.r,null):d.createElement(C,null),d.createElement("select",{value:"",onChange:function(Mt){var zt=Mt.target.value;switch(zt){case"group":case"symbol":(0,r.p6)(D.demoContainer,{type:zt}).then(function(jt){ve()(JSON.stringify(jt)),_t(!0),clearTimeout(Ht.current),Ht.current=window.setTimeout(function(){return _t(!1)},2e3)});break;case"guide":window.open("https://d.umijs.org/config#html2sketch");break;default:}}},d.createElement("option",{value:"",hidden:!0}),d.createElement("option",{value:"group"},_e.formatMessage({id:"previewer.actions.sketch.group"})),d.createElement("option",{value:"symbol"},_e.formatMessage({id:"previewer.actions.sketch.symbol"})),d.createElement("option",{value:"-",disabled:!0},_e.formatMessage({id:"previewer.actions.sketch.divider"})),d.createElement("option",{value:"guide"},_e.formatMessage({id:"previewer.actions.sketch.guide"})))),!((ge=D.disabledActions)!==null&&ge!==void 0&&ge.includes("EXTERNAL"))&&d.createElement("a",{target:"_blank",rel:"noreferrer",href:D.demoUrl,className:"dumi-default-previewer-action-btn","data-dumi-tooltip":_e.formatMessage({id:"previewer.actions.separate"})},d.createElement(Hn,null)),d.createElement(Z,D),!D.forceShowCode&&d.createElement("button",{className:"dumi-default-previewer-action-btn",type:"button",onClick:function(){return Nt(function(Mt){return!Mt})},"data-dumi-tooltip":_e.formatMessage({id:"previewer.actions.code.".concat(wt?"shrink":"expand")})},wt?d.createElement(Ou,null):d.createElement(wd,null))),wt&&d.createElement(d.Fragment,null,d.createElement("div",{className:"dumi-default-previewer-sources"},!Rt&&d.createElement(ki,{className:"dumi-default-previewer-tabs",prefixCls:"dumi-default-tabs",moreIcon:"\xB7\xB7\xB7",defaultActiveKey:String(qe),onChange:function(Mt){return St(Number(Mt))},items:$e.map(function(Ct,Mt){var zt=Xd(Ct,1),jt=zt[0];return{key:String(Mt),label:jt}})})),d.createElement(T.Z,{lang:Ot},$e[qe][1].value)))},Tu=_n;function Sr(){return Sr=Object.assign?Object.assign.bind():function(w){for(var D=1;D<arguments.length;D++){var H=arguments[D];for(var re in H)Object.prototype.hasOwnProperty.call(H,re)&&(w[re]=H[re])}return w},Sr.apply(this,arguments)}function $r(w){return $r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},$r(w)}var Ju=function(D){var H,re=(0,d.useRef)(null),J=(0,r.TH)(),ie=J.hash,ge="#".concat(D.asset.id);return d.createElement("div",{id:D.asset.id,className:o()("dumi-default-previewer",D.className),style:D.style,"data-debug":D.debug,"data-active":ie===ge||void 0},d.createElement("div",{className:"dumi-default-previewer-demo",style:{background:D.background},"data-compact":D.compact||void 0,"data-transform":D.transform||void 0,"data-iframe":D.iframe||void 0,ref:re},D.iframe?d.createElement("iframe",{style:["string","number"].includes($r(D.iframe))?{height:Number(D.iframe)}:{},src:D.demoUrl}):D.children),d.createElement("div",{className:"dumi-default-previewer-meta"},(D.title||D.debug)&&d.createElement("div",{className:"dumi-default-previewer-desc"},d.createElement("h5",null,d.createElement("a",{href:ge},D.debug&&d.createElement("strong",null,"DEV ONLY"),D.title)),D.description&&d.createElement("div",{className:"markdown",dangerouslySetInnerHTML:{__html:D.description}})),d.createElement(Tu,Sr({},D,{demoContainer:D.iframe?(H=re.current)===null||H===void 0?void 0:H.firstElementChild:re.current}))))},Cd=Ju},60037:function(i,I,e){"use strict";e.d(I,{Z:function(){return Re}});var u=e(47697),o=e(62435),r=Object.defineProperty,l=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,s=(N,Q,G)=>Q in N?r(N,Q,{enumerable:!0,configurable:!0,writable:!0,value:G}):N[Q]=G,f=(N,Q)=>{for(var G in Q||(Q={}))d.call(Q,G)&&s(N,G,Q[G]);if(l)for(var G of l(Q))p.call(Q,G)&&s(N,G,Q[G]);return N};const h=N=>o.createElement("svg",f({viewBox:"64 64 896 896"},N),o.createElement("path",{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}));var x="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSI2NCA2NCA4OTYgODk2Ij48cGF0aCBkPSJNODMyIDY0SDI5NmMtNC40IDAtOCAzLjYtOCA4djU2YzAgNC40IDMuNiA4IDggOGg0OTZ2Njg4YzAgNC40IDMuNiA4IDggOGg1NmM0LjQgMCA4LTMuNiA4LThWOTZjMC0xNy43LTE0LjMtMzItMzItMzJ6TTcwNCAxOTJIMTkyYy0xNy43IDAtMzIgMTQuMy0zMiAzMnY1MzAuN2MwIDguNSAzLjQgMTYuNiA5LjQgMjIuNmwxNzMuMyAxNzMuM2MyLjIgMi4yIDQuNyA0IDcuNCA1LjV2MS45aDQuMmMzLjUgMS4zIDcuMiAyIDExIDJINzA0YzE3LjcgMCAzMi0xNC4zIDMyLTMyVjIyNGMwLTE3LjctMTQuMy0zMi0zMi0zMnpNMzUwIDg1Ni4yIDI2My45IDc3MEgzNTB2ODYuMnpNNjY0IDg4OEg0MTRWNzQ2YzAtMjIuMS0xNy45LTQwLTQwLTQwSDIzMlYyNjRoNDMydjYyNHoiLz48L3N2Zz4=",m=e(94184),g=e.n(m),y=e(14570);var S=function(){var N=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,Q=0,G={},Y={util:{encode:function oe(xe){return xe instanceof ue?new ue(xe.type,oe(xe.content),xe.alias):Array.isArray(xe)?xe.map(oe):xe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(oe){return Object.prototype.toString.call(oe).slice(8,-1)},objId:function(oe){return oe.__id||Object.defineProperty(oe,"__id",{value:++Q}),oe.__id},clone:function oe(xe,le){le=le||{};var se,ke;switch(Y.util.type(xe)){case"Object":if(ke=Y.util.objId(xe),le[ke])return le[ke];se={},le[ke]=se;for(var ne in xe)xe.hasOwnProperty(ne)&&(se[ne]=oe(xe[ne],le));return se;case"Array":return ke=Y.util.objId(xe),le[ke]?le[ke]:(se=[],le[ke]=se,xe.forEach(function(pe,V){se[V]=oe(pe,le)}),se);default:return xe}},getLanguage:function(oe){for(;oe;){var xe=N.exec(oe.className);if(xe)return xe[1].toLowerCase();oe=oe.parentElement}return"none"},setLanguage:function(oe,xe){oe.className=oe.className.replace(RegExp(N,"gi"),""),oe.classList.add("language-"+xe)},isActive:function(oe,xe,le){for(var se="no-"+xe;oe;){var ke=oe.classList;if(ke.contains(xe))return!0;if(ke.contains(se))return!1;oe=oe.parentElement}return!!le}},languages:{plain:G,plaintext:G,text:G,txt:G,extend:function(oe,xe){var le=Y.util.clone(Y.languages[oe]);for(var se in xe)le[se]=xe[se];return le},insertBefore:function(oe,xe,le,se){se=se||Y.languages;var ke=se[oe],ne={};for(var pe in ke)if(ke.hasOwnProperty(pe)){if(pe==xe)for(var V in le)le.hasOwnProperty(V)&&(ne[V]=le[V]);le.hasOwnProperty(pe)||(ne[pe]=ke[pe])}var de=se[oe];return se[oe]=ne,Y.languages.DFS(Y.languages,function(we,ze){ze===de&&we!=oe&&(this[we]=ne)}),ne},DFS:function oe(xe,le,se,ke){ke=ke||{};var ne=Y.util.objId;for(var pe in xe)if(xe.hasOwnProperty(pe)){le.call(xe,pe,xe[pe],se||pe);var V=xe[pe],de=Y.util.type(V);de==="Object"&&!ke[ne(V)]?(ke[ne(V)]=!0,oe(V,le,null,ke)):de==="Array"&&!ke[ne(V)]&&(ke[ne(V)]=!0,oe(V,le,pe,ke))}}},plugins:{},highlight:function(oe,xe,le){var se={code:oe,grammar:xe,language:le};return Y.hooks.run("before-tokenize",se),se.tokens=Y.tokenize(se.code,se.grammar),Y.hooks.run("after-tokenize",se),ue.stringify(Y.util.encode(se.tokens),se.language)},tokenize:function(oe,xe){var le=xe.rest;if(le){for(var se in le)xe[se]=le[se];delete xe.rest}var ke=new Je;return Xe(ke,ke.head,oe),He(oe,ke,xe,ke.head,0),ct(ke)},hooks:{all:{},add:function(oe,xe){var le=Y.hooks.all;le[oe]=le[oe]||[],le[oe].push(xe)},run:function(oe,xe){var le=Y.hooks.all[oe];if(!(!le||!le.length))for(var se=0,ke;ke=le[se++];)ke(xe)}},Token:ue};function ue(oe,xe,le,se){this.type=oe,this.content=xe,this.alias=le,this.length=(se||"").length|0}ue.stringify=function oe(xe,le){if(typeof xe=="string")return xe;if(Array.isArray(xe)){var se="";return xe.forEach(function(de){se+=oe(de,le)}),se}var ke={type:xe.type,content:oe(xe.content,le),tag:"span",classes:["token",xe.type],attributes:{},language:le},ne=xe.alias;ne&&(Array.isArray(ne)?Array.prototype.push.apply(ke.classes,ne):ke.classes.push(ne)),Y.hooks.run("wrap",ke);var pe="";for(var V in ke.attributes)pe+=" "+V+'="'+(ke.attributes[V]||"").replace(/"/g,"&quot;")+'"';return"<"+ke.tag+' class="'+ke.classes.join(" ")+'"'+pe+">"+ke.content+"</"+ke.tag+">"};function Me(oe,xe,le,se){oe.lastIndex=xe;var ke=oe.exec(le);if(ke&&se&&ke[1]){var ne=ke[1].length;ke.index+=ne,ke[0]=ke[0].slice(ne)}return ke}function He(oe,xe,le,se,ke,ne){for(var pe in le)if(!(!le.hasOwnProperty(pe)||!le[pe])){var V=le[pe];V=Array.isArray(V)?V:[V];for(var de=0;de<V.length;++de){if(ne&&ne.cause==pe+","+de)return;var we=V[de],ze=we.inside,Fe=!!we.lookbehind,Ye=!!we.greedy,pt=we.alias;if(Ye&&!we.pattern.global){var Tt=we.pattern.toString().match(/[imsuy]*$/)[0];we.pattern=RegExp(we.pattern.source,Tt+"g")}for(var yt=we.pattern||we,fe=se.next,v=ke;fe!==xe.tail&&!(ne&&v>=ne.reach);v+=fe.value.length,fe=fe.next){var B=fe.value;if(xe.length>oe.length)return;if(!(B instanceof ue)){var ee=1,ce;if(Ye){if(ce=Me(yt,v,oe,Fe),!ce||ce.index>=oe.length)break;var We=ce.index,Ae=ce.index+ce[0].length,Ne=v;for(Ne+=fe.value.length;We>=Ne;)fe=fe.next,Ne+=fe.value.length;if(Ne-=fe.value.length,v=Ne,fe.value instanceof ue)continue;for(var Se=fe;Se!==xe.tail&&(Ne<Ae||typeof Se.value=="string");Se=Se.next)ee++,Ne+=Se.value.length;ee--,B=oe.slice(v,Ne),ce.index-=v}else if(ce=Me(yt,0,B,Fe),!ce)continue;var We=ce.index,Ve=ce[0],Qe=B.slice(0,We),mt=B.slice(We+Ve.length),Ee=v+B.length;ne&&Ee>ne.reach&&(ne.reach=Ee);var Ue=fe.prev;Qe&&(Ue=Xe(xe,Ue,Qe),v+=Qe.length),et(xe,Ue,ee);var je=new ue(pe,ze?Y.tokenize(Ve,ze):Ve,pt,Ve);if(fe=Xe(xe,Ue,je),mt&&Xe(xe,fe,mt),ee>1){var Ce={cause:pe+","+de,reach:Ee};He(oe,xe,le,fe.prev,v,Ce),ne&&Ce.reach>ne.reach&&(ne.reach=Ce.reach)}}}}}}function Je(){var oe={value:null,prev:null,next:null},xe={value:null,prev:oe,next:null};oe.next=xe,this.head=oe,this.tail=xe,this.length=0}function Xe(oe,xe,le){var se=xe.next,ke={value:le,prev:xe,next:se};return xe.next=ke,se.prev=ke,oe.length++,ke}function et(oe,xe,le){for(var se=xe.next,ke=0;ke<le&&se!==oe.tail;ke++)se=se.next;xe.next=se,se.prev=xe,oe.length-=ke}function ct(oe){for(var xe=[],le=oe.head.next;le!==oe.tail;)xe.push(le.value),le=le.next;return xe}return Y}(),E=S;S.default=S,E.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},E.languages.markup.tag.inside["attr-value"].inside.entity=E.languages.markup.entity,E.languages.markup.doctype.inside["internal-subset"].inside=E.languages.markup,E.hooks.add("wrap",function(N){N.type==="entity"&&(N.attributes.title=N.content.replace(/&amp;/,"&"))}),Object.defineProperty(E.languages.markup.tag,"addInlined",{value:function(Q,G){var Y={};Y["language-"+G]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:E.languages[G]},Y.cdata=/^<!\[CDATA\[|\]\]>$/i;var ue={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Y}};ue["language-"+G]={pattern:/[\s\S]+/,inside:E.languages[G]};var Me={};Me[Q]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return Q}),"i"),lookbehind:!0,greedy:!0,inside:ue},E.languages.insertBefore("markup","cdata",Me)}}),Object.defineProperty(E.languages.markup.tag,"addAttribute",{value:function(N,Q){E.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+N+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[Q,"language-"+Q],inside:E.languages[Q]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),E.languages.html=E.languages.markup,E.languages.mathml=E.languages.markup,E.languages.svg=E.languages.markup,E.languages.xml=E.languages.extend("markup",{}),E.languages.ssml=E.languages.xml,E.languages.atom=E.languages.xml,E.languages.rss=E.languages.xml,function(N){var Q="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",G={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},Y={bash:G,environment:{pattern:RegExp("\\$"+Q),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+Q),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};N.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+Q),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:Y},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:G}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:Y},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:Y.entity}}],environment:{pattern:RegExp("\\$?"+Q),alias:"constant"},variable:Y.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},G.inside=N.languages.bash;for(var ue=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],Me=Y.variable[1].inside,He=0;He<ue.length;He++)Me[ue[He]]=N.languages.bash[ue[He]];N.languages.shell=N.languages.bash}(E),E.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},E.languages.c=E.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),E.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),E.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},E.languages.c.string],char:E.languages.c.char,comment:E.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:E.languages.c}}}}),E.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete E.languages.c.boolean,function(N){var Q=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,G=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return Q.source});N.languages.cpp=N.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return Q.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:Q,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),N.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return G})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),N.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:N.languages.cpp}}}}),N.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),N.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:N.languages.extend("cpp",{})}}),N.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},N.languages.cpp["base-clause"])}(E),function(N){var Q=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;N.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+Q.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+Q.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+Q.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:Q,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},N.languages.css.atrule.inside.rest=N.languages.css;var G=N.languages.markup;G&&(G.tag.addInlined("style","css"),G.tag.addAttribute("style","css"))}(E),function(N){var Q=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,G;N.languages.css.selector={pattern:N.languages.css.selector.pattern,lookbehind:!0,inside:G={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp(`\\[(?:[^[\\]"']|`+Q.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[Q,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},N.languages.css.atrule.inside["selector-function-argument"].inside=G,N.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}});var Y={pattern:/(\b\d+)(?:%|[a-z]+(?![\w-]))/,lookbehind:!0},ue={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};N.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#[\da-f]{3,8}\b/i,alias:"color"},color:[{pattern:/(^|[^\w-])(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)(?![\w-])/i,lookbehind:!0},{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:Y,number:ue,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:Y,number:ue})}(E),E.languages.javascript=E.languages.extend("clike",{"class-name":[E.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),E.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,E.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:E.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:E.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:E.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:E.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:E.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),E.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:E.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),E.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),E.languages.markup&&(E.languages.markup.tag.addInlined("script","javascript"),E.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),E.languages.js=E.languages.javascript,function(N){var Q=/#(?!\{).+/,G={pattern:/#\{[^}]+\}/,alias:"variable"};N.languages.coffeescript=N.languages.extend("javascript",{comment:Q,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:G}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),N.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:Q,interpolation:G}}}),N.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:N.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:G}}]}),N.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete N.languages.coffeescript["template-string"],N.languages.coffee=N.languages.coffeescript}(E),function(N){var Q=/[*&][^\s[\]{},]+/,G=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,Y="(?:"+G.source+"(?:[ 	]+"+Q.source+")?|"+Q.source+"(?:[ 	]+"+G.source+")?)",ue=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),Me=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function He(Je,Xe){Xe=(Xe||"").replace(/m/g,"")+"m";var et=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return Y}).replace(/<<value>>/g,function(){return Je});return RegExp(et,Xe)}N.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return Y})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return Y}).replace(/<<key>>/g,function(){return"(?:"+ue+"|"+Me+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:He(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:He(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:He(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:He(Me),lookbehind:!0,greedy:!0},number:{pattern:He(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:G,important:Q,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},N.languages.yml=N.languages.yaml}(E),function(N){var Q=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function G(ct){return ct=ct.replace(/<inner>/g,function(){return Q}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+ct+")")}var Y=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,ue=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return Y}),Me=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;N.languages.markdown=N.languages.extend("markup",{}),N.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:N.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+ue+Me+"(?:"+ue+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+ue+Me+")(?:"+ue+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(Y),inside:N.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+ue+")"+Me+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+ue+"$"),inside:{"table-header":{pattern:RegExp(Y),alias:"important",inside:N.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:G(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:G(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:G(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:G(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(ct){["url","bold","italic","strike","code-snippet"].forEach(function(oe){ct!==oe&&(N.languages.markdown[ct].inside.content.inside[oe]=N.languages.markdown[oe])})}),N.hooks.add("after-tokenize",function(ct){if(ct.language!=="markdown"&&ct.language!=="md")return;function oe(xe){if(!(!xe||typeof xe=="string"))for(var le=0,se=xe.length;le<se;le++){var ke=xe[le];if(ke.type!=="code"){oe(ke.content);continue}var ne=ke.content[1],pe=ke.content[3];if(ne&&pe&&ne.type==="code-language"&&pe.type==="code-block"&&typeof ne.content=="string"){var V=ne.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");V=(/[a-z][\w-]*/i.exec(V)||[""])[0].toLowerCase();var de="language-"+V;pe.alias?typeof pe.alias=="string"?pe.alias=[pe.alias,de]:pe.alias.push(de):pe.alias=[de]}}}oe(ct.tokens)}),N.hooks.add("wrap",function(ct){if(ct.type==="code-block"){for(var oe="",xe=0,le=ct.classes.length;xe<le;xe++){var se=ct.classes[xe],ke=/language-(.+)/.exec(se);if(ke){oe=ke[1];break}}var ne=N.languages[oe];if(ne)ct.content=N.highlight(et(ct.content),ne,oe);else if(oe&&oe!=="none"&&N.plugins.autoloader){var pe="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);ct.attributes.id=pe,N.plugins.autoloader.loadLanguages(oe,function(){var V=document.getElementById(pe);V&&(V.innerHTML=N.highlight(V.textContent,N.languages[oe],oe))})}}});var He=RegExp(N.languages.markup.tag.pattern.source,"gi"),Je={amp:"&",lt:"<",gt:">",quot:'"'},Xe=String.fromCodePoint||String.fromCharCode;function et(ct){var oe=ct.replace(He,"");return oe=oe.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(xe,le){if(le=le.toLowerCase(),le[0]==="#"){var se;return le[1]==="x"?se=parseInt(le.slice(2),16):se=Number(le.slice(1)),Xe(se)}else{var ke=Je[le];return ke||xe}}),oe}N.languages.md=N.languages.markdown}(E),E.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:E.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:false|true)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[!(){}\[\]:=,]/,property:/\w+/},E.hooks.add("after-tokenize",function(Q){if(Q.language!=="graphql")return;var G=Q.tokens.filter(function(ke){return typeof ke!="string"&&ke.type!=="comment"&&ke.type!=="scalar"}),Y=0;function ue(ke){return G[Y+ke]}function Me(ke,ne){ne=ne||0;for(var pe=0;pe<ke.length;pe++){var V=ue(pe+ne);if(!V||V.type!==ke[pe])return!1}return!0}function He(ke,ne){for(var pe=1,V=Y;V<G.length;V++){var de=G[V],we=de.content;if(de.type==="punctuation"&&typeof we=="string"){if(ke.test(we))pe++;else if(ne.test(we)&&(pe--,pe===0))return V}}return-1}function Je(ke,ne){var pe=ke.alias;pe?Array.isArray(pe)||(ke.alias=pe=[pe]):ke.alias=pe=[],pe.push(ne)}for(;Y<G.length;){var Xe=G[Y++];if(Xe.type==="keyword"&&Xe.content==="mutation"){var et=[];if(Me(["definition-mutation","punctuation"])&&ue(1).content==="("){Y+=2;var ct=He(/^\($/,/^\)$/);if(ct===-1)continue;for(;Y<ct;Y++){var oe=ue(0);oe.type==="variable"&&(Je(oe,"variable-input"),et.push(oe.content))}Y=ct+1}if(Me(["punctuation","property-query"])&&ue(0).content==="{"&&(Y++,Je(ue(0),"property-mutation"),et.length>0)){var xe=He(/^\{$/,/^\}$/);if(xe===-1)continue;for(var le=Y;le<xe;le++){var se=G[le];se.type==="variable"&&et.indexOf(se.content)>=0&&Je(se,"variable-input")}}}}}),E.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(N){var Q=N.languages.javascript["template-string"],G=Q.pattern.source,Y=Q.inside.interpolation,ue=Y.inside["interpolation-punctuation"],Me=Y.pattern.source;function He(le,se){if(N.languages[le])return{pattern:RegExp("((?:"+se+")\\s*)"+G),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},"embedded-code":{pattern:/[\s\S]+/,alias:le}}}}N.languages.javascript["template-string"]=[He("css",/\b(?:styled(?:\([^)]*\))?(?:\s*\.\s*\w+(?:\([^)]*\))*)*|css(?:\s*\.\s*(?:global|resolve))?|createGlobalStyle|keyframes)/.source),He("html",/\bhtml|\.\s*(?:inner|outer)HTML\s*\+?=/.source),He("svg",/\bsvg/.source),He("markdown",/\b(?:markdown|md)/.source),He("graphql",/\b(?:gql|graphql(?:\s*\.\s*experimental)?)/.source),He("sql",/\bsql/.source),Q].filter(Boolean);function Je(le,se){return"___"+se.toUpperCase()+"_"+le+"___"}function Xe(le,se,ke){var ne={code:le,grammar:se,language:ke};return N.hooks.run("before-tokenize",ne),ne.tokens=N.tokenize(ne.code,ne.grammar),N.hooks.run("after-tokenize",ne),ne.tokens}function et(le){var se={};se["interpolation-punctuation"]=ue;var ke=N.tokenize(le,se);if(ke.length===3){var ne=[1,1];ne.push.apply(ne,Xe(ke[1],N.languages.javascript,"javascript")),ke.splice.apply(ke,ne)}return new N.Token("interpolation",ke,Y.alias,le)}function ct(le,se,ke){var ne=N.tokenize(le,{interpolation:{pattern:RegExp(Me),lookbehind:!0}}),pe=0,V={},de=ne.map(function(Ye){if(typeof Ye=="string")return Ye;for(var pt=Ye.content,Tt;le.indexOf(Tt=Je(pe++,ke))!==-1;);return V[Tt]=pt,Tt}).join(""),we=Xe(de,se,ke),ze=Object.keys(V);pe=0;function Fe(Ye){for(var pt=0;pt<Ye.length;pt++){if(pe>=ze.length)return;var Tt=Ye[pt];if(typeof Tt=="string"||typeof Tt.content=="string"){var yt=ze[pe],fe=typeof Tt=="string"?Tt:Tt.content,v=fe.indexOf(yt);if(v!==-1){++pe;var B=fe.substring(0,v),ee=et(V[yt]),ce=fe.substring(v+yt.length),Ae=[];if(B&&Ae.push(B),Ae.push(ee),ce){var Ne=[ce];Fe(Ne),Ae.push.apply(Ae,Ne)}typeof Tt=="string"?(Ye.splice.apply(Ye,[pt,1].concat(Ae)),pt+=Ae.length-1):Tt.content=Ae}}else{var Se=Tt.content;Array.isArray(Se)?Fe(Se):Fe([Se])}}}return Fe(we),new N.Token(ke,we,"language-"+ke,le)}var oe={javascript:!0,js:!0,typescript:!0,ts:!0,jsx:!0,tsx:!0};N.hooks.add("after-tokenize",function(le){if(!(le.language in oe))return;function se(ke){for(var ne=0,pe=ke.length;ne<pe;ne++){var V=ke[ne];if(typeof V!="string"){var de=V.content;if(!Array.isArray(de)){typeof de!="string"&&se([de]);continue}if(V.type==="template-string"){var we=de[1];if(de.length===3&&typeof we!="string"&&we.type==="embedded-code"){var ze=xe(we),Fe=we.alias,Ye=Array.isArray(Fe)?Fe[0]:Fe,pt=N.languages[Ye];if(!pt)continue;de[1]=ct(ze,pt,Ye)}}else se(de)}}}se(le.tokens)});function xe(le){return typeof le=="string"?le:Array.isArray(le)?le.map(xe).join(""):xe(le.content)}}(E),function(N){N.languages.typescript=N.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),N.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete N.languages.typescript.parameter,delete N.languages.typescript["literal-property"];var Q=N.languages.extend("typescript",{});delete Q["class-name"],N.languages.typescript["class-name"].inside=Q,N.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:Q}}}}),N.languages.ts=N.languages.typescript}(E),function(N){N.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+N.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),N.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+N.languages.javascript.function.source),lookbehind:!0,alias:["function","property-access"]}}),N.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|(?:Weak)?(?:Map|Set)|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]});function Q(Je,Xe){return RegExp(Je.replace(/<ID>/g,function(){return/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/.source}),Xe)}N.languages.insertBefore("javascript","keyword",{imports:{pattern:Q(/(\bimport\b\s*)(?:<ID>(?:\s*,\s*(?:\*\s*as\s+<ID>|\{[^{}]*\}))?|\*\s*as\s+<ID>|\{[^{}]*\})(?=\s*\bfrom\b)/.source),lookbehind:!0,inside:N.languages.javascript},exports:{pattern:Q(/(\bexport\b\s*)(?:\*(?:\s*as\s+<ID>)?(?=\s*\bfrom\b)|\{[^{}]*\})/.source),lookbehind:!0,inside:N.languages.javascript}}),N.languages.javascript.keyword.unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\b(?:await|break|catch|continue|do|else|finally|for|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),N.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),N.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:Q(/(\.\s*)#?<ID>/.source),lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|(?:local|session)Storage|location|navigator|performance|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var G=["function","function-variable","method","method-variable","property-access"],Y=0;Y<G.length;Y++){var ue=G[Y],Me=N.languages.javascript[ue];N.util.type(Me)==="RegExp"&&(Me=N.languages.javascript[ue]={pattern:Me});var He=Me.inside||{};Me.inside=He,He["maybe-class-name"]=/^[A-Z][\s\S]*/}}(E),function(N){var Q=N.util.clone(N.languages.javascript),G=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,Y=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,ue=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function Me(Xe,et){return Xe=Xe.replace(/<S>/g,function(){return G}).replace(/<BRACES>/g,function(){return Y}).replace(/<SPREAD>/g,function(){return ue}),RegExp(Xe,et)}ue=Me(ue).source,N.languages.jsx=N.languages.extend("markup",Q),N.languages.jsx.tag.pattern=Me(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),N.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,N.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,N.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,N.languages.jsx.tag.inside.comment=Q.comment,N.languages.insertBefore("inside","attr-name",{spread:{pattern:Me(/<SPREAD>/.source),inside:N.languages.jsx}},N.languages.jsx.tag),N.languages.insertBefore("inside","special-attr",{script:{pattern:Me(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:N.languages.jsx}}},N.languages.jsx.tag);var He=function(Xe){return Xe?typeof Xe=="string"?Xe:typeof Xe.content=="string"?Xe.content:Xe.content.map(He).join(""):""},Je=function(Xe){for(var et=[],ct=0;ct<Xe.length;ct++){var oe=Xe[ct],xe=!1;if(typeof oe!="string"&&(oe.type==="tag"&&oe.content[0]&&oe.content[0].type==="tag"?oe.content[0].content[0].content==="</"?et.length>0&&et[et.length-1].tagName===He(oe.content[0].content[1])&&et.pop():oe.content[oe.content.length-1].content==="/>"||et.push({tagName:He(oe.content[0].content[1]),openedBraces:0}):et.length>0&&oe.type==="punctuation"&&oe.content==="{"?et[et.length-1].openedBraces++:et.length>0&&et[et.length-1].openedBraces>0&&oe.type==="punctuation"&&oe.content==="}"?et[et.length-1].openedBraces--:xe=!0),(xe||typeof oe=="string")&&et.length>0&&et[et.length-1].openedBraces===0){var le=He(oe);ct<Xe.length-1&&(typeof Xe[ct+1]=="string"||Xe[ct+1].type==="plain-text")&&(le+=He(Xe[ct+1]),Xe.splice(ct+1,1)),ct>0&&(typeof Xe[ct-1]=="string"||Xe[ct-1].type==="plain-text")&&(le=He(Xe[ct-1])+le,Xe.splice(ct-1,1),ct--),Xe[ct]=new N.Token("plain-text",le,null,le)}oe.content&&typeof oe.content!="string"&&Je(oe.content)}};N.hooks.add("after-tokenize",function(Xe){Xe.language!=="jsx"&&Xe.language!=="tsx"||Je(Xe.tokens)})}(E),function(N){N.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var Q={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(Q).forEach(function(G){var Y=Q[G],ue=[];/^\w+$/.test(G)||ue.push(/\w+/.exec(G)[0]),G==="diff"&&ue.push("bold"),N.languages.diff[G]={pattern:RegExp("^(?:["+Y+`].*(?:\r
?|
|(?![\\s\\S])))+`,"m"),alias:ue,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(G)[0]}}}}),Object.defineProperty(N.languages.diff,"PREFIXES",{value:Q})}(E),E.languages.git={comment:/^#.*/m,deleted:/^[-].*/m,inserted:/^\+.*/m,string:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,command:{pattern:/^.*\$ git .*$/m,inside:{parameter:/\s--?\w+/}},coord:/^@@.*@@$/m,"commit-sha1":/^commit \w{40}$/m},E.languages.go=E.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),E.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete E.languages.go["class-name"],function(N){function Q(G,Y){return"___"+G.toUpperCase()+Y+"___"}Object.defineProperties(N.languages["markup-templating"]={},{buildPlaceholders:{value:function(G,Y,ue,Me){if(G.language===Y){var He=G.tokenStack=[];G.code=G.code.replace(ue,function(Je){if(typeof Me=="function"&&!Me(Je))return Je;for(var Xe=He.length,et;G.code.indexOf(et=Q(Y,Xe))!==-1;)++Xe;return He[Xe]=Je,et}),G.grammar=N.languages.markup}}},tokenizePlaceholders:{value:function(G,Y){if(G.language!==Y||!G.tokenStack)return;G.grammar=N.languages[Y];var ue=0,Me=Object.keys(G.tokenStack);function He(Je){for(var Xe=0;Xe<Je.length&&!(ue>=Me.length);Xe++){var et=Je[Xe];if(typeof et=="string"||et.content&&typeof et.content=="string"){var ct=Me[ue],oe=G.tokenStack[ct],xe=typeof et=="string"?et:et.content,le=Q(Y,ct),se=xe.indexOf(le);if(se>-1){++ue;var ke=xe.substring(0,se),ne=new N.Token(Y,N.tokenize(oe,G.grammar),"language-"+Y,oe),pe=xe.substring(se+le.length),V=[];ke&&V.push.apply(V,He([ke])),V.push(ne),pe&&V.push.apply(V,He([pe])),typeof et=="string"?Je.splice.apply(Je,[Xe,1].concat(V)):et.content=V}}else et.content&&He(et.content)}return Je}He(G.tokens)}}})}(E),function(N){N.languages.handlebars={comment:/\{\{![\s\S]*?\}\}/,delimiter:{pattern:/^\{\{\{?|\}\}\}?$/,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][+-]?\d+)?/,boolean:/\b(?:false|true)\b/,block:{pattern:/^(\s*(?:~\s*)?)[#\/]\S+?(?=\s*(?:~\s*)?$|\s)/,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&':()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,\/;<=>@\[\\\]^`{|}~\s]+/},N.hooks.add("before-tokenize",function(Q){var G=/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g;N.languages["markup-templating"].buildPlaceholders(Q,"handlebars",G)}),N.hooks.add("after-tokenize",function(Q){N.languages["markup-templating"].tokenizePlaceholders(Q,"handlebars")}),N.languages.hbs=N.languages.handlebars}(E),E.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},E.languages.webmanifest=E.languages.json,E.languages.less=E.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[+\-*\/]/}),E.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}}),E.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"builtin-target":{pattern:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,alias:"builtin"},target:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,alias:"symbol",inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,function:{pattern:/(\()(?:abspath|addsuffix|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:list|s)?)(?=[ \t])/,lookbehind:!0},operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/},E.languages.objectivec=E.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete E.languages.objectivec["class-name"],E.languages.objc=E.languages.objectivec,E.languages.ocaml={comment:{pattern:/\(\*[\s\S]*?\*\)/,greedy:!0},char:{pattern:/'(?:[^\\\r\n']|\\(?:.|[ox]?[0-9a-f]{1,3}))'/i,greedy:!0},string:[{pattern:/"(?:\\(?:[\s\S]|\r\n)|[^\\\r\n"])*"/,greedy:!0},{pattern:/\{([a-z_]*)\|[\s\S]*?\|\1\}/,greedy:!0}],number:[/\b(?:0b[01][01_]*|0o[0-7][0-7_]*)\b/i,/\b0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]*)?(?:p[+-]?\d[\d_]*)?(?!\w)/i,/\b\d[\d_]*(?:\.[\d_]*)?(?:e[+-]?\d[\d_]*)?(?!\w)/i],directive:{pattern:/\B#\w+/,alias:"property"},label:{pattern:/\B~\w+/,alias:"property"},"type-variable":{pattern:/\B'\w+/,alias:"function"},variant:{pattern:/`\w+/,alias:"symbol"},keyword:/\b(?:as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|match|method|module|mutable|new|nonrec|object|of|open|private|rec|sig|struct|then|to|try|type|val|value|virtual|when|where|while|with)\b/,boolean:/\b(?:false|true)\b/,"operator-like-punctuation":{pattern:/\[[<>|]|[>|]\]|\{<|>\}/,alias:"punctuation"},operator:/\.[.~]|:[=>]|[=<>@^|&+\-*\/$%!?~][!$%&*+\-.\/:<=>?@^|~]*|\b(?:and|asr|land|lor|lsl|lsr|lxor|mod|or)\b/,punctuation:/;;|::|[(){}\[\].,:;#]|\b_\b/},E.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},E.languages.python["string-interpolation"].inside.interpolation.inside.rest=E.languages.python,E.languages.py=E.languages.python,E.languages.reason=E.languages.extend("clike",{string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/}),E.languages.insertBefore("reason","class-name",{char:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,greedy:!0},constructor:/\b[A-Z]\w*\b(?!\s*\.)/,label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete E.languages.reason.function,function(N){N.languages.sass=N.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0,greedy:!0}}),N.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,greedy:!0,inside:{atrule:/(?:@[\w-]+|[+=])/}}}),delete N.languages.sass.atrule;var Q=/\$[-\w]+|#\{\$[-\w]+\}/,G=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|not|or)\b/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}];N.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,greedy:!0,inside:{punctuation:/:/,variable:Q,operator:G}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,greedy:!0,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:Q,operator:G,important:N.languages.sass.important}}}),delete N.languages.sass.property,delete N.languages.sass.important,N.languages.insertBefore("sass","punctuation",{selector:{pattern:/^([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/m,lookbehind:!0,greedy:!0}})}(E),E.languages.scss=E.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),E.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),E.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),E.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),E.languages.scss.atrule.inside.rest=E.languages.scss,function(N){var Q={pattern:/(\b\d+)(?:%|[a-z]+)/,lookbehind:!0},G={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0},Y={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},url:{pattern:/\burl\((["']?).*?\1\)/i,greedy:!0},string:{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:!0},interpolation:null,func:null,important:/\B!(?:important|optional)\b/i,keyword:{pattern:/(^|\s+)(?:(?:else|for|if|return|unless)(?=\s|$)|@[\w-]+)/,lookbehind:!0},hexcode:/#[\da-f]{3,6}/i,color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:Q,number:G,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:Q,boolean:/\b(?:false|true)\b/,operator:[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.{2,3}|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],number:G,punctuation:/[{}()\[\];:,]/};Y.interpolation={pattern:/\{[^\r\n}:]+\}/,alias:"variable",inside:{delimiter:{pattern:/^\{|\}$/,alias:"punctuation"},rest:Y}},Y.func={pattern:/[\w-]+\([^)]*\).*/,inside:{function:/^[^(]+/,rest:Y}},N.languages.stylus={"atrule-declaration":{pattern:/(^[ \t]*)@.+/m,lookbehind:!0,inside:{atrule:/^@[\w-]+/,rest:Y}},"variable-declaration":{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:\{[^{}]*\}|\S.*|$)/m,lookbehind:!0,inside:{variable:/^\S+/,rest:Y}},statement:{pattern:/(^[ \t]*)(?:else|for|if|return|unless)[ \t].+/m,lookbehind:!0,inside:{keyword:/^\S+/,rest:Y}},"property-declaration":{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)(?!\s)[^{\r\n]*(?:;|[^{\r\n,]$(?!(?:\r?\n|\r)(?:\{|\2[ \t])))/m,lookbehind:!0,inside:{property:{pattern:/^[^\s:]+/,inside:{interpolation:Y.interpolation}},rest:Y}},selector:{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t])))/m,lookbehind:!0,inside:{interpolation:Y.interpolation,comment:Y.comment,punctuation:/[{},]/}},func:Y.func,string:Y.string,comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},interpolation:Y.interpolation,punctuation:/[{}()\[\];:.]/}}(E),function(N){var Q=N.util.clone(N.languages.typescript);N.languages.tsx=N.languages.extend("jsx",Q),delete N.languages.tsx.parameter,delete N.languages.tsx["literal-property"];var G=N.languages.tsx.tag;G.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+G.pattern.source+")",G.pattern.flags),G.lookbehind=!0}(E),E.languages.wasm={comment:[/\(;[\s\S]*?;\)/,{pattern:/;;.*/,greedy:!0}],string:{pattern:/"(?:\\[\s\S]|[^"\\])*"/,greedy:!0},keyword:[{pattern:/\b(?:align|offset)=/,inside:{operator:/=/}},{pattern:/\b(?:(?:f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|neg?|nearest|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|sqrt|store(?:8|16|32)?|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))?|memory\.(?:grow|size))\b/,inside:{punctuation:/\./}},/\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],variable:/\$[\w!#$%&'*+\-./:<=>?@\\^`|~]+/,number:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/,punctuation:/[()]/};var P=E,k={plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","atrule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]},A=k,L={Prism:P,theme:A};function j(N,Q,G){return Q in N?Object.defineProperty(N,Q,{value:G,enumerable:!0,configurable:!0,writable:!0}):N[Q]=G,N}function C(){return C=Object.assign||function(N){for(var Q=1;Q<arguments.length;Q++){var G=arguments[Q];for(var Y in G)Object.prototype.hasOwnProperty.call(G,Y)&&(N[Y]=G[Y])}return N},C.apply(this,arguments)}var _=/\r\n|\r|\n/,W=function(N){N.length===0?N.push({types:["plain"],content:`
`,empty:!0}):N.length===1&&N[0].content===""&&(N[0].content=`
`,N[0].empty=!0)},X=function(N,Q){var G=N.length;return G>0&&N[G-1]===Q?N:N.concat(Q)},te=function(N){for(var Q=[[]],G=[N],Y=[0],ue=[N.length],Me=0,He=0,Je=[],Xe=[Je];He>-1;){for(;(Me=Y[He]++)<ue[He];){var et=void 0,ct=Q[He],oe=G[He],xe=oe[Me];if(typeof xe=="string"?(ct=He>0?ct:["plain"],et=xe):(ct=X(ct,xe.type),xe.alias&&(ct=X(ct,xe.alias)),et=xe.content),typeof et!="string"){He++,Q.push(ct),G.push(et),Y.push(0),ue.push(et.length);continue}var le=et.split(_),se=le.length;Je.push({types:ct,content:le[0]});for(var ke=1;ke<se;ke++)W(Je),Xe.push(Je=[]),Je.push({types:ct,content:le[ke]})}He--,Q.pop(),G.pop(),Y.pop(),ue.pop()}return W(Je),Xe},q=function(N,Q){var G=N.plain,Y=Object.create(null),ue=N.styles.reduce(function(Me,He){var Je=He.languages,Xe=He.style;return Je&&!Je.includes(Q)||He.types.forEach(function(et){var ct=C({},Me[et],Xe);Me[et]=ct}),Me},Y);return ue.root=G,ue.plain=C({},G,{backgroundColor:null}),ue};function he(N,Q){var G={};for(var Y in N)Object.prototype.hasOwnProperty.call(N,Y)&&Q.indexOf(Y)===-1&&(G[Y]=N[Y]);return G}var Pe=function(N){function Q(){for(var G=this,Y=[],ue=arguments.length;ue--;)Y[ue]=arguments[ue];N.apply(this,Y),j(this,"getThemeDict",function(Me){if(G.themeDict!==void 0&&Me.theme===G.prevTheme&&Me.language===G.prevLanguage)return G.themeDict;G.prevTheme=Me.theme,G.prevLanguage=Me.language;var He=Me.theme?q(Me.theme,Me.language):void 0;return G.themeDict=He}),j(this,"getLineProps",function(Me){var He=Me.key,Je=Me.className,Xe=Me.style,et=he(Me,["key","className","style","line"]),ct=et,oe=C({},ct,{className:"token-line",style:void 0,key:void 0}),xe=G.getThemeDict(G.props);return xe!==void 0&&(oe.style=xe.plain),Xe!==void 0&&(oe.style=oe.style!==void 0?C({},oe.style,Xe):Xe),He!==void 0&&(oe.key=He),Je&&(oe.className+=" "+Je),oe}),j(this,"getStyleForToken",function(Me){var He=Me.types,Je=Me.empty,Xe=He.length,et=G.getThemeDict(G.props);if(et!==void 0){{if(Xe===1&&He[0]==="plain")return Je?{display:"inline-block"}:void 0;if(Xe===1&&!Je)return et[He[0]]}var ct=Je?{display:"inline-block"}:{},oe=He.map(function(xe){return et[xe]});return Object.assign.apply(Object,[ct].concat(oe))}}),j(this,"getTokenProps",function(Me){var He=Me.key,Je=Me.className,Xe=Me.style,et=Me.token,ct=he(Me,["key","className","style","token"]),oe=ct,xe=C({},oe,{className:"token "+et.types.join(" "),children:et.content,style:G.getStyleForToken(et),key:void 0});return Xe!==void 0&&(xe.style=xe.style!==void 0?C({},xe.style,Xe):Xe),He!==void 0&&(xe.key=He),Je&&(xe.className+=" "+Je),xe}),j(this,"tokenize",function(Me,He,Je,Xe){var et={code:He,grammar:Je,language:Xe,tokens:[]};Me.hooks.run("before-tokenize",et);var ct=et.tokens=Me.tokenize(et.code,et.grammar,et.language);return Me.hooks.run("after-tokenize",et),ct})}return N&&(Q.__proto__=N),Q.prototype=Object.create(N&&N.prototype),Q.prototype.constructor=Q,Q.prototype.render=function(){var Y=this.props,ue=Y.Prism,Me=Y.language,He=Y.code,Je=Y.children,Xe=this.getThemeDict(this.props),et=ue.languages[Me],ct=et!==void 0?this.tokenize(ue,He,et,Me):[He],oe=te(ct);return Je({tokens:oe,className:"prism-code language-"+Me,style:Xe!==void 0?Xe.root:{},getLineProps:this.getLineProps,getTokenProps:this.getTokenProps})},Q}(o.Component),Te=Pe,De=e(74855);function ye(){return ye=Object.assign?Object.assign.bind():function(N){for(var Q=1;Q<arguments.length;Q++){var G=arguments[Q];for(var Y in G)Object.prototype.hasOwnProperty.call(G,Y)&&(N[Y]=G[Y])}return N},ye.apply(this,arguments)}function ve(N,Q){return z(N)||O(N,Q)||F(N,Q)||T()}function T(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F(N,Q){if(N){if(typeof N=="string")return Z(N,Q);var G=Object.prototype.toString.call(N).slice(8,-1);if(G==="Object"&&N.constructor&&(G=N.constructor.name),G==="Map"||G==="Set")return Array.from(N);if(G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return Z(N,Q)}}function Z(N,Q){(Q==null||Q>N.length)&&(Q=N.length);for(var G=0,Y=new Array(Q);G<Q;G++)Y[G]=N[G];return Y}function O(N,Q){var G=N==null?null:typeof Symbol!="undefined"&&N[Symbol.iterator]||N["@@iterator"];if(G!=null){var Y=[],ue=!0,Me=!1,He,Je;try{for(G=G.call(N);!(ue=(He=G.next()).done)&&(Y.push(He.value),!(Q&&Y.length===Q));ue=!0);}catch(Xe){Me=!0,Je=Xe}finally{try{!ue&&G.return!=null&&G.return()}finally{if(Me)throw Je}}return Y}}function z(N){if(Array.isArray(N))return N}var ae={acss:"css",axml:"markup"},be=function(Q){var G=Q.children,Y=G===void 0?"":G,ue=Q.lang,Me=Q.highlightLines,He=Me===void 0?[]:Me,Je=(0,o.useRef)(),Xe=(0,o.useState)(!1),et=ve(Xe,2),ct=et[0],oe=et[1],xe=(0,y.WF)(),le=xe.themeConfig;return o.createElement("div",{className:"dumi-default-source-code"},o.createElement(De.CopyToClipboard,{text:Y,onCopy:function(){oe(!0),clearTimeout(Je.current),Je.current=window.setTimeout(function(){return oe(!1)},2e3)}},o.createElement("button",{type:"button",className:"dumi-default-source-code-copy","data-copied":ct||void 0},ct?o.createElement(u.r,null):o.createElement(h,null))),o.createElement(Te,ye({},L,{code:Y.trim(),language:ae[ue]||ue,theme:void 0}),function(se){var ke=se.className,ne=se.style,pe=se.tokens,V=se.getLineProps,de=se.getTokenProps;return o.createElement("pre",{className:ke,style:ne},pe.map(function(we,ze){return o.createElement("div",{key:String(ze),className:g()({highlighted:He.includes(ze+1),wrap:le.showLineNum})},le.showLineNum&&o.createElement("span",{className:"token-line-num"},ze+1),o.createElement("div",ye({},V({line:we,key:ze}),{className:g()({"line-cell":le.showLineNum})}),we.map(function(Fe,Ye){return o.createElement("span",de({token:Fe,key:Ye}))})))}))}))},Re=be},43876:function(){"use strict"},34661:function(){"use strict"},81901:function(){"use strict"},28033:function(){"use strict"},7043:function(){"use strict"},1498:function(){"use strict"},85662:function(){"use strict"},33150:function(){"use strict"},87937:function(){"use strict"},43226:function(){"use strict"},27809:function(){"use strict"},55770:function(){"use strict"},54791:function(){"use strict"},31002:function(){"use strict"},10240:function(){"use strict"},13390:function(){"use strict"},51705:function(){"use strict"},67546:function(){"use strict"},38280:function(){"use strict"},40195:function(){"use strict"},81943:function(){"use strict"},58347:function(){"use strict"},31174:function(){"use strict"},14234:function(){"use strict"},47697:function(i,I,e){"use strict";e.d(I,{r:function(){return f}});var u=e(62435),o=Object.defineProperty,r=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,p=(x,m,g)=>m in x?o(x,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):x[m]=g,s=(x,m)=>{for(var g in m||(m={}))l.call(m,g)&&p(x,g,m[g]);if(r)for(var g of r(m))d.call(m,g)&&p(x,g,m[g]);return x};const f=x=>u.createElement("svg",s({viewBox:"64 64 896 896"},x),u.createElement("path",{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 0 0-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}));var h="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSI2NCA2NCA4OTYgODk2Ij48cGF0aCBkPSJNOTEyIDE5MGgtNjkuOWMtOS44IDAtMTkuMSA0LjUtMjUuMSAxMi4yTDQwNC43IDcyNC41IDIwNyA0NzRhMzIgMzIgMCAwIDAtMjUuMS0xMi4ySDExMmMtNi43IDAtMTAuNCA3LjctNi4zIDEyLjlsMjczLjkgMzQ3YzEyLjggMTYuMiAzNy40IDE2LjIgNTAuMyAwbDQ4OC40LTYxOC45YzQuMS01LjEuNC0xMi44LTYuMy0xMi44eiIvPjwvc3ZnPg=="},25913:function(i,I,e){"use strict";var u=e(62435),o=e(80017);function r(t){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)a+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,d={};function p(t,a){s(t,a),s(t+"Capture",a)}function s(t,a){for(d[t]=a,t=0;t<a.length;t++)l.add(a[t])}var f=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),h=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function y(t){return h.call(g,t)?!0:h.call(m,t)?!1:x.test(t)?g[t]=!0:(m[t]=!0,!1)}function S(t,a,n,c){if(n!==null&&n.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return c?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function E(t,a,n,c){if(a===null||typeof a=="undefined"||S(t,a,n,c))return!0;if(c)return!1;if(n!==null)switch(n.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function P(t,a,n,c,b,R,K){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=c,this.attributeNamespace=b,this.mustUseProperty=n,this.propertyName=t,this.type=a,this.sanitizeURL=R,this.removeEmptyString=K}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){k[t]=new P(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var a=t[0];k[a]=new P(a,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){k[t]=new P(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){k[t]=new P(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){k[t]=new P(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){k[t]=new P(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){k[t]=new P(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){k[t]=new P(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){k[t]=new P(t,5,!1,t.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function L(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var a=t.replace(A,L);k[a]=new P(a,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var a=t.replace(A,L);k[a]=new P(a,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var a=t.replace(A,L);k[a]=new P(a,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){k[t]=new P(t,1,!1,t.toLowerCase(),null,!1,!1)}),k.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){k[t]=new P(t,1,!1,t.toLowerCase(),null,!0,!0)});function j(t,a,n,c){var b=k.hasOwnProperty(a)?k[a]:null;(b!==null?b.type!==0:c||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(E(a,n,b,c)&&(n=null),c||b===null?y(a)&&(n===null?t.removeAttribute(a):t.setAttribute(a,""+n)):b.mustUseProperty?t[b.propertyName]=n===null?b.type===3?!1:"":n:(a=b.attributeName,c=b.attributeNamespace,n===null?t.removeAttribute(a):(b=b.type,n=b===3||b===4&&n===!0?"":""+n,c?t.setAttributeNS(c,a,n):t.setAttribute(a,n))))}var C=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),W=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),he=Symbol.for("react.provider"),Pe=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),De=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var F=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var Z=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=Z&&t[Z]||t["@@iterator"],typeof t=="function"?t:null)}var z=Object.assign,ae;function be(t){if(ae===void 0)try{throw Error()}catch(n){var a=n.stack.trim().match(/\n( *(at )?)/);ae=a&&a[1]||""}return`
`+ae+t}var Re=!1;function N(t,a){if(!t||Re)return"";Re=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Ke){var c=Ke}Reflect.construct(t,[],a)}else{try{a.call()}catch(Ke){c=Ke}t.call(a.prototype)}else{try{throw Error()}catch(Ke){c=Ke}t()}}catch(Ke){if(Ke&&c&&typeof Ke.stack=="string"){for(var b=Ke.stack.split(`
`),R=c.stack.split(`
`),K=b.length-1,Ie=R.length-1;1<=K&&0<=Ie&&b[K]!==R[Ie];)Ie--;for(;1<=K&&0<=Ie;K--,Ie--)if(b[K]!==R[Ie]){if(K!==1||Ie!==1)do if(K--,Ie--,0>Ie||b[K]!==R[Ie]){var Oe=`
`+b[K].replace(" at new "," at ");return t.displayName&&Oe.includes("<anonymous>")&&(Oe=Oe.replace("<anonymous>",t.displayName)),Oe}while(1<=K&&0<=Ie);break}}}finally{Re=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?be(t):""}function Q(t){switch(t.tag){case 5:return be(t.type);case 16:return be("Lazy");case 13:return be("Suspense");case 19:return be("SuspenseList");case 0:case 2:case 15:return t=N(t.type,!1),t;case 11:return t=N(t.type.render,!1),t;case 1:return t=N(t.type,!0),t;default:return""}}function G(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case W:return"Portal";case q:return"Profiler";case te:return"StrictMode";case De:return"Suspense";case ye:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Pe:return(t.displayName||"Context")+".Consumer";case he:return(t._context.displayName||"Context")+".Provider";case Te:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ve:return a=t.displayName||null,a!==null?a:G(t.type)||"Memo";case T:a=t._payload,t=t._init;try{return G(t(a))}catch(n){}}return null}function Y(t){var a=t.type;switch(t.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=a.render,t=t.displayName||t.name||"",a.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(a);case 8:return a===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ue(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Me(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function He(t){var a=Me(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),c=""+t[a];if(!t.hasOwnProperty(a)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var b=n.get,R=n.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return b.call(this)},set:function(K){c=""+K,R.call(this,K)}}),Object.defineProperty(t,a,{enumerable:n.enumerable}),{getValue:function(){return c},setValue:function(K){c=""+K},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Je(t){t._valueTracker||(t._valueTracker=He(t))}function Xe(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var n=a.getValue(),c="";return t&&(c=Me(t)?t.checked?"true":"false":t.value),t=c,t!==n?(a.setValue(t),!0):!1}function et(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch(a){return t.body}}function ct(t,a){var n=a.checked;return z({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function oe(t,a){var n=a.defaultValue==null?"":a.defaultValue,c=a.checked!=null?a.checked:a.defaultChecked;n=ue(a.value!=null?a.value:n),t._wrapperState={initialChecked:c,initialValue:n,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function xe(t,a){a=a.checked,a!=null&&j(t,"checked",a,!1)}function le(t,a){xe(t,a);var n=ue(a.value),c=a.type;if(n!=null)c==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}a.hasOwnProperty("value")?ke(t,a.type,n):a.hasOwnProperty("defaultValue")&&ke(t,a.type,ue(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(t.defaultChecked=!!a.defaultChecked)}function se(t,a,n){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var c=a.type;if(!(c!=="submit"&&c!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+t._wrapperState.initialValue,n||a===t.value||(t.value=a),t.defaultValue=a}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ke(t,a,n){(a!=="number"||et(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ne=Array.isArray;function pe(t,a,n,c){if(t=t.options,a){a={};for(var b=0;b<n.length;b++)a["$"+n[b]]=!0;for(n=0;n<t.length;n++)b=a.hasOwnProperty("$"+t[n].value),t[n].selected!==b&&(t[n].selected=b),b&&c&&(t[n].defaultSelected=!0)}else{for(n=""+ue(n),a=null,b=0;b<t.length;b++){if(t[b].value===n){t[b].selected=!0,c&&(t[b].defaultSelected=!0);return}a!==null||t[b].disabled||(a=t[b])}a!==null&&(a.selected=!0)}}function V(t,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return z({},a,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function de(t,a){var n=a.value;if(n==null){if(n=a.children,a=a.defaultValue,n!=null){if(a!=null)throw Error(r(92));if(ne(n)){if(1<n.length)throw Error(r(93));n=n[0]}a=n}a==null&&(a=""),n=a}t._wrapperState={initialValue:ue(n)}}function we(t,a){var n=ue(a.value),c=ue(a.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),a.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),c!=null&&(t.defaultValue=""+c)}function ze(t){var a=t.textContent;a===t._wrapperState.initialValue&&a!==""&&a!==null&&(t.value=a)}function Fe(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ye(t,a){return t==null||t==="http://www.w3.org/1999/xhtml"?Fe(a):t==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pt,Tt=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(a,n,c,b){MSApp.execUnsafeLocalFunction(function(){return t(a,n,c,b)})}:t}(function(t,a){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=a;else{for(pt=pt||document.createElement("div"),pt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=pt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;a.firstChild;)t.appendChild(a.firstChild)}});function yt(t,a){if(a){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=a;return}}t.textContent=a}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v=["Webkit","ms","Moz","O"];Object.keys(fe).forEach(function(t){v.forEach(function(a){a=a+t.charAt(0).toUpperCase()+t.substring(1),fe[a]=fe[t]})});function B(t,a,n){return a==null||typeof a=="boolean"||a===""?"":n||typeof a!="number"||a===0||fe.hasOwnProperty(t)&&fe[t]?(""+a).trim():a+"px"}function ee(t,a){t=t.style;for(var n in a)if(a.hasOwnProperty(n)){var c=n.indexOf("--")===0,b=B(n,a[n],c);n==="float"&&(n="cssFloat"),c?t.setProperty(n,b):t[n]=b}}var ce=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ae(t,a){if(a){if(ce[t]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function Ne(t,a){if(t.indexOf("-")===-1)return typeof a.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Se=null;function We(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ve=null,Qe=null,mt=null;function Ee(t){if(t=Jd(t)){if(typeof Ve!="function")throw Error(r(280));var a=t.stateNode;a&&(a=hl(a),Ve(t.stateNode,t.type,a))}}function Ue(t){Qe?mt?mt.push(t):mt=[t]:Qe=t}function je(){if(Qe){var t=Qe,a=mt;if(mt=Qe=null,Ee(t),a)for(t=0;t<a.length;t++)Ee(a[t])}}function Ce(t,a){return t(a)}function tt(){}var at=!1;function gt(t,a,n){if(at)return t(a,n);at=!0;try{return Ce(t,a,n)}finally{at=!1,(Qe!==null||mt!==null)&&(tt(),je())}}function kt(t,a){var n=t.stateNode;if(n===null)return null;var c=hl(n);if(c===null)return null;n=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(r(231,a,typeof n));return n}var $t=!1;if(f)try{var va={};Object.defineProperty(va,"passive",{get:function(){$t=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch(t){$t=!1}function fa(t,a,n,c,b,R,K,Ie,Oe){var Ke=Array.prototype.slice.call(arguments,3);try{a.apply(n,Ke)}catch(ht){this.onError(ht)}}var wa=!1,Qa=null,Pn=!1,tr=null,On={onError:function(t){wa=!0,Qa=t}};function Et(t,a,n,c,b,R,K,Ie,Oe){wa=!1,Qa=null,fa.apply(On,arguments)}function nt(t,a,n,c,b,R,K,Ie,Oe){if(Et.apply(this,arguments),wa){if(wa){var Ke=Qa;wa=!1,Qa=null}else throw Error(r(198));Pn||(Pn=!0,tr=Ke)}}function It(t){var a=t,n=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,a.flags&4098&&(n=a.return),t=a.return;while(t)}return a.tag===3?n:null}function Vt(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function ta(t){if(It(t)!==t)throw Error(r(188))}function Xt(t){var a=t.alternate;if(!a){if(a=It(t),a===null)throw Error(r(188));return a!==t?null:t}for(var n=t,c=a;;){var b=n.return;if(b===null)break;var R=b.alternate;if(R===null){if(c=b.return,c!==null){n=c;continue}break}if(b.child===R.child){for(R=b.child;R;){if(R===n)return ta(b),t;if(R===c)return ta(b),a;R=R.sibling}throw Error(r(188))}if(n.return!==c.return)n=b,c=R;else{for(var K=!1,Ie=b.child;Ie;){if(Ie===n){K=!0,n=b,c=R;break}if(Ie===c){K=!0,c=b,n=R;break}Ie=Ie.sibling}if(!K){for(Ie=R.child;Ie;){if(Ie===n){K=!0,n=R,c=b;break}if(Ie===c){K=!0,c=R,n=b;break}Ie=Ie.sibling}if(!K)throw Error(r(189))}}if(n.alternate!==c)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?t:a}function ja(t){return t=Xt(t),t!==null?Ha(t):null}function Ha(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var a=Ha(t);if(a!==null)return a;t=t.sibling}return null}var dn=o.unstable_scheduleCallback,Ya=o.unstable_cancelCallback,Mn=o.unstable_shouldYield,ar=o.unstable_requestPaint,Xa=o.unstable_now,Zo=o.unstable_getCurrentPriorityLevel,Vr=o.unstable_ImmediatePriority,yo=o.unstable_UserBlockingPriority,dr=o.unstable_NormalPriority,bo=o.unstable_LowPriority,Oo=o.unstable_IdlePriority,Ur=null,gr=null;function nu(t){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(Ur,t,void 0,(t.current.flags&128)===128)}catch(a){}}var yr=Math.clz32?Math.clz32:Qr,bu=Math.log,ru=Math.LN2;function Qr(t){return t>>>=0,t===0?32:31-(bu(t)/ru|0)|0}var so=64,po=4194304;function Io(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mr(t,a){var n=t.pendingLanes;if(n===0)return 0;var c=0,b=t.suspendedLanes,R=t.pingedLanes,K=n&268435455;if(K!==0){var Ie=K&~b;Ie!==0?c=Io(Ie):(R&=K,R!==0&&(c=Io(R)))}else K=n&~b,K!==0?c=Io(K):R!==0&&(c=Io(R));if(c===0)return 0;if(a!==0&&a!==c&&!(a&b)&&(b=c&-c,R=a&-a,b>=R||b===16&&(R&4194240)!==0))return a;if(c&4&&(c|=n&16),a=t.entangledLanes,a!==0)for(t=t.entanglements,a&=c;0<a;)n=31-yr(a),b=1<<n,c|=t[n],a&=~b;return c}function ou(t,a){switch(t){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function To(t,a){for(var n=t.suspendedLanes,c=t.pingedLanes,b=t.expirationTimes,R=t.pendingLanes;0<R;){var K=31-yr(R),Ie=1<<K,Oe=b[K];Oe===-1?(!(Ie&n)||Ie&c)&&(b[K]=ou(Ie,a)):Oe<=a&&(t.expiredLanes|=Ie),R&=~Ie}}function Br(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zn(){var t=so;return so<<=1,!(so&4194240)&&(so=64),t}function ln(t){for(var a=[],n=0;31>n;n++)a.push(t);return a}function cn(t,a,n){t.pendingLanes|=a,a!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,a=31-yr(a),t[a]=n}function Tn(t,a){var n=t.pendingLanes&~a;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=a,t.mutableReadLanes&=a,t.entangledLanes&=a,a=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<n;){var b=31-yr(n),R=1<<b;a[b]=0,c[b]=-1,t[b]=-1,n&=~R}}function Ja(t,a){var n=t.entangledLanes|=a;for(t=t.entanglements;n;){var c=31-yr(n),b=1<<c;b&a|t[c]&a&&(t[c]|=a),n&=~b}}var oa=0;function Wr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Nn,Dn,zr,Yr,Fn,eo=!1,lr=[],ir=null,br=null,vo=null,Ao=new Map,Go=new Map,Lo=[],ul="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hd(t,a){switch(t){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":vo=null;break;case"pointerover":case"pointerout":Ao.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(a.pointerId)}}function Eo(t,a,n,c,b,R){return t===null||t.nativeEvent!==R?(t={blockedOn:a,domEventName:n,eventSystemFlags:c,nativeEvent:R,targetContainers:[b]},a!==null&&(a=Jd(a),a!==null&&Dn(a)),t):(t.eventSystemFlags|=c,a=t.targetContainers,b!==null&&a.indexOf(b)===-1&&a.push(b),t)}function $n(t,a,n,c,b){switch(a){case"focusin":return ir=Eo(ir,t,a,n,c,b),!0;case"dragenter":return br=Eo(br,t,a,n,c,b),!0;case"mouseover":return vo=Eo(vo,t,a,n,c,b),!0;case"pointerover":var R=b.pointerId;return Ao.set(R,Eo(Ao.get(R)||null,t,a,n,c,b)),!0;case"gotpointercapture":return R=b.pointerId,Go.set(R,Eo(Go.get(R)||null,t,a,n,c,b)),!0}return!1}function Nu(t){var a=Yu(t.target);if(a!==null){var n=It(a);if(n!==null){if(a=n.tag,a===13){if(a=Vt(n),a!==null){t.blockedOn=a,Fn(t.priority,function(){zr(n)});return}}else if(a===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uu(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var n=Du(t.domEventName,t.eventSystemFlags,a[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var c=new n.constructor(n.type,n);Se=c,n.target.dispatchEvent(c),Se=null}else return a=Jd(n),a!==null&&Dn(a),t.blockedOn=n,!1;a.shift()}return!0}function Ud(t,a,n){uu(t)&&n.delete(a)}function dl(){eo=!1,ir!==null&&uu(ir)&&(ir=null),br!==null&&uu(br)&&(br=null),vo!==null&&uu(vo)&&(vo=null),Ao.forEach(Ud),Go.forEach(Ud)}function Eu(t,a){t.blockedOn===a&&(t.blockedOn=null,eo||(eo=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,dl)))}function to(t){function a(b){return Eu(b,t)}if(0<lr.length){Eu(lr[0],t);for(var n=1;n<lr.length;n++){var c=lr[n];c.blockedOn===t&&(c.blockedOn=null)}}for(ir!==null&&Eu(ir,t),br!==null&&Eu(br,t),vo!==null&&Eu(vo,t),Ao.forEach(a),Go.forEach(a),n=0;n<Lo.length;n++)c=Lo[n],c.blockedOn===t&&(c.blockedOn=null);for(;0<Lo.length&&(n=Lo[0],n.blockedOn===null);)Nu(n),n.blockedOn===null&&Lo.shift()}var Xr=C.ReactCurrentBatchConfig,Ko=!0;function Bd(t,a,n,c){var b=oa,R=Xr.transition;Xr.transition=null;try{oa=1,ud(t,a,n,c)}finally{oa=b,Xr.transition=R}}function kl(t,a,n,c){var b=oa,R=Xr.transition;Xr.transition=null;try{oa=4,ud(t,a,n,c)}finally{oa=b,Xr.transition=R}}function ud(t,a,n,c){if(Ko){var b=Du(t,a,n,c);if(b===null)Tl(t,a,c,_u,n),Hd(t,c);else if($n(b,t,a,n,c))c.stopPropagation();else if(Hd(t,c),a&4&&-1<ul.indexOf(t)){for(;b!==null;){var R=Jd(b);if(R!==null&&Nn(R),R=Du(t,a,n,c),R===null&&Tl(t,a,c,_u,n),R===b)break;b=R}b!==null&&c.stopPropagation()}else Tl(t,a,c,null,n)}}var _u=null;function Du(t,a,n,c){if(_u=null,t=We(c),t=Yu(t),t!==null)if(a=It(t),a===null)t=null;else if(n=a.tag,n===13){if(t=Vt(a),t!==null)return t;t=null}else if(n===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null);return _u=t,null}function dd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zo()){case Vr:return 1;case yo:return 4;case dr:case bo:return 16;case Oo:return 536870912;default:return 16}default:return 16}}var Nr=null,du=null,Su=null;function wu(){if(Su)return Su;var t,a=du,n=a.length,c,b="value"in Nr?Nr.value:Nr.textContent,R=b.length;for(t=0;t<n&&a[t]===b[t];t++);var K=n-t;for(c=1;c<=K&&a[n-c]===b[R-c];c++);return Su=b.slice(t,1<c?1-c:void 0)}function Cu(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Fu(){return!0}function lu(){return!1}function vr(t){function a(n,c,b,R,K){this._reactName=n,this._targetInst=b,this.type=c,this.nativeEvent=R,this.target=K,this.currentTarget=null;for(var Ie in t)t.hasOwnProperty(Ie)&&(n=t[Ie],this[Ie]=n?n(R):R[Ie]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Fu:lu,this.isPropagationStopped=lu,this}return z(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fu)},persist:function(){},isPersistent:Fu}),a}var iu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},M=vr(iu),$=z({},iu,{view:0,detail:0}),U=vr($),me,Ze,ut,lt=z({},$,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ut&&(ut&&t.type==="mousemove"?(me=t.screenX-ut.screenX,Ze=t.screenY-ut.screenY):Ze=me=0,ut=t),me)},movementY:function(t){return"movementY"in t?t.movementY:Ze}}),xt=vr(lt),Dt=z({},lt,{dataTransfer:0}),Ft=vr(Dt),ea=z({},$,{relatedTarget:0}),ma=vr(ea),aa=z({},iu,{animationName:0,elapsedTime:0,pseudoElement:0}),na=vr(aa),ua=z({},iu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ea=vr(ua),nn=z({},iu,{data:0}),En=vr(nn),Zn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fo(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Sn[t])?!!a[t]:!1}function Er(){return fo}var Mo=z({},$,{key:function(t){if(t.key){var a=Zn[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=Cu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cr[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(t){return t.type==="keypress"?Cu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cu=vr(Mo),No=z({},lt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ao=vr(No),Zt=z({},$,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),_o=vr(Zt),no=z({},iu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Do=vr(no),ju=z({},lt,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vo=vr(ju),Fo=[9,13,27,32],ll=f&&"CompositionEvent"in window,Hu=null;f&&"documentMode"in document&&(Hu=document.documentMode);var $l=f&&"TextEvent"in window&&!Hu,Rl=f&&(!ll||Hu&&8<Hu&&11>=Hu),ld=String.fromCharCode(32),id=!1;function cd(t,a){switch(t){case"keyup":return Fo.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function su(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qo=!1;function il(t,a){switch(t){case"compositionend":return su(a);case"keypress":return a.which!==32?null:(id=!0,ld);case"textInput":return t=a.data,t===ld&&id?null:t;default:return null}}function Uu(t,a){if(Qo)return t==="compositionend"||!ll&&cd(t,a)?(t=wu(),Su=du=Nr=null,Qo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Rl&&a.locale!=="ko"?null:a.data;default:return null}}var Bu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wd(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Bu[t.type]:a==="textarea"}function cl(t,a,n,c){Ue(c),a=Il(a,"onChange"),0<a.length&&(n=new M("onChange","change",null,n,c),t.push({event:n,listeners:a}))}var Wu=null,pu=null;function sl(t){Kl(t,0)}function zu(t){var a=Xu(t);if(Xe(a))return t}function sd(t,a){if(t==="change")return a}var pl=!1;if(f){var $u;if(f){var pd="oninput"in document;if(!pd){var Id=document.createElement("div");Id.setAttribute("oninput","return;"),pd=typeof Id.oninput=="function"}$u=pd}else $u=!1;pl=$u&&(!document.documentMode||9<document.documentMode)}function vt(){Wu&&(Wu.detachEvent("onpropertychange",dt),pu=Wu=null)}function dt(t){if(t.propertyName==="value"&&zu(pu)){var a=[];cl(a,pu,t,We(t)),gt(sl,a)}}function Wt(t,a,n){t==="focusin"?(vt(),Wu=a,pu=n,Wu.attachEvent("onpropertychange",dt)):t==="focusout"&&vt()}function Ca(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(pu)}function rn(t,a){if(t==="click")return zu(a)}function Gn(t,a){if(t==="input"||t==="change")return zu(a)}function Jn(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var In=typeof Object.is=="function"?Object.is:Jn;function _r(t,a){if(In(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var n=Object.keys(t),c=Object.keys(a);if(n.length!==c.length)return!1;for(c=0;c<n.length;c++){var b=n[c];if(!h.call(a,b)||!In(t[b],a[b]))return!1}return!0}function ku(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ro(t,a){var n=ku(t);t=0;for(var c;n;){if(n.nodeType===3){if(c=t+n.textContent.length,t<=a&&c>=a)return{node:n,offset:a-t};t=c}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ku(n)}}function vd(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?vd(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Ru(){for(var t=window,a=et();a instanceof t.HTMLIFrameElement;){try{var n=typeof a.contentWindow.location.href=="string"}catch(c){n=!1}if(n)t=a.contentWindow;else break;a=et(t.document)}return a}function Yo(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}function Pl(t){var a=Ru(),n=t.focusedElem,c=t.selectionRange;if(a!==n&&n&&n.ownerDocument&&vd(n.ownerDocument.documentElement,n)){if(c!==null&&Yo(n)){if(a=c.start,t=c.end,t===void 0&&(t=a),"selectionStart"in n)n.selectionStart=a,n.selectionEnd=Math.min(t,n.value.length);else if(t=(a=n.ownerDocument||document)&&a.defaultView||window,t.getSelection){t=t.getSelection();var b=n.textContent.length,R=Math.min(c.start,b);c=c.end===void 0?R:Math.min(c.end,b),!t.extend&&R>c&&(b=c,c=R,R=b),b=ro(n,R);var K=ro(n,c);b&&K&&(t.rangeCount!==1||t.anchorNode!==b.node||t.anchorOffset!==b.offset||t.focusNode!==K.node||t.focusOffset!==K.offset)&&(a=a.createRange(),a.setStart(b.node,b.offset),t.removeAllRanges(),R>c?(t.addRange(a),t.extend(K.node,K.offset)):(a.setEnd(K.node,K.offset),t.addRange(a)))}}for(a=[],t=n;t=t.parentNode;)t.nodeType===1&&a.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<a.length;n++)t=a[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fd=f&&"documentMode"in document&&11>=document.documentMode,Iu=null,zd=null,Zu=null,Gu=!1;function xd(t,a,n){var c=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gu||Iu==null||Iu!==et(c)||(c=Iu,"selectionStart"in c&&Yo(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Zu&&_r(Zu,c)||(Zu=c,c=Il(zd,"onSelect"),0<c.length&&(a=new M("onSelect","select",null,a,n),t.push({event:a,listeners:c}),a.target=Iu)))}function hd(t,a){var n={};return n[t.toLowerCase()]=a.toLowerCase(),n["Webkit"+t]="webkit"+a,n["Moz"+t]="moz"+a,n}var xo={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionend:hd("Transition","TransitionEnd")},$d={},So={};f&&(So=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function vu(t){if($d[t])return $d[t];if(!xo[t])return t;var a=xo[t],n;for(n in a)if(a.hasOwnProperty(n)&&n in So)return $d[t]=a[n];return t}var Ku=vu("animationend"),md=vu("animationiteration"),Zd=vu("animationstart"),Vu=vu("transitionend"),gd=new Map,Gd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(t,a){gd.set(t,a),p(a,[t])}for(var jo=0;jo<Gd.length;jo++){var Xo=Gd[jo],ec=Xo.toLowerCase(),Zl=Xo[0].toUpperCase()+Xo.slice(1);wn(ec,"on"+Zl)}wn(Ku,"onAnimationEnd"),wn(md,"onAnimationIteration"),wn(Zd,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(Vu,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kd));function Gl(t,a,n){var c=t.type||"unknown-event";t.currentTarget=n,nt(c,a,void 0,t),t.currentTarget=null}function Kl(t,a){a=(a&4)!==0;for(var n=0;n<t.length;n++){var c=t[n],b=c.event;c=c.listeners;e:{var R=void 0;if(a)for(var K=c.length-1;0<=K;K--){var Ie=c[K],Oe=Ie.instance,Ke=Ie.currentTarget;if(Ie=Ie.listener,Oe!==R&&b.isPropagationStopped())break e;Gl(b,Ie,Ke),R=Oe}else for(K=0;K<c.length;K++){if(Ie=c[K],Oe=Ie.instance,Ke=Ie.currentTarget,Ie=Ie.listener,Oe!==R&&b.isPropagationStopped())break e;Gl(b,Ie,Ke),R=Oe}}}if(Pn)throw t=tr,Pn=!1,tr=null,t}function jn(t,a){var n=a[_l];n===void 0&&(n=a[_l]=new Set);var c=t+"__bubble";n.has(c)||(Qu(a,t,2,!1),n.add(c))}function Ol(t,a,n){var c=0;a&&(c|=4),Qu(n,t,c,a)}var yd="_reactListening"+Math.random().toString(36).slice(2);function Vd(t){if(!t[yd]){t[yd]=!0,l.forEach(function(n){n!=="selectionchange"&&(wi.has(n)||Ol(n,!1,t),Ol(n,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[yd]||(a[yd]=!0,Ol("selectionchange",!1,a))}}function Qu(t,a,n,c){switch(dd(a)){case 1:var b=Bd;break;case 4:b=kl;break;default:b=ud}n=b.bind(null,a,n,t),b=void 0,!$t||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(b=!0),c?b!==void 0?t.addEventListener(a,n,{capture:!0,passive:b}):t.addEventListener(a,n,!0):b!==void 0?t.addEventListener(a,n,{passive:b}):t.addEventListener(a,n,!1)}function Tl(t,a,n,c,b){var R=c;if(!(a&1)&&!(a&2)&&c!==null)e:for(;;){if(c===null)return;var K=c.tag;if(K===3||K===4){var Ie=c.stateNode.containerInfo;if(Ie===b||Ie.nodeType===8&&Ie.parentNode===b)break;if(K===4)for(K=c.return;K!==null;){var Oe=K.tag;if((Oe===3||Oe===4)&&(Oe=K.stateNode.containerInfo,Oe===b||Oe.nodeType===8&&Oe.parentNode===b))return;K=K.return}for(;Ie!==null;){if(K=Yu(Ie),K===null)return;if(Oe=K.tag,Oe===5||Oe===6){c=R=K;continue e}Ie=Ie.parentNode}}c=c.return}gt(function(){var Ke=R,ht=We(n),Bt=[];e:{var rt=gd.get(t);if(rt!==void 0){var Yt=M,Ut=t;switch(t){case"keypress":if(Cu(n)===0)break e;case"keydown":case"keyup":Yt=cu;break;case"focusin":Ut="focus",Yt=ma;break;case"focusout":Ut="blur",Yt=ma;break;case"beforeblur":case"afterblur":Yt=ma;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Yt=xt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Yt=Ft;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Yt=_o;break;case Ku:case md:case Zd:Yt=na;break;case Vu:Yt=Do;break;case"scroll":Yt=U;break;case"wheel":Yt=Vo;break;case"copy":case"cut":case"paste":Yt=Ea;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Yt=ao}var Ta=(a&4)!==0,mr=!Ta&&t==="scroll",Be=Ta?rt!==null?rt+"Capture":null:rt;Ta=[];for(var Le=Ke,Ge;Le!==null;){Ge=Le;var Pt=Ge.stateNode;if(Ge.tag===5&&Pt!==null&&(Ge=Pt,Be!==null&&(Pt=kt(Le,Be),Pt!=null&&Ta.push(Qd(Le,Pt,Ge)))),mr)break;Le=Le.return}0<Ta.length&&(rt=new Yt(rt,Ut,null,n,ht),Bt.push({event:rt,listeners:Ta}))}}if(!(a&7)){e:{if(rt=t==="mouseover"||t==="pointerover",Yt=t==="mouseout"||t==="pointerout",rt&&n!==Se&&(Ut=n.relatedTarget||n.fromElement)&&(Yu(Ut)||Ut[xu]))break e;if((Yt||rt)&&(rt=ht.window===ht?ht:(rt=ht.ownerDocument)?rt.defaultView||rt.parentWindow:window,Yt?(Ut=n.relatedTarget||n.toElement,Yt=Ke,Ut=Ut?Yu(Ut):null,Ut!==null&&(mr=It(Ut),Ut!==mr||Ut.tag!==5&&Ut.tag!==6)&&(Ut=null)):(Yt=null,Ut=Ke),Yt!==Ut)){if(Ta=xt,Pt="onMouseLeave",Be="onMouseEnter",Le="mouse",(t==="pointerout"||t==="pointerover")&&(Ta=ao,Pt="onPointerLeave",Be="onPointerEnter",Le="pointer"),mr=Yt==null?rt:Xu(Yt),Ge=Ut==null?rt:Xu(Ut),rt=new Ta(Pt,Le+"leave",Yt,n,ht),rt.target=mr,rt.relatedTarget=Ge,Pt=null,Yu(ht)===Ke&&(Ta=new Ta(Be,Le+"enter",Ut,n,ht),Ta.target=Ge,Ta.relatedTarget=mr,Pt=Ta),mr=Pt,Yt&&Ut)t:{for(Ta=Yt,Be=Ut,Le=0,Ge=Ta;Ge;Ge=bd(Ge))Le++;for(Ge=0,Pt=Be;Pt;Pt=bd(Pt))Ge++;for(;0<Le-Ge;)Ta=bd(Ta),Le--;for(;0<Ge-Le;)Be=bd(Be),Ge--;for(;Le--;){if(Ta===Be||Be!==null&&Ta===Be.alternate)break t;Ta=bd(Ta),Be=bd(Be)}Ta=null}else Ta=null;Yt!==null&&Vl(Bt,rt,Yt,Ta,!1),Ut!==null&&mr!==null&&Vl(Bt,mr,Ut,Ta,!0)}}e:{if(rt=Ke?Xu(Ke):window,Yt=rt.nodeName&&rt.nodeName.toLowerCase(),Yt==="select"||Yt==="input"&&rt.type==="file")var qt=sd;else if(Wd(rt))if(pl)qt=Gn;else{qt=Ca;var pa=Wt}else(Yt=rt.nodeName)&&Yt.toLowerCase()==="input"&&(rt.type==="checkbox"||rt.type==="radio")&&(qt=rn);if(qt&&(qt=qt(t,Ke))){cl(Bt,qt,n,ht);break e}pa&&pa(t,rt,Ke),t==="focusout"&&(pa=rt._wrapperState)&&pa.controlled&&rt.type==="number"&&ke(rt,"number",rt.value)}switch(pa=Ke?Xu(Ke):window,t){case"focusin":(Wd(pa)||pa.contentEditable==="true")&&(Iu=pa,zd=Ke,Zu=null);break;case"focusout":Zu=zd=Iu=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,xd(Bt,n,ht);break;case"selectionchange":if(fd)break;case"keydown":case"keyup":xd(Bt,n,ht)}var Ia;if(ll)e:{switch(t){case"compositionstart":var Sa="onCompositionStart";break e;case"compositionend":Sa="onCompositionEnd";break e;case"compositionupdate":Sa="onCompositionUpdate";break e}Sa=void 0}else Qo?cd(t,n)&&(Sa="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Sa="onCompositionStart");Sa&&(Rl&&n.locale!=="ko"&&(Qo||Sa!=="onCompositionStart"?Sa==="onCompositionEnd"&&Qo&&(Ia=wu()):(Nr=ht,du="value"in Nr?Nr.value:Nr.textContent,Qo=!0)),pa=Il(Ke,Sa),0<pa.length&&(Sa=new En(Sa,t,null,n,ht),Bt.push({event:Sa,listeners:pa}),Ia?Sa.data=Ia:(Ia=su(n),Ia!==null&&(Sa.data=Ia)))),(Ia=$l?il(t,n):Uu(t,n))&&(Ke=Il(Ke,"onBeforeInput"),0<Ke.length&&(ht=new En("onBeforeInput","beforeinput",null,n,ht),Bt.push({event:ht,listeners:Ke}),ht.data=Ia))}Kl(Bt,a)})}function Qd(t,a,n){return{instance:t,listener:a,currentTarget:n}}function Il(t,a){for(var n=a+"Capture",c=[];t!==null;){var b=t,R=b.stateNode;b.tag===5&&R!==null&&(b=R,R=kt(t,n),R!=null&&c.unshift(Qd(t,R,b)),R=kt(t,a),R!=null&&c.push(Qd(t,R,b))),t=t.return}return c}function bd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vl(t,a,n,c,b){for(var R=a._reactName,K=[];n!==null&&n!==c;){var Ie=n,Oe=Ie.alternate,Ke=Ie.stateNode;if(Oe!==null&&Oe===c)break;Ie.tag===5&&Ke!==null&&(Ie=Ke,b?(Oe=kt(n,R),Oe!=null&&K.unshift(Qd(n,Oe,Ie))):b||(Oe=kt(n,R),Oe!=null&&K.push(Qd(n,Oe,Ie)))),n=n.return}K.length!==0&&t.push({event:a,listeners:K})}var Ql=/\r\n?/g,Yl=/\u0000|\uFFFD/g;function Ed(t){return(typeof t=="string"?t:""+t).replace(Ql,`
`).replace(Yl,"")}function vl(t,a,n){if(a=Ed(a),Ed(t)!==a&&n)throw Error(r(425))}function fl(){}var Al=null,Ll=null;function Ml(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Pu=typeof setTimeout=="function"?setTimeout:void 0,xl=typeof clearTimeout=="function"?clearTimeout:void 0,Xl=typeof Promise=="function"?Promise:void 0,Jl=typeof queueMicrotask=="function"?queueMicrotask:typeof Xl!="undefined"?function(t){return Xl.resolve(null).then(t).catch(Ci)}:Pu;function Ci(t){setTimeout(function(){throw t})}function Nl(t,a){var n=a,c=0;do{var b=n.nextSibling;if(t.removeChild(n),b&&b.nodeType===8)if(n=b.data,n==="/$"){if(c===0){t.removeChild(b),to(a);return}c--}else n!=="$"&&n!=="$?"&&n!=="$!"||c++;n=b}while(n);to(a)}function fu(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return t}function ql(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(a===0)return t;a--}else n==="/$"&&a++}t=t.previousSibling}return null}var Sd=Math.random().toString(36).slice(2),Ho="__reactFiber$"+Sd,Yd="__reactProps$"+Sd,xu="__reactContainer$"+Sd,_l="__reactEvents$"+Sd,ki="__reactListeners$"+Sd,Xd="__reactHandles$"+Sd;function Yu(t){var a=t[Ho];if(a)return a;for(var n=t.parentNode;n;){if(a=n[xu]||n[Ho]){if(n=a.alternate,a.child!==null||n!==null&&n.child!==null)for(t=ql(t);t!==null;){if(n=t[Ho])return n;t=ql(t)}return a}t=n,n=t.parentNode}return null}function Jd(t){return t=t[Ho]||t[xu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function hl(t){return t[Yd]||null}var Dl=[],wd=-1;function Ou(t){return{current:t}}function Hn(t){0>wd||(t.current=Dl[wd],Dl[wd]=null,wd--)}function _n(t,a){wd++,Dl[wd]=t.current,t.current=a}var Tu={},Sr=Ou(Tu),$r=Ou(!1),Ju=Tu;function Cd(t,a){var n=t.type.contextTypes;if(!n)return Tu;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===a)return c.__reactInternalMemoizedMaskedChildContext;var b={},R;for(R in n)b[R]=a[R];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=b),b}function w(t){return t=t.childContextTypes,t!=null}function D(){Hn($r),Hn(Sr)}function H(t,a,n){if(Sr.current!==Tu)throw Error(r(168));_n(Sr,a),_n($r,n)}function re(t,a,n){var c=t.stateNode;if(a=a.childContextTypes,typeof c.getChildContext!="function")return n;c=c.getChildContext();for(var b in c)if(!(b in a))throw Error(r(108,Y(t)||"Unknown",b));return z({},n,c)}function J(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tu,Ju=Sr.current,_n(Sr,t),_n($r,$r.current),!0}function ie(t,a,n){var c=t.stateNode;if(!c)throw Error(r(169));n?(t=re(t,a,Ju),c.__reactInternalMemoizedMergedChildContext=t,Hn($r),Hn(Sr),_n(Sr,t)):Hn($r),_n($r,n)}var ge=null,_e=!1,$e=!1;function ot(t){ge===null?ge=[t]:ge.push(t)}function it(t){_e=!0,ot(t)}function qe(){if(!$e&&ge!==null){$e=!0;var t=0,a=oa;try{var n=ge;for(oa=1;t<n.length;t++){var c=n[t];do c=c(!0);while(c!==null)}ge=null,_e=!1}catch(b){throw ge!==null&&(ge=ge.slice(t+1)),dn(Vr,qe),b}finally{oa=a,$e=!1}}return null}var St=C.ReactCurrentBatchConfig;function st(t,a){if(t&&t.defaultProps){a=z({},a),t=t.defaultProps;for(var n in t)a[n]===void 0&&(a[n]=t[n]);return a}return a}var ft=Ou(null),wt=null,Nt=null,Ht=null;function bt(){Ht=Nt=wt=null}function At(t){var a=ft.current;Hn(ft),t._currentValue=a}function Lt(t,a,n){for(;t!==null;){var c=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),t===n)break;t=t.return}}function _t(t,a){wt=t,Ht=Nt=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&a&&(ko=!0),t.firstContext=null)}function Rt(t){var a=t._currentValue;if(Ht!==t)if(t={context:t,memoizedValue:a,next:null},Nt===null){if(wt===null)throw Error(r(308));Nt=t,wt.dependencies={lanes:0,firstContext:t}}else Nt=Nt.next=t;return a}var Ot=null,Ct=!1;function Mt(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zt(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jt(t,a){return{eventTime:t,lane:a,tag:0,payload:null,callback:null,next:null}}function Kt(t,a){var n=t.updateQueue;n!==null&&(n=n.shared,kc(t)?(t=n.interleaved,t===null?(a.next=a,Ot===null?Ot=[n]:Ot.push(n)):(a.next=t.next,t.next=a),n.interleaved=a):(t=n.pending,t===null?a.next=a:(a.next=t.next,t.next=a),n.pending=a))}function Gt(t,a,n){if(a=a.updateQueue,a!==null&&(a=a.shared,(n&4194240)!==0)){var c=a.lanes;c&=t.pendingLanes,n|=c,a.lanes=n,Ja(t,n)}}function Qt(t,a){var n=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,n===c)){var b=null,R=null;if(n=n.firstBaseUpdate,n!==null){do{var K={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};R===null?b=R=K:R=R.next=K,n=n.next}while(n!==null);R===null?b=R=a:R=R.next=a}else b=R=a;n={baseState:c.baseState,firstBaseUpdate:b,lastBaseUpdate:R,shared:c.shared,effects:c.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=a:t.next=a,n.lastBaseUpdate=a}function la(t,a,n,c){var b=t.updateQueue;Ct=!1;var R=b.firstBaseUpdate,K=b.lastBaseUpdate,Ie=b.shared.pending;if(Ie!==null){b.shared.pending=null;var Oe=Ie,Ke=Oe.next;Oe.next=null,K===null?R=Ke:K.next=Ke,K=Oe;var ht=t.alternate;ht!==null&&(ht=ht.updateQueue,Ie=ht.lastBaseUpdate,Ie!==K&&(Ie===null?ht.firstBaseUpdate=Ke:Ie.next=Ke,ht.lastBaseUpdate=Oe))}if(R!==null){var Bt=b.baseState;K=0,ht=Ke=Oe=null,Ie=R;do{var rt=Ie.lane,Yt=Ie.eventTime;if((c&rt)===rt){ht!==null&&(ht=ht.next={eventTime:Yt,lane:0,tag:Ie.tag,payload:Ie.payload,callback:Ie.callback,next:null});e:{var Ut=t,Ta=Ie;switch(rt=a,Yt=n,Ta.tag){case 1:if(Ut=Ta.payload,typeof Ut=="function"){Bt=Ut.call(Yt,Bt,rt);break e}Bt=Ut;break e;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=Ta.payload,rt=typeof Ut=="function"?Ut.call(Yt,Bt,rt):Ut,rt==null)break e;Bt=z({},Bt,rt);break e;case 2:Ct=!0}}Ie.callback!==null&&Ie.lane!==0&&(t.flags|=64,rt=b.effects,rt===null?b.effects=[Ie]:rt.push(Ie))}else Yt={eventTime:Yt,lane:rt,tag:Ie.tag,payload:Ie.payload,callback:Ie.callback,next:null},ht===null?(Ke=ht=Yt,Oe=Bt):ht=ht.next=Yt,K|=rt;if(Ie=Ie.next,Ie===null){if(Ie=b.shared.pending,Ie===null)break;rt=Ie,Ie=rt.next,rt.next=null,b.lastBaseUpdate=rt,b.shared.pending=null}}while(1);if(ht===null&&(Oe=Bt),b.baseState=Oe,b.firstBaseUpdate=Ke,b.lastBaseUpdate=ht,a=b.shared.interleaved,a!==null){b=a;do K|=b.lane,b=b.next;while(b!==a)}else R===null&&(b.shared.lanes=0);tl|=K,t.lanes=K,t.memoizedState=Bt}}function Pa(t,a,n){if(t=a.effects,a.effects=null,t!==null)for(a=0;a<t.length;a++){var c=t[a],b=c.callback;if(b!==null){if(c.callback=null,c=n,typeof b!="function")throw Error(r(191,b));b.call(c)}}}var Aa=new u.Component().refs;function Na(t,a,n,c){a=t.memoizedState,n=n(c,a),n=n==null?a:z({},a,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var on={isMounted:function(t){return(t=t._reactInternals)?It(t)===t:!1},enqueueSetState:function(t,a,n){t=t._reactInternals;var c=go(),b=_d(t),R=jt(c,b);R.payload=a,n!=null&&(R.callback=n),Kt(t,R),a=tu(t,b,c),a!==null&&Gt(a,t,b)},enqueueReplaceState:function(t,a,n){t=t._reactInternals;var c=go(),b=_d(t),R=jt(c,b);R.tag=1,R.payload=a,n!=null&&(R.callback=n),Kt(t,R),a=tu(t,b,c),a!==null&&Gt(a,t,b)},enqueueForceUpdate:function(t,a){t=t._reactInternals;var n=go(),c=_d(t),b=jt(n,c);b.tag=2,a!=null&&(b.callback=a),Kt(t,b),a=tu(t,c,n),a!==null&&Gt(a,t,c)}};function vn(t,a,n,c,b,R,K){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,R,K):a.prototype&&a.prototype.isPureReactComponent?!_r(n,c)||!_r(b,R):!0}function Ua(t,a,n){var c=!1,b=Tu,R=a.contextType;return typeof R=="object"&&R!==null?R=Rt(R):(b=w(a)?Ju:Sr.current,c=a.contextTypes,R=(c=c!=null)?Cd(t,b):Tu),a=new a(n,R),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=on,t.stateNode=a,a._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=b,t.__reactInternalMemoizedMaskedChildContext=R),a}function ra(t,a,n,c){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(n,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(n,c),a.state!==t&&on.enqueueReplaceState(a,a.state,null)}function ga(t,a,n,c){var b=t.stateNode;b.props=n,b.state=t.memoizedState,b.refs=Aa,Mt(t);var R=a.contextType;typeof R=="object"&&R!==null?b.context=Rt(R):(R=w(a)?Ju:Sr.current,b.context=Cd(t,R)),b.state=t.memoizedState,R=a.getDerivedStateFromProps,typeof R=="function"&&(Na(t,a,R,n),b.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(a=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),a!==b.state&&on.enqueueReplaceState(b,b.state,null),la(t,n,b,c),b.state=t.memoizedState),typeof b.componentDidMount=="function"&&(t.flags|=4194308)}var ha=[],Ra=0,Fa=null,za=0,ia=[],Ba=0,fn=null,Ga=1,_a="";function Oa(t,a){ha[Ra++]=za,ha[Ra++]=Fa,Fa=t,za=a}function wr(t,a,n){ia[Ba++]=Ga,ia[Ba++]=_a,ia[Ba++]=fn,fn=t;var c=Ga;t=_a;var b=32-yr(c)-1;c&=~(1<<b),n+=1;var R=32-yr(a)+b;if(30<R){var K=b-b%5;R=(c&(1<<K)-1).toString(32),c>>=K,b-=K,Ga=1<<32-yr(a)+b|n<<b|c,_a=R+t}else Ga=1<<R|n<<b|c,_a=t}function qn(t){t.return!==null&&(Oa(t,1),wr(t,1,0))}function ka(t){for(;t===Fa;)Fa=ha[--Ra],ha[Ra]=null,za=ha[--Ra],ha[Ra]=null;for(;t===fn;)fn=ia[--Ba],ia[Ba]=null,_a=ia[--Ba],ia[Ba]=null,Ga=ia[--Ba],ia[Ba]=null}var xn=null,qa=null,Ka=!1,en=null;function Cr(t,a){var n=au(5,null,null,0);n.elementType="DELETED",n.stateNode=a,n.return=t,a=t.deletions,a===null?(t.deletions=[n],t.flags|=16):a.push(n)}function kr(t,a){switch(t.tag){case 5:var n=t.type;return a=a.nodeType!==1||n.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(t.stateNode=a,xn=t,qa=fu(a.firstChild),!0):!1;case 6:return a=t.pendingProps===""||a.nodeType!==3?null:a,a!==null?(t.stateNode=a,xn=t,qa=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(n=fn!==null?{id:Ga,overflow:_a}:null,t.memoizedState={dehydrated:a,treeContext:n,retryLane:1073741824},n=au(18,null,null,0),n.stateNode=a,n.return=t,t.child=n,xn=t,qa=null,!0):!1;default:return!1}}function Kn(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rr(t){if(Ka){var a=qa;if(a){var n=a;if(!kr(t,a)){if(Kn(t))throw Error(r(418));a=fu(n.nextSibling);var c=xn;a&&kr(t,a)?Cr(c,n):(t.flags=t.flags&-4097|2,Ka=!1,xn=t)}}else{if(Kn(t))throw Error(r(418));t.flags=t.flags&-4097|2,Ka=!1,xn=t}}}function Vn(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xn=t}function tn(t){if(t!==xn)return!1;if(!Ka)return Vn(t),Ka=!0,!1;var a;if((a=t.tag!==3)&&!(a=t.tag!==5)&&(a=t.type,a=a!=="head"&&a!=="body"&&!Ml(t.type,t.memoizedProps)),a&&(a=qa)){if(Kn(t)){for(t=qa;t;)t=fu(t.nextSibling);throw Error(r(418))}for(;a;)Cr(t,a),a=fu(a.nextSibling)}if(Vn(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(a===0){qa=fu(t.nextSibling);break e}a--}else n!=="$"&&n!=="$!"&&n!=="$?"||a++}t=t.nextSibling}qa=null}}else qa=xn?fu(t.stateNode.nextSibling):null;return!0}function Dr(){qa=xn=null,Ka=!1}function Qn(t){en===null?en=[t]:en.push(t)}function hn(t,a,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(r(309));var c=n.stateNode}if(!c)throw Error(r(147,t));var b=c,R=""+t;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===R?a.ref:(a=function(K){var Ie=b.refs;Ie===Aa&&(Ie=b.refs={}),K===null?delete Ie[R]:Ie[R]=K},a._stringRef=R,a)}if(typeof t!="string")throw Error(r(284));if(!n._owner)throw Error(r(290,t))}return t}function An(t,a){throw t=Object.prototype.toString.call(a),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t))}function Yn(t){var a=t._init;return a(t._payload)}function Un(t){function a(Be,Le){if(t){var Ge=Be.deletions;Ge===null?(Be.deletions=[Le],Be.flags|=16):Ge.push(Le)}}function n(Be,Le){if(!t)return null;for(;Le!==null;)a(Be,Le),Le=Le.sibling;return null}function c(Be,Le){for(Be=new Map;Le!==null;)Le.key!==null?Be.set(Le.key,Le):Be.set(Le.index,Le),Le=Le.sibling;return Be}function b(Be,Le){return Be=Fd(Be,Le),Be.index=0,Be.sibling=null,Be}function R(Be,Le,Ge){return Be.index=Ge,t?(Ge=Be.alternate,Ge!==null?(Ge=Ge.index,Ge<Le?(Be.flags|=2,Le):Ge):(Be.flags|=2,Le)):(Be.flags|=1048576,Le)}function K(Be){return t&&Be.alternate===null&&(Be.flags|=2),Be}function Ie(Be,Le,Ge,Pt){return Le===null||Le.tag!==6?(Le=Ki(Ge,Be.mode,Pt),Le.return=Be,Le):(Le=b(Le,Ge),Le.return=Be,Le)}function Oe(Be,Le,Ge,Pt){var qt=Ge.type;return qt===X?ht(Be,Le,Ge.props.children,Pt,Ge.key):Le!==null&&(Le.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===T&&Yn(qt)===Le.type)?(Pt=b(Le,Ge.props),Pt.ref=hn(Be,Le,Ge),Pt.return=Be,Pt):(Pt=xi(Ge.type,Ge.key,Ge.props,null,Be.mode,Pt),Pt.ref=hn(Be,Le,Ge),Pt.return=Be,Pt)}function Ke(Be,Le,Ge,Pt){return Le===null||Le.tag!==4||Le.stateNode.containerInfo!==Ge.containerInfo||Le.stateNode.implementation!==Ge.implementation?(Le=Vi(Ge,Be.mode,Pt),Le.return=Be,Le):(Le=b(Le,Ge.children||[]),Le.return=Be,Le)}function ht(Be,Le,Ge,Pt,qt){return Le===null||Le.tag!==7?(Le=ol(Ge,Be.mode,Pt,qt),Le.return=Be,Le):(Le=b(Le,Ge),Le.return=Be,Le)}function Bt(Be,Le,Ge){if(typeof Le=="string"&&Le!==""||typeof Le=="number")return Le=Ki(""+Le,Be.mode,Ge),Le.return=Be,Le;if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case _:return Ge=xi(Le.type,Le.key,Le.props,null,Be.mode,Ge),Ge.ref=hn(Be,null,Le),Ge.return=Be,Ge;case W:return Le=Vi(Le,Be.mode,Ge),Le.return=Be,Le;case T:var Pt=Le._init;return Bt(Be,Pt(Le._payload),Ge)}if(ne(Le)||O(Le))return Le=ol(Le,Be.mode,Ge,null),Le.return=Be,Le;An(Be,Le)}return null}function rt(Be,Le,Ge,Pt){var qt=Le!==null?Le.key:null;if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return qt!==null?null:Ie(Be,Le,""+Ge,Pt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case _:return Ge.key===qt?Oe(Be,Le,Ge,Pt):null;case W:return Ge.key===qt?Ke(Be,Le,Ge,Pt):null;case T:return qt=Ge._init,rt(Be,Le,qt(Ge._payload),Pt)}if(ne(Ge)||O(Ge))return qt!==null?null:ht(Be,Le,Ge,Pt,null);An(Be,Ge)}return null}function Yt(Be,Le,Ge,Pt,qt){if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number")return Be=Be.get(Ge)||null,Ie(Le,Be,""+Pt,qt);if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case _:return Be=Be.get(Pt.key===null?Ge:Pt.key)||null,Oe(Le,Be,Pt,qt);case W:return Be=Be.get(Pt.key===null?Ge:Pt.key)||null,Ke(Le,Be,Pt,qt);case T:var pa=Pt._init;return Yt(Be,Le,Ge,pa(Pt._payload),qt)}if(ne(Pt)||O(Pt))return Be=Be.get(Ge)||null,ht(Le,Be,Pt,qt,null);An(Le,Pt)}return null}function Ut(Be,Le,Ge,Pt){for(var qt=null,pa=null,Ia=Le,Sa=Le=0,Kr=null;Ia!==null&&Sa<Ge.length;Sa++){Ia.index>Sa?(Kr=Ia,Ia=null):Kr=Ia.sibling;var yn=rt(Be,Ia,Ge[Sa],Pt);if(yn===null){Ia===null&&(Ia=Kr);break}t&&Ia&&yn.alternate===null&&a(Be,Ia),Le=R(yn,Le,Sa),pa===null?qt=yn:pa.sibling=yn,pa=yn,Ia=Kr}if(Sa===Ge.length)return n(Be,Ia),Ka&&Oa(Be,Sa),qt;if(Ia===null){for(;Sa<Ge.length;Sa++)Ia=Bt(Be,Ge[Sa],Pt),Ia!==null&&(Le=R(Ia,Le,Sa),pa===null?qt=Ia:pa.sibling=Ia,pa=Ia);return Ka&&Oa(Be,Sa),qt}for(Ia=c(Be,Ia);Sa<Ge.length;Sa++)Kr=Yt(Ia,Be,Sa,Ge[Sa],Pt),Kr!==null&&(t&&Kr.alternate!==null&&Ia.delete(Kr.key===null?Sa:Kr.key),Le=R(Kr,Le,Sa),pa===null?qt=Kr:pa.sibling=Kr,pa=Kr);return t&&Ia.forEach(function(jd){return a(Be,jd)}),Ka&&Oa(Be,Sa),qt}function Ta(Be,Le,Ge,Pt){var qt=O(Ge);if(typeof qt!="function")throw Error(r(150));if(Ge=qt.call(Ge),Ge==null)throw Error(r(151));for(var pa=qt=null,Ia=Le,Sa=Le=0,Kr=null,yn=Ge.next();Ia!==null&&!yn.done;Sa++,yn=Ge.next()){Ia.index>Sa?(Kr=Ia,Ia=null):Kr=Ia.sibling;var jd=rt(Be,Ia,yn.value,Pt);if(jd===null){Ia===null&&(Ia=Kr);break}t&&Ia&&jd.alternate===null&&a(Be,Ia),Le=R(jd,Le,Sa),pa===null?qt=jd:pa.sibling=jd,pa=jd,Ia=Kr}if(yn.done)return n(Be,Ia),Ka&&Oa(Be,Sa),qt;if(Ia===null){for(;!yn.done;Sa++,yn=Ge.next())yn=Bt(Be,yn.value,Pt),yn!==null&&(Le=R(yn,Le,Sa),pa===null?qt=yn:pa.sibling=yn,pa=yn);return Ka&&Oa(Be,Sa),qt}for(Ia=c(Be,Ia);!yn.done;Sa++,yn=Ge.next())yn=Yt(Ia,Be,Sa,yn.value,Pt),yn!==null&&(t&&yn.alternate!==null&&Ia.delete(yn.key===null?Sa:yn.key),Le=R(yn,Le,Sa),pa===null?qt=yn:pa.sibling=yn,pa=yn);return t&&Ia.forEach(function(Is){return a(Be,Is)}),Ka&&Oa(Be,Sa),qt}function mr(Be,Le,Ge,Pt){if(typeof Ge=="object"&&Ge!==null&&Ge.type===X&&Ge.key===null&&(Ge=Ge.props.children),typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case _:e:{for(var qt=Ge.key,pa=Le;pa!==null;){if(pa.key===qt){if(qt=Ge.type,qt===X){if(pa.tag===7){n(Be,pa.sibling),Le=b(pa,Ge.props.children),Le.return=Be,Be=Le;break e}}else if(pa.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===T&&Yn(qt)===pa.type){n(Be,pa.sibling),Le=b(pa,Ge.props),Le.ref=hn(Be,pa,Ge),Le.return=Be,Be=Le;break e}n(Be,pa);break}else a(Be,pa);pa=pa.sibling}Ge.type===X?(Le=ol(Ge.props.children,Be.mode,Pt,Ge.key),Le.return=Be,Be=Le):(Pt=xi(Ge.type,Ge.key,Ge.props,null,Be.mode,Pt),Pt.ref=hn(Be,Le,Ge),Pt.return=Be,Be=Pt)}return K(Be);case W:e:{for(pa=Ge.key;Le!==null;){if(Le.key===pa)if(Le.tag===4&&Le.stateNode.containerInfo===Ge.containerInfo&&Le.stateNode.implementation===Ge.implementation){n(Be,Le.sibling),Le=b(Le,Ge.children||[]),Le.return=Be,Be=Le;break e}else{n(Be,Le);break}else a(Be,Le);Le=Le.sibling}Le=Vi(Ge,Be.mode,Pt),Le.return=Be,Be=Le}return K(Be);case T:return pa=Ge._init,mr(Be,Le,pa(Ge._payload),Pt)}if(ne(Ge))return Ut(Be,Le,Ge,Pt);if(O(Ge))return Ta(Be,Le,Ge,Pt);An(Be,Ge)}return typeof Ge=="string"&&Ge!==""||typeof Ge=="number"?(Ge=""+Ge,Le!==null&&Le.tag===6?(n(Be,Le.sibling),Le=b(Le,Ge),Le.return=Be,Be=Le):(n(Be,Le),Le=Ki(Ge,Be.mode,Pt),Le.return=Be,Be=Le),K(Be)):n(Be,Le)}return mr}var an=Un(!0),Cn=Un(!1),$a={},ya=Ou($a),un=Ou($a),nr=Ou($a);function sr(t){if(t===$a)throw Error(r(174));return t}function Zr(t,a){switch(_n(nr,a),_n(un,t),_n(ya,$a),t=a.nodeType,t){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ye(null,"");break;default:t=t===8?a.parentNode:a,a=t.namespaceURI||null,t=t.tagName,a=Ye(a,t)}Hn(ya),_n(ya,a)}function fr(){Hn(ya),Hn(un),Hn(nr)}function oo(t){sr(nr.current);var a=sr(ya.current),n=Ye(a,t.type);a!==n&&(_n(un,t),_n(ya,n))}function mn(t){un.current===t&&(Hn(ya),Hn(un))}var Wa=Ou(0);function Pr(t){for(var a=t;a!==null;){if(a.tag===13){var n=a.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Gr=[];function ca(){for(var t=0;t<Gr.length;t++)Gr[t]._workInProgressVersionPrimary=null;Gr.length=0}var xa=C.ReactCurrentDispatcher,Za=C.ReactCurrentBatchConfig,kn=0,La=null,gn=null,Rn=null,xr=!1,uo=!1,pr=0,Uo=0;function bn(){throw Error(r(321))}function or(t,a){if(a===null)return!1;for(var n=0;n<a.length&&n<t.length;n++)if(!In(t[n],a[n]))return!1;return!0}function lo(t,a,n,c,b,R){if(kn=R,La=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,xa.current=t===null||t.memoizedState===null?gl:yl,t=n(c,b),uo){R=0;do{if(uo=!1,pr=0,25<=R)throw Error(r(301));R+=1,Rn=gn=null,a.updateQueue=null,xa.current=qd,t=n(c,b)}while(uo)}if(xa.current=Td,a=gn!==null&&gn.next!==null,kn=0,Rn=gn=La=null,xr=!1,a)throw Error(r(300));return t}function wo(){var t=pr!==0;return pr=0,t}function Or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?La.memoizedState=Rn=t:Rn=Rn.next=t,Rn}function sa(){if(gn===null){var t=La.alternate;t=t!==null?t.memoizedState:null}else t=gn.next;var a=Rn===null?La.memoizedState:Rn.next;if(a!==null)Rn=a,gn=t;else{if(t===null)throw Error(r(310));gn=t,t={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},Rn===null?La.memoizedState=Rn=t:Rn=Rn.next=t}return Rn}function ba(t,a){return typeof a=="function"?a(t):a}function Va(t){var a=sa(),n=a.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=t;var c=gn,b=c.baseQueue,R=n.pending;if(R!==null){if(b!==null){var K=b.next;b.next=R.next,R.next=K}c.baseQueue=b=R,n.pending=null}if(b!==null){R=b.next,c=c.baseState;var Ie=K=null,Oe=null,Ke=R;do{var ht=Ke.lane;if((kn&ht)===ht)Oe!==null&&(Oe=Oe.next={lane:0,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null}),c=Ke.hasEagerState?Ke.eagerState:t(c,Ke.action);else{var Bt={lane:ht,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null};Oe===null?(Ie=Oe=Bt,K=c):Oe=Oe.next=Bt,La.lanes|=ht,tl|=ht}Ke=Ke.next}while(Ke!==null&&Ke!==R);Oe===null?K=c:Oe.next=Ie,In(c,a.memoizedState)||(ko=!0),a.memoizedState=c,a.baseState=K,a.baseQueue=Oe,n.lastRenderedState=c}if(t=n.interleaved,t!==null){b=t;do R=b.lane,La.lanes|=R,tl|=R,b=b.next;while(b!==t)}else b===null&&(n.lanes=0);return[a.memoizedState,n.dispatch]}function er(t){var a=sa(),n=a.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=t;var c=n.dispatch,b=n.pending,R=a.memoizedState;if(b!==null){n.pending=null;var K=b=b.next;do R=t(R,K.action),K=K.next;while(K!==b);In(R,a.memoizedState)||(ko=!0),a.memoizedState=R,a.baseQueue===null&&(a.baseState=R),n.lastRenderedState=R}return[R,c]}function hr(){}function Tr(t,a){var n=La,c=sa(),b=a(),R=!In(c.memoizedState,b);if(R&&(c.memoizedState=b,ko=!0),c=c.queue,ed(io.bind(null,n,c,t),[t]),c.getSnapshot!==a||R||Rn!==null&&Rn.memoizedState.tag&1){if(n.flags|=2048,ho(9,Bo.bind(null,n,c,b,a),void 0,null),jr===null)throw Error(r(349));kn&30||Au(n,a,b)}return b}function Au(t,a,n){t.flags|=16384,t={getSnapshot:a,value:n},a=La.updateQueue,a===null?(a={lastEffect:null,stores:null},La.updateQueue=a,a.stores=[t]):(n=a.stores,n===null?a.stores=[t]:n.push(t))}function Bo(t,a,n,c){a.value=n,a.getSnapshot=c,Jo(a)&&tu(t,1,-1)}function io(t,a,n){return n(function(){Jo(a)&&tu(t,1,-1)})}function Jo(t){var a=t.getSnapshot;t=t.value;try{var n=a();return!In(t,n)}catch(c){return!0}}function hu(t){var a=Or();return typeof t=="function"&&(t=t()),a.memoizedState=a.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:t},a.queue=t,t=t.dispatch=Xn.bind(null,La,t),[a.memoizedState,t]}function ho(t,a,n,c){return t={tag:t,create:a,destroy:n,deps:c,next:null},a=La.updateQueue,a===null?(a={lastEffect:null,stores:null},La.updateQueue=a,a.lastEffect=t.next=t):(n=a.lastEffect,n===null?a.lastEffect=t.next=t:(c=n.next,n.next=t,t.next=c,a.lastEffect=t)),t}function Wo(){return sa().memoizedState}function qo(t,a,n,c){var b=Or();La.flags|=t,b.memoizedState=ho(1|a,n,void 0,c===void 0?null:c)}function zo(t,a,n,c){var b=sa();c=c===void 0?null:c;var R=void 0;if(gn!==null){var K=gn.memoizedState;if(R=K.destroy,c!==null&&or(c,K.deps)){b.memoizedState=ho(a,n,R,c);return}}La.flags|=t,b.memoizedState=ho(1|a,n,R,c)}function qu(t,a){return qo(8390656,8,t,a)}function ed(t,a){return zo(2048,8,t,a)}function td(t,a){return zo(4,2,t,a)}function ad(t,a){return zo(4,4,t,a)}function kd(t,a){if(typeof a=="function")return t=t(),a(t),function(){a(null)};if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Rd(t,a,n){return n=n!=null?n.concat([t]):null,zo(4,4,kd.bind(null,a,t),n)}function Lu(){}function Pd(t,a){var n=sa();a=a===void 0?null:a;var c=n.memoizedState;return c!==null&&a!==null&&or(a,c[1])?c[0]:(n.memoizedState=[t,a],t)}function Od(t,a){var n=sa();a=a===void 0?null:a;var c=n.memoizedState;return c!==null&&a!==null&&or(a,c[1])?c[0]:(t=t(),n.memoizedState=[t,a],t)}function Ln(t,a,n){return kn&21?(In(n,a)||(n=zn(),La.lanes|=n,tl|=n,t.baseState=!0),a):(t.baseState&&(t.baseState=!1,ko=!0),t.memoizedState=n)}function Ma(t,a){var n=oa;oa=n!==0&&4>n?n:4,t(!0);var c=Za.transition;Za.transition={};try{t(!1),a()}finally{oa=n,Za.transition=c}}function sn(){return sa().memoizedState}function rr(t,a,n){var c=_d(t);n={lane:c,action:n,hasEagerState:!1,eagerState:null,next:null},Ar(t)?Co(a,n):(mu(t,a,n),n=go(),t=tu(t,c,n),t!==null&&ml(t,a,c))}function Xn(t,a,n){var c=_d(t),b={lane:c,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ar(t))Co(a,b);else{mu(t,a,b);var R=t.alternate;if(t.lanes===0&&(R===null||R.lanes===0)&&(R=a.lastRenderedReducer,R!==null))try{var K=a.lastRenderedState,Ie=R(K,n);if(b.hasEagerState=!0,b.eagerState=Ie,In(Ie,K))return}catch(Oe){}finally{}n=go(),t=tu(t,c,n),t!==null&&ml(t,a,c)}}function Ar(t){var a=t.alternate;return t===La||a!==null&&a===La}function Co(t,a){uo=xr=!0;var n=t.pending;n===null?a.next=a:(a.next=n.next,n.next=a),t.pending=a}function mu(t,a,n){kc(t)?(t=a.interleaved,t===null?(n.next=n,Ot===null?Ot=[a]:Ot.push(a)):(n.next=t.next,t.next=n),a.interleaved=n):(t=a.pending,t===null?n.next=n:(n.next=t.next,t.next=n),a.pending=n)}function ml(t,a,n){if(n&4194240){var c=a.lanes;c&=t.pendingLanes,n|=c,a.lanes=n,Ja(t,n)}}var Td={readContext:Rt,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},gl={readContext:Rt,useCallback:function(t,a){return Or().memoizedState=[t,a===void 0?null:a],t},useContext:Rt,useEffect:qu,useImperativeHandle:function(t,a,n){return n=n!=null?n.concat([t]):null,qo(4194308,4,kd.bind(null,a,t),n)},useLayoutEffect:function(t,a){return qo(4194308,4,t,a)},useInsertionEffect:function(t,a){return qo(4,2,t,a)},useMemo:function(t,a){var n=Or();return a=a===void 0?null:a,t=t(),n.memoizedState=[t,a],t},useReducer:function(t,a,n){var c=Or();return a=n!==void 0?n(a):a,c.memoizedState=c.baseState=a,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:a},c.queue=t,t=t.dispatch=rr.bind(null,La,t),[c.memoizedState,t]},useRef:function(t){var a=Or();return t={current:t},a.memoizedState=t},useState:hu,useDebugValue:Lu,useDeferredValue:function(t){return Or().memoizedState=t},useTransition:function(){var t=hu(!1),a=t[0];return t=Ma.bind(null,t[1]),Or().memoizedState=t,[a,t]},useMutableSource:function(){},useSyncExternalStore:function(t,a,n){var c=La,b=Or();if(Ka){if(n===void 0)throw Error(r(407));n=n()}else{if(n=a(),jr===null)throw Error(r(349));kn&30||Au(c,a,n)}b.memoizedState=n;var R={value:n,getSnapshot:a};return b.queue=R,qu(io.bind(null,c,R,t),[t]),c.flags|=2048,ho(9,Bo.bind(null,c,R,n,a),void 0,null),n},useId:function(){var t=Or(),a=jr.identifierPrefix;if(Ka){var n=_a,c=Ga;n=(c&~(1<<32-yr(c)-1)).toString(32)+n,a=":"+a+"R"+n,n=pr++,0<n&&(a+="H"+n.toString(32)),a+=":"}else n=Uo++,a=":"+a+"r"+n.toString(32)+":";return t.memoizedState=a},unstable_isNewReconciler:!1},yl={readContext:Rt,useCallback:Pd,useContext:Rt,useEffect:ed,useImperativeHandle:Rd,useInsertionEffect:td,useLayoutEffect:ad,useMemo:Od,useReducer:Va,useRef:Wo,useState:function(){return Va(ba)},useDebugValue:Lu,useDeferredValue:function(t){var a=sa();return Ln(a,gn.memoizedState,t)},useTransition:function(){var t=Va(ba)[0],a=sa().memoizedState;return[t,a]},useMutableSource:hr,useSyncExternalStore:Tr,useId:sn,unstable_isNewReconciler:!1},qd={readContext:Rt,useCallback:Pd,useContext:Rt,useEffect:ed,useImperativeHandle:Rd,useInsertionEffect:td,useLayoutEffect:ad,useMemo:Od,useReducer:er,useRef:Wo,useState:function(){return er(ba)},useDebugValue:Lu,useDeferredValue:function(t){var a=sa();return gn===null?a.memoizedState=t:Ln(a,gn.memoizedState,t)},useTransition:function(){var t=er(ba)[0],a=sa().memoizedState;return[t,a]},useMutableSource:hr,useSyncExternalStore:Tr,useId:sn,unstable_isNewReconciler:!1};function Ad(t,a){try{var n="",c=a;do n+=Q(c),c=c.return;while(c);var b=n}catch(R){b=`
Error generating stack: `+R.message+`
`+R.stack}return{value:t,source:a,stack:b}}function Fl(t,a){try{console.error(a.value)}catch(n){setTimeout(function(){throw n})}}var Ri=typeof WeakMap=="function"?WeakMap:Map;function ei(t,a,n){n=jt(-1,n),n.tag=3,n.payload={element:null};var c=a.value;return n.callback=function(){ii||(ii=!0,Hi=c),Fl(t,a)},n}function ti(t,a,n){n=jt(-1,n),n.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var b=a.value;n.payload=function(){return c(b)},n.callback=function(){Fl(t,a)}}var R=t.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(n.callback=function(){Fl(t,a),typeof c!="function"&&(Md===null?Md=new Set([this]):Md.add(this));var K=a.stack;this.componentDidCatch(a.value,{componentStack:K!==null?K:""})}),n}function da(t,a,n){var c=t.pingCache;if(c===null){c=t.pingCache=new Ri;var b=new Set;c.set(a,b)}else b=c.get(a),b===void 0&&(b=new Set,c.set(a,b));b.has(n)||(b.add(n),t=as.bind(null,t,a,n),a.then(t,t))}function Da(t){do{var a;if((a=t.tag===13)&&(a=t.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return t;t=t.return}while(t!==null);return null}function Bn(t,a,n,c,b){return t.mode&1?(t.flags|=65536,t.lanes=b,t):(t===a?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(a=jt(-1,1),a.tag=2,Kt(n,a))),n.lanes|=1),t)}var ur,Wn,jl,el;ur=function(t,a){for(var n=a.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break;for(;n.sibling===null;){if(n.return===null||n.return===a)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wn=function(){},jl=function(t,a,n,c){var b=t.memoizedProps;if(b!==c){t=a.stateNode,sr(ya.current);var R=null;switch(n){case"input":b=ct(t,b),c=ct(t,c),R=[];break;case"select":b=z({},b,{value:void 0}),c=z({},c,{value:void 0}),R=[];break;case"textarea":b=V(t,b),c=V(t,c),R=[];break;default:typeof b.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=fl)}Ae(n,c);var K;n=null;for(Ke in b)if(!c.hasOwnProperty(Ke)&&b.hasOwnProperty(Ke)&&b[Ke]!=null)if(Ke==="style"){var Ie=b[Ke];for(K in Ie)Ie.hasOwnProperty(K)&&(n||(n={}),n[K]="")}else Ke!=="dangerouslySetInnerHTML"&&Ke!=="children"&&Ke!=="suppressContentEditableWarning"&&Ke!=="suppressHydrationWarning"&&Ke!=="autoFocus"&&(d.hasOwnProperty(Ke)?R||(R=[]):(R=R||[]).push(Ke,null));for(Ke in c){var Oe=c[Ke];if(Ie=b!=null?b[Ke]:void 0,c.hasOwnProperty(Ke)&&Oe!==Ie&&(Oe!=null||Ie!=null))if(Ke==="style")if(Ie){for(K in Ie)!Ie.hasOwnProperty(K)||Oe&&Oe.hasOwnProperty(K)||(n||(n={}),n[K]="");for(K in Oe)Oe.hasOwnProperty(K)&&Ie[K]!==Oe[K]&&(n||(n={}),n[K]=Oe[K])}else n||(R||(R=[]),R.push(Ke,n)),n=Oe;else Ke==="dangerouslySetInnerHTML"?(Oe=Oe?Oe.__html:void 0,Ie=Ie?Ie.__html:void 0,Oe!=null&&Ie!==Oe&&(R=R||[]).push(Ke,Oe)):Ke==="children"?typeof Oe!="string"&&typeof Oe!="number"||(R=R||[]).push(Ke,""+Oe):Ke!=="suppressContentEditableWarning"&&Ke!=="suppressHydrationWarning"&&(d.hasOwnProperty(Ke)?(Oe!=null&&Ke==="onScroll"&&jn("scroll",t),R||Ie===Oe||(R=[])):(R=R||[]).push(Ke,Oe))}n&&(R=R||[]).push("style",n);var Ke=R;(a.updateQueue=Ke)&&(a.flags|=4)}},el=function(t,a,n,c){n!==c&&(a.flags|=4)};function nd(t,a){if(!Ka)switch(t.tailMode){case"hidden":a=t.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var c=null;n!==null;)n.alternate!==null&&(c=n),n=n.sibling;c===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Fr(t){var a=t.alternate!==null&&t.alternate.child===t.child,n=0,c=0;if(a)for(var b=t.child;b!==null;)n|=b.lanes|b.childLanes,c|=b.subtreeFlags&14680064,c|=b.flags&14680064,b.return=t,b=b.sibling;else for(b=t.child;b!==null;)n|=b.lanes|b.childLanes,c|=b.subtreeFlags,c|=b.flags,b.return=t,b=b.sibling;return t.subtreeFlags|=c,t.childLanes=n,a}function bl(t,a,n){var c=a.pendingProps;switch(ka(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fr(a),null;case 1:return w(a.type)&&D(),Fr(a),null;case 3:return c=a.stateNode,fr(),Hn($r),Hn(Sr),ca(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(tn(a)?a.flags|=4:t===null||t.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,en!==null&&(Wi(en),en=null))),Wn(t,a),Fr(a),null;case 5:mn(a);var b=sr(nr.current);if(n=a.type,t!==null&&a.stateNode!=null)jl(t,a,n,c,b),t.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Fr(a),null}if(t=sr(ya.current),tn(a)){c=a.stateNode,n=a.type;var R=a.memoizedProps;switch(c[Ho]=a,c[Yd]=R,t=(a.mode&1)!==0,n){case"dialog":jn("cancel",c),jn("close",c);break;case"iframe":case"object":case"embed":jn("load",c);break;case"video":case"audio":for(b=0;b<Kd.length;b++)jn(Kd[b],c);break;case"source":jn("error",c);break;case"img":case"image":case"link":jn("error",c),jn("load",c);break;case"details":jn("toggle",c);break;case"input":oe(c,R),jn("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!R.multiple},jn("invalid",c);break;case"textarea":de(c,R),jn("invalid",c)}Ae(n,R),b=null;for(var K in R)if(R.hasOwnProperty(K)){var Ie=R[K];K==="children"?typeof Ie=="string"?c.textContent!==Ie&&(R.suppressHydrationWarning!==!0&&vl(c.textContent,Ie,t),b=["children",Ie]):typeof Ie=="number"&&c.textContent!==""+Ie&&(R.suppressHydrationWarning!==!0&&vl(c.textContent,Ie,t),b=["children",""+Ie]):d.hasOwnProperty(K)&&Ie!=null&&K==="onScroll"&&jn("scroll",c)}switch(n){case"input":Je(c),se(c,R,!0);break;case"textarea":Je(c),ze(c);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(c.onclick=fl)}c=b,a.updateQueue=c,c!==null&&(a.flags|=4)}else{K=b.nodeType===9?b:b.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Fe(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=K.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=K.createElement(n,{is:c.is}):(t=K.createElement(n),n==="select"&&(K=t,c.multiple?K.multiple=!0:c.size&&(K.size=c.size))):t=K.createElementNS(t,n),t[Ho]=a,t[Yd]=c,ur(t,a,!1,!1),a.stateNode=t;e:{switch(K=Ne(n,c),n){case"dialog":jn("cancel",t),jn("close",t),b=c;break;case"iframe":case"object":case"embed":jn("load",t),b=c;break;case"video":case"audio":for(b=0;b<Kd.length;b++)jn(Kd[b],t);b=c;break;case"source":jn("error",t),b=c;break;case"img":case"image":case"link":jn("error",t),jn("load",t),b=c;break;case"details":jn("toggle",t),b=c;break;case"input":oe(t,c),b=ct(t,c),jn("invalid",t);break;case"option":b=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},b=z({},c,{value:void 0}),jn("invalid",t);break;case"textarea":de(t,c),b=V(t,c),jn("invalid",t);break;default:b=c}Ae(n,b),Ie=b;for(R in Ie)if(Ie.hasOwnProperty(R)){var Oe=Ie[R];R==="style"?ee(t,Oe):R==="dangerouslySetInnerHTML"?(Oe=Oe?Oe.__html:void 0,Oe!=null&&Tt(t,Oe)):R==="children"?typeof Oe=="string"?(n!=="textarea"||Oe!=="")&&yt(t,Oe):typeof Oe=="number"&&yt(t,""+Oe):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(d.hasOwnProperty(R)?Oe!=null&&R==="onScroll"&&jn("scroll",t):Oe!=null&&j(t,R,Oe,K))}switch(n){case"input":Je(t),se(t,c,!1);break;case"textarea":Je(t),ze(t);break;case"option":c.value!=null&&t.setAttribute("value",""+ue(c.value));break;case"select":t.multiple=!!c.multiple,R=c.value,R!=null?pe(t,!!c.multiple,R,!1):c.defaultValue!=null&&pe(t,!!c.multiple,c.defaultValue,!0);break;default:typeof b.onClick=="function"&&(t.onclick=fl)}switch(n){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Fr(a),null;case 6:if(t&&a.stateNode!=null)el(t,a,t.memoizedProps,c);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(n=sr(nr.current),sr(ya.current),tn(a)){if(c=a.stateNode,n=a.memoizedProps,c[Ho]=a,(R=c.nodeValue!==n)&&(t=xn,t!==null))switch(t.tag){case 3:vl(c.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vl(c.nodeValue,n,(t.mode&1)!==0)}R&&(a.flags|=4)}else c=(n.nodeType===9?n:n.ownerDocument).createTextNode(c),c[Ho]=a,a.stateNode=c}return Fr(a),null;case 13:if(Hn(Wa),c=a.memoizedState,Ka&&qa!==null&&a.mode&1&&!(a.flags&128)){for(c=qa;c;)c=fu(c.nextSibling);return Dr(),a.flags|=98560,a}if(c!==null&&c.dehydrated!==null){if(c=tn(a),t===null){if(!c)throw Error(r(318));if(c=a.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Ho]=a}else Dr(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;return Fr(a),null}return en!==null&&(Wi(en),en=null),a.flags&128?(a.lanes=n,a):(c=c!==null,n=!1,t===null?tn(a):n=t.memoizedState!==null,c!==n&&c&&(a.child.flags|=8192,a.mode&1&&(t===null||Wa.current&1?Hr===0&&(Hr=3):Zi())),a.updateQueue!==null&&(a.flags|=4),Fr(a),null);case 4:return fr(),Wn(t,a),t===null&&Vd(a.stateNode.containerInfo),Fr(a),null;case 10:return At(a.type._context),Fr(a),null;case 17:return w(a.type)&&D(),Fr(a),null;case 19:if(Hn(Wa),R=a.memoizedState,R===null)return Fr(a),null;if(c=(a.flags&128)!==0,K=R.rendering,K===null)if(c)nd(R,!1);else{if(Hr!==0||t!==null&&t.flags&128)for(t=a.child;t!==null;){if(K=Pr(t),K!==null){for(a.flags|=128,nd(R,!1),c=K.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),a.subtreeFlags=0,c=n,n=a.child;n!==null;)R=n,t=c,R.flags&=14680066,K=R.alternate,K===null?(R.childLanes=0,R.lanes=t,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=K.childLanes,R.lanes=K.lanes,R.child=K.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=K.memoizedProps,R.memoizedState=K.memoizedState,R.updateQueue=K.updateQueue,R.type=K.type,t=K.dependencies,R.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _n(Wa,Wa.current&1|2),a.child}t=t.sibling}R.tail!==null&&Xa()>wl&&(a.flags|=128,c=!0,nd(R,!1),a.lanes=4194304)}else{if(!c)if(t=Pr(K),t!==null){if(a.flags|=128,c=!0,n=t.updateQueue,n!==null&&(a.updateQueue=n,a.flags|=4),nd(R,!0),R.tail===null&&R.tailMode==="hidden"&&!K.alternate&&!Ka)return Fr(a),null}else 2*Xa()-R.renderingStartTime>wl&&n!==1073741824&&(a.flags|=128,c=!0,nd(R,!1),a.lanes=4194304);R.isBackwards?(K.sibling=a.child,a.child=K):(n=R.last,n!==null?n.sibling=K:a.child=K,R.last=K)}return R.tail!==null?(a=R.tail,R.rendering=a,R.tail=a.sibling,R.renderingStartTime=Xa(),a.sibling=null,n=Wa.current,_n(Wa,c?n&1|2:n&1),a):(Fr(a),null);case 22:case 23:return $i(),c=a.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(a.flags|=8192),c&&a.mode&1?$o&1073741824&&(Fr(a),a.subtreeFlags&6&&(a.flags|=8192)):Fr(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}var Zc=C.ReactCurrentOwner,ko=!1;function mo(t,a,n,c){a.child=t===null?Cn(a,null,n,c):an(a,t.child,n,c)}function tc(t,a,n,c,b){n=n.render;var R=a.ref;return _t(a,b),c=lo(t,a,n,c,R,b),n=wo(),t!==null&&!ko?(a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~b,rd(t,a,b)):(Ka&&n&&qn(a),a.flags|=1,mo(t,a,c,b),a.child)}function ac(t,a,n,c,b){if(t===null){var R=n.type;return typeof R=="function"&&!Gi(R)&&R.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(a.tag=15,a.type=R,nc(t,a,R,c,b)):(t=xi(n.type,null,c,a,a.mode,b),t.ref=a.ref,t.return=a,a.child=t)}if(R=t.child,!(t.lanes&b)){var K=R.memoizedProps;if(n=n.compare,n=n!==null?n:_r,n(K,c)&&t.ref===a.ref)return rd(t,a,b)}return a.flags|=1,t=Fd(R,c),t.ref=a.ref,t.return=a,a.child=t}function nc(t,a,n,c,b){if(t!==null){var R=t.memoizedProps;if(_r(R,c)&&t.ref===a.ref)if(ko=!1,a.pendingProps=c=R,(t.lanes&b)!==0)t.flags&131072&&(ko=!0);else return a.lanes=t.lanes,rd(t,a,b)}return Pi(t,a,n,c,b)}function rc(t,a,n){var c=a.pendingProps,b=c.children,R=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},_n(Sl,$o),$o|=n;else if(n&1073741824)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=R!==null?R.baseLanes:n,_n(Sl,$o),$o|=c;else return t=R!==null?R.baseLanes|n:n,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:t,cachePool:null,transitions:null},a.updateQueue=null,_n(Sl,$o),$o|=t,null;else R!==null?(c=R.baseLanes|n,a.memoizedState=null):c=n,_n(Sl,$o),$o|=c;return mo(t,a,b,n),a.child}function oc(t,a){var n=a.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(a.flags|=512,a.flags|=2097152)}function Pi(t,a,n,c,b){var R=w(n)?Ju:Sr.current;return R=Cd(a,R),_t(a,b),n=lo(t,a,n,c,R,b),c=wo(),t!==null&&!ko?(a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~b,rd(t,a,b)):(Ka&&c&&qn(a),a.flags|=1,mo(t,a,n,b),a.child)}function uc(t,a,n,c,b){if(w(n)){var R=!0;J(a)}else R=!1;if(_t(a,b),a.stateNode===null)t!==null&&(t.alternate=null,a.alternate=null,a.flags|=2),Ua(a,n,c),ga(a,n,c,b),c=!0;else if(t===null){var K=a.stateNode,Ie=a.memoizedProps;K.props=Ie;var Oe=K.context,Ke=n.contextType;typeof Ke=="object"&&Ke!==null?Ke=Rt(Ke):(Ke=w(n)?Ju:Sr.current,Ke=Cd(a,Ke));var ht=n.getDerivedStateFromProps,Bt=typeof ht=="function"||typeof K.getSnapshotBeforeUpdate=="function";Bt||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(Ie!==c||Oe!==Ke)&&ra(a,K,c,Ke),Ct=!1;var rt=a.memoizedState;K.state=rt,la(a,c,K,b),Oe=a.memoizedState,Ie!==c||rt!==Oe||$r.current||Ct?(typeof ht=="function"&&(Na(a,n,ht,c),Oe=a.memoizedState),(Ie=Ct||vn(a,n,Ie,c,rt,Oe,Ke))?(Bt||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(a.flags|=4194308)):(typeof K.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Oe),K.props=c,K.state=Oe,K.context=Ke,c=Ie):(typeof K.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{K=a.stateNode,zt(t,a),Ie=a.memoizedProps,Ke=a.type===a.elementType?Ie:st(a.type,Ie),K.props=Ke,Bt=a.pendingProps,rt=K.context,Oe=n.contextType,typeof Oe=="object"&&Oe!==null?Oe=Rt(Oe):(Oe=w(n)?Ju:Sr.current,Oe=Cd(a,Oe));var Yt=n.getDerivedStateFromProps;(ht=typeof Yt=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(Ie!==Bt||rt!==Oe)&&ra(a,K,c,Oe),Ct=!1,rt=a.memoizedState,K.state=rt,la(a,c,K,b);var Ut=a.memoizedState;Ie!==Bt||rt!==Ut||$r.current||Ct?(typeof Yt=="function"&&(Na(a,n,Yt,c),Ut=a.memoizedState),(Ke=Ct||vn(a,n,Ke,c,rt,Ut,Oe)||!1)?(ht||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(c,Ut,Oe),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(c,Ut,Oe)),typeof K.componentDidUpdate=="function"&&(a.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof K.componentDidUpdate!="function"||Ie===t.memoizedProps&&rt===t.memoizedState||(a.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||Ie===t.memoizedProps&&rt===t.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=Ut),K.props=c,K.state=Ut,K.context=Oe,c=Ke):(typeof K.componentDidUpdate!="function"||Ie===t.memoizedProps&&rt===t.memoizedState||(a.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||Ie===t.memoizedProps&&rt===t.memoizedState||(a.flags|=1024),c=!1)}return Oi(t,a,n,c,R,b)}function Oi(t,a,n,c,b,R){oc(t,a);var K=(a.flags&128)!==0;if(!c&&!K)return b&&ie(a,n,!1),rd(t,a,R);c=a.stateNode,Zc.current=a;var Ie=K&&typeof n.getDerivedStateFromError!="function"?null:c.render();return a.flags|=1,t!==null&&K?(a.child=an(a,t.child,null,R),a.child=an(a,null,Ie,R)):mo(t,a,Ie,R),a.memoizedState=c.state,b&&ie(a,n,!0),a.child}function dc(t){var a=t.stateNode;a.pendingContext?H(t,a.pendingContext,a.pendingContext!==a.context):a.context&&H(t,a.context,!1),Zr(t,a.containerInfo)}function lc(t,a,n,c,b){return Dr(),Qn(b),a.flags|=256,mo(t,a,n,c),a.child}var ai={dehydrated:null,treeContext:null,retryLane:0};function ni(t){return{baseLanes:t,cachePool:null,transitions:null}}function ic(t,a){return{baseLanes:t.baseLanes|a,cachePool:null,transitions:t.transitions}}function cc(t,a,n){var c=a.pendingProps,b=Wa.current,R=!1,K=(a.flags&128)!==0,Ie;if((Ie=K)||(Ie=t!==null&&t.memoizedState===null?!1:(b&2)!==0),Ie?(R=!0,a.flags&=-129):(t===null||t.memoizedState!==null)&&(b|=1),_n(Wa,b&1),t===null)return Rr(a),t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(a.mode&1?t.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(b=c.children,t=c.fallback,R?(c=a.mode,R=a.child,b={mode:"hidden",children:b},!(c&1)&&R!==null?(R.childLanes=0,R.pendingProps=b):R=hi(b,c,0,null),t=ol(t,c,n,null),R.return=a,t.return=a,R.sibling=t,a.child=R,a.child.memoizedState=ni(n),a.memoizedState=ai,t):Ti(a,b));if(b=t.memoizedState,b!==null){if(Ie=b.dehydrated,Ie!==null){if(K)return a.flags&256?(a.flags&=-257,ri(t,a,n,Error(r(422)))):a.memoizedState!==null?(a.child=t.child,a.flags|=128,null):(R=c.fallback,b=a.mode,c=hi({mode:"visible",children:c.children},b,0,null),R=ol(R,b,n,null),R.flags|=2,c.return=a,R.return=a,c.sibling=R,a.child=c,a.mode&1&&an(a,t.child,null,n),a.child.memoizedState=ni(n),a.memoizedState=ai,R);if(!(a.mode&1))a=ri(t,a,n,null);else if(Ie.data==="$!")a=ri(t,a,n,Error(r(419)));else if(c=(n&t.childLanes)!==0,ko||c){if(c=jr,c!==null){switch(n&-n){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}c=R&(c.suspendedLanes|n)?0:R,c!==0&&c!==b.retryLane&&(b.retryLane=c,tu(t,c,-1))}Zi(),a=ri(t,a,n,Error(r(421)))}else Ie.data==="$?"?(a.flags|=128,a.child=t.child,a=ns.bind(null,t),Ie._reactRetry=a,a=null):(n=b.treeContext,qa=fu(Ie.nextSibling),xn=a,Ka=!0,en=null,n!==null&&(ia[Ba++]=Ga,ia[Ba++]=_a,ia[Ba++]=fn,Ga=n.id,_a=n.overflow,fn=a),a=Ti(a,a.pendingProps.children),a.flags|=4096);return a}return R?(c=pc(t,a,c.children,c.fallback,n),R=a.child,b=t.child.memoizedState,R.memoizedState=b===null?ni(n):ic(b,n),R.childLanes=t.childLanes&~n,a.memoizedState=ai,c):(n=sc(t,a,c.children,n),a.memoizedState=null,n)}return R?(c=pc(t,a,c.children,c.fallback,n),R=a.child,b=t.child.memoizedState,R.memoizedState=b===null?ni(n):ic(b,n),R.childLanes=t.childLanes&~n,a.memoizedState=ai,c):(n=sc(t,a,c.children,n),a.memoizedState=null,n)}function Ti(t,a){return a=hi({mode:"visible",children:a},t.mode,0,null),a.return=t,t.child=a}function sc(t,a,n,c){var b=t.child;return t=b.sibling,n=Fd(b,{mode:"visible",children:n}),!(a.mode&1)&&(n.lanes=c),n.return=a,n.sibling=null,t!==null&&(c=a.deletions,c===null?(a.deletions=[t],a.flags|=16):c.push(t)),a.child=n}function pc(t,a,n,c,b){var R=a.mode;t=t.child;var K=t.sibling,Ie={mode:"hidden",children:n};return!(R&1)&&a.child!==t?(n=a.child,n.childLanes=0,n.pendingProps=Ie,a.deletions=null):(n=Fd(t,Ie),n.subtreeFlags=t.subtreeFlags&14680064),K!==null?c=Fd(K,c):(c=ol(c,R,b,null),c.flags|=2),c.return=a,n.return=a,n.sibling=c,a.child=n,c}function ri(t,a,n,c){return c!==null&&Qn(c),an(a,t.child,null,n),t=Ti(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function Ic(t,a,n){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a),Lt(t.return,a,n)}function Ai(t,a,n,c,b){var R=t.memoizedState;R===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:n,tailMode:b}:(R.isBackwards=a,R.rendering=null,R.renderingStartTime=0,R.last=c,R.tail=n,R.tailMode=b)}function vc(t,a,n){var c=a.pendingProps,b=c.revealOrder,R=c.tail;if(mo(t,a,c.children,n),c=Wa.current,c&2)c=c&1|2,a.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ic(t,n,a);else if(t.tag===19)Ic(t,n,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(_n(Wa,c),!(a.mode&1))a.memoizedState=null;else switch(b){case"forwards":for(n=a.child,b=null;n!==null;)t=n.alternate,t!==null&&Pr(t)===null&&(b=n),n=n.sibling;n=b,n===null?(b=a.child,a.child=null):(b=n.sibling,n.sibling=null),Ai(a,!1,b,n,R);break;case"backwards":for(n=null,b=a.child,a.child=null;b!==null;){if(t=b.alternate,t!==null&&Pr(t)===null){a.child=b;break}t=b.sibling,b.sibling=n,n=b,b=t}Ai(a,!0,n,null,R);break;case"together":Ai(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function rd(t,a,n){if(t!==null&&(a.dependencies=t.dependencies),tl|=a.lanes,!(n&a.childLanes))return null;if(t!==null&&a.child!==t.child)throw Error(r(153));if(a.child!==null){for(t=a.child,n=Fd(t,t.pendingProps),a.child=n,n.return=a;t.sibling!==null;)t=t.sibling,n=n.sibling=Fd(t,t.pendingProps),n.return=a;n.sibling=null}return a.child}function Gc(t,a,n){switch(a.tag){case 3:dc(a),Dr();break;case 5:oo(a);break;case 1:w(a.type)&&J(a);break;case 4:Zr(a,a.stateNode.containerInfo);break;case 10:var c=a.type._context,b=a.memoizedProps.value;_n(ft,c._currentValue),c._currentValue=b;break;case 13:if(c=a.memoizedState,c!==null)return c.dehydrated!==null?(_n(Wa,Wa.current&1),a.flags|=128,null):n&a.child.childLanes?cc(t,a,n):(_n(Wa,Wa.current&1),t=rd(t,a,n),t!==null?t.sibling:null);_n(Wa,Wa.current&1);break;case 19:if(c=(n&a.childLanes)!==0,t.flags&128){if(c)return vc(t,a,n);a.flags|=128}if(b=a.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),_n(Wa,Wa.current),c)break;return null;case 22:case 23:return a.lanes=0,rc(t,a,n)}return rd(t,a,n)}function Kc(t,a){switch(ka(a),a.tag){case 1:return w(a.type)&&D(),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return fr(),Hn($r),Hn(Sr),ca(),t=a.flags,t&65536&&!(t&128)?(a.flags=t&-65537|128,a):null;case 5:return mn(a),null;case 13:if(Hn(Wa),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Dr()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return Hn(Wa),null;case 4:return fr(),null;case 10:return At(a.type._context),null;case 22:case 23:return $i(),null;case 24:return null;default:return null}}var oi=!1,co=!1,Vc=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function El(t,a){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(c){Ir(t,a,c)}else n.current=null}function Li(t,a,n){try{n()}catch(c){Ir(t,a,c)}}var fc=!1;function Qc(t,a){if(Al=Ko,t=Ru(),Yo(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var c=n.getSelection&&n.getSelection();if(c&&c.rangeCount!==0){n=c.anchorNode;var b=c.anchorOffset,R=c.focusNode;c=c.focusOffset;try{n.nodeType,R.nodeType}catch(qt){n=null;break e}var K=0,Ie=-1,Oe=-1,Ke=0,ht=0,Bt=t,rt=null;t:for(;;){for(var Yt;Bt!==n||b!==0&&Bt.nodeType!==3||(Ie=K+b),Bt!==R||c!==0&&Bt.nodeType!==3||(Oe=K+c),Bt.nodeType===3&&(K+=Bt.nodeValue.length),(Yt=Bt.firstChild)!==null;)rt=Bt,Bt=Yt;for(;;){if(Bt===t)break t;if(rt===n&&++Ke===b&&(Ie=K),rt===R&&++ht===c&&(Oe=K),(Yt=Bt.nextSibling)!==null)break;Bt=rt,rt=Bt.parentNode}Bt=Yt}n=Ie===-1||Oe===-1?null:{start:Ie,end:Oe}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ll={focusedElem:t,selectionRange:n},Ko=!1,Jt=a;Jt!==null;)if(a=Jt,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,Jt=t;else for(;Jt!==null;){a=Jt;try{var Ut=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ut!==null){var Ta=Ut.memoizedProps,mr=Ut.memoizedState,Be=a.stateNode,Le=Be.getSnapshotBeforeUpdate(a.elementType===a.type?Ta:st(a.type,Ta),mr);Be.__reactInternalSnapshotBeforeUpdate=Le}break;case 3:var Ge=a.stateNode.containerInfo;if(Ge.nodeType===1)Ge.textContent="";else if(Ge.nodeType===9){var Pt=Ge.body;Pt!=null&&(Pt.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(qt){Ir(a,a.return,qt)}if(t=a.sibling,t!==null){t.return=a.return,Jt=t;break}Jt=a.return}return Ut=fc,fc=!1,Ut}function Hl(t,a,n){var c=a.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var b=c=c.next;do{if((b.tag&t)===t){var R=b.destroy;b.destroy=void 0,R!==void 0&&Li(a,n,R)}b=b.next}while(b!==c)}}function ui(t,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&t)===t){var c=n.create;n.destroy=c()}n=n.next}while(n!==a)}}function Mi(t){var a=t.ref;if(a!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof a=="function"?a(t):a.current=t}}function xc(t){var a=t.alternate;a!==null&&(t.alternate=null,xc(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&(delete a[Ho],delete a[Yd],delete a[_l],delete a[ki],delete a[Xd])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hc(t){return t.tag===5||t.tag===3||t.tag===4}function mc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hc(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ni(t,a,n){var c=t.tag;if(c===5||c===6)t=t.stateNode,a?n.nodeType===8?n.parentNode.insertBefore(t,a):n.insertBefore(t,a):(n.nodeType===8?(a=n.parentNode,a.insertBefore(t,n)):(a=n,a.appendChild(t)),n=n._reactRootContainer,n!=null||a.onclick!==null||(a.onclick=fl));else if(c!==4&&(t=t.child,t!==null))for(Ni(t,a,n),t=t.sibling;t!==null;)Ni(t,a,n),t=t.sibling}function _i(t,a,n){var c=t.tag;if(c===5||c===6)t=t.stateNode,a?n.insertBefore(t,a):n.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(_i(t,a,n),t=t.sibling;t!==null;)_i(t,a,n),t=t.sibling}var Jr=null,gu=!1;function Ld(t,a,n){for(n=n.child;n!==null;)gc(t,a,n),n=n.sibling}function gc(t,a,n){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(Ur,n)}catch(Ie){}switch(n.tag){case 5:co||El(n,a);case 6:var c=Jr,b=gu;Jr=null,Ld(t,a,n),Jr=c,gu=b,Jr!==null&&(gu?(t=Jr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Jr.removeChild(n.stateNode));break;case 18:Jr!==null&&(gu?(t=Jr,n=n.stateNode,t.nodeType===8?Nl(t.parentNode,n):t.nodeType===1&&Nl(t,n),to(t)):Nl(Jr,n.stateNode));break;case 4:c=Jr,b=gu,Jr=n.stateNode.containerInfo,gu=!0,Ld(t,a,n),Jr=c,gu=b;break;case 0:case 11:case 14:case 15:if(!co&&(c=n.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){b=c=c.next;do{var R=b,K=R.destroy;R=R.tag,K!==void 0&&(R&2||R&4)&&Li(n,a,K),b=b.next}while(b!==c)}Ld(t,a,n);break;case 1:if(!co&&(El(n,a),c=n.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=n.memoizedProps,c.state=n.memoizedState,c.componentWillUnmount()}catch(Ie){Ir(n,a,Ie)}Ld(t,a,n);break;case 21:Ld(t,a,n);break;case 22:n.mode&1?(co=(c=co)||n.memoizedState!==null,Ld(t,a,n),co=c):Ld(t,a,n);break;default:Ld(t,a,n)}}function yc(t){var a=t.updateQueue;if(a!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Vc),a.forEach(function(c){var b=rs.bind(null,t,c);n.has(c)||(n.add(c),c.then(b,b))})}}function yu(t,a){var n=a.deletions;if(n!==null)for(var c=0;c<n.length;c++){var b=n[c];try{var R=t,K=a,Ie=K;e:for(;Ie!==null;){switch(Ie.tag){case 5:Jr=Ie.stateNode,gu=!1;break e;case 3:Jr=Ie.stateNode.containerInfo,gu=!0;break e;case 4:Jr=Ie.stateNode.containerInfo,gu=!0;break e}Ie=Ie.return}if(Jr===null)throw Error(r(160));gc(R,K,b),Jr=null,gu=!1;var Oe=b.alternate;Oe!==null&&(Oe.return=null),b.return=null}catch(Ke){Ir(b,a,Ke)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)bc(a,t),a=a.sibling}function bc(t,a){var n=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yu(a,t),Mu(t),c&4){try{Hl(3,t,t.return),ui(3,t)}catch(Ut){Ir(t,t.return,Ut)}try{Hl(5,t,t.return)}catch(Ut){Ir(t,t.return,Ut)}}break;case 1:yu(a,t),Mu(t),c&512&&n!==null&&El(n,n.return);break;case 5:if(yu(a,t),Mu(t),c&512&&n!==null&&El(n,n.return),t.flags&32){var b=t.stateNode;try{yt(b,"")}catch(Ut){Ir(t,t.return,Ut)}}if(c&4&&(b=t.stateNode,b!=null)){var R=t.memoizedProps,K=n!==null?n.memoizedProps:R,Ie=t.type,Oe=t.updateQueue;if(t.updateQueue=null,Oe!==null)try{Ie==="input"&&R.type==="radio"&&R.name!=null&&xe(b,R),Ne(Ie,K);var Ke=Ne(Ie,R);for(K=0;K<Oe.length;K+=2){var ht=Oe[K],Bt=Oe[K+1];ht==="style"?ee(b,Bt):ht==="dangerouslySetInnerHTML"?Tt(b,Bt):ht==="children"?yt(b,Bt):j(b,ht,Bt,Ke)}switch(Ie){case"input":le(b,R);break;case"textarea":we(b,R);break;case"select":var rt=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!R.multiple;var Yt=R.value;Yt!=null?pe(b,!!R.multiple,Yt,!1):rt!==!!R.multiple&&(R.defaultValue!=null?pe(b,!!R.multiple,R.defaultValue,!0):pe(b,!!R.multiple,R.multiple?[]:"",!1))}b[Yd]=R}catch(Ut){Ir(t,t.return,Ut)}}break;case 6:if(yu(a,t),Mu(t),c&4){if(t.stateNode===null)throw Error(r(162));Ke=t.stateNode,ht=t.memoizedProps;try{Ke.nodeValue=ht}catch(Ut){Ir(t,t.return,Ut)}}break;case 3:if(yu(a,t),Mu(t),c&4&&n!==null&&n.memoizedState.isDehydrated)try{to(a.containerInfo)}catch(Ut){Ir(t,t.return,Ut)}break;case 4:yu(a,t),Mu(t);break;case 13:yu(a,t),Mu(t),Ke=t.child,Ke.flags&8192&&Ke.memoizedState!==null&&(Ke.alternate===null||Ke.alternate.memoizedState===null)&&(ji=Xa()),c&4&&yc(t);break;case 22:if(Ke=n!==null&&n.memoizedState!==null,t.mode&1?(co=(ht=co)||Ke,yu(a,t),co=ht):yu(a,t),Mu(t),c&8192){ht=t.memoizedState!==null;e:for(Bt=null,rt=t;;){if(rt.tag===5){if(Bt===null){Bt=rt;try{b=rt.stateNode,ht?(R=b.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(Ie=rt.stateNode,Oe=rt.memoizedProps.style,K=Oe!=null&&Oe.hasOwnProperty("display")?Oe.display:null,Ie.style.display=B("display",K))}catch(Ut){Ir(t,t.return,Ut)}}}else if(rt.tag===6){if(Bt===null)try{rt.stateNode.nodeValue=ht?"":rt.memoizedProps}catch(Ut){Ir(t,t.return,Ut)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===t)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===t)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===t)break e;Bt===rt&&(Bt=null),rt=rt.return}Bt===rt&&(Bt=null),rt.sibling.return=rt.return,rt=rt.sibling}if(ht&&!Ke&&t.mode&1)for(Jt=t,t=t.child;t!==null;){for(Ke=Jt=t;Jt!==null;){switch(ht=Jt,Bt=ht.child,ht.tag){case 0:case 11:case 14:case 15:Hl(4,ht,ht.return);break;case 1:if(El(ht,ht.return),R=ht.stateNode,typeof R.componentWillUnmount=="function"){rt=ht,Yt=ht.return;try{b=rt,R.props=b.memoizedProps,R.state=b.memoizedState,R.componentWillUnmount()}catch(Ut){Ir(rt,Yt,Ut)}}break;case 5:El(ht,ht.return);break;case 22:if(ht.memoizedState!==null){wc(Ke);continue}}Bt!==null?(Bt.return=ht,Jt=Bt):wc(Ke)}t=t.sibling}}break;case 19:yu(a,t),Mu(t),c&4&&yc(t);break;case 21:break;default:yu(a,t),Mu(t)}}function Mu(t){var a=t.flags;if(a&2){try{e:{for(var n=t.return;n!==null;){if(hc(n)){var c=n;break e}n=n.return}throw Error(r(160))}switch(c.tag){case 5:var b=c.stateNode;c.flags&32&&(yt(b,""),c.flags&=-33);var R=mc(t);_i(t,R,b);break;case 3:case 4:var K=c.stateNode.containerInfo,Ie=mc(t);Ni(t,Ie,K);break;default:throw Error(r(161))}}catch(Oe){Ir(t,t.return,Oe)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Yc(t,a,n){Jt=t,Ec(t,a,n)}function Ec(t,a,n){for(var c=(t.mode&1)!==0;Jt!==null;){var b=Jt,R=b.child;if(b.tag===22&&c){var K=b.memoizedState!==null||oi;if(!K){var Ie=b.alternate,Oe=Ie!==null&&Ie.memoizedState!==null||co;Ie=oi;var Ke=co;if(oi=K,(co=Oe)&&!Ke)for(Jt=b;Jt!==null;)K=Jt,Oe=K.child,K.tag===22&&K.memoizedState!==null?Cc(b):Oe!==null?(Oe.return=K,Jt=Oe):Cc(b);for(;R!==null;)Jt=R,Ec(R,a,n),R=R.sibling;Jt=b,oi=Ie,co=Ke}Sc(t,a,n)}else b.subtreeFlags&8772&&R!==null?(R.return=b,Jt=R):Sc(t,a,n)}}function Sc(t){for(;Jt!==null;){var a=Jt;if(a.flags&8772){var n=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:co||ui(5,a);break;case 1:var c=a.stateNode;if(a.flags&4&&!co)if(n===null)c.componentDidMount();else{var b=a.elementType===a.type?n.memoizedProps:st(a.type,n.memoizedProps);c.componentDidUpdate(b,n.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var R=a.updateQueue;R!==null&&Pa(a,R,c);break;case 3:var K=a.updateQueue;if(K!==null){if(n=null,a.child!==null)switch(a.child.tag){case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}Pa(a,K,n)}break;case 5:var Ie=a.stateNode;if(n===null&&a.flags&4){n=Ie;var Oe=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Oe.autoFocus&&n.focus();break;case"img":Oe.src&&(n.src=Oe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Ke=a.alternate;if(Ke!==null){var ht=Ke.memoizedState;if(ht!==null){var Bt=ht.dehydrated;Bt!==null&&to(Bt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(r(163))}co||a.flags&512&&Mi(a)}catch(rt){Ir(a,a.return,rt)}}if(a===t){Jt=null;break}if(n=a.sibling,n!==null){n.return=a.return,Jt=n;break}Jt=a.return}}function wc(t){for(;Jt!==null;){var a=Jt;if(a===t){Jt=null;break}var n=a.sibling;if(n!==null){n.return=a.return,Jt=n;break}Jt=a.return}}function Cc(t){for(;Jt!==null;){var a=Jt;try{switch(a.tag){case 0:case 11:case 15:var n=a.return;try{ui(4,a)}catch(Oe){Ir(a,n,Oe)}break;case 1:var c=a.stateNode;if(typeof c.componentDidMount=="function"){var b=a.return;try{c.componentDidMount()}catch(Oe){Ir(a,b,Oe)}}var R=a.return;try{Mi(a)}catch(Oe){Ir(a,R,Oe)}break;case 5:var K=a.return;try{Mi(a)}catch(Oe){Ir(a,K,Oe)}}}catch(Oe){Ir(a,a.return,Oe)}if(a===t){Jt=null;break}var Ie=a.sibling;if(Ie!==null){Ie.return=a.return,Jt=Ie;break}Jt=a.return}}var Xc=Math.ceil,di=C.ReactCurrentDispatcher,Di=C.ReactCurrentOwner,eu=C.ReactCurrentBatchConfig,pn=0,jr=null,Lr=null,qr=0,$o=0,Sl=Ou(0),Hr=0,Ul=null,tl=0,li=0,Fi=0,Bl=null,Ro=null,ji=0,wl=1/0,od=null,ii=!1,Hi=null,Md=null,ci=!1,Nd=null,si=0,Wl=0,Ui=null,pi=-1,Ii=0;function go(){return pn&6?Xa():pi!==-1?pi:pi=Xa()}function _d(t){return t.mode&1?pn&2&&qr!==0?qr&-qr:St.transition!==null?(Ii===0&&(Ii=zn()),Ii):(t=oa,t!==0||(t=window.event,t=t===void 0?16:dd(t.type)),t):1}function tu(t,a,n){if(50<Wl)throw Wl=0,Ui=null,Error(r(185));var c=vi(t,a);return c===null?null:(cn(c,a,n),(!(pn&2)||c!==jr)&&(c===jr&&(!(pn&2)&&(li|=a),Hr===4&&Dd(c,qr)),Po(c,n),a===1&&pn===0&&!(t.mode&1)&&(wl=Xa()+500,_e&&qe())),c)}function vi(t,a){t.lanes|=a;var n=t.alternate;for(n!==null&&(n.lanes|=a),n=t,t=t.return;t!==null;)t.childLanes|=a,n=t.alternate,n!==null&&(n.childLanes|=a),n=t,t=t.return;return n.tag===3?n.stateNode:null}function kc(t){return(jr!==null||Ot!==null)&&(t.mode&1)!==0&&(pn&2)===0}function Po(t,a){var n=t.callbackNode;To(t,a);var c=Mr(t,t===jr?qr:0);if(c===0)n!==null&&Ya(n),t.callbackNode=null,t.callbackPriority=0;else if(a=c&-c,t.callbackPriority!==a){if(n!=null&&Ya(n),a===1)t.tag===0?it(Pc.bind(null,t)):ot(Pc.bind(null,t)),Jl(function(){pn===0&&qe()}),n=null;else{switch(Wr(c)){case 1:n=Vr;break;case 4:n=yo;break;case 16:n=dr;break;case 536870912:n=Oo;break;default:n=dr}n=Dc(n,Rc.bind(null,t))}t.callbackPriority=a,t.callbackNode=n}}function Rc(t,a){if(pi=-1,Ii=0,pn&6)throw Error(r(327));var n=t.callbackNode;if(Cl()&&t.callbackNode!==n)return null;var c=Mr(t,t===jr?qr:0);if(c===0)return null;if(c&30||c&t.expiredLanes||a)a=fi(t,c);else{a=c;var b=pn;pn|=2;var R=Tc();(jr!==t||qr!==a)&&(od=null,wl=Xa()+500,nl(t,a));do try{es();break}catch(Ie){Oc(t,Ie)}while(1);bt(),di.current=R,pn=b,Lr!==null?a=0:(jr=null,qr=0,a=Hr)}if(a!==0){if(a===2&&(b=Br(t),b!==0&&(c=b,a=Bi(t,b))),a===1)throw n=Ul,nl(t,0),Dd(t,c),Po(t,Xa()),n;if(a===6)Dd(t,c);else{if(b=t.current.alternate,!(c&30)&&!Jc(b)&&(a=fi(t,c),a===2&&(R=Br(t),R!==0&&(c=R,a=Bi(t,R))),a===1))throw n=Ul,nl(t,0),Dd(t,c),Po(t,Xa()),n;switch(t.finishedWork=b,t.finishedLanes=c,a){case 0:case 1:throw Error(r(345));case 2:rl(t,Ro,od);break;case 3:if(Dd(t,c),(c&130023424)===c&&(a=ji+500-Xa(),10<a)){if(Mr(t,0)!==0)break;if(b=t.suspendedLanes,(b&c)!==c){go(),t.pingedLanes|=t.suspendedLanes&b;break}t.timeoutHandle=Pu(rl.bind(null,t,Ro,od),a);break}rl(t,Ro,od);break;case 4:if(Dd(t,c),(c&4194240)===c)break;for(a=t.eventTimes,b=-1;0<c;){var K=31-yr(c);R=1<<K,K=a[K],K>b&&(b=K),c&=~R}if(c=b,c=Xa()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Xc(c/1960))-c,10<c){t.timeoutHandle=Pu(rl.bind(null,t,Ro,od),c);break}rl(t,Ro,od);break;case 5:rl(t,Ro,od);break;default:throw Error(r(329))}}}return Po(t,Xa()),t.callbackNode===n?Rc.bind(null,t):null}function Bi(t,a){var n=Bl;return t.current.memoizedState.isDehydrated&&(nl(t,a).flags|=256),t=fi(t,a),t!==2&&(a=Ro,Ro=n,a!==null&&Wi(a)),t}function Wi(t){Ro===null?Ro=t:Ro.push.apply(Ro,t)}function Jc(t){for(var a=t;;){if(a.flags&16384){var n=a.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var c=0;c<n.length;c++){var b=n[c],R=b.getSnapshot;b=b.value;try{if(!In(R(),b))return!1}catch(K){return!1}}}if(n=a.child,a.subtreeFlags&16384&&n!==null)n.return=a,a=n;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Dd(t,a){for(a&=~Fi,a&=~li,t.suspendedLanes|=a,t.pingedLanes&=~a,t=t.expirationTimes;0<a;){var n=31-yr(a),c=1<<n;t[n]=-1,a&=~c}}function Pc(t){if(pn&6)throw Error(r(327));Cl();var a=Mr(t,0);if(!(a&1))return Po(t,Xa()),null;var n=fi(t,a);if(t.tag!==0&&n===2){var c=Br(t);c!==0&&(a=c,n=Bi(t,c))}if(n===1)throw n=Ul,nl(t,0),Dd(t,a),Po(t,Xa()),n;if(n===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=a,rl(t,Ro,od),Po(t,Xa()),null}function zi(t,a){var n=pn;pn|=1;try{return t(a)}finally{pn=n,pn===0&&(wl=Xa()+500,_e&&qe())}}function al(t){Nd!==null&&Nd.tag===0&&!(pn&6)&&Cl();var a=pn;pn|=1;var n=eu.transition,c=oa;try{if(eu.transition=null,oa=1,t)return t()}finally{oa=c,eu.transition=n,pn=a,!(pn&6)&&qe()}}function $i(){$o=Sl.current,Hn(Sl)}function nl(t,a){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xl(n)),Lr!==null)for(n=Lr.return;n!==null;){var c=n;switch(ka(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&D();break;case 3:fr(),Hn($r),Hn(Sr),ca();break;case 5:mn(c);break;case 4:fr();break;case 13:Hn(Wa);break;case 19:Hn(Wa);break;case 10:At(c.type._context);break;case 22:case 23:$i()}n=n.return}if(jr=t,Lr=t=Fd(t.current,null),qr=$o=a,Hr=0,Ul=null,Fi=li=tl=0,Ro=Bl=null,Ot!==null){for(a=0;a<Ot.length;a++)if(n=Ot[a],c=n.interleaved,c!==null){n.interleaved=null;var b=c.next,R=n.pending;if(R!==null){var K=R.next;R.next=b,c.next=K}n.pending=c}Ot=null}return t}function Oc(t,a){do{var n=Lr;try{if(bt(),xa.current=Td,xr){for(var c=La.memoizedState;c!==null;){var b=c.queue;b!==null&&(b.pending=null),c=c.next}xr=!1}if(kn=0,Rn=gn=La=null,uo=!1,pr=0,Di.current=null,n===null||n.return===null){Hr=1,Ul=a,Lr=null;break}e:{var R=t,K=n.return,Ie=n,Oe=a;if(a=qr,Ie.flags|=32768,Oe!==null&&typeof Oe=="object"&&typeof Oe.then=="function"){var Ke=Oe,ht=Ie,Bt=ht.tag;if(!(ht.mode&1)&&(Bt===0||Bt===11||Bt===15)){var rt=ht.alternate;rt?(ht.updateQueue=rt.updateQueue,ht.memoizedState=rt.memoizedState,ht.lanes=rt.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var Yt=Da(K);if(Yt!==null){Yt.flags&=-257,Bn(Yt,K,Ie,R,a),Yt.mode&1&&da(R,Ke,a),a=Yt,Oe=Ke;var Ut=a.updateQueue;if(Ut===null){var Ta=new Set;Ta.add(Oe),a.updateQueue=Ta}else Ut.add(Oe);break e}else{if(!(a&1)){da(R,Ke,a),Zi();break e}Oe=Error(r(426))}}else if(Ka&&Ie.mode&1){var mr=Da(K);if(mr!==null){!(mr.flags&65536)&&(mr.flags|=256),Bn(mr,K,Ie,R,a),Qn(Oe);break e}}R=Oe,Hr!==4&&(Hr=2),Bl===null?Bl=[R]:Bl.push(R),Oe=Ad(Oe,Ie),Ie=K;do{switch(Ie.tag){case 3:Ie.flags|=65536,a&=-a,Ie.lanes|=a;var Be=ei(Ie,Oe,a);Qt(Ie,Be);break e;case 1:R=Oe;var Le=Ie.type,Ge=Ie.stateNode;if(!(Ie.flags&128)&&(typeof Le.getDerivedStateFromError=="function"||Ge!==null&&typeof Ge.componentDidCatch=="function"&&(Md===null||!Md.has(Ge)))){Ie.flags|=65536,a&=-a,Ie.lanes|=a;var Pt=ti(Ie,R,a);Qt(Ie,Pt);break e}}Ie=Ie.return}while(Ie!==null)}Lc(n)}catch(qt){a=qt,Lr===n&&n!==null&&(Lr=n=n.return);continue}break}while(1)}function Tc(){var t=di.current;return di.current=Td,t===null?Td:t}function Zi(){(Hr===0||Hr===3||Hr===2)&&(Hr=4),jr===null||!(tl&268435455)&&!(li&268435455)||Dd(jr,qr)}function fi(t,a){var n=pn;pn|=2;var c=Tc();(jr!==t||qr!==a)&&(od=null,nl(t,a));do try{qc();break}catch(b){Oc(t,b)}while(1);if(bt(),pn=n,di.current=c,Lr!==null)throw Error(r(261));return jr=null,qr=0,Hr}function qc(){for(;Lr!==null;)Ac(Lr)}function es(){for(;Lr!==null&&!Mn();)Ac(Lr)}function Ac(t){var a=_c(t.alternate,t,$o);t.memoizedProps=t.pendingProps,a===null?Lc(t):Lr=a,Di.current=null}function Lc(t){var a=t;do{var n=a.alternate;if(t=a.return,a.flags&32768){if(n=Kc(n,a),n!==null){n.flags&=32767,Lr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Hr=6,Lr=null;return}}else if(n=bl(n,a,$o),n!==null){Lr=n;return}if(a=a.sibling,a!==null){Lr=a;return}Lr=a=t}while(a!==null);Hr===0&&(Hr=5)}function rl(t,a,n){var c=oa,b=eu.transition;try{eu.transition=null,oa=1,ts(t,a,n,c)}finally{eu.transition=b,oa=c}return null}function ts(t,a,n,c){do Cl();while(Nd!==null);if(pn&6)throw Error(r(327));n=t.finishedWork;var b=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var R=n.lanes|n.childLanes;if(Tn(t,R),t===jr&&(Lr=jr=null,qr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ci||(ci=!0,Dc(dr,function(){return Cl(),null})),R=(n.flags&15990)!==0,n.subtreeFlags&15990||R){R=eu.transition,eu.transition=null;var K=oa;oa=1;var Ie=pn;pn|=4,Di.current=null,Qc(t,n),bc(n,t),Pl(Ll),Ko=!!Al,Ll=Al=null,t.current=n,Yc(n,t,b),ar(),pn=Ie,oa=K,eu.transition=R}else t.current=n;if(ci&&(ci=!1,Nd=t,si=b),R=t.pendingLanes,R===0&&(Md=null),nu(n.stateNode,c),Po(t,Xa()),a!==null)for(c=t.onRecoverableError,n=0;n<a.length;n++)c(a[n]);if(ii)throw ii=!1,t=Hi,Hi=null,t;return si&1&&t.tag!==0&&Cl(),R=t.pendingLanes,R&1?t===Ui?Wl++:(Wl=0,Ui=t):Wl=0,qe(),null}function Cl(){if(Nd!==null){var t=Wr(si),a=eu.transition,n=oa;try{if(eu.transition=null,oa=16>t?16:t,Nd===null)var c=!1;else{if(t=Nd,Nd=null,si=0,pn&6)throw Error(r(331));var b=pn;for(pn|=4,Jt=t.current;Jt!==null;){var R=Jt,K=R.child;if(Jt.flags&16){var Ie=R.deletions;if(Ie!==null){for(var Oe=0;Oe<Ie.length;Oe++){var Ke=Ie[Oe];for(Jt=Ke;Jt!==null;){var ht=Jt;switch(ht.tag){case 0:case 11:case 15:Hl(8,ht,R)}var Bt=ht.child;if(Bt!==null)Bt.return=ht,Jt=Bt;else for(;Jt!==null;){ht=Jt;var rt=ht.sibling,Yt=ht.return;if(xc(ht),ht===Ke){Jt=null;break}if(rt!==null){rt.return=Yt,Jt=rt;break}Jt=Yt}}}var Ut=R.alternate;if(Ut!==null){var Ta=Ut.child;if(Ta!==null){Ut.child=null;do{var mr=Ta.sibling;Ta.sibling=null,Ta=mr}while(Ta!==null)}}Jt=R}}if(R.subtreeFlags&2064&&K!==null)K.return=R,Jt=K;else e:for(;Jt!==null;){if(R=Jt,R.flags&2048)switch(R.tag){case 0:case 11:case 15:Hl(9,R,R.return)}var Be=R.sibling;if(Be!==null){Be.return=R.return,Jt=Be;break e}Jt=R.return}}var Le=t.current;for(Jt=Le;Jt!==null;){K=Jt;var Ge=K.child;if(K.subtreeFlags&2064&&Ge!==null)Ge.return=K,Jt=Ge;else e:for(K=Le;Jt!==null;){if(Ie=Jt,Ie.flags&2048)try{switch(Ie.tag){case 0:case 11:case 15:ui(9,Ie)}}catch(qt){Ir(Ie,Ie.return,qt)}if(Ie===K){Jt=null;break e}var Pt=Ie.sibling;if(Pt!==null){Pt.return=Ie.return,Jt=Pt;break e}Jt=Ie.return}}if(pn=b,qe(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(Ur,t)}catch(qt){}c=!0}return c}finally{oa=n,eu.transition=a}}return!1}function Mc(t,a,n){a=Ad(n,a),a=ei(t,a,1),Kt(t,a),a=go(),t=vi(t,1),t!==null&&(cn(t,1,a),Po(t,a))}function Ir(t,a,n){if(t.tag===3)Mc(t,t,n);else for(;a!==null;){if(a.tag===3){Mc(a,t,n);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Md===null||!Md.has(c))){t=Ad(n,t),t=ti(a,t,1),Kt(a,t),t=go(),a=vi(a,1),a!==null&&(cn(a,1,t),Po(a,t));break}}a=a.return}}function as(t,a,n){var c=t.pingCache;c!==null&&c.delete(a),a=go(),t.pingedLanes|=t.suspendedLanes&n,jr===t&&(qr&n)===n&&(Hr===4||Hr===3&&(qr&130023424)===qr&&500>Xa()-ji?nl(t,0):Fi|=n),Po(t,a)}function Nc(t,a){a===0&&(t.mode&1?(a=po,po<<=1,!(po&130023424)&&(po=4194304)):a=1);var n=go();t=vi(t,a),t!==null&&(cn(t,a,n),Po(t,n))}function ns(t){var a=t.memoizedState,n=0;a!==null&&(n=a.retryLane),Nc(t,n)}function rs(t,a){var n=0;switch(t.tag){case 13:var c=t.stateNode,b=t.memoizedState;b!==null&&(n=b.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(r(314))}c!==null&&c.delete(a),Nc(t,n)}var _c;_c=function(t,a,n){if(t!==null)if(t.memoizedProps!==a.pendingProps||$r.current)ko=!0;else{if(!(t.lanes&n)&&!(a.flags&128))return ko=!1,Gc(t,a,n);ko=!!(t.flags&131072)}else ko=!1,Ka&&a.flags&1048576&&wr(a,za,a.index);switch(a.lanes=0,a.tag){case 2:var c=a.type;t!==null&&(t.alternate=null,a.alternate=null,a.flags|=2),t=a.pendingProps;var b=Cd(a,Sr.current);_t(a,n),b=lo(null,a,c,t,b,n);var R=wo();return a.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,w(c)?(R=!0,J(a)):R=!1,a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Mt(a),b.updater=on,a.stateNode=b,b._reactInternals=a,ga(a,c,t,n),a=Oi(null,a,c,!0,R,n)):(a.tag=0,Ka&&R&&qn(a),mo(null,a,b,n),a=a.child),a;case 16:c=a.elementType;e:{switch(t!==null&&(t.alternate=null,a.alternate=null,a.flags|=2),t=a.pendingProps,b=c._init,c=b(c._payload),a.type=c,b=a.tag=us(c),t=st(c,t),b){case 0:a=Pi(null,a,c,t,n);break e;case 1:a=uc(null,a,c,t,n);break e;case 11:a=tc(null,a,c,t,n);break e;case 14:a=ac(null,a,c,st(c.type,t),n);break e}throw Error(r(306,c,""))}return a;case 0:return c=a.type,b=a.pendingProps,b=a.elementType===c?b:st(c,b),Pi(t,a,c,b,n);case 1:return c=a.type,b=a.pendingProps,b=a.elementType===c?b:st(c,b),uc(t,a,c,b,n);case 3:e:{if(dc(a),t===null)throw Error(r(387));c=a.pendingProps,R=a.memoizedState,b=R.element,zt(t,a),la(a,c,null,n);var K=a.memoizedState;if(c=K.element,R.isDehydrated)if(R={element:c,isDehydrated:!1,cache:K.cache,pendingSuspenseBoundaries:K.pendingSuspenseBoundaries,transitions:K.transitions},a.updateQueue.baseState=R,a.memoizedState=R,a.flags&256){b=Error(r(423)),a=lc(t,a,c,n,b);break e}else if(c!==b){b=Error(r(424)),a=lc(t,a,c,n,b);break e}else for(qa=fu(a.stateNode.containerInfo.firstChild),xn=a,Ka=!0,en=null,n=Cn(a,null,c,n),a.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dr(),c===b){a=rd(t,a,n);break e}mo(t,a,c,n)}a=a.child}return a;case 5:return oo(a),t===null&&Rr(a),c=a.type,b=a.pendingProps,R=t!==null?t.memoizedProps:null,K=b.children,Ml(c,b)?K=null:R!==null&&Ml(c,R)&&(a.flags|=32),oc(t,a),mo(t,a,K,n),a.child;case 6:return t===null&&Rr(a),null;case 13:return cc(t,a,n);case 4:return Zr(a,a.stateNode.containerInfo),c=a.pendingProps,t===null?a.child=an(a,null,c,n):mo(t,a,c,n),a.child;case 11:return c=a.type,b=a.pendingProps,b=a.elementType===c?b:st(c,b),tc(t,a,c,b,n);case 7:return mo(t,a,a.pendingProps,n),a.child;case 8:return mo(t,a,a.pendingProps.children,n),a.child;case 12:return mo(t,a,a.pendingProps.children,n),a.child;case 10:e:{if(c=a.type._context,b=a.pendingProps,R=a.memoizedProps,K=b.value,_n(ft,c._currentValue),c._currentValue=K,R!==null)if(In(R.value,K)){if(R.children===b.children&&!$r.current){a=rd(t,a,n);break e}}else for(R=a.child,R!==null&&(R.return=a);R!==null;){var Ie=R.dependencies;if(Ie!==null){K=R.child;for(var Oe=Ie.firstContext;Oe!==null;){if(Oe.context===c){if(R.tag===1){Oe=jt(-1,n&-n),Oe.tag=2;var Ke=R.updateQueue;if(Ke!==null){Ke=Ke.shared;var ht=Ke.pending;ht===null?Oe.next=Oe:(Oe.next=ht.next,ht.next=Oe),Ke.pending=Oe}}R.lanes|=n,Oe=R.alternate,Oe!==null&&(Oe.lanes|=n),Lt(R.return,n,a),Ie.lanes|=n;break}Oe=Oe.next}}else if(R.tag===10)K=R.type===a.type?null:R.child;else if(R.tag===18){if(K=R.return,K===null)throw Error(r(341));K.lanes|=n,Ie=K.alternate,Ie!==null&&(Ie.lanes|=n),Lt(K,n,a),K=R.sibling}else K=R.child;if(K!==null)K.return=R;else for(K=R;K!==null;){if(K===a){K=null;break}if(R=K.sibling,R!==null){R.return=K.return,K=R;break}K=K.return}R=K}mo(t,a,b.children,n),a=a.child}return a;case 9:return b=a.type,c=a.pendingProps.children,_t(a,n),b=Rt(b),c=c(b),a.flags|=1,mo(t,a,c,n),a.child;case 14:return c=a.type,b=st(c,a.pendingProps),b=st(c.type,b),ac(t,a,c,b,n);case 15:return nc(t,a,a.type,a.pendingProps,n);case 17:return c=a.type,b=a.pendingProps,b=a.elementType===c?b:st(c,b),t!==null&&(t.alternate=null,a.alternate=null,a.flags|=2),a.tag=1,w(c)?(t=!0,J(a)):t=!1,_t(a,n),Ua(a,c,b),ga(a,c,b,n),Oi(null,a,c,!0,t,n);case 19:return vc(t,a,n);case 22:return rc(t,a,n)}throw Error(r(156,a.tag))};function Dc(t,a){return dn(t,a)}function os(t,a,n,c){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function au(t,a,n,c){return new os(t,a,n,c)}function Gi(t){return t=t.prototype,!(!t||!t.isReactComponent)}function us(t){if(typeof t=="function")return Gi(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Te)return 11;if(t===ve)return 14}return 2}function Fd(t,a){var n=t.alternate;return n===null?(n=au(t.tag,a,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=a,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,a=t.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xi(t,a,n,c,b,R){var K=2;if(c=t,typeof t=="function")Gi(t)&&(K=1);else if(typeof t=="string")K=5;else e:switch(t){case X:return ol(n.children,b,R,a);case te:K=8,b|=8;break;case q:return t=au(12,n,a,b|2),t.elementType=q,t.lanes=R,t;case De:return t=au(13,n,a,b),t.elementType=De,t.lanes=R,t;case ye:return t=au(19,n,a,b),t.elementType=ye,t.lanes=R,t;case F:return hi(n,b,R,a);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case he:K=10;break e;case Pe:K=9;break e;case Te:K=11;break e;case ve:K=14;break e;case T:K=16,c=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return a=au(K,n,a,b),a.elementType=t,a.type=c,a.lanes=R,a}function ol(t,a,n,c){return t=au(7,t,c,a),t.lanes=n,t}function hi(t,a,n,c){return t=au(22,t,c,a),t.elementType=F,t.lanes=n,t.stateNode={},t}function Ki(t,a,n){return t=au(6,t,null,a),t.lanes=n,t}function Vi(t,a,n){return a=au(4,t.children!==null?t.children:[],t.key,a),a.lanes=n,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}function ds(t,a,n,c,b){this.tag=a,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ln(0),this.expirationTimes=ln(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ln(0),this.identifierPrefix=c,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Qi(t,a,n,c,b,R,K,Ie,Oe){return t=new ds(t,a,n,Ie,Oe),a===1?(a=1,R===!0&&(a|=8)):a=0,R=au(3,null,null,a),t.current=R,R.stateNode=t,R.memoizedState={element:c,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mt(R),t}function ls(t,a,n){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:c==null?null:""+c,children:t,containerInfo:a,implementation:n}}function Fc(t){if(!t)return Tu;t=t._reactInternals;e:{if(It(t)!==t||t.tag!==1)throw Error(r(170));var a=t;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(w(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(t.tag===1){var n=t.type;if(w(n))return re(t,n,a)}return a}function jc(t,a,n,c,b,R,K,Ie,Oe){return t=Qi(n,c,!0,t,b,R,K,Ie,Oe),t.context=Fc(null),n=t.current,c=go(),b=_d(n),R=jt(c,b),R.callback=a!=null?a:null,Kt(n,R),t.current.lanes=b,cn(t,b,c),Po(t,c),t}function mi(t,a,n,c){var b=a.current,R=go(),K=_d(b);return n=Fc(n),a.context===null?a.context=n:a.pendingContext=n,a=jt(R,K),a.payload={element:t},c=c===void 0?null:c,c!==null&&(a.callback=c),Kt(b,a),t=tu(b,K,R),t!==null&&Gt(t,b,K),K}function gi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hc(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<a?n:a}}function Yi(t,a){Hc(t,a),(t=t.alternate)&&Hc(t,a)}function is(){return null}var Uc=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xi(t){this._internalRoot=t}yi.prototype.render=Xi.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(r(409));mi(t,a,null,null)},yi.prototype.unmount=Xi.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;al(function(){mi(null,t,null,null)}),a[xu]=null}};function yi(t){this._internalRoot=t}yi.prototype.unstable_scheduleHydration=function(t){if(t){var a=Yr();t={blockedOn:null,target:t,priority:a};for(var n=0;n<Lo.length&&a!==0&&a<Lo[n].priority;n++);Lo.splice(n,0,t),n===0&&Nu(t)}};function Ji(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bc(){}function cs(t,a,n,c,b){if(b){if(typeof c=="function"){var R=c;c=function(){var Ke=gi(K);R.call(Ke)}}var K=jc(a,c,t,0,null,!1,!1,"",Bc);return t._reactRootContainer=K,t[xu]=K.current,Vd(t.nodeType===8?t.parentNode:t),al(),K}for(;b=t.lastChild;)t.removeChild(b);if(typeof c=="function"){var Ie=c;c=function(){var Ke=gi(Oe);Ie.call(Ke)}}var Oe=Qi(t,0,!1,null,null,!1,!1,"",Bc);return t._reactRootContainer=Oe,t[xu]=Oe.current,Vd(t.nodeType===8?t.parentNode:t),al(function(){mi(a,Oe,n,c)}),Oe}function Ei(t,a,n,c,b){var R=n._reactRootContainer;if(R){var K=R;if(typeof b=="function"){var Ie=b;b=function(){var Oe=gi(K);Ie.call(Oe)}}mi(a,K,t,b)}else K=cs(n,a,t,b,c);return gi(K)}Nn=function(t){switch(t.tag){case 3:var a=t.stateNode;if(a.current.memoizedState.isDehydrated){var n=Io(a.pendingLanes);n!==0&&(Ja(a,n|1),Po(a,Xa()),!(pn&6)&&(wl=Xa()+500,qe()))}break;case 13:var c=go();al(function(){return tu(t,1,c)}),Yi(t,1)}},Dn=function(t){if(t.tag===13){var a=go();tu(t,134217728,a),Yi(t,134217728)}},zr=function(t){if(t.tag===13){var a=go(),n=_d(t);tu(t,n,a),Yi(t,n)}},Yr=function(){return oa},Fn=function(t,a){var n=oa;try{return oa=t,a()}finally{oa=n}},Ve=function(t,a,n){switch(a){case"input":if(le(t,n),a=n.name,n.type==="radio"&&a!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<n.length;a++){var c=n[a];if(c!==t&&c.form===t.form){var b=hl(c);if(!b)throw Error(r(90));Xe(c),le(c,b)}}}break;case"textarea":we(t,n);break;case"select":a=n.value,a!=null&&pe(t,!!n.multiple,a,!1)}},Ce=zi,tt=al;var ss={usingClientEntryPoint:!1,Events:[Jd,Xu,hl,Ue,je,zi]},zl={findFiberByHostInstance:Yu,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},ps={bundleType:zl.bundleType,version:zl.version,rendererPackageName:zl.rendererPackageName,rendererConfig:zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ja(t),t===null?null:t.stateNode},findFiberByHostInstance:zl.findFiberByHostInstance||is,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Si=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Si.isDisabled&&Si.supportsFiber)try{Ur=Si.inject(ps),gr=Si}catch(t){}}I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ss,I.createPortal=function(t,a){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ji(a))throw Error(r(200));return ls(t,a,null,n)},I.createRoot=function(t,a){if(!Ji(t))throw Error(r(299));var n=!1,c="",b=Uc;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=Qi(t,1,!1,null,null,n,!1,c,b),t[xu]=a.current,Vd(t.nodeType===8?t.parentNode:t),new Xi(a)},I.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=ja(a),t=t===null?null:t.stateNode,t},I.flushSync=function(t){return al(t)},I.hydrate=function(t,a,n){if(!bi(a))throw Error(r(200));return Ei(null,t,a,!0,n)},I.hydrateRoot=function(t,a,n){if(!Ji(t))throw Error(r(405));var c=n!=null&&n.hydratedSources||null,b=!1,R="",K=Uc;if(n!=null&&(n.unstable_strictMode===!0&&(b=!0),n.identifierPrefix!==void 0&&(R=n.identifierPrefix),n.onRecoverableError!==void 0&&(K=n.onRecoverableError)),a=jc(a,null,t,1,n!=null?n:null,b,!1,R,K),t[xu]=a.current,Vd(t),c)for(t=0;t<c.length;t++)n=c[t],b=n._getVersion,b=b(n._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[n,b]:a.mutableSourceEagerHydrationData.push(n,b);return new yi(a)},I.render=function(t,a,n){if(!bi(a))throw Error(r(200));return Ei(null,t,a,!1,n)},I.unmountComponentAtNode=function(t){if(!bi(t))throw Error(r(40));return t._reactRootContainer?(al(function(){Ei(null,null,t,!1,function(){t._reactRootContainer=null,t[xu]=null})}),!0):!1},I.unstable_batchedUpdates=zi,I.unstable_renderSubtreeIntoContainer=function(t,a,n,c){if(!bi(n))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return Ei(t,a,n,!1,c)},I.version="18.1.0-next-22edb9f77-20220426"},6915:function(i,I,e){"use strict";var u=e(61254);if(!0)I.createRoot=u.createRoot,I.hydrateRoot=u.hydrateRoot;else var o},61254:function(i,I,e){"use strict";function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(o){console.error(o)}}u(),i.exports=e(25913)},52841:function(i,I,e){"use strict";var u=e(62435),o=Symbol.for("react.element"),r=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,d=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function s(f,h,x){var m,g={},y=null,S=null;x!==void 0&&(y=""+x),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(S=h.ref);for(m in h)l.call(h,m)&&!p.hasOwnProperty(m)&&(g[m]=h[m]);if(f&&f.defaultProps)for(m in h=f.defaultProps,h)g[m]===void 0&&(g[m]=h[m]);return{$$typeof:o,type:f,key:y,ref:S,props:g,_owner:d.current}}I.Fragment=r,I.jsx=s,I.jsxs=s},60286:function(i,I){"use strict";var e=Symbol.for("react.element"),u=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),m=Symbol.iterator;function g(O){return O===null||typeof O!="object"?null:(O=m&&O[m]||O["@@iterator"],typeof O=="function"?O:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function P(O,z,ae){this.props=O,this.context=z,this.refs=E,this.updater=ae||y}P.prototype.isReactComponent={},P.prototype.setState=function(O,z){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,z,"setState")},P.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function k(){}k.prototype=P.prototype;function A(O,z,ae){this.props=O,this.context=z,this.refs=E,this.updater=ae||y}var L=A.prototype=new k;L.constructor=A,S(L,P.prototype),L.isPureReactComponent=!0;var j=Array.isArray,C=Object.prototype.hasOwnProperty,_={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function X(O,z,ae){var be,Re={},N=null,Q=null;if(z!=null)for(be in z.ref!==void 0&&(Q=z.ref),z.key!==void 0&&(N=""+z.key),z)C.call(z,be)&&!W.hasOwnProperty(be)&&(Re[be]=z[be]);var G=arguments.length-2;if(G===1)Re.children=ae;else if(1<G){for(var Y=Array(G),ue=0;ue<G;ue++)Y[ue]=arguments[ue+2];Re.children=Y}if(O&&O.defaultProps)for(be in G=O.defaultProps,G)Re[be]===void 0&&(Re[be]=G[be]);return{$$typeof:e,type:O,key:N,ref:Q,props:Re,_owner:_.current}}function te(O,z){return{$$typeof:e,type:O.type,key:z,ref:O.ref,props:O.props,_owner:O._owner}}function q(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function he(O){var z={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ae){return z[ae]})}var Pe=/\/+/g;function Te(O,z){return typeof O=="object"&&O!==null&&O.key!=null?he(""+O.key):z.toString(36)}function De(O,z,ae,be,Re){var N=typeof O;(N==="undefined"||N==="boolean")&&(O=null);var Q=!1;if(O===null)Q=!0;else switch(N){case"string":case"number":Q=!0;break;case"object":switch(O.$$typeof){case e:case u:Q=!0}}if(Q)return Q=O,Re=Re(Q),O=be===""?"."+Te(Q,0):be,j(Re)?(ae="",O!=null&&(ae=O.replace(Pe,"$&/")+"/"),De(Re,z,ae,"",function(ue){return ue})):Re!=null&&(q(Re)&&(Re=te(Re,ae+(!Re.key||Q&&Q.key===Re.key?"":(""+Re.key).replace(Pe,"$&/")+"/")+O)),z.push(Re)),1;if(Q=0,be=be===""?".":be+":",j(O))for(var G=0;G<O.length;G++){N=O[G];var Y=be+Te(N,G);Q+=De(N,z,ae,Y,Re)}else if(Y=g(O),typeof Y=="function")for(O=Y.call(O),G=0;!(N=O.next()).done;)N=N.value,Y=be+Te(N,G++),Q+=De(N,z,ae,Y,Re);else if(N==="object")throw z=String(O),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Q}function ye(O,z,ae){if(O==null)return O;var be=[],Re=0;return De(O,be,"","",function(N){return z.call(ae,N,Re++)}),be}function ve(O){if(O._status===-1){var z=O._result;z=z(),z.then(function(ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=ae)},function(ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=ae)}),O._status===-1&&(O._status=0,O._result=z)}if(O._status===1)return O._result.default;throw O._result}var T={current:null},F={transition:null},Z={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:F,ReactCurrentOwner:_};I.Children={map:ye,forEach:function(O,z,ae){ye(O,function(){z.apply(this,arguments)},ae)},count:function(O){var z=0;return ye(O,function(){z++}),z},toArray:function(O){return ye(O,function(z){return z})||[]},only:function(O){if(!q(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},I.Component=P,I.Fragment=o,I.Profiler=l,I.PureComponent=A,I.StrictMode=r,I.Suspense=f,I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,I.cloneElement=function(O,z,ae){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var be=S({},O.props),Re=O.key,N=O.ref,Q=O._owner;if(z!=null){if(z.ref!==void 0&&(N=z.ref,Q=_.current),z.key!==void 0&&(Re=""+z.key),O.type&&O.type.defaultProps)var G=O.type.defaultProps;for(Y in z)C.call(z,Y)&&!W.hasOwnProperty(Y)&&(be[Y]=z[Y]===void 0&&G!==void 0?G[Y]:z[Y])}var Y=arguments.length-2;if(Y===1)be.children=ae;else if(1<Y){G=Array(Y);for(var ue=0;ue<Y;ue++)G[ue]=arguments[ue+2];be.children=G}return{$$typeof:e,type:O.type,key:Re,ref:N,props:be,_owner:Q}},I.createContext=function(O){return O={$$typeof:p,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:d,_context:O},O.Consumer=O},I.createElement=X,I.createFactory=function(O){var z=X.bind(null,O);return z.type=O,z},I.createRef=function(){return{current:null}},I.forwardRef=function(O){return{$$typeof:s,render:O}},I.isValidElement=q,I.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:ve}},I.memo=function(O,z){return{$$typeof:h,type:O,compare:z===void 0?null:z}},I.startTransition=function(O){var z=F.transition;F.transition={};try{O()}finally{F.transition=z}},I.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},I.useCallback=function(O,z){return T.current.useCallback(O,z)},I.useContext=function(O){return T.current.useContext(O)},I.useDebugValue=function(){},I.useDeferredValue=function(O){return T.current.useDeferredValue(O)},I.useEffect=function(O,z){return T.current.useEffect(O,z)},I.useId=function(){return T.current.useId()},I.useImperativeHandle=function(O,z,ae){return T.current.useImperativeHandle(O,z,ae)},I.useInsertionEffect=function(O,z){return T.current.useInsertionEffect(O,z)},I.useLayoutEffect=function(O,z){return T.current.useLayoutEffect(O,z)},I.useMemo=function(O,z){return T.current.useMemo(O,z)},I.useReducer=function(O,z,ae){return T.current.useReducer(O,z,ae)},I.useRef=function(O){return T.current.useRef(O)},I.useState=function(O){return T.current.useState(O)},I.useSyncExternalStore=function(O,z,ae){return T.current.useSyncExternalStore(O,z,ae)},I.useTransition=function(){return T.current.useTransition()},I.version="18.1.0"},62435:function(i,I,e){"use strict";i.exports=e(60286)},86074:function(i,I,e){"use strict";i.exports=e(52841)},97601:function(i,I){"use strict";function e(T,F){var Z=T.length;T.push(F);e:for(;0<Z;){var O=Z-1>>>1,z=T[O];if(0<r(z,F))T[O]=F,T[Z]=z,Z=O;else break e}}function u(T){return T.length===0?null:T[0]}function o(T){if(T.length===0)return null;var F=T[0],Z=T.pop();if(Z!==F){T[0]=Z;e:for(var O=0,z=T.length,ae=z>>>1;O<ae;){var be=2*(O+1)-1,Re=T[be],N=be+1,Q=T[N];if(0>r(Re,Z))N<z&&0>r(Q,Re)?(T[O]=Q,T[N]=Z,O=N):(T[O]=Re,T[be]=Z,O=be);else if(N<z&&0>r(Q,Z))T[O]=Q,T[N]=Z,O=N;else break e}}return F}function r(T,F){var Z=T.sortIndex-F.sortIndex;return Z!==0?Z:T.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;I.unstable_now=function(){return l.now()}}else{var d=Date,p=d.now();I.unstable_now=function(){return d.now()-p}}var s=[],f=[],h=1,x=null,m=3,g=!1,y=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(T){for(var F=u(f);F!==null;){if(F.callback===null)o(f);else if(F.startTime<=T)o(f),F.sortIndex=F.expirationTime,e(s,F);else break;F=u(f)}}function L(T){if(S=!1,A(T),!y)if(u(s)!==null)y=!0,ye(j);else{var F=u(f);F!==null&&ve(L,F.startTime-T)}}function j(T,F){y=!1,S&&(S=!1,P(W),W=-1),g=!0;var Z=m;try{for(A(F),x=u(s);x!==null&&(!(x.expirationTime>F)||T&&!q());){var O=x.callback;if(typeof O=="function"){x.callback=null,m=x.priorityLevel;var z=O(x.expirationTime<=F);F=I.unstable_now(),typeof z=="function"?x.callback=z:x===u(s)&&o(s),A(F)}else o(s);x=u(s)}if(x!==null)var ae=!0;else{var be=u(f);be!==null&&ve(L,be.startTime-F),ae=!1}return ae}finally{x=null,m=Z,g=!1}}var C=!1,_=null,W=-1,X=5,te=-1;function q(){return!(I.unstable_now()-te<X)}function he(){if(_!==null){var T=I.unstable_now();te=T;var F=!0;try{F=_(!0,T)}finally{F?Pe():(C=!1,_=null)}}else C=!1}var Pe;if(typeof k=="function")Pe=function(){k(he)};else if(typeof MessageChannel!="undefined"){var Te=new MessageChannel,De=Te.port2;Te.port1.onmessage=he,Pe=function(){De.postMessage(null)}}else Pe=function(){E(he,0)};function ye(T){_=T,C||(C=!0,Pe())}function ve(T,F){W=E(function(){T(I.unstable_now())},F)}I.unstable_IdlePriority=5,I.unstable_ImmediatePriority=1,I.unstable_LowPriority=4,I.unstable_NormalPriority=3,I.unstable_Profiling=null,I.unstable_UserBlockingPriority=2,I.unstable_cancelCallback=function(T){T.callback=null},I.unstable_continueExecution=function(){y||g||(y=!0,ye(j))},I.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<T?Math.floor(1e3/T):5},I.unstable_getCurrentPriorityLevel=function(){return m},I.unstable_getFirstCallbackNode=function(){return u(s)},I.unstable_next=function(T){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var Z=m;m=F;try{return T()}finally{m=Z}},I.unstable_pauseExecution=function(){},I.unstable_requestPaint=function(){},I.unstable_runWithPriority=function(T,F){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var Z=m;m=T;try{return F()}finally{m=Z}},I.unstable_scheduleCallback=function(T,F,Z){var O=I.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?O+Z:O):Z=O,T){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Z+z,T={id:h++,callback:F,priorityLevel:T,startTime:Z,expirationTime:z,sortIndex:-1},Z>O?(T.sortIndex=Z,e(f,T),u(s)===null&&T===u(f)&&(S?(P(W),W=-1):S=!0,ve(L,Z-O))):(T.sortIndex=z,e(s,T),y||g||(y=!0,ye(j))),T},I.unstable_shouldYield=q,I.unstable_wrapCallback=function(T){var F=m;return function(){var Z=m;m=F;try{return T.apply(this,arguments)}finally{m=Z}}}},80017:function(i,I,e){"use strict";i.exports=e(97601)},34162:function(i,I,e){"use strict";e.d(I,{Il:function(){return r},Ov:function(){return l}});var u=e(62435),o=null,r=u.createContext({});function l(){return u.useContext(r)}function d(){var h=useLocation(),x=l(),m=x.clientRoutes,g=matchRoutes(m,h.pathname);return g||[]}function p(){var h,x=d().slice(-1),m=((h=x[0])===null||h===void 0?void 0:h.route)||{},g=m.element,y=_objectWithoutProperties(m,o);return y}function s(){var h=useRouteData(),x=l();return{data:x.serverLoaderData[h.route.id]}}function f(){var h=useRouteData(),x=l();return{data:x.clientLoaderData[h.route.id]}}},59918:function(i,I,e){"use strict";e.d(I,{Q:function(){return r},X:function(){return o}});var u=e(62435),o=u.createContext(void 0);function r(){return u.useContext(o)}},94184:function(i,I){var e,u;(function(){"use strict";var o={}.hasOwnProperty,r="[native code]";function l(){for(var d=[],p=0;p<arguments.length;p++){var s=arguments[p];if(s){var f=typeof s;if(f==="string"||f==="number")d.push(s);else if(Array.isArray(s)){if(s.length){var h=l.apply(null,s);h&&d.push(h)}}else if(f==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){d.push(s.toString());continue}for(var x in s)o.call(s,x)&&s[x]&&d.push(x)}}}return d.join(" ")}i.exports?(l.default=l,i.exports=l):(e=[],u=function(){return l}.apply(I,e),u!==void 0&&(i.exports=u))})()},19661:function(i,I,e){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.getParameters=void 0;var u=e(26961);function o(l){return u.compressToBase64(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function r(l){return o(JSON.stringify(l))}I.getParameters=r},12662:function(i,I,e){"use strict";var u;u=!0,I.Z=void 0;var o=e(19661);I.Z=o.getParameters},20640:function(i,I,e){"use strict";var u=e(11742),o={"text/plain":"Text","text/html":"Url",default:"Text"},r="Copy to clipboard: #{key}, Enter";function l(p){var s=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return p.replace(/#{\s*key\s*}/g,s)}function d(p,s){var f,h,x,m,g,y,S=!1;s||(s={}),f=s.debug||!1;try{x=u(),m=document.createRange(),g=document.getSelection(),y=document.createElement("span"),y.textContent=p,y.ariaHidden="true",y.style.all="unset",y.style.position="fixed",y.style.top=0,y.style.clip="rect(0, 0, 0, 0)",y.style.whiteSpace="pre",y.style.webkitUserSelect="text",y.style.MozUserSelect="text",y.style.msUserSelect="text",y.style.userSelect="text",y.addEventListener("copy",function(P){if(P.stopPropagation(),s.format)if(P.preventDefault(),typeof P.clipboardData=="undefined"){f&&console.warn("unable to use e.clipboardData"),f&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var k=o[s.format]||o.default;window.clipboardData.setData(k,p)}else P.clipboardData.clearData(),P.clipboardData.setData(s.format,p);s.onCopy&&(P.preventDefault(),s.onCopy(P.clipboardData))}),document.body.appendChild(y),m.selectNodeContents(y),g.addRange(m);var E=document.execCommand("copy");if(!E)throw new Error("copy command was unsuccessful");S=!0}catch(P){f&&console.error("unable to copy using execCommand: ",P),f&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(s.format||"text",p),s.onCopy&&s.onCopy(window.clipboardData),S=!0}catch(k){f&&console.error("unable to copy using clipboardData: ",k),f&&console.error("falling back to prompt"),h=l("message"in s?s.message:r),window.prompt(h,p)}}finally{g&&(typeof g.removeRange=="function"?g.removeRange(m):g.removeAllRanges()),y&&document.body.removeChild(y),x()}return S}i.exports=d},19662:function(i,I,e){var u=e(60614),o=e(66330),r=TypeError;i.exports=function(l){if(u(l))return l;throw r(o(l)+" is not a function")}},39483:function(i,I,e){var u=e(4411),o=e(66330),r=TypeError;i.exports=function(l){if(u(l))return l;throw r(o(l)+" is not a constructor")}},40027:function(i,I,e){var u=e(75706).has;i.exports=function(o){return u(o),o}},96077:function(i,I,e){var u=e(60614),o=String,r=TypeError;i.exports=function(l){if(typeof l=="object"||u(l))return l;throw r("Can't set "+o(l)+" as a prototype")}},88999:function(i,I,e){var u=e(79405).has;i.exports=function(o){return u(o),o}},29257:function(i,I,e){var u=e(60953).has;i.exports=function(o){return u(o),o}},72682:function(i,I,e){var u=e(78818).has;i.exports=function(o){return u(o),o}},8557:function(i,I,e){var u=e(1702),o=e(49974),r=e(19670),l=e(68554),d=e(58173),p=e(5112),s=p("asyncDispose"),f=p("dispose"),h=u([].push),x=function(g,y){return y=="async-dispose"&&d(g,s)||d(g,f)},m=function(g,y,S){return o(S||x(g,y),g)};i.exports=function(g,y,S,E){var P;if(E)l(y)?P=m(void 0,S,E):P=m(r(y),S,E);else{if(l(y))return;P=m(y,S)}h(g.stack,P)}},51223:function(i,I,e){var u=e(5112),o=e(70030),r=e(3070).f,l=u("unscopables"),d=Array.prototype;d[l]==null&&r(d,l,{configurable:!0,value:o(null)}),i.exports=function(p){d[l][p]=!0}},25787:function(i,I,e){var u=e(47976),o=TypeError;i.exports=function(r,l){if(u(l,r))return r;throw o("Incorrect invocation")}},19670:function(i,I,e){var u=e(70111),o=String,r=TypeError;i.exports=function(l){if(u(l))return l;throw r(o(l)+" is not an object")}},23013:function(i){i.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"},7556:function(i,I,e){var u=e(47293);i.exports=u(function(){if(typeof ArrayBuffer=="function"){var o=new ArrayBuffer(8);Object.isExtensible(o)&&Object.defineProperty(o,"a",{value:8})}})},90260:function(i,I,e){"use strict";var u=e(23013),o=e(19781),r=e(17854),l=e(60614),d=e(70111),p=e(92597),s=e(70648),f=e(66330),h=e(68880),x=e(98052),m=e(47045),g=e(47976),y=e(79518),S=e(27674),E=e(5112),P=e(69711),k=e(29909),A=k.enforce,L=k.get,j=r.Int8Array,C=j&&j.prototype,_=r.Uint8ClampedArray,W=_&&_.prototype,X=j&&y(j),te=C&&y(C),q=Object.prototype,he=r.TypeError,Pe=E("toStringTag"),Te=P("TYPED_ARRAY_TAG"),De="TypedArrayConstructor",ye=u&&!!S&&s(r.opera)!=="Opera",ve=!1,T,F,Z,O={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},z={BigInt64Array:8,BigUint64Array:8},ae=function(Me){if(!d(Me))return!1;var He=s(Me);return He==="DataView"||p(O,He)||p(z,He)},be=function(ue){var Me=y(ue);if(d(Me)){var He=L(Me);return He&&p(He,De)?He[De]:be(Me)}},Re=function(ue){if(!d(ue))return!1;var Me=s(ue);return p(O,Me)||p(z,Me)},N=function(ue){if(Re(ue))return ue;throw he("Target is not a typed array")},Q=function(ue){if(l(ue)&&(!S||g(X,ue)))return ue;throw he(f(ue)+" is not a typed array constructor")},G=function(ue,Me,He,Je){if(o){if(He)for(var Xe in O){var et=r[Xe];if(et&&p(et.prototype,ue))try{delete et.prototype[ue]}catch(ct){try{et.prototype[ue]=Me}catch(oe){}}}(!te[ue]||He)&&x(te,ue,He?Me:ye&&C[ue]||Me,Je)}},Y=function(ue,Me,He){var Je,Xe;if(o){if(S){if(He){for(Je in O)if(Xe=r[Je],Xe&&p(Xe,ue))try{delete Xe[ue]}catch(et){}}if(!X[ue]||He)try{return x(X,ue,He?Me:ye&&X[ue]||Me)}catch(et){}else return}for(Je in O)Xe=r[Je],Xe&&(!Xe[ue]||He)&&x(Xe,ue,Me)}};for(T in O)F=r[T],Z=F&&F.prototype,Z?A(Z)[De]=F:ye=!1;for(T in z)F=r[T],Z=F&&F.prototype,Z&&(A(Z)[De]=F);if((!ye||!l(X)||X===Function.prototype)&&(X=function(){throw he("Incorrect invocation")},ye))for(T in O)r[T]&&S(r[T],X);if((!ye||!te||te===q)&&(te=X.prototype,ye))for(T in O)r[T]&&S(r[T].prototype,te);if(ye&&y(W)!==te&&S(W,te),o&&!p(te,Pe)){ve=!0,m(te,Pe,{configurable:!0,get:function(){return d(this)?this[Te]:void 0}});for(T in O)r[T]&&h(r[T],Te,T)}i.exports={NATIVE_ARRAY_BUFFER_VIEWS:ye,TYPED_ARRAY_TAG:ve&&Te,aTypedArray:N,aTypedArrayConstructor:Q,exportTypedArrayMethod:G,exportTypedArrayStaticMethod:Y,getTypedArrayConstructor:be,isView:ae,isTypedArray:Re,TypedArray:X,TypedArrayPrototype:te}},33253:function(i,I,e){"use strict";var u=e(49974),o=e(1702),r=e(47908),l=e(4411),d=e(54777),p=e(18554),s=e(24942),f=e(71246),h=e(58173),x=e(98770),m=e(35005),g=e(5112),y=e(28091),S=e(12269).toArray,E=g("asyncIterator"),P=o(x("Array").values),k=o(P([]).next),A=function(){return new L(this)},L=function(j){this.iterator=P(j)};L.prototype.next=function(){return k(this.iterator)},i.exports=function(C){var _=this,W=arguments.length,X=W>1?arguments[1]:void 0,te=W>2?arguments[2]:void 0;return new(m("Promise"))(function(q){var he=r(C);X!==void 0&&(X=u(X,te));var Pe=h(he,E),Te=Pe?void 0:f(he)||A,De=l(_)?new _:[],ye=Pe?d(he,Pe):new y(s(p(he,Te)));q(S(ye,X,De))})}},97745:function(i,I,e){var u=e(26244);i.exports=function(o,r){for(var l=0,d=u(r),p=new o(d);d>l;)p[l]=r[l++];return p}},59921:function(i,I,e){"use strict";var u=e(49974),o=e(1702),r=e(68361),l=e(47908),d=e(26244),p=e(75706),s=p.Map,f=p.get,h=p.has,x=p.set,m=o([].push);i.exports=function(y){for(var S=l(this),E=r(S),P=u(y,arguments.length>1?arguments[1]:void 0),k=new s,A=d(E),L=0,j,C;A>L;L++)C=E[L],j=P(C,L,S),h(k,j)?m(f(k,j),C):x(k,j,[C]);return k}},21191:function(i,I,e){var u=e(49974),o=e(1702),r=e(68361),l=e(47908),d=e(34948),p=e(26244),s=e(70030),f=e(97745),h=Array,x=o([].push);i.exports=function(m,g,y,S){for(var E=l(m),P=r(E),k=u(g,y),A=s(null),L=p(P),j=0,C,_,W;L>j;j++)W=P[j],_=d(k(W,j,E)),_ in A?x(A[_],W):A[_]=[W];if(S&&(C=S(E),C!==h))for(_ in A)A[_]=f(C,A[_]);return A}},41318:function(i,I,e){var u=e(45656),o=e(51400),r=e(26244),l=function(d){return function(p,s,f){var h=u(p),x=r(h),m=o(f,x),g;if(d&&s!=s){for(;x>m;)if(g=h[m++],g!=g)return!0}else for(;x>m;m++)if((d||m in h)&&h[m]===s)return d||m||0;return!d&&-1}};i.exports={includes:l(!0),indexOf:l(!1)}},9671:function(i,I,e){var u=e(49974),o=e(68361),r=e(47908),l=e(26244),d=function(p){var s=p==1;return function(f,h,x){for(var m=r(f),g=o(m),y=u(h,x),S=l(g),E,P;S-- >0;)if(E=g[S],P=y(E,S,m),P)switch(p){case 0:return E;case 1:return S}return s?-1:void 0}};i.exports={findLast:d(0),findLastIndex:d(1)}},42092:function(i,I,e){var u=e(49974),o=e(1702),r=e(68361),l=e(47908),d=e(26244),p=e(65417),s=o([].push),f=function(h){var x=h==1,m=h==2,g=h==3,y=h==4,S=h==6,E=h==7,P=h==5||S;return function(k,A,L,j){for(var C=l(k),_=r(C),W=u(A,L),X=d(_),te=0,q=j||p,he=x?q(k,X):m||E?q(k,0):void 0,Pe,Te;X>te;te++)if((P||te in _)&&(Pe=_[te],Te=W(Pe,te,C),h))if(x)he[te]=Te;else if(Te)switch(h){case 3:return!0;case 5:return Pe;case 6:return te;case 2:s(he,Pe)}else switch(h){case 4:return!1;case 7:s(he,Pe)}return S?-1:g||y?y:he}};i.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},9341:function(i,I,e){"use strict";var u=e(47293);i.exports=function(o,r){var l=[][o];return!!l&&u(function(){l.call(null,r||function(){return 1},1)})}},53671:function(i,I,e){var u=e(19662),o=e(47908),r=e(68361),l=e(26244),d=TypeError,p=function(s){return function(f,h,x,m){u(h);var g=o(f),y=r(g),S=l(g),E=s?S-1:0,P=s?-1:1;if(x<2)for(;;){if(E in y){m=y[E],E+=P;break}if(E+=P,s?E<0:S<=E)throw d("Reduce of empty array with no initial value")}for(;s?E>=0:S>E;E+=P)E in y&&(m=h(m,y[E],E,g));return m}};i.exports={left:p(!1),right:p(!0)}},83658:function(i,I,e){"use strict";var u=e(19781),o=e(43157),r=TypeError,l=Object.getOwnPropertyDescriptor,d=u&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(p){return p instanceof TypeError}}();i.exports=d?function(p,s){if(o(p)&&!l(p,"length").writable)throw r("Cannot set read only .length");return p.length=s}:function(p,s){return p.length=s}},41589:function(i,I,e){var u=e(51400),o=e(26244),r=e(86135),l=Array,d=Math.max;i.exports=function(p,s,f){for(var h=o(p),x=u(s,h),m=u(f===void 0?h:f,h),g=l(d(m-x,0)),y=0;x<m;x++,y++)r(g,y,p[x]);return g.length=y,g}},50206:function(i,I,e){var u=e(1702);i.exports=u([].slice)},77475:function(i,I,e){var u=e(43157),o=e(4411),r=e(70111),l=e(5112),d=l("species"),p=Array;i.exports=function(s){var f;return u(s)&&(f=s.constructor,o(f)&&(f===p||u(f.prototype))?f=void 0:r(f)&&(f=f[d],f===null&&(f=void 0))),f===void 0?p:f}},65417:function(i,I,e){var u=e(77475);i.exports=function(o,r){return new(u(o))(r===0?0:r)}},21843:function(i,I,e){var u=e(26244);i.exports=function(o,r){for(var l=u(o),d=new r(l),p=0;p<l;p++)d[p]=o[l-p-1];return d}},60956:function(i,I,e){"use strict";var u=e(1702),o=e(19662),r=e(68554),l=e(26244),d=e(47908),p=e(75706),s=e(14995),f=p.Map,h=p.has,x=p.set,m=u([].push);i.exports=function(y){var S=d(this),E=l(S),P=[],k=new f,A=r(y)?function(_){return _}:o(y),L,j,C;for(L=0;L<E;L++)j=S[L],C=A(j),h(k,C)||x(k,C,j);return s(k,function(_){m(P,_)}),P}},11572:function(i,I,e){var u=e(26244),o=e(19303),r=RangeError;i.exports=function(l,d,p,s){var f=u(l),h=o(p),x=h<0?f+h:h;if(x>=f||x<0)throw r("Incorrect index");for(var m=new d(f),g=0;g<f;g++)m[g]=g===x?s:l[g];return m}},28091:function(i,I,e){"use strict";var u=e(46916),o=e(19670),r=e(70030),l=e(58173),d=e(89190),p=e(29909),s=e(35005),f=e(66462),h=e(76178),x=s("Promise"),m="AsyncFromSyncIterator",g=p.set,y=p.getterFor(m),S=function(P,k,A){var L=P.done;x.resolve(P.value).then(function(j){k(h(j,L))},A)},E=function(k){k.type=m,g(this,k)};E.prototype=d(r(f),{next:function(){var k=y(this);return new x(function(A,L){var j=o(u(k.next,k.iterator));S(j,A,L)})},return:function(){var P=y(this).iterator;return new x(function(k,A){var L=l(P,"return");if(L===void 0)return k(h(void 0,!0));var j=o(u(L,P));S(j,k,A)})}}),i.exports=E},21753:function(i,I,e){var u=e(46916),o=e(35005),r=e(58173);i.exports=function(l,d,p,s){try{var f=r(l,"return");if(f)return o("Promise").resolve(u(f,l)).then(function(){d(p)},function(h){s(h)})}catch(h){return s(h)}d(p)}},45348:function(i,I,e){"use strict";var u=e(46916),o=e(12534),r=e(19670),l=e(70030),d=e(68880),p=e(89190),s=e(5112),f=e(29909),h=e(35005),x=e(58173),m=e(66462),g=e(76178),y=e(99212),S=h("Promise"),E=s("toStringTag"),P="AsyncIteratorHelper",k="WrapForValidAsyncIterator",A=f.set,L=function(_){var W=!_,X=f.getterFor(_?k:P),te=function(q){var he=o(function(){return X(q)}),Pe=he.error,Te=he.value;return Pe||W&&Te.done?{exit:!0,value:Pe?S.reject(Te):S.resolve(g(void 0,!0))}:{exit:!1,value:Te}};return p(l(m),{next:function(){var he=te(this),Pe=he.value;if(he.exit)return Pe;var Te=o(function(){return r(Pe.nextHandler(S))}),De=Te.error,ye=Te.value;return De&&(Pe.done=!0),De?S.reject(ye):S.resolve(ye)},return:function(){var q=te(this),he=q.value;if(q.exit)return he;he.done=!0;var Pe=he.iterator,Te,De,ye=o(function(){if(he.inner)try{y(he.inner.iterator,"normal")}catch(ve){return y(Pe,"throw",ve)}return x(Pe,"return")});return Te=De=ye.value,ye.error?S.reject(De):Te===void 0?S.resolve(g(void 0,!0)):(ye=o(function(){return u(Te,Pe)}),De=ye.value,ye.error?S.reject(De):_?S.resolve(De):S.resolve(De).then(function(ve){return r(ve),g(void 0,!0)}))}})},j=L(!0),C=L(!1);d(C,E,"Async Iterator Helper"),i.exports=function(_,W){var X=function(q,he){he?(he.iterator=q.iterator,he.next=q.next):he=q,he.type=W?k:P,he.nextHandler=_,he.counter=0,he.done=!1,A(this,he)};return X.prototype=W?j:C,X}},47520:function(i,I,e){"use strict";var u=e(46916),o=e(13232),r=function(l,d){return[d,l]};i.exports=function(){return u(o,this,r)}},12269:function(i,I,e){"use strict";var u=e(46916),o=e(19662),r=e(19670),l=e(70111),d=e(7207),p=e(35005),s=e(24942),f=e(21753),h=function(x){var m=x==0,g=x==1,y=x==2,S=x==3;return function(E,P,k){var A=s(E),L=p("Promise"),j=A.iterator,C=A.next,_=0,W=P!==void 0;return(W||!m)&&o(P),new L(function(X,te){var q=function(Pe){f(j,te,Pe,te)},he=function(){try{if(W)try{d(_)}catch(Pe){q(Pe)}L.resolve(r(u(C,j))).then(function(Pe){try{if(r(Pe).done)m?(k.length=_,X(k)):X(S?!1:y||void 0);else{var Te=Pe.value;try{if(W){var De=P(Te,_),ye=function(ve){if(g)he();else if(y)ve?he():f(j,X,!1,te);else if(m)try{k[_++]=ve,he()}catch(T){q(T)}else ve?f(j,X,S||Te,te):he()};l(De)?L.resolve(De).then(ye,q):ye(De)}else k[_++]=Te,he()}catch(ve){q(ve)}}}catch(ve){te(ve)}},te)}catch(Pe){te(Pe)}};he()})}};i.exports={toArray:h(0),forEach:h(1),every:h(2),some:h(3),find:h(4)}},13232:function(i,I,e){"use strict";var u=e(46916),o=e(19662),r=e(19670),l=e(70111),d=e(24942),p=e(45348),s=e(76178),f=e(21753),h=p(function(x){var m=this,g=m.iterator,y=m.mapper;return new x(function(S,E){var P=function(A){m.done=!0,E(A)},k=function(A){f(g,P,A,P)};x.resolve(r(u(m.next,g))).then(function(A){try{if(r(A).done)m.done=!0,S(s(void 0,!0));else{var L=A.value;try{var j=y(L,m.counter++),C=function(_){S(s(_,!1))};l(j)?x.resolve(j).then(C,k):C(j)}catch(_){k(_)}}}catch(_){P(_)}},P)})});i.exports=function(m){return new h(d(this),{mapper:o(m)})}},66462:function(i,I,e){var u=e(17854),o=e(5465),r=e(60614),l=e(70030),d=e(79518),p=e(98052),s=e(5112),f=e(31913),h="USE_FUNCTION_CONSTRUCTOR",x=s("asyncIterator"),m=u.AsyncIterator,g=o.AsyncIteratorPrototype,y,S;if(g)y=g;else if(r(m))y=m.prototype;else if(o[h]||u[h])try{S=d(d(d(Function("return async function*(){}()")()))),d(S)===Object.prototype&&(y=S)}catch(E){}y?f&&(y=l(y)):y={},r(y[x])||p(y,x,function(){return this}),i.exports=y},86221:function(i,I,e){var u=e(46916),o=e(45348);i.exports=o(function(){return u(this.next,this.iterator)},!0)},53411:function(i,I,e){var u=e(19670),o=e(99212);i.exports=function(r,l,d,p){try{return p?l(u(d)[0],d[1]):l(d)}catch(s){o(r,"throw",s)}}},17072:function(i,I,e){var u=e(5112),o=u("iterator"),r=!1;try{var l=0,d={next:function(){return{done:!!l++}},return:function(){r=!0}};d[o]=function(){return this},Array.from(d,function(){throw 2})}catch(p){}i.exports=function(p,s){if(!s&&!r)return!1;var f=!1;try{var h={};h[o]=function(){return{next:function(){return{done:f=!0}}}},p(h)}catch(x){}return f}},84326:function(i,I,e){var u=e(1702),o=u({}.toString),r=u("".slice);i.exports=function(l){return r(o(l),8,-1)}},70648:function(i,I,e){var u=e(51694),o=e(60614),r=e(84326),l=e(5112),d=l("toStringTag"),p=Object,s=r(function(){return arguments}())=="Arguments",f=function(h,x){try{return h[x]}catch(m){}};i.exports=u?r:function(h){var x,m,g;return h===void 0?"Undefined":h===null?"Null":typeof(m=f(x=p(h),d))=="string"?m:s?r(x):(g=r(x))=="Object"&&o(x.callee)?"Arguments":g}},27296:function(i,I,e){"use strict";var u=e(49974),o=e(46916),r=e(19662),l=e(39483),d=e(68554),p=e(20408),s=[].push;i.exports=function(h){var x=arguments.length,m=x>1?arguments[1]:void 0,g,y,S,E;return l(this),g=m!==void 0,g&&r(m),d(h)?new this:(y=[],g?(S=0,E=u(m,x>2?arguments[2]:void 0),p(h,function(P){o(s,y,E(P,S++))})):p(h,s,{that:y}),new this(y))}},82044:function(i,I,e){"use strict";var u=e(50206);i.exports=function(){return new this(u(arguments))}},95631:function(i,I,e){"use strict";var u=e(70030),o=e(47045),r=e(89190),l=e(49974),d=e(25787),p=e(68554),s=e(20408),f=e(51656),h=e(76178),x=e(96340),m=e(19781),g=e(62423).fastKey,y=e(29909),S=y.set,E=y.getterFor;i.exports={getConstructor:function(P,k,A,L){var j=P(function(te,q){d(te,C),S(te,{type:k,index:u(null),first:void 0,last:void 0,size:0}),m||(te.size=0),p(q)||s(q,te[L],{that:te,AS_ENTRIES:A})}),C=j.prototype,_=E(k),W=function(te,q,he){var Pe=_(te),Te=X(te,q),De,ye;return Te?Te.value=he:(Pe.last=Te={index:ye=g(q,!0),key:q,value:he,previous:De=Pe.last,next:void 0,removed:!1},Pe.first||(Pe.first=Te),De&&(De.next=Te),m?Pe.size++:te.size++,ye!=="F"&&(Pe.index[ye]=Te)),te},X=function(te,q){var he=_(te),Pe=g(q),Te;if(Pe!=="F")return he.index[Pe];for(Te=he.first;Te;Te=Te.next)if(Te.key==q)return Te};return r(C,{clear:function(){for(var q=this,he=_(q),Pe=he.index,Te=he.first;Te;)Te.removed=!0,Te.previous&&(Te.previous=Te.previous.next=void 0),delete Pe[Te.index],Te=Te.next;he.first=he.last=void 0,m?he.size=0:q.size=0},delete:function(te){var q=this,he=_(q),Pe=X(q,te);if(Pe){var Te=Pe.next,De=Pe.previous;delete he.index[Pe.index],Pe.removed=!0,De&&(De.next=Te),Te&&(Te.previous=De),he.first==Pe&&(he.first=Te),he.last==Pe&&(he.last=De),m?he.size--:q.size--}return!!Pe},forEach:function(q){for(var he=_(this),Pe=l(q,arguments.length>1?arguments[1]:void 0),Te;Te=Te?Te.next:he.first;)for(Pe(Te.value,Te.key,this);Te&&Te.removed;)Te=Te.previous},has:function(q){return!!X(this,q)}}),r(C,A?{get:function(q){var he=X(this,q);return he&&he.value},set:function(q,he){return W(this,q===0?0:q,he)}}:{add:function(q){return W(this,q=q===0?0:q,q)}}),m&&o(C,"size",{configurable:!0,get:function(){return _(this).size}}),j},setStrong:function(P,k,A){var L=k+" Iterator",j=E(k),C=E(L);f(P,k,function(_,W){S(this,{type:L,target:_,state:j(_),kind:W,last:void 0})},function(){for(var _=C(this),W=_.kind,X=_.last;X&&X.removed;)X=X.previous;return!_.target||!(_.last=X=X?X.next:_.state.first)?(_.target=void 0,h(void 0,!0)):W=="keys"?h(X.key,!1):W=="values"?h(X.value,!1):h([X.key,X.value],!1)},A?"entries":"values",!A,!0),x(k)}}},29320:function(i,I,e){"use strict";var u=e(1702),o=e(89190),r=e(62423).getWeakData,l=e(25787),d=e(19670),p=e(68554),s=e(70111),f=e(20408),h=e(42092),x=e(92597),m=e(29909),g=m.set,y=m.getterFor,S=h.find,E=h.findIndex,P=u([].splice),k=0,A=function(C){return C.frozen||(C.frozen=new L)},L=function(){this.entries=[]},j=function(C,_){return S(C.entries,function(W){return W[0]===_})};L.prototype={get:function(C){var _=j(this,C);if(_)return _[1]},has:function(C){return!!j(this,C)},set:function(C,_){var W=j(this,C);W?W[1]=_:this.entries.push([C,_])},delete:function(C){var _=E(this.entries,function(W){return W[0]===C});return~_&&P(this.entries,_,1),!!~_}},i.exports={getConstructor:function(C,_,W,X){var te=C(function(Te,De){l(Te,q),g(Te,{type:_,id:k++,frozen:void 0}),p(De)||f(De,Te[X],{that:Te,AS_ENTRIES:W})}),q=te.prototype,he=y(_),Pe=function(Te,De,ye){var ve=he(Te),T=r(d(De),!0);return T===!0?A(ve).set(De,ye):T[ve.id]=ye,Te};return o(q,{delete:function(Te){var De=he(this);if(!s(Te))return!1;var ye=r(Te);return ye===!0?A(De).delete(Te):ye&&x(ye,De.id)&&delete ye[De.id]},has:function(De){var ye=he(this);if(!s(De))return!1;var ve=r(De);return ve===!0?A(ye).has(De):ve&&x(ve,ye.id)}}),o(q,W?{get:function(De){var ye=he(this);if(s(De)){var ve=r(De);return ve===!0?A(ye).get(De):ve?ve[ye.id]:void 0}},set:function(De,ye){return Pe(this,De,ye)}}:{add:function(De){return Pe(this,De,!0)}}),te}}},77710:function(i,I,e){"use strict";var u=e(82109),o=e(17854),r=e(1702),l=e(54705),d=e(98052),p=e(62423),s=e(20408),f=e(25787),h=e(60614),x=e(68554),m=e(70111),g=e(47293),y=e(17072),S=e(58003),E=e(79587);i.exports=function(P,k,A){var L=P.indexOf("Map")!==-1,j=P.indexOf("Weak")!==-1,C=L?"set":"add",_=o[P],W=_&&_.prototype,X=_,te={},q=function(T){var F=r(W[T]);d(W,T,T=="add"?function(O){return F(this,O===0?0:O),this}:T=="delete"?function(Z){return j&&!m(Z)?!1:F(this,Z===0?0:Z)}:T=="get"?function(O){return j&&!m(O)?void 0:F(this,O===0?0:O)}:T=="has"?function(O){return j&&!m(O)?!1:F(this,O===0?0:O)}:function(O,z){return F(this,O===0?0:O,z),this})},he=l(P,!h(_)||!(j||W.forEach&&!g(function(){new _().entries().next()})));if(he)X=A.getConstructor(k,P,L,C),p.enable();else if(l(P,!0)){var Pe=new X,Te=Pe[C](j?{}:-0,1)!=Pe,De=g(function(){Pe.has(1)}),ye=y(function(T){new _(T)}),ve=!j&&g(function(){for(var T=new _,F=5;F--;)T[C](F,F);return!T.has(-0)});ye||(X=k(function(T,F){f(T,W);var Z=E(new _,T,X);return x(F)||s(F,Z[C],{that:Z,AS_ENTRIES:L}),Z}),X.prototype=W,W.constructor=X),(De||ve)&&(q("delete"),q("has"),L&&q("get")),(ve||Te)&&q(C),j&&W.clear&&delete W.clear}return te[P]=X,u({global:!0,constructor:!0,forced:X!=_},te),S(X,P),j||A.setStrong(X,P,L),X}},10313:function(i,I,e){e(51532),e(4129);var u=e(35005),o=e(70030),r=e(70111),l=Object,d=TypeError,p=u("Map"),s=u("WeakMap"),f=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=o(null)};f.prototype.get=function(x,m){return this[x]||(this[x]=m())},f.prototype.next=function(x,m,g){var y=g?this.objectsByIndex[x]||(this.objectsByIndex[x]=new s):this.primitives||(this.primitives=new p),S=y.get(m);return S||y.set(m,S=new f),S};var h=new f;i.exports=function(){var x=h,m=arguments.length,g,y;for(g=0;g<m;g++)r(y=arguments[g])&&(x=x.next(g,y,!0));if(this===l&&x===h)throw d("Composite keys must contain a non-primitive component");for(g=0;g<m;g++)r(y=arguments[g])||(x=x.next(g,y,!1));return x}},99920:function(i,I,e){var u=e(92597),o=e(53887),r=e(31236),l=e(3070);i.exports=function(d,p,s){for(var f=o(p),h=l.f,x=r.f,m=0;m<f.length;m++){var g=f[m];!u(d,g)&&!(s&&u(s,g))&&h(d,g,x(p,g))}}},49920:function(i,I,e){var u=e(47293);i.exports=!u(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},76178:function(i){i.exports=function(I,e){return{value:I,done:e}}},68880:function(i,I,e){var u=e(19781),o=e(3070),r=e(79114);i.exports=u?function(l,d,p){return o.f(l,d,r(1,p))}:function(l,d,p){return l[d]=p,l}},79114:function(i){i.exports=function(I,e){return{enumerable:!(I&1),configurable:!(I&2),writable:!(I&4),value:e}}},86135:function(i,I,e){"use strict";var u=e(34948),o=e(3070),r=e(79114);i.exports=function(l,d,p){var s=u(d);s in l?o.f(l,s,r(0,p)):l[s]=p}},47045:function(i,I,e){var u=e(56339),o=e(3070);i.exports=function(r,l,d){return d.get&&u(d.get,l,{getter:!0}),d.set&&u(d.set,l,{setter:!0}),o.f(r,l,d)}},98052:function(i,I,e){var u=e(60614),o=e(3070),r=e(56339),l=e(13072);i.exports=function(d,p,s,f){f||(f={});var h=f.enumerable,x=f.name!==void 0?f.name:p;if(u(s)&&r(s,x,f),f.global)h?d[p]=s:l(p,s);else{try{f.unsafe?d[p]&&(h=!0):delete d[p]}catch(m){}h?d[p]=s:o.f(d,p,{value:s,enumerable:!1,configurable:!f.nonConfigurable,writable:!f.nonWritable})}return d}},89190:function(i,I,e){var u=e(98052);i.exports=function(o,r,l){for(var d in r)u(o,d,r[d],l);return o}},13072:function(i,I,e){var u=e(17854),o=Object.defineProperty;i.exports=function(r,l){try{o(u,r,{value:l,configurable:!0,writable:!0})}catch(d){u[r]=l}return l}},19781:function(i,I,e){var u=e(47293);i.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},4154:function(i){var I=typeof document=="object"&&document.all,e=typeof I=="undefined"&&I!==void 0;i.exports={all:I,IS_HTMLDDA:e}},80317:function(i,I,e){var u=e(17854),o=e(70111),r=u.document,l=o(r)&&o(r.createElement);i.exports=function(d){return l?r.createElement(d):{}}},7207:function(i){var I=TypeError,e=9007199254740991;i.exports=function(u){if(u>e)throw I("Maximum allowed index exceeded");return u}},93678:function(i){i.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},7871:function(i,I,e){var u=e(83823),o=e(35268);i.exports=!u&&!o&&typeof window=="object"&&typeof document=="object"},89363:function(i){i.exports=typeof Bun=="function"&&Bun&&typeof Bun.version=="string"},83823:function(i){i.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},6833:function(i,I,e){var u=e(88113);i.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(u)},35268:function(i,I,e){var u=e(34155),o=e(84326);i.exports=typeof u!="undefined"&&o(u)=="process"},88113:function(i){i.exports=typeof navigator!="undefined"&&String(navigator.userAgent)||""},7392:function(i,I,e){var u=e(17854),o=e(88113),r=u.process,l=u.Deno,d=r&&r.versions||l&&l.version,p=d&&d.v8,s,f;p&&(s=p.split("."),f=s[0]>0&&s[0]<4?1:+(s[0]+s[1])),!f&&o&&(s=o.match(/Edge\/(\d+)/),(!s||s[1]>=74)&&(s=o.match(/Chrome\/(\d+)/),s&&(f=+s[1]))),i.exports=f},98770:function(i,I,e){var u=e(17854);i.exports=function(o){return u[o].prototype}},80748:function(i){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},11060:function(i,I,e){var u=e(1702),o=Error,r=u("".replace),l=function(s){return String(o(s).stack)}("zxcasd"),d=/\n\s*at [^:]*:[^\n]*/,p=d.test(l);i.exports=function(s,f){if(p&&typeof s=="string"&&!o.prepareStackTrace)for(;f--;)s=r(s,d,"");return s}},5392:function(i,I,e){var u=e(68880),o=e(11060),r=e(22914),l=Error.captureStackTrace;i.exports=function(d,p,s,f){r&&(l?l(d,p):u(d,"stack",o(s,f)))}},22914:function(i,I,e){var u=e(47293),o=e(79114);i.exports=!u(function(){var r=Error("a");return"stack"in r?(Object.defineProperty(r,"stack",o(1,7)),r.stack!==7):!0})},82109:function(i,I,e){var u=e(17854),o=e(31236).f,r=e(68880),l=e(98052),d=e(13072),p=e(99920),s=e(54705);i.exports=function(f,h){var x=f.target,m=f.global,g=f.stat,y,S,E,P,k,A;if(m?S=u:g?S=u[x]||d(x,{}):S=(u[x]||{}).prototype,S)for(E in h){if(k=h[E],f.dontCallGetSet?(A=o(S,E),P=A&&A.value):P=S[E],y=s(m?E:x+(g?".":"#")+E,f.forced),!y&&P!==void 0){if(typeof k==typeof P)continue;p(k,P)}(f.sham||P&&P.sham)&&r(k,"sham",!0),l(S,E,k,f)}}},47293:function(i){i.exports=function(I){try{return!!I()}catch(e){return!0}}},76677:function(i,I,e){var u=e(47293);i.exports=!u(function(){return Object.isExtensible(Object.preventExtensions({}))})},22104:function(i,I,e){var u=e(34374),o=Function.prototype,r=o.apply,l=o.call;i.exports=typeof Reflect=="object"&&Reflect.apply||(u?l.bind(r):function(){return l.apply(r,arguments)})},49974:function(i,I,e){var u=e(21470),o=e(19662),r=e(34374),l=u(u.bind);i.exports=function(d,p){return o(d),p===void 0?d:r?l(d,p):function(){return d.apply(p,arguments)}}},34374:function(i,I,e){var u=e(47293);i.exports=!u(function(){var o=function(){}.bind();return typeof o!="function"||o.hasOwnProperty("prototype")})},46916:function(i,I,e){var u=e(34374),o=Function.prototype.call;i.exports=u?o.bind(o):function(){return o.apply(o,arguments)}},55040:function(i,I,e){"use strict";var u=e(1702),o=e(19662);i.exports=function(){return u(o(this))}},76530:function(i,I,e){var u=e(19781),o=e(92597),r=Function.prototype,l=u&&Object.getOwnPropertyDescriptor,d=o(r,"name"),p=d&&function(){}.name==="something",s=d&&(!u||u&&l(r,"name").configurable);i.exports={EXISTS:d,PROPER:p,CONFIGURABLE:s}},75668:function(i,I,e){var u=e(1702),o=e(19662);i.exports=function(r,l,d){try{return u(o(Object.getOwnPropertyDescriptor(r,l)[d]))}catch(p){}}},21470:function(i,I,e){var u=e(84326),o=e(1702);i.exports=function(r){if(u(r)==="Function")return o(r)}},1702:function(i,I,e){var u=e(34374),o=Function.prototype,r=o.call,l=u&&o.bind.bind(r,r);i.exports=u?l:function(d){return function(){return r.apply(d,arguments)}}},62617:function(i,I,e){var u=e(46916),o=e(60614),r=e(19670),l=e(24942),d=e(71246),p=e(58173),s=e(5112),f=e(28091),h=s("asyncIterator");i.exports=function(m){var g=r(m),y=!0,S=p(g,h),E;return o(S)||(S=d(g),y=!1),o(S)?E=u(S,g):(E=g,y=!0),r(E),l(y?E:new f(l(E)))}},54777:function(i,I,e){var u=e(46916),o=e(28091),r=e(19670),l=e(18554),d=e(24942),p=e(58173),s=e(5112),f=s("asyncIterator");i.exports=function(h,x){var m=arguments.length<2?p(h,f):x;return m?r(u(m,h)):new o(d(l(h)))}},35005:function(i,I,e){var u=e(17854),o=e(60614),r=function(l){return o(l)?l:void 0};i.exports=function(l,d){return arguments.length<2?r(u[l]):u[l]&&u[l][d]}},24942:function(i,I,e){var u=e(19662),o=e(19670);i.exports=function(r){return{iterator:r,next:u(o(r).next)}}},72897:function(i,I,e){var u=e(46916),o=e(60614),r=e(19670),l=e(24942),d=e(71246);i.exports=function(p){var s=r(p),f=d(s);return l(r(o(f)?u(f,s):s))}},71246:function(i,I,e){var u=e(70648),o=e(58173),r=e(68554),l=e(97497),d=e(5112),p=d("iterator");i.exports=function(s){if(!r(s))return o(s,p)||o(s,"@@iterator")||l[u(s)]}},18554:function(i,I,e){var u=e(46916),o=e(19662),r=e(19670),l=e(66330),d=e(71246),p=TypeError;i.exports=function(s,f){var h=arguments.length<2?d(s):f;if(o(h))return r(u(h,s));throw p(l(s)+" is not iterable")}},58173:function(i,I,e){var u=e(19662),o=e(68554);i.exports=function(r,l){var d=r[l];return o(d)?void 0:u(d)}},738:function(i,I,e){var u=e(19662),o=e(19670),r=e(46916),l=e(19303),d=TypeError,p=Math.max,s=function(f,h,x,m){this.set=f,this.size=h,this.has=x,this.keys=m};s.prototype={getIterator:function(){return o(r(this.keys,this.set))},includes:function(f){return r(this.has,this.set,f)}},i.exports=function(f){o(f);var h=+f.size;if(h!=h)throw d("Invalid size");return new s(f,p(l(h),0),u(f.has),u(f.keys))}},10647:function(i,I,e){var u=e(1702),o=e(47908),r=Math.floor,l=u("".charAt),d=u("".replace),p=u("".slice),s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,f=/\$([$&'`]|\d{1,2})/g;i.exports=function(h,x,m,g,y,S){var E=m+h.length,P=g.length,k=f;return y!==void 0&&(y=o(y),k=s),d(S,k,function(A,L){var j;switch(l(L,0)){case"$":return"$";case"&":return h;case"`":return p(x,0,m);case"'":return p(x,E);case"<":j=y[p(L,1,-1)];break;default:var C=+L;if(C===0)return A;if(C>P){var _=r(C/10);return _===0?A:_<=P?g[_-1]===void 0?l(L,1):g[_-1]+l(L,1):A}j=g[C-1]}return j===void 0?"":j})}},17854:function(i,I,e){var u=function(o){return o&&o.Math==Math&&o};i.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof e.g=="object"&&e.g)||function(){return this}()||Function("return this")()},92597:function(i,I,e){var u=e(1702),o=e(47908),r=u({}.hasOwnProperty);i.exports=Object.hasOwn||function(d,p){return r(o(d),p)}},3501:function(i){i.exports={}},842:function(i){i.exports=function(I,e){try{arguments.length==1?console.error(I):console.error(I,e)}catch(u){}}},60490:function(i,I,e){var u=e(35005);i.exports=u("document","documentElement")},64664:function(i,I,e){var u=e(19781),o=e(47293),r=e(80317);i.exports=!u&&!o(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!=7})},68361:function(i,I,e){var u=e(1702),o=e(47293),r=e(84326),l=Object,d=u("".split);i.exports=o(function(){return!l("z").propertyIsEnumerable(0)})?function(p){return r(p)=="String"?d(p,""):l(p)}:l},79587:function(i,I,e){var u=e(60614),o=e(70111),r=e(27674);i.exports=function(l,d,p){var s,f;return r&&u(s=d.constructor)&&s!==p&&o(f=s.prototype)&&f!==p.prototype&&r(l,f),l}},42788:function(i,I,e){var u=e(1702),o=e(60614),r=e(5465),l=u(Function.toString);o(r.inspectSource)||(r.inspectSource=function(d){return l(d)}),i.exports=r.inspectSource},58340:function(i,I,e){var u=e(70111),o=e(68880);i.exports=function(r,l){u(l)&&"cause"in l&&o(r,"cause",l.cause)}},62423:function(i,I,e){var u=e(82109),o=e(1702),r=e(3501),l=e(70111),d=e(92597),p=e(3070).f,s=e(8006),f=e(1156),h=e(52050),x=e(69711),m=e(76677),g=!1,y=x("meta"),S=0,E=function(C){p(C,y,{value:{objectID:"O"+S++,weakData:{}}})},P=function(C,_){if(!l(C))return typeof C=="symbol"?C:(typeof C=="string"?"S":"P")+C;if(!d(C,y)){if(!h(C))return"F";if(!_)return"E";E(C)}return C[y].objectID},k=function(C,_){if(!d(C,y)){if(!h(C))return!0;if(!_)return!1;E(C)}return C[y].weakData},A=function(C){return m&&g&&h(C)&&!d(C,y)&&E(C),C},L=function(){j.enable=function(){},g=!0;var C=s.f,_=o([].splice),W={};W[y]=1,C(W).length&&(s.f=function(X){for(var te=C(X),q=0,he=te.length;q<he;q++)if(te[q]===y){_(te,q,1);break}return te},u({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:f.f}))},j=i.exports={enable:L,fastKey:P,getWeakData:k,onFreeze:A};r[y]=!0},29909:function(i,I,e){var u=e(94811),o=e(17854),r=e(70111),l=e(68880),d=e(92597),p=e(5465),s=e(6200),f=e(3501),h="Object already initialized",x=o.TypeError,m=o.WeakMap,g,y,S,E=function(L){return S(L)?y(L):g(L,{})},P=function(L){return function(j){var C;if(!r(j)||(C=y(j)).type!==L)throw x("Incompatible receiver, "+L+" required");return C}};if(u||p.state){var k=p.state||(p.state=new m);k.get=k.get,k.has=k.has,k.set=k.set,g=function(L,j){if(k.has(L))throw x(h);return j.facade=L,k.set(L,j),j},y=function(L){return k.get(L)||{}},S=function(L){return k.has(L)}}else{var A=s("state");f[A]=!0,g=function(L,j){if(d(L,A))throw x(h);return j.facade=L,l(L,A,j),j},y=function(L){return d(L,A)?L[A]:{}},S=function(L){return d(L,A)}}i.exports={set:g,get:y,has:S,enforce:E,getterFor:P}},97659:function(i,I,e){var u=e(5112),o=e(97497),r=u("iterator"),l=Array.prototype;i.exports=function(d){return d!==void 0&&(o.Array===d||l[r]===d)}},43157:function(i,I,e){var u=e(84326);i.exports=Array.isArray||function(r){return u(r)=="Array"}},44067:function(i,I,e){var u=e(70648);i.exports=function(o){var r=u(o);return r=="BigInt64Array"||r=="BigUint64Array"}},60614:function(i,I,e){var u=e(4154),o=u.all;i.exports=u.IS_HTMLDDA?function(r){return typeof r=="function"||r===o}:function(r){return typeof r=="function"}},4411:function(i,I,e){var u=e(1702),o=e(47293),r=e(60614),l=e(70648),d=e(35005),p=e(42788),s=function(){},f=[],h=d("Reflect","construct"),x=/^\s*(?:class|function)\b/,m=u(x.exec),g=!x.exec(s),y=function(P){if(!r(P))return!1;try{return h(s,f,P),!0}catch(k){return!1}},S=function(P){if(!r(P))return!1;switch(l(P)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!m(x,p(P))}catch(k){return!0}};S.sham=!0,i.exports=!h||o(function(){var E;return y(y.call)||!y(Object)||!y(function(){E=!0})||E})?S:y},54705:function(i,I,e){var u=e(47293),o=e(60614),r=/#|\.prototype\./,l=function(h,x){var m=p[d(h)];return m==f?!0:m==s?!1:o(x)?u(x):!!x},d=l.normalize=function(h){return String(h).replace(r,".").toLowerCase()},p=l.data={},s=l.NATIVE="N",f=l.POLYFILL="P";i.exports=l},25615:function(i,I,e){var u=e(70648),o=e(92597),r=e(68554),l=e(5112),d=e(97497),p=l("iterator"),s=Object;i.exports=function(f){if(r(f))return!1;var h=s(f);return h[p]!==void 0||"@@iterator"in h||o(d,u(h))}},68554:function(i){i.exports=function(I){return I==null}},70111:function(i,I,e){var u=e(60614),o=e(4154),r=o.all;i.exports=o.IS_HTMLDDA?function(l){return typeof l=="object"?l!==null:u(l)||l===r}:function(l){return typeof l=="object"?l!==null:u(l)}},31913:function(i){i.exports=!1},47850:function(i,I,e){var u=e(70111),o=e(84326),r=e(5112),l=r("match");i.exports=function(d){var p;return u(d)&&((p=d[l])!==void 0?!!p:o(d)=="RegExp")}},52190:function(i,I,e){var u=e(35005),o=e(60614),r=e(47976),l=e(43307),d=Object;i.exports=l?function(p){return typeof p=="symbol"}:function(p){var s=u("Symbol");return o(s)&&r(s.prototype,d(p))}},6333:function(i,I,e){var u=e(46916);i.exports=function(o,r,l){for(var d=l||o.next,p,s;!(p=u(d,o)).done;)if(s=r(p.value),s!==void 0)return s}},20408:function(i,I,e){var u=e(49974),o=e(46916),r=e(19670),l=e(66330),d=e(97659),p=e(26244),s=e(47976),f=e(18554),h=e(71246),x=e(99212),m=TypeError,g=function(S,E){this.stopped=S,this.result=E},y=g.prototype;i.exports=function(S,E,P){var k=P&&P.that,A=!!(P&&P.AS_ENTRIES),L=!!(P&&P.IS_RECORD),j=!!(P&&P.IS_ITERATOR),C=!!(P&&P.INTERRUPTED),_=u(E,k),W,X,te,q,he,Pe,Te,De=function(ve){return W&&x(W,"normal",ve),new g(!0,ve)},ye=function(ve){return A?(r(ve),C?_(ve[0],ve[1],De):_(ve[0],ve[1])):C?_(ve,De):_(ve)};if(L)W=S.iterator;else if(j)W=S;else{if(X=h(S),!X)throw m(l(S)+" is not iterable");if(d(X)){for(te=0,q=p(S);q>te;te++)if(he=ye(S[te]),he&&s(y,he))return he;return new g(!1)}W=f(S,X)}for(Pe=L?S.next:W.next;!(Te=o(Pe,W)).done;){try{he=ye(Te.value)}catch(ve){x(W,"throw",ve)}if(typeof he=="object"&&he&&s(y,he))return he}return new g(!1)}},99212:function(i,I,e){var u=e(46916),o=e(19670),r=e(58173);i.exports=function(l,d,p){var s,f;o(l);try{if(s=r(l,"return"),!s){if(d==="throw")throw p;return p}s=u(s,l)}catch(h){f=!0,s=h}if(d==="throw")throw p;if(f)throw s;return o(s),p}},63061:function(i,I,e){"use strict";var u=e(13383).IteratorPrototype,o=e(70030),r=e(79114),l=e(58003),d=e(97497),p=function(){return this};i.exports=function(s,f,h,x){var m=f+" Iterator";return s.prototype=o(u,{next:r(+!x,h)}),l(s,m,!1,!0),d[m]=p,s}},54956:function(i,I,e){"use strict";var u=e(46916),o=e(70030),r=e(68880),l=e(89190),d=e(5112),p=e(29909),s=e(58173),f=e(13383).IteratorPrototype,h=e(76178),x=e(99212),m=d("toStringTag"),g="IteratorHelper",y="WrapForValidIterator",S=p.set,E=function(A){var L=p.getterFor(A?y:g);return l(o(f),{next:function(){var C=L(this);if(A)return C.nextHandler();try{var _=C.done?void 0:C.nextHandler();return h(_,C.done)}catch(W){throw C.done=!0,W}},return:function(){var j=L(this),C=j.iterator;if(j.done=!0,A){var _=s(C,"return");return _?u(_,C):h(void 0,!0)}if(j.inner)try{x(j.inner.iterator,"normal")}catch(W){return x(C,"throw",W)}return x(C,"normal"),h(void 0,!0)}})},P=E(!0),k=E(!1);r(k,m,"Iterator Helper"),i.exports=function(A,L){var j=function(_,W){W?(W.iterator=_.iterator,W.next=_.next):W=_,W.type=L?y:g,W.nextHandler=A,W.counter=0,W.done=!1,S(this,W)};return j.prototype=L?P:k,j}},51656:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(31913),l=e(76530),d=e(60614),p=e(63061),s=e(79518),f=e(27674),h=e(58003),x=e(68880),m=e(98052),g=e(5112),y=e(97497),S=e(13383),E=l.PROPER,P=l.CONFIGURABLE,k=S.IteratorPrototype,A=S.BUGGY_SAFARI_ITERATORS,L=g("iterator"),j="keys",C="values",_="entries",W=function(){return this};i.exports=function(X,te,q,he,Pe,Te,De){p(q,te,he);var ye=function(N){if(N===Pe&&O)return O;if(!A&&N in F)return F[N];switch(N){case j:return function(){return new q(this,N)};case C:return function(){return new q(this,N)};case _:return function(){return new q(this,N)}}return function(){return new q(this)}},ve=te+" Iterator",T=!1,F=X.prototype,Z=F[L]||F["@@iterator"]||Pe&&F[Pe],O=!A&&Z||ye(Pe),z=te=="Array"&&F.entries||Z,ae,be,Re;if(z&&(ae=s(z.call(new X)),ae!==Object.prototype&&ae.next&&(!r&&s(ae)!==k&&(f?f(ae,k):d(ae[L])||m(ae,L,W)),h(ae,ve,!0,!0),r&&(y[ve]=W))),E&&Pe==C&&Z&&Z.name!==C&&(!r&&P?x(F,"name",C):(T=!0,O=function(){return o(Z,this)})),Pe)if(be={values:ye(C),keys:Te?O:ye(j),entries:ye(_)},De)for(Re in be)(A||T||!(Re in F))&&m(F,Re,be[Re]);else u({target:te,proto:!0,forced:A||T},be);return(!r||De)&&F[L]!==O&&m(F,L,O,{name:Pe}),y[te]=O,be}},14323:function(i,I,e){"use strict";var u=e(46916),o=e(20487),r=function(l,d){return[d,l]};i.exports=function(){return u(o,this,r)}},20487:function(i,I,e){"use strict";var u=e(46916),o=e(19662),r=e(19670),l=e(24942),d=e(54956),p=e(53411),s=d(function(){var f=this.iterator,h=r(u(this.next,f)),x=this.done=!!h.done;if(!x)return p(f,this.mapper,[h.value,this.counter++],!0)});i.exports=function(h){return new s(l(this),{mapper:o(h)})}},13383:function(i,I,e){"use strict";var u=e(47293),o=e(60614),r=e(70111),l=e(70030),d=e(79518),p=e(98052),s=e(5112),f=e(31913),h=s("iterator"),x=!1,m,g,y;[].keys&&(y=[].keys(),"next"in y?(g=d(d(y)),g!==Object.prototype&&(m=g)):x=!0);var S=!r(m)||u(function(){var E={};return m[h].call(E)!==E});S?m={}:f&&(m=l(m)),o(m[h])||p(m,h,function(){return this}),i.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:x}},97497:function(i){i.exports={}},26244:function(i,I,e){var u=e(17466);i.exports=function(o){return u(o.length)}},56339:function(i,I,e){var u=e(1702),o=e(47293),r=e(60614),l=e(92597),d=e(19781),p=e(76530).CONFIGURABLE,s=e(42788),f=e(29909),h=f.enforce,x=f.get,m=String,g=Object.defineProperty,y=u("".slice),S=u("".replace),E=u([].join),P=d&&!o(function(){return g(function(){},"length",{value:8}).length!==8}),k=String(String).split("String"),A=i.exports=function(L,j,C){y(m(j),0,7)==="Symbol("&&(j="["+S(m(j),/^Symbol\(([^)]*)\)/,"$1")+"]"),C&&C.getter&&(j="get "+j),C&&C.setter&&(j="set "+j),(!l(L,"name")||p&&L.name!==j)&&(d?g(L,"name",{value:j,configurable:!0}):L.name=j),P&&C&&l(C,"arity")&&L.length!==C.arity&&g(L,"length",{value:C.arity});try{C&&l(C,"constructor")&&C.constructor?d&&g(L,"prototype",{writable:!1}):L.prototype&&(L.prototype=void 0)}catch(W){}var _=h(L);return l(_,"source")||(_.source=E(k,typeof j=="string"?j:"")),L};Function.prototype.toString=A(function(){return r(this)&&x(this).source||s(this)},"toString")},75706:function(i,I,e){var u=e(1702),o=Map.prototype;i.exports={Map,set:u(o.set),get:u(o.get),has:u(o.has),remove:u(o.delete),proto:o}},14995:function(i,I,e){var u=e(1702),o=e(6333),r=e(75706),l=r.Map,d=r.proto,p=u(d.forEach),s=u(d.entries),f=s(new l).next;i.exports=function(h,x,m){return m?o(s(h),function(g){return x(g[1],g[0])},f):p(h,x)}},8154:function(i,I,e){"use strict";var u=e(46916),o=e(19662),r=e(60614),l=e(19670),d=TypeError;i.exports=function(s,f){var h=l(this),x=o(h.get),m=o(h.has),g=o(h.set),y=arguments.length>2?arguments[2]:void 0,S;if(!r(f)&&!r(y))throw d("At least one callback required");return u(m,h,s)?(S=u(x,h,s),r(f)&&(S=f(S),u(g,h,s,S))):r(y)&&(S=y(),u(g,h,s,S)),S}},26130:function(i,I,e){var u=e(64310),o=Math.abs,r=Math.pow,l=r(2,-52),d=r(2,-23),p=r(2,127)*(2-d),s=r(2,-126),f=function(h){return h+1/l-1/l};i.exports=Math.fround||function(x){var m=+x,g=o(m),y=u(m),S,E;return g<s?y*f(g/s/d)*s*d:(S=(1+d/l)*g,E=S-(S-g),E>p||E!=E?y*(1/0):y*E)}},47103:function(i){i.exports=Math.scale||function(e,u,o,r,l){var d=+e,p=+u,s=+o,f=+r,h=+l;return d!=d||p!=p||s!=s||f!=f||h!=h?NaN:d===1/0||d===-1/0?d:(d-p)*(h-f)/(s-p)+f}},64310:function(i){i.exports=Math.sign||function(e){var u=+e;return u==0||u!=u?u:u<0?-1:1}},74758:function(i){var I=Math.ceil,e=Math.floor;i.exports=Math.trunc||function(o){var r=+o;return(r>0?e:I)(r)}},78523:function(i,I,e){"use strict";var u=e(19662),o=TypeError,r=function(l){var d,p;this.promise=new l(function(s,f){if(d!==void 0||p!==void 0)throw o("Bad Promise constructor");d=s,p=f}),this.resolve=u(d),this.reject=u(p)};i.exports.f=function(l){return new r(l)}},56277:function(i,I,e){var u=e(41340);i.exports=function(o,r){return o===void 0?arguments.length<2?"":r:u(o)}},66336:function(i){var I=RangeError;i.exports=function(e){if(e===e)return e;throw I("NaN is not allowed")}},77023:function(i,I,e){var u=e(17854),o=u.isFinite;i.exports=Number.isFinite||function(l){return typeof l=="number"&&o(l)}},83009:function(i,I,e){var u=e(17854),o=e(47293),r=e(1702),l=e(41340),d=e(53111).trim,p=e(81361),s=u.parseInt,f=u.Symbol,h=f&&f.iterator,x=/^[+-]?0x/i,m=r(x.exec),g=s(p+"08")!==8||s(p+"0x16")!==22||h&&!o(function(){s(Object(h))});i.exports=g?function(S,E){var P=d(l(S));return s(P,E>>>0||(m(x,P)?16:10))}:s},80430:function(i,I,e){"use strict";var u=e(29909),o=e(63061),r=e(76178),l=e(68554),d=e(70111),p=e(36048).f,s=e(19781),f="Incorrect Iterator.range arguments",h="NumericRangeIterator",x=u.set,m=u.getterFor(h),g=RangeError,y=TypeError,S=o(function(k,A,L,j,C,_){if(typeof k!=j||A!==1/0&&A!==-1/0&&typeof A!=j)throw y(f);if(k===1/0||k===-1/0)throw g(f);var W=A>k,X=!1,te;if(L===void 0)te=void 0;else if(d(L))te=L.step,X=!!L.inclusive;else if(typeof L==j)te=L;else throw y(f);if(l(te)&&(te=W?_:-_),typeof te!=j)throw y(f);if(te===1/0||te===-1/0||te===C&&k!==A)throw g(f);var q=k!=k||A!=A||te!=te||A>k!=te>C;x(this,{type:h,start:k,end:A,step:te,inclusiveEnd:X,hitsEnd:q,currentCount:C,zero:C}),s||(this.start=k,this.end=A,this.step=te,this.inclusive=X)},h,function(){var k=m(this);if(k.hitsEnd)return r(void 0,!0);var A=k.start,L=k.end,j=k.step,C=A+j*k.currentCount++;C===L&&(k.hitsEnd=!0);var _=k.inclusiveEnd,W;return L>A?W=_?C>L:C>=L:W=_?L>C:L>=C,W?(k.hitsEnd=!0,r(void 0,!0)):r(C,!1)}),E=function(P){return{get:P,set:function(){},configurable:!0,enumerable:!1}};s&&p(S.prototype,{start:E(function(){return m(this).start}),end:E(function(){return m(this).end}),inclusive:E(function(){return m(this).inclusiveEnd}),step:E(function(){return m(this).step})}),i.exports=S},70030:function(i,I,e){var u=e(19670),o=e(36048),r=e(80748),l=e(3501),d=e(60490),p=e(80317),s=e(6200),f=">",h="<",x="prototype",m="script",g=s("IE_PROTO"),y=function(){},S=function(L){return h+m+f+L+h+"/"+m+f},E=function(L){L.write(S("")),L.close();var j=L.parentWindow.Object;return L=null,j},P=function(){var L=p("iframe"),j="java"+m+":",C;return L.style.display="none",d.appendChild(L),L.src=String(j),C=L.contentWindow.document,C.open(),C.write(S("document.F=Object")),C.close(),C.F},k,A=function(){try{k=new ActiveXObject("htmlfile")}catch(j){}A=typeof document!="undefined"?document.domain&&k?E(k):P():E(k);for(var L=r.length;L--;)delete A[x][r[L]];return A()};l[g]=!0,i.exports=Object.create||function(j,C){var _;return j!==null?(y[x]=u(j),_=new y,y[x]=null,_[g]=j):_=A(),C===void 0?_:o.f(_,C)}},36048:function(i,I,e){var u=e(19781),o=e(3353),r=e(3070),l=e(19670),d=e(45656),p=e(81956);I.f=u&&!o?Object.defineProperties:function(f,h){l(f);for(var x=d(h),m=p(h),g=m.length,y=0,S;g>y;)r.f(f,S=m[y++],x[S]);return f}},3070:function(i,I,e){var u=e(19781),o=e(64664),r=e(3353),l=e(19670),d=e(34948),p=TypeError,s=Object.defineProperty,f=Object.getOwnPropertyDescriptor,h="enumerable",x="configurable",m="writable";I.f=u?r?function(y,S,E){if(l(y),S=d(S),l(E),typeof y=="function"&&S==="prototype"&&"value"in E&&m in E&&!E[m]){var P=f(y,S);P&&P[m]&&(y[S]=E.value,E={configurable:x in E?E[x]:P[x],enumerable:h in E?E[h]:P[h],writable:!1})}return s(y,S,E)}:s:function(y,S,E){if(l(y),S=d(S),l(E),o)try{return s(y,S,E)}catch(P){}if("get"in E||"set"in E)throw p("Accessors not supported");return"value"in E&&(y[S]=E.value),y}},31236:function(i,I,e){var u=e(19781),o=e(46916),r=e(55296),l=e(79114),d=e(45656),p=e(34948),s=e(92597),f=e(64664),h=Object.getOwnPropertyDescriptor;I.f=u?h:function(m,g){if(m=d(m),g=p(g),f)try{return h(m,g)}catch(y){}if(s(m,g))return l(!o(r.f,m,g),m[g])}},1156:function(i,I,e){var u=e(84326),o=e(45656),r=e(8006).f,l=e(41589),d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],p=function(s){try{return r(s)}catch(f){return l(d)}};i.exports.f=function(f){return d&&u(f)=="Window"?p(f):r(o(f))}},8006:function(i,I,e){var u=e(16324),o=e(80748),r=o.concat("length","prototype");I.f=Object.getOwnPropertyNames||function(d){return u(d,r)}},25181:function(i,I){I.f=Object.getOwnPropertySymbols},79518:function(i,I,e){var u=e(92597),o=e(60614),r=e(47908),l=e(6200),d=e(49920),p=l("IE_PROTO"),s=Object,f=s.prototype;i.exports=d?s.getPrototypeOf:function(h){var x=r(h);if(u(x,p))return x[p];var m=x.constructor;return o(m)&&x instanceof m?m.prototype:x instanceof s?f:null}},52050:function(i,I,e){var u=e(47293),o=e(70111),r=e(84326),l=e(7556),d=Object.isExtensible,p=u(function(){d(1)});i.exports=p||l?function(f){return!o(f)||l&&r(f)=="ArrayBuffer"?!1:d?d(f):!0}:d},47976:function(i,I,e){var u=e(1702);i.exports=u({}.isPrototypeOf)},60996:function(i,I,e){"use strict";var u=e(29909),o=e(63061),r=e(76178),l=e(92597),d=e(81956),p=e(47908),s="Object Iterator",f=u.set,h=u.getterFor(s);i.exports=o(function(m,g){var y=p(m);f(this,{type:s,mode:g,object:y,keys:d(y),index:0})},"Object",function(){for(var m=h(this),g=m.keys;;){if(g===null||m.index>=g.length)return m.object=m.keys=null,r(void 0,!0);var y=g[m.index++],S=m.object;if(l(S,y)){switch(m.mode){case"keys":return r(y,!1);case"values":return r(S[y],!1)}return r([y,S[y]],!1)}}})},16324:function(i,I,e){var u=e(1702),o=e(92597),r=e(45656),l=e(41318).indexOf,d=e(3501),p=u([].push);i.exports=function(s,f){var h=r(s),x=0,m=[],g;for(g in h)!o(d,g)&&o(h,g)&&p(m,g);for(;f.length>x;)o(h,g=f[x++])&&(~l(m,g)||p(m,g));return m}},81956:function(i,I,e){var u=e(16324),o=e(80748);i.exports=Object.keys||function(l){return u(l,o)}},55296:function(i,I){"use strict";var e={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,o=u&&!e.call({1:2},1);I.f=o?function(l){var d=u(this,l);return!!d&&d.enumerable}:e},27674:function(i,I,e){var u=e(75668),o=e(19670),r=e(96077);i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l=!1,d={},p;try{p=u(Object.prototype,"__proto__","set"),p(d,[]),l=d instanceof Array}catch(s){}return function(f,h){return o(f),r(h),l?p(f,h):f.__proto__=h,f}}():void 0)},90515:function(i,I,e){var u=e(17854),o=e(60614),r=e(5112),l=r("observable"),d=u.Observable,p=d&&d.prototype;i.exports=!o(d)||!o(d.from)||!o(d.of)||!o(p.subscribe)||!o(p[l])},92140:function(i,I,e){var u=e(46916),o=e(60614),r=e(70111),l=TypeError;i.exports=function(d,p){var s,f;if(p==="string"&&o(s=d.toString)&&!r(f=u(s,d))||o(s=d.valueOf)&&!r(f=u(s,d))||p!=="string"&&o(s=d.toString)&&!r(f=u(s,d)))return f;throw l("Can't convert object to primitive value")}},53887:function(i,I,e){var u=e(35005),o=e(1702),r=e(8006),l=e(25181),d=e(19670),p=o([].concat);i.exports=u("Reflect","ownKeys")||function(f){var h=r.f(d(f)),x=l.f;return x?p(h,x(f)):h}},40857:function(i,I,e){var u=e(17854);i.exports=u},12534:function(i){i.exports=function(I){try{return{error:!1,value:I()}}catch(e){return{error:!0,value:e}}}},63702:function(i,I,e){var u=e(17854),o=e(2492),r=e(60614),l=e(54705),d=e(42788),p=e(5112),s=e(7871),f=e(83823),h=e(31913),x=e(7392),m=o&&o.prototype,g=p("species"),y=!1,S=r(u.PromiseRejectionEvent),E=l("Promise",function(){var P=d(o),k=P!==String(o);if(!k&&x===66||h&&!(m.catch&&m.finally))return!0;if(!x||x<51||!/native code/.test(P)){var A=new o(function(C){C(1)}),L=function(C){C(function(){},function(){})},j=A.constructor={};if(j[g]=L,y=A.then(function(){})instanceof L,!y)return!0}return!k&&(s||f)&&!S});i.exports={CONSTRUCTOR:E,REJECTION_EVENT:S,SUBCLASSING:y}},2492:function(i,I,e){var u=e(17854);i.exports=u.Promise},80612:function(i,I,e){var u=e(2492),o=e(17072),r=e(63702).CONSTRUCTOR;i.exports=r||!o(function(l){u.all(l).then(void 0,function(){})})},2626:function(i,I,e){var u=e(3070).f;i.exports=function(o,r,l){l in o||u(o,l,{configurable:!0,get:function(){return r[l]},set:function(d){r[l]=d}})}},38845:function(i,I,e){e(51532),e(4129);var u=e(35005),o=e(1702),r=e(72309),l=u("Map"),d=u("WeakMap"),p=o([].push),s=r("metadata"),f=s.store||(s.store=new d),h=function(E,P,k){var A=f.get(E);if(!A){if(!k)return;f.set(E,A=new l)}var L=A.get(P);if(!L){if(!k)return;A.set(P,L=new l)}return L},x=function(E,P,k){var A=h(P,k,!1);return A===void 0?!1:A.has(E)},m=function(E,P,k){var A=h(P,k,!1);return A===void 0?void 0:A.get(E)},g=function(E,P,k,A){h(k,A,!0).set(E,P)},y=function(E,P){var k=h(E,P,!1),A=[];return k&&k.forEach(function(L,j){p(A,j)}),A},S=function(E){return E===void 0||typeof E=="symbol"?E:String(E)};i.exports={store:f,getMap:h,has:x,get:m,set:g,keys:y,toKey:S}},67066:function(i,I,e){"use strict";var u=e(19670);i.exports=function(){var o=u(this),r="";return o.hasIndices&&(r+="d"),o.global&&(r+="g"),o.ignoreCase&&(r+="i"),o.multiline&&(r+="m"),o.dotAll&&(r+="s"),o.unicode&&(r+="u"),o.unicodeSets&&(r+="v"),o.sticky&&(r+="y"),r}},34706:function(i,I,e){var u=e(46916),o=e(92597),r=e(47976),l=e(67066),d=RegExp.prototype;i.exports=function(p){var s=p.flags;return s===void 0&&!("flags"in d)&&!o(p,"flags")&&r(d,p)?u(l,p):s}},84488:function(i,I,e){var u=e(68554),o=TypeError;i.exports=function(r){if(u(r))throw o("Can't call method on "+r);return r}},46465:function(i){i.exports=function(I,e){return I===e||I!=I&&e!=e}},17152:function(i,I,e){"use strict";var u=e(17854),o=e(22104),r=e(60614),l=e(89363),d=e(88113),p=e(50206),s=e(48053),f=u.Function,h=/MSIE .\./.test(d)||l&&function(){var x=u.Bun.version.split(".");return x.length<3||x[0]==0&&(x[1]<3||x[1]==3&&x[2]==0)}();i.exports=function(x,m){var g=m?2:1;return h?function(y,S){var E=s(arguments.length,1)>g,P=r(y)?y:f(y),k=E?p(arguments,g):[],A=E?function(){o(P,this,k)}:P;return m?x(A,S):x(A)}:x}},26283:function(i,I,e){var u=e(79405),o=e(87758),r=u.Set,l=u.add;i.exports=function(d){var p=new r;return o(d,function(s){l(p,s)}),p}},37075:function(i,I,e){"use strict";var u=e(88999),o=e(79405),r=e(26283),l=e(1043),d=e(738),p=e(87758),s=e(6333),f=o.has,h=o.remove;i.exports=function(m){var g=u(this),y=d(m),S=r(g);return l(g)<=y.size?p(g,function(E){y.includes(E)&&h(S,E)}):s(y.getIterator(),function(E){f(g,E)&&h(S,E)}),S}},79405:function(i,I,e){var u=e(1702),o=Set.prototype;i.exports={Set,add:u(o.add),has:u(o.has),remove:u(o.delete),proto:o,$has:o.has,$keys:o.keys}},81920:function(i,I,e){"use strict";var u=e(88999),o=e(79405),r=e(1043),l=e(738),d=e(87758),p=e(6333),s=o.Set,f=o.add,h=o.has,x=o.$has,m=o.$keys,g=function(y){return y.has===x&&y.keys===m};i.exports=function(S){var E=u(this),P=l(S),k=new s;if(!g(P)&&r(E)>P.size){if(p(P.getIterator(),function(L){h(E,L)&&f(k,L)}),r(k)<2)return k;var A=k;k=new s,d(E,function(L){h(A,L)&&f(k,L)})}else d(E,function(L){P.includes(L)&&f(k,L)});return k}},78239:function(i,I,e){"use strict";var u=e(88999),o=e(79405).has,r=e(1043),l=e(738),d=e(87758),p=e(6333),s=e(99212);i.exports=function(h){var x=u(this),m=l(h);if(r(x)<=m.size)return d(x,function(y){if(m.includes(y))return!1},!0)!==!1;var g=m.getIterator();return p(g,function(y){if(o(x,y))return s(g,"normal",!1)})!==!1}},49180:function(i,I,e){"use strict";var u=e(88999),o=e(1043),r=e(87758),l=e(738);i.exports=function(p){var s=u(this),f=l(p);return o(s)>f.size?!1:r(s,function(h){if(!f.includes(h))return!1},!0)!==!1}},10107:function(i,I,e){"use strict";var u=e(88999),o=e(79405).has,r=e(1043),l=e(738),d=e(6333),p=e(99212);i.exports=function(f){var h=u(this),x=l(f);if(r(h)<x.size)return!1;var m=x.getIterator();return d(m,function(g){if(!o(h,g))return p(m,"normal",!1)})!==!1}},87758:function(i,I,e){var u=e(1702),o=e(6333),r=e(79405),l=r.Set,d=r.proto,p=u(d.forEach),s=u(d.keys),f=s(new l).next;i.exports=function(h,x,m){return m?o(s(h),x,f):p(h,x)}},13831:function(i,I,e){var u=e(35005),o=function(){return{size:0,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};i.exports=function(r){try{var l=u("Set");return new l()[r](o()),!0}catch(d){return!1}}},1043:function(i,I,e){var u=e(75668),o=e(79405);i.exports=u(o.proto,"size","get")||function(r){return r.size}},96340:function(i,I,e){"use strict";var u=e(35005),o=e(47045),r=e(5112),l=e(19781),d=r("species");i.exports=function(p){var s=u(p);l&&s&&!s[d]&&o(s,d,{configurable:!0,get:function(){return this}})}},98506:function(i,I,e){"use strict";var u=e(88999),o=e(79405),r=e(26283),l=e(738),d=e(6333),p=o.add,s=o.has,f=o.remove;i.exports=function(x){var m=u(this),g=l(x).getIterator(),y=r(m);return d(g,function(S){s(m,S)?f(y,S):p(y,S)}),y}},58003:function(i,I,e){var u=e(3070).f,o=e(92597),r=e(5112),l=r("toStringTag");i.exports=function(d,p,s){d&&!s&&(d=d.prototype),d&&!o(d,l)&&u(d,l,{configurable:!0,value:p})}},39391:function(i,I,e){"use strict";var u=e(88999),o=e(79405).add,r=e(26283),l=e(738),d=e(6333);i.exports=function(s){var f=u(this),h=l(s).getIterator(),x=r(f);return d(h,function(m){o(x,m)}),x}},6200:function(i,I,e){var u=e(72309),o=e(69711),r=u("keys");i.exports=function(l){return r[l]||(r[l]=o(l))}},5465:function(i,I,e){var u=e(17854),o=e(13072),r="__core-js_shared__",l=u[r]||o(r,{});i.exports=l},72309:function(i,I,e){var u=e(31913),o=e(5465);(i.exports=function(r,l){return o[r]||(o[r]=l!==void 0?l:{})})("versions",[]).push({version:"3.28.0",mode:u?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.28.0/LICENSE",source:"https://github.com/zloirock/core-js"})},36707:function(i,I,e){var u=e(19670),o=e(39483),r=e(68554),l=e(5112),d=l("species");i.exports=function(p,s){var f=u(p).constructor,h;return f===void 0||r(h=u(f)[d])?s:o(h)}},92386:function(i,I,e){var u=e(1702),o=e(45656),r=e(41340),l=e(26244),d=TypeError,p=u([].push),s=u([].join);i.exports=function(h){var x=o(h),m=l(x);if(!m)return"";for(var g=arguments.length,y=[],S=0;;){var E=x[S++];if(E===void 0)throw d("Incorrect template");if(p(y,r(E)),S===m)return s(y,"");S<g&&p(y,r(arguments[S]))}}},28710:function(i,I,e){var u=e(1702),o=e(19303),r=e(41340),l=e(84488),d=u("".charAt),p=u("".charCodeAt),s=u("".slice),f=function(h){return function(x,m){var g=r(l(x)),y=o(m),S=g.length,E,P;return y<0||y>=S?h?"":void 0:(E=p(g,y),E<55296||E>56319||y+1===S||(P=p(g,y+1))<56320||P>57343?h?d(g,y):E:h?s(g,y,y+2):(E-55296<<10)+(P-56320)+65536)}};i.exports={codeAt:f(!1),charAt:f(!0)}},70327:function(i,I,e){var u=e(35005),o=e(1702),r=String.fromCharCode,l=u("String","fromCodePoint"),d=o("".charAt),p=o("".charCodeAt),s=o("".indexOf),f=o("".slice),h=48,x=57,m=97,g=102,y=65,S=70,E=function(A,L){var j=p(A,L);return j>=h&&j<=x},P=function(A,L,j){if(j>=A.length)return-1;for(var C=0;L<j;L++){var _=k(p(A,L));if(_===-1)return-1;C=C*16+_}return C},k=function(A){return A>=h&&A<=x?A-h:A>=m&&A<=g?A-m+10:A>=y&&A<=S?A-y+10:-1};i.exports=function(A){for(var L="",j=0,C=0,_;(C=s(A,"\\",C))>-1;){if(L+=f(A,j,C),++C===A.length)return;var W=d(A,C++);switch(W){case"b":L+="\b";break;case"t":L+="	";break;case"n":L+=`
`;break;case"v":L+="\v";break;case"f":L+="\f";break;case"r":L+="\r";break;case"\r":C<A.length&&d(A,C)===`
`&&++C;case`
`:case"\u2028":case"\u2029":break;case"0":if(E(A,C))return;L+="\0";break;case"x":if(_=P(A,C,C+2),_===-1)return;C+=2,L+=r(_);break;case"u":if(C<A.length&&d(A,C)==="{"){var X=s(A,"}",++C);if(X===-1)return;_=P(A,C,X),C=X+1}else _=P(A,C,C+4),C+=4;if(_===-1||_>1114111)return;L+=l(_);break;default:if(E(W,0))return;L+=W}j=C}return L+f(A,j)}},53111:function(i,I,e){var u=e(1702),o=e(84488),r=e(41340),l=e(81361),d=u("".replace),p=RegExp("^["+l+"]+"),s=RegExp("(^|[^"+l+"])["+l+"]+$"),f=function(h){return function(x){var m=r(o(x));return h&1&&(m=d(m,p,"")),h&2&&(m=d(m,s,"$1")),m}};i.exports={start:f(1),end:f(2),trim:f(3)}},64124:function(i,I,e){var u=e(17854),o=e(47293),r=e(7392),l=e(7871),d=e(83823),p=e(35268),s=u.structuredClone;i.exports=!!s&&!o(function(){if(d&&r>92||p&&r>94||l&&r>97)return!1;var f=new ArrayBuffer(8),h=s(f,{transfer:[f]});return f.byteLength!=0||h.byteLength!=8})},36293:function(i,I,e){var u=e(7392),o=e(47293);i.exports=!!Object.getOwnPropertySymbols&&!o(function(){var r=Symbol();return!String(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&u&&u<41})},20261:function(i,I,e){var u=e(17854),o=e(22104),r=e(49974),l=e(60614),d=e(92597),p=e(47293),s=e(60490),f=e(50206),h=e(80317),x=e(48053),m=e(6833),g=e(35268),y=u.setImmediate,S=u.clearImmediate,E=u.process,P=u.Dispatch,k=u.Function,A=u.MessageChannel,L=u.String,j=0,C={},_="onreadystatechange",W,X,te,q;p(function(){W=u.location});var he=function(ye){if(d(C,ye)){var ve=C[ye];delete C[ye],ve()}},Pe=function(ye){return function(){he(ye)}},Te=function(ye){he(ye.data)},De=function(ye){u.postMessage(L(ye),W.protocol+"//"+W.host)};(!y||!S)&&(y=function(ve){x(arguments.length,1);var T=l(ve)?ve:k(ve),F=f(arguments,1);return C[++j]=function(){o(T,void 0,F)},X(j),j},S=function(ve){delete C[ve]},g?X=function(ye){E.nextTick(Pe(ye))}:P&&P.now?X=function(ye){P.now(Pe(ye))}:A&&!m?(te=new A,q=te.port2,te.port1.onmessage=Te,X=r(q.postMessage,q)):u.addEventListener&&l(u.postMessage)&&!u.importScripts&&W&&W.protocol!=="file:"&&!p(De)?(X=De,u.addEventListener("message",Te,!1)):_ in h("script")?X=function(ye){s.appendChild(h("script"))[_]=function(){s.removeChild(this),he(ye)}}:X=function(ye){setTimeout(Pe(ye),0)}),i.exports={set:y,clear:S}},51400:function(i,I,e){var u=e(19303),o=Math.max,r=Math.min;i.exports=function(l,d){var p=u(l);return p<0?o(p+d,0):r(p,d)}},64599:function(i,I,e){var u=e(57593),o=TypeError;i.exports=function(r){var l=u(r,"number");if(typeof l=="number")throw o("Can't convert number to bigint");return BigInt(l)}},45656:function(i,I,e){var u=e(68361),o=e(84488);i.exports=function(r){return u(o(r))}},19303:function(i,I,e){var u=e(74758);i.exports=function(o){var r=+o;return r!==r||r===0?0:u(r)}},17466:function(i,I,e){var u=e(19303),o=Math.min;i.exports=function(r){return r>0?o(u(r),9007199254740991):0}},47908:function(i,I,e){var u=e(84488),o=Object;i.exports=function(r){return o(u(r))}},84590:function(i,I,e){var u=e(73002),o=RangeError;i.exports=function(r,l){var d=u(r);if(d%l)throw o("Wrong offset");return d}},73002:function(i,I,e){var u=e(19303),o=RangeError;i.exports=function(r){var l=u(r);if(l<0)throw o("The argument can't be less than 0");return l}},57593:function(i,I,e){var u=e(46916),o=e(70111),r=e(52190),l=e(58173),d=e(92140),p=e(5112),s=TypeError,f=p("toPrimitive");i.exports=function(h,x){if(!o(h)||r(h))return h;var m=l(h,f),g;if(m){if(x===void 0&&(x="default"),g=u(m,h,x),!o(g)||r(g))return g;throw s("Can't convert object to primitive value")}return x===void 0&&(x="number"),d(h,x)}},34948:function(i,I,e){var u=e(57593),o=e(52190);i.exports=function(r){var l=u(r,"string");return o(l)?l:l+""}},45965:function(i,I,e){var u=e(35005),o=e(60614),r=e(25615),l=e(70111),d=u("Set"),p=function(s){return l(s)&&typeof s.size=="number"&&o(s.has)&&o(s.keys)};i.exports=function(s){if(p(s))return s;if(r(s))return new d(s)}},51694:function(i,I,e){var u=e(5112),o=u("toStringTag"),r={};r[o]="z",i.exports=String(r)==="[object z]"},41340:function(i,I,e){var u=e(70648),o=String;i.exports=function(r){if(u(r)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return o(r)}},66330:function(i){var I=String;i.exports=function(e){try{return I(e)}catch(u){return"Object"}}},43074:function(i,I,e){var u=e(97745),o=e(66304);i.exports=function(r,l){return u(o(r),l)}},66304:function(i,I,e){var u=e(90260),o=e(36707),r=u.aTypedArrayConstructor,l=u.getTypedArrayConstructor;i.exports=function(d){return r(o(d,l(d)))}},69711:function(i,I,e){var u=e(1702),o=0,r=Math.random(),l=u(1 .toString);i.exports=function(d){return"Symbol("+(d===void 0?"":d)+")_"+l(++o+r,36)}},43307:function(i,I,e){var u=e(36293);i.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},3353:function(i,I,e){var u=e(19781),o=e(47293);i.exports=u&&o(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},48053:function(i){var I=TypeError;i.exports=function(e,u){if(e<u)throw I("Not enough arguments");return e}},94811:function(i,I,e){var u=e(17854),o=e(60614),r=u.WeakMap;i.exports=o(r)&&/native code/.test(String(r))},60953:function(i,I,e){var u=e(1702),o=WeakMap.prototype;i.exports={WeakMap,set:u(o.set),get:u(o.get),has:u(o.has),remove:u(o.delete)}},78818:function(i,I,e){var u=e(1702),o=WeakSet.prototype;i.exports={WeakSet,add:u(o.add),has:u(o.has),remove:u(o.delete)}},26800:function(i,I,e){var u=e(40857),o=e(92597),r=e(6061),l=e(3070).f;i.exports=function(d){var p=u.Symbol||(u.Symbol={});o(p,d)||l(p,d,{value:r.f(d)})}},6061:function(i,I,e){var u=e(5112);I.f=u},5112:function(i,I,e){var u=e(17854),o=e(72309),r=e(92597),l=e(69711),d=e(36293),p=e(43307),s=u.Symbol,f=o("wks"),h=p?s.for||s:s&&s.withoutSetter||l;i.exports=function(x){return r(f,x)||(f[x]=d&&r(s,x)?s[x]:h("Symbol."+x)),f[x]}},81361:function(i){i.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},89191:function(i,I,e){"use strict";var u=e(35005),o=e(92597),r=e(68880),l=e(47976),d=e(27674),p=e(99920),s=e(2626),f=e(79587),h=e(56277),x=e(58340),m=e(5392),g=e(19781),y=e(31913);i.exports=function(S,E,P,k){var A="stackTraceLimit",L=k?2:1,j=S.split("."),C=j[j.length-1],_=u.apply(null,j);if(_){var W=_.prototype;if(!y&&o(W,"cause")&&delete W.cause,!P)return _;var X=u("Error"),te=E(function(q,he){var Pe=h(k?he:q,void 0),Te=k?new _(q):new _;return Pe!==void 0&&r(Te,"message",Pe),m(Te,te,Te.stack,2),this&&l(W,this)&&f(Te,this,te),arguments.length>L&&x(Te,arguments[L]),Te});if(te.prototype=W,C!=="Error"?d?d(te,X):p(te,X,{name:!0}):g&&A in _&&(s(te,_,A),s(te,_,"prepareStackTrace")),p(te,_),!y)try{W.name!==C&&r(W,"name",C),W.constructor=te}catch(q){}return te}}},32120:function(i,I,e){var u=e(82109),o=e(35005),r=e(22104),l=e(47293),d=e(89191),p="AggregateError",s=o(p),f=!l(function(){return s([1]).errors[0]!==1})&&l(function(){return s([1],p,{cause:7}).cause!==7});u({global:!0,constructor:!0,arity:2,forced:f},{AggregateError:d(p,function(h){return function(m,g){return r(h,this,arguments)}},f,!0)})},56967:function(i,I,e){"use strict";var u=e(82109),o=e(47976),r=e(79518),l=e(27674),d=e(99920),p=e(70030),s=e(68880),f=e(79114),h=e(58340),x=e(5392),m=e(20408),g=e(56277),y=e(5112),S=y("toStringTag"),E=Error,P=[].push,k=function(j,C){var _=o(A,this),W;l?W=l(E(),_?r(this):A):(W=_?this:p(A),s(W,S,"Error")),C!==void 0&&s(W,"message",g(C)),x(W,k,W.stack,1),arguments.length>2&&h(W,arguments[2]);var X=[];return m(j,P,{that:X}),s(W,"errors",X),W};l?l(k,E):d(k,E,{name:!0});var A=k.prototype=p(E.prototype,{constructor:f(1,k),message:f(1,""),name:f(1,"AggregateError")});u({global:!0,constructor:!0,arity:2},{AggregateError:k})},9170:function(i,I,e){e(56967)},52262:function(i,I,e){"use strict";var u=e(82109),o=e(47908),r=e(26244),l=e(19303),d=e(51223);u({target:"Array",proto:!0},{at:function(s){var f=o(this),h=r(f),x=l(s),m=x>=0?x:h+x;return m<0||m>=h?void 0:f[m]}}),d("at")},77287:function(i,I,e){"use strict";var u=e(82109),o=e(9671).findLastIndex,r=e(51223);u({target:"Array",proto:!0},{findLastIndex:function(d){return o(this,d,arguments.length>1?arguments[1]:void 0)}}),r("findLastIndex")},67635:function(i,I,e){"use strict";var u=e(82109),o=e(9671).findLast,r=e(51223);u({target:"Array",proto:!0},{findLast:function(d){return o(this,d,arguments.length>1?arguments[1]:void 0)}}),r("findLast")},57658:function(i,I,e){"use strict";var u=e(82109),o=e(47908),r=e(26244),l=e(83658),d=e(7207),p=e(47293),s=p(function(){return[].push.call({length:4294967296},1)!==4294967297}),f=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(x){return x instanceof TypeError}},h=s||!f();u({target:"Array",proto:!0,arity:1,forced:h},{push:function(m){var g=o(this),y=r(g),S=arguments.length;d(y+S);for(var E=0;E<S;E++)g[y]=arguments[E],y++;return l(g,y),y}})},96644:function(i,I,e){"use strict";var u=e(82109),o=e(53671).right,r=e(9341),l=e(7392),d=e(35268),p=!d&&l>79&&l<83,s=p||!r("reduceRight");u({target:"Array",proto:!0,forced:s},{reduceRight:function(h){return o(this,h,arguments.length,arguments.length>1?arguments[1]:void 0)}})},85827:function(i,I,e){"use strict";var u=e(82109),o=e(53671).left,r=e(9341),l=e(7392),d=e(35268),p=!d&&l>79&&l<83,s=p||!r("reduce");u({target:"Array",proto:!0,forced:s},{reduce:function(h){var x=arguments.length;return o(this,h,x,x>1?arguments[1]:void 0)}})},90476:function(i,I,e){"use strict";var u=e(82109),o=e(21843),r=e(45656),l=e(51223),d=Array;u({target:"Array",proto:!0},{toReversed:function(){return o(r(this),d)}}),l("toReversed")},76459:function(i,I,e){"use strict";var u=e(82109),o=e(1702),r=e(19662),l=e(45656),d=e(97745),p=e(98770),s=e(51223),f=Array,h=o(p("Array").sort);u({target:"Array",proto:!0},{toSorted:function(m){m!==void 0&&r(m);var g=l(this),y=d(f,g);return h(y,m)}}),s("toSorted")},99892:function(i,I,e){"use strict";var u=e(82109),o=e(51223),r=e(7207),l=e(26244),d=e(51400),p=e(45656),s=e(19303),f=Array,h=Math.max,x=Math.min;u({target:"Array",proto:!0},{toSpliced:function(g,y){var S=p(this),E=l(S),P=d(g,E),k=arguments.length,A=0,L,j,C,_;for(k===0?L=j=0:k===1?(L=0,j=E-P):(L=k-2,j=x(h(s(y),0),E-P)),C=r(E+L-j),_=f(C);A<P;A++)_[A]=S[A];for(;A<P+L;A++)_[A]=arguments[A-P+2];for(;A<C;A++)_[A]=S[A+j-L];return _}}),o("toSpliced")},35581:function(i,I,e){"use strict";var u=e(82109),o=e(11572),r=e(45656),l=Array;u({target:"Array",proto:!0},{with:function(d,p){return o(r(this),l,d,p)}})},21703:function(i,I,e){var u=e(82109),o=e(17854),r=e(22104),l=e(89191),d="WebAssembly",p=o[d],s=Error("e",{cause:7}).cause!==7,f=function(x,m){var g={};g[x]=l(x,m,s),u({global:!0,constructor:!0,arity:1,forced:s},g)},h=function(x,m){if(p&&p[x]){var g={};g[x]=l(d+"."+x,m,s),u({target:d,stat:!0,constructor:!0,arity:1,forced:s},g)}};f("Error",function(x){return function(g){return r(x,this,arguments)}}),f("EvalError",function(x){return function(g){return r(x,this,arguments)}}),f("RangeError",function(x){return function(g){return r(x,this,arguments)}}),f("ReferenceError",function(x){return function(g){return r(x,this,arguments)}}),f("SyntaxError",function(x){return function(g){return r(x,this,arguments)}}),f("TypeError",function(x){return function(g){return r(x,this,arguments)}}),f("URIError",function(x){return function(g){return r(x,this,arguments)}}),h("CompileError",function(x){return function(g){return r(x,this,arguments)}}),h("LinkError",function(x){return function(g){return r(x,this,arguments)}}),h("RuntimeError",function(x){return function(g){return r(x,this,arguments)}})},69098:function(i,I,e){"use strict";var u=e(77710),o=e(95631);u("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},o)},51532:function(i,I,e){e(69098)},46314:function(i,I,e){var u=e(82109),o=e(92597);u({target:"Object",stat:!0},{hasOwn:o})},34668:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(19662),l=e(35005),d=e(78523),p=e(12534),s=e(20408),f=e(80612),h="No one promise resolved";u({target:"Promise",stat:!0,forced:f},{any:function(m){var g=this,y=l("AggregateError"),S=d.f(g),E=S.resolve,P=S.reject,k=p(function(){var A=r(g.resolve),L=[],j=0,C=1,_=!1;s(m,function(W){var X=j++,te=!1;C++,o(A,g,W).then(function(q){te||_||(_=!0,E(q))},function(q){te||_||(te=!0,L[X]=q,--C||P(new y(L,h)))})}),--C||P(new y(L,h))});return k.error&&P(k.value),S.promise}})},81299:function(i,I,e){var u=e(82109),o=e(17854),r=e(58003);u({global:!0},{Reflect:{}}),r(o.Reflect,"Reflect",!0)},92087:function(i,I,e){var u=e(17854),o=e(19781),r=e(47045),l=e(67066),d=e(47293),p=u.RegExp,s=p.prototype,f=o&&d(function(){var h=!0;try{p(".","d")}catch(k){h=!1}var x={},m="",g=h?"dgimsy":"gimsy",y=function(k,A){Object.defineProperty(x,k,{get:function(){return m+=A,!0}})},S={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};h&&(S.hasIndices="d");for(var E in S)y(E,S[E]);var P=Object.getOwnPropertyDescriptor(s,"flags").get.call(x);return P!==g||m!==g});f&&r(s,"flags",{configurable:!0,get:l})},24506:function(i,I,e){"use strict";var u=e(82109),o=e(1702),r=e(84488),l=e(19303),d=e(41340),p=e(47293),s=o("".charAt),f=p(function(){return"\u{20BB7}".at(-2)!=="\uD842"});u({target:"String",proto:!0,forced:f},{at:function(x){var m=d(r(this)),g=m.length,y=l(x),S=y>=0?y:g+y;return S<0||S>=g?void 0:s(m,S)}})},68757:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(1702),l=e(84488),d=e(60614),p=e(68554),s=e(47850),f=e(41340),h=e(58173),x=e(34706),m=e(10647),g=e(5112),y=e(31913),S=g("replace"),E=TypeError,P=r("".indexOf),k=r("".replace),A=r("".slice),L=Math.max,j=function(C,_,W){return W>C.length?-1:_===""?W:P(C,_,W)};u({target:"String",proto:!0},{replaceAll:function(_,W){var X=l(this),te,q,he,Pe,Te,De,ye,ve,T,F=0,Z=0,O="";if(!p(_)){if(te=s(_),te&&(q=f(l(x(_))),!~P(q,"g")))throw E("`.replaceAll` does not allow non-global regexes");if(he=h(_,S),he)return o(he,_,X,W);if(y&&te)return k(f(X),_,W)}for(Pe=f(X),Te=f(_),De=d(W),De||(W=f(W)),ye=Te.length,ve=L(1,ye),F=j(Pe,Te,0);F!==-1;)T=De?f(W(Te,F,Pe)):m(Te,Pe,F,[],void 0,W),O+=A(Pe,Z,F)+T,Z=F+ye,F=j(Pe,Te,F+ve);return Z<Pe.length&&(O+=A(Pe,Z)),O}})},48675:function(i,I,e){"use strict";var u=e(90260),o=e(26244),r=e(19303),l=u.aTypedArray,d=u.exportTypedArrayMethod;d("at",function(s){var f=l(this),h=o(f),x=r(s),m=x>=0?x:h+x;return m<0||m>=h?void 0:f[m]})},14590:function(i,I,e){"use strict";var u=e(90260),o=e(9671).findLastIndex,r=u.aTypedArray,l=u.exportTypedArrayMethod;l("findLastIndex",function(p){return o(r(this),p,arguments.length>1?arguments[1]:void 0)})},63408:function(i,I,e){"use strict";var u=e(90260),o=e(9671).findLast,r=u.aTypedArray,l=u.exportTypedArrayMethod;l("findLast",function(p){return o(r(this),p,arguments.length>1?arguments[1]:void 0)})},3462:function(i,I,e){"use strict";var u=e(17854),o=e(46916),r=e(90260),l=e(26244),d=e(84590),p=e(47908),s=e(47293),f=u.RangeError,h=u.Int8Array,x=h&&h.prototype,m=x&&x.set,g=r.aTypedArray,y=r.exportTypedArrayMethod,S=!s(function(){var P=new Uint8ClampedArray(2);return o(m,P,{length:1,0:3},1),P[1]!==3}),E=S&&r.NATIVE_ARRAY_BUFFER_VIEWS&&s(function(){var P=new h(2);return P.set(1),P.set("2",1),P[0]!==0||P[1]!==2});y("set",function(k){g(this);var A=d(arguments.length>1?arguments[1]:void 0,1),L=p(k);if(S)return o(m,this,L,A);var j=this.length,C=l(L),_=0;if(C+A>j)throw f("Wrong length");for(;_<C;)this[A+_]=L[_++]},!S||E)},1439:function(i,I,e){"use strict";var u=e(21843),o=e(90260),r=o.aTypedArray,l=o.exportTypedArrayMethod,d=o.getTypedArrayConstructor;l("toReversed",function(){return u(r(this),d(this))})},87585:function(i,I,e){"use strict";var u=e(90260),o=e(1702),r=e(19662),l=e(97745),d=u.aTypedArray,p=u.getTypedArrayConstructor,s=u.exportTypedArrayMethod,f=o(u.TypedArrayPrototype.sort);s("toSorted",function(x){x!==void 0&&r(x);var m=d(this),g=l(p(m),m);return f(g,x)})},55315:function(i,I,e){"use strict";var u=e(11572),o=e(90260),r=e(44067),l=e(19303),d=e(64599),p=o.aTypedArray,s=o.getTypedArrayConstructor,f=o.exportTypedArrayMethod,h=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(x){return x===8}}();f("with",function(x,m){var g=p(this),y=l(x),S=r(g)?d(m):+m;return u(g,s(g),y,S)},!h)},41202:function(i,I,e){"use strict";var u=e(76677),o=e(17854),r=e(1702),l=e(89190),d=e(62423),p=e(77710),s=e(29320),f=e(70111),h=e(29909).enforce,x=e(47293),m=e(94811),g=Object,y=Array.isArray,S=g.isExtensible,E=g.isFrozen,P=g.isSealed,k=g.freeze,A=g.seal,L={},j={},C=!o.ActiveXObject&&"ActiveXObject"in o,_,W=function(ye){return function(){return ye(this,arguments.length?arguments[0]:void 0)}},X=p("WeakMap",W,s),te=X.prototype,q=r(te.set),he=function(){return u&&x(function(){var ye=k([]);return q(new X,ye,1),!E(ye)})};if(m)if(C){_=s.getConstructor(W,"WeakMap",!0),d.enable();var Pe=r(te.delete),Te=r(te.has),De=r(te.get);l(te,{delete:function(ye){if(f(ye)&&!S(ye)){var ve=h(this);return ve.frozen||(ve.frozen=new _),Pe(this,ye)||ve.frozen.delete(ye)}return Pe(this,ye)},has:function(ve){if(f(ve)&&!S(ve)){var T=h(this);return T.frozen||(T.frozen=new _),Te(this,ve)||T.frozen.has(ve)}return Te(this,ve)},get:function(ve){if(f(ve)&&!S(ve)){var T=h(this);return T.frozen||(T.frozen=new _),Te(this,ve)?De(this,ve):T.frozen.get(ve)}return De(this,ve)},set:function(ve,T){if(f(ve)&&!S(ve)){var F=h(this);F.frozen||(F.frozen=new _),Te(this,ve)?q(this,ve,T):F.frozen.set(ve,T)}else q(this,ve,T);return this}})}else he()&&l(te,{set:function(ve,T){var F;return y(ve)&&(E(ve)?F=L:P(ve)&&(F=j)),q(this,ve,T),F==L&&k(ve),F==j&&A(ve),this}})},4129:function(i,I,e){e(41202)},84811:function(i,I,e){"use strict";var u=e(82109),o=e(42092).filterReject,r=e(51223);u({target:"Array",proto:!0,forced:!0},{filterOut:function(d){return o(this,d,arguments.length>1?arguments[1]:void 0)}}),r("filterOut")},34286:function(i,I,e){"use strict";var u=e(82109),o=e(42092).filterReject,r=e(51223);u({target:"Array",proto:!0,forced:!0},{filterReject:function(d){return o(this,d,arguments.length>1?arguments[1]:void 0)}}),r("filterReject")},19258:function(i,I,e){var u=e(82109),o=e(33253);u({target:"Array",stat:!0},{fromAsync:o})},61886:function(i,I,e){var u=e(82109),o=e(9341),r=e(51223),l=e(59921),d=e(31913);u({target:"Array",proto:!0,name:"groupToMap",forced:d||!o("groupByToMap")},{groupByToMap:l}),r("groupByToMap")},1999:function(i,I,e){"use strict";var u=e(82109),o=e(21191),r=e(9341),l=e(51223);u({target:"Array",proto:!0,forced:!r("groupBy")},{groupBy:function(p){var s=arguments.length>1?arguments[1]:void 0;return o(this,p,s)}}),l("groupBy")},59422:function(i,I,e){var u=e(82109),o=e(51223),r=e(59921),l=e(31913);u({target:"Array",proto:!0,forced:l},{groupToMap:r}),o("groupToMap")},52550:function(i,I,e){"use strict";var u=e(82109),o=e(21191),r=e(51223);u({target:"Array",proto:!0},{group:function(d){var p=arguments.length>1?arguments[1]:void 0;return o(this,d,p)}}),r("group")},8e4:function(i,I,e){var u=e(82109),o=e(43157),r=Object.isFrozen,l=function(d,p){if(!r||!o(d)||!r(d))return!1;for(var s=0,f=d.length,h;s<f;)if(h=d[s++],!(typeof h=="string"||p&&h===void 0))return!1;return f!==0};u({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:function(p){if(!l(p,!0))return!1;var s=p.raw;return s.length===p.length&&l(s,!1)}})},83475:function(i,I,e){"use strict";var u=e(19781),o=e(51223),r=e(47908),l=e(26244),d=e(47045);u&&(d(Array.prototype,"lastIndex",{configurable:!0,get:function(){var s=r(this),f=l(s);return f==0?0:f-1}}),o("lastIndex"))},46273:function(i,I,e){"use strict";var u=e(19781),o=e(51223),r=e(47908),l=e(26244),d=e(47045);u&&(d(Array.prototype,"lastItem",{configurable:!0,get:function(){var s=r(this),f=l(s);return f==0?void 0:s[f-1]},set:function(s){var f=r(this),h=l(f);return f[h==0?0:h-1]=s}}),o("lastItem"))},56882:function(i,I,e){e(90476)},78525:function(i,I,e){e(76459)},27004:function(i,I,e){e(99892)},3087:function(i,I,e){"use strict";var u=e(82109),o=e(51223),r=e(60956);u({target:"Array",proto:!0,forced:!0},{uniqueBy:r}),o("uniqueBy")},97391:function(i,I,e){e(35581)},4763:function(i,I,e){"use strict";var u=e(82109),o=e(19781),r=e(35005),l=e(19662),d=e(25787),p=e(98052),s=e(89190),f=e(47045),h=e(5112),x=e(29909),m=e(8557),g=r("Promise"),y=r("SuppressedError"),S=ReferenceError,E=h("asyncDispose"),P=h("toStringTag"),k="AsyncDisposableStack",A=x.set,L=x.getterFor(k),j="async-dispose",C="disposed",_="pending",W=k+" already disposed",X=function(){A(d(this,te),{type:k,state:_,stack:[]}),o||(this.disposed=!1)},te=X.prototype;s(te,{disposeAsync:function(){var he=this;return new g(function(Pe,Te){var De=L(he);if(De.state==C)return Pe(void 0);De.state=C,o||(he.disposed=!0);var ye=De.stack,ve=ye.length,T=!1,F,Z=function(z){T?F=new y(z,F):(T=!0,F=z),O()},O=function(){if(ve){var z=ye[--ve];ye[ve]=null;try{g.resolve(z()).then(O,Z)}catch(ae){Z(ae)}}else De.stack=null,T?Te(F):Pe(void 0)};O()})},use:function(he){var Pe=L(this);if(Pe.state==C)throw S(W);return m(Pe,he,j),he},adopt:function(he,Pe){var Te=L(this);if(Te.state==C)throw S(W);return l(Pe),m(Te,void 0,j,function(){Pe(he)}),he},defer:function(he){var Pe=L(this);if(Pe.state==C)throw S(W);l(he),m(Pe,void 0,j,he)},move:function(){var he=L(this);if(he.state==C)throw S(W);var Pe=new X;return L(Pe).stack=he.stack,he.stack=[],Pe}}),o&&f(te,"disposed",{configurable:!0,get:function(){return L(this).state==C}}),p(te,E,te.disposeAsync,{name:"disposeAsync"}),p(te,P,k,{nonWritable:!0}),u({global:!0,constructor:!0,forced:!0},{AsyncDisposableStack:X})},40787:function(i,I,e){var u=e(82109),o=e(47520);u({target:"AsyncIterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:o})},1094:function(i,I,e){"use strict";var u=e(46916),o=e(98052),r=e(35005),l=e(58173),d=e(92597),p=e(5112),s=e(66462),f=p("asyncDispose"),h=r("Promise");d(s,f)||o(s,f,function(){var x=this;return new h(function(m,g){var y=l(x,"return");y?h.resolve(u(y,x)).then(function(){m(void 0)},g):m(void 0)})})},66342:function(i,I,e){"use strict";var u=e(82109),o=e(25787),r=e(68880),l=e(92597),d=e(5112),p=e(66462),s=e(31913),f=d("toStringTag"),h=function(){o(this,p)};h.prototype=p,l(p,f)||r(p,f,"AsyncIterator"),(s||!l(p,"constructor")||p.constructor===Object)&&r(p,"constructor",h),u({global:!0,constructor:!0,forced:s},{AsyncIterator:h})},23647:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(19670),l=e(24942),d=e(66336),p=e(73002),s=e(45348),f=e(76178),h=s(function(x){var m=this;return new x(function(g,y){var S=function(P){m.done=!0,y(P)},E=function(){try{x.resolve(r(o(m.next,m.iterator))).then(function(P){try{r(P).done?(m.done=!0,g(f(void 0,!0))):m.remaining?(m.remaining--,E()):g(f(P.value,!1))}catch(k){S(k)}},S)}catch(P){S(P)}};E()})});u({target:"AsyncIterator",proto:!0,real:!0},{drop:function(m){return new h(l(this),{remaining:p(d(+m))})}})},68216:function(i,I,e){"use strict";var u=e(82109),o=e(12269).every;u({target:"AsyncIterator",proto:!0,real:!0},{every:function(l){return o(this,l)}})},88449:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(19662),l=e(19670),d=e(70111),p=e(24942),s=e(45348),f=e(76178),h=e(21753),x=s(function(m){var g=this,y=g.iterator,S=g.predicate;return new m(function(E,P){var k=function(j){g.done=!0,P(j)},A=function(j){h(y,k,j,k)},L=function(){try{m.resolve(l(o(g.next,y))).then(function(j){try{if(l(j).done)g.done=!0,E(f(void 0,!0));else{var C=j.value;try{var _=S(C,g.counter++),W=function(X){X?E(f(C,!1)):L()};d(_)?m.resolve(_).then(W,A):W(_)}catch(X){A(X)}}}catch(X){k(X)}},k)}catch(j){k(j)}};L()})});u({target:"AsyncIterator",proto:!0,real:!0},{filter:function(g){return new x(p(this),{predicate:r(g)})}})},31672:function(i,I,e){"use strict";var u=e(82109),o=e(12269).find;u({target:"AsyncIterator",proto:!0,real:!0},{find:function(l){return o(this,l)}})},74326:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(19662),l=e(19670),d=e(70111),p=e(24942),s=e(45348),f=e(76178),h=e(62617),x=e(21753),m=s(function(g){var y=this,S=y.iterator,E=y.mapper;return new g(function(P,k){var A=function(_){y.done=!0,k(_)},L=function(_){x(S,A,_,A)},j=function(){try{g.resolve(l(o(y.next,S))).then(function(_){try{if(l(_).done)y.done=!0,P(f(void 0,!0));else{var W=_.value;try{var X=E(W,y.counter++),te=function(q){try{y.inner=h(q),C()}catch(he){L(he)}};d(X)?g.resolve(X).then(te,L):te(X)}catch(q){L(q)}}}catch(q){A(q)}},A)}catch(_){A(_)}},C=function(){var _=y.inner;if(_)try{g.resolve(l(o(_.next,_.iterator))).then(function(W){try{l(W).done?(y.inner=null,j()):P(f(W.value,!1))}catch(X){L(X)}},L)}catch(W){L(W)}else j()};C()})});u({target:"AsyncIterator",proto:!0,real:!0},{flatMap:function(y){return new m(p(this),{mapper:r(y),inner:null})}})},15581:function(i,I,e){"use strict";var u=e(82109),o=e(12269).forEach;u({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(l){return o(this,l)}})},78631:function(i,I,e){var u=e(82109),o=e(47908),r=e(47976),l=e(62617),d=e(66462),p=e(86221);u({target:"AsyncIterator",stat:!0},{from:function(f){var h=l(typeof f=="string"?o(f):f);return r(d,h.iterator)?h.iterator:new p(h)}})},48746:function(i,I,e){var u=e(82109),o=e(47520);u({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{indexed:o})},57640:function(i,I,e){var u=e(82109),o=e(13232);u({target:"AsyncIterator",proto:!0,real:!0},{map:o})},25387:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(19662),l=e(19670),d=e(70111),p=e(35005),s=e(24942),f=e(21753),h=p("Promise"),x=TypeError;u({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(g){var y=s(this),S=y.iterator,E=y.next,P=arguments.length<2,k=P?void 0:arguments[1],A=0;return r(g),new h(function(L,j){var C=function(W){f(S,j,W,j)},_=function(){try{h.resolve(l(o(E,S))).then(function(W){try{if(l(W).done)P?j(x("Reduce of empty iterator with no initial value")):L(k);else{var X=W.value;if(P)P=!1,k=X,_();else try{var te=g(k,X,A),q=function(he){k=he,_()};d(te)?h.resolve(te).then(q,C):q(te)}catch(he){C(he)}}A++}catch(he){j(he)}},j)}catch(W){j(W)}};_()})}})},64211:function(i,I,e){"use strict";var u=e(82109),o=e(12269).some;u({target:"AsyncIterator",proto:!0,real:!0},{some:function(l){return o(this,l)}})},12771:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(19670),l=e(24942),d=e(66336),p=e(73002),s=e(45348),f=e(76178),h=s(function(x){var m=this,g=m.iterator,y;if(!m.remaining--){var S=f(void 0,!0);return m.done=!0,y=g.return,y!==void 0?x.resolve(o(y,g,void 0)).then(function(){return S}):S}return x.resolve(o(m.next,g)).then(function(E){return r(E).done?(m.done=!0,f(void 0,!0)):f(E.value,!1)}).then(null,function(E){throw m.done=!0,E})});u({target:"AsyncIterator",proto:!0,real:!0},{take:function(m){return new h(l(this),{remaining:p(d(+m))})}})},62962:function(i,I,e){"use strict";var u=e(82109),o=e(12269).toArray;u({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return o(this,void 0,[])}})},71790:function(i,I,e){"use strict";var u=e(82109),o=e(80430);typeof BigInt=="function"&&u({target:"BigInt",stat:!0,forced:!0},{range:function(l,d,p){return new o(l,d,p,"bigint",BigInt(0),BigInt(1))}})},51568:function(i,I,e){var u=e(82109),o=e(22104),r=e(10313),l=e(35005),d=e(70030),p=Object,s=function(){var f=l("Object","freeze");return f?f(d(null)):d(null)};u({global:!0,forced:!0},{compositeKey:function(){return o(r,p,arguments).get("object",s)}})},26349:function(i,I,e){var u=e(82109),o=e(10313),r=e(35005),l=e(22104);u({global:!0,forced:!0},{compositeSymbol:function(){return arguments.length==1&&typeof arguments[0]=="string"?r("Symbol").for(arguments[0]):l(o,null,arguments).get("symbol",r("Symbol"))}})},30800:function(i,I,e){"use strict";var u=e(82109),o=e(19781),r=e(35005),l=e(19662),d=e(25787),p=e(98052),s=e(89190),f=e(47045),h=e(5112),x=e(29909),m=e(8557),g=r("SuppressedError"),y=ReferenceError,S=h("dispose"),E=h("toStringTag"),P="DisposableStack",k=x.set,A=x.getterFor(P),L="sync-dispose",j="disposed",C="pending",_=P+" already disposed",W=function(){k(d(this,X),{type:P,state:C,stack:[]}),o||(this.disposed=!1)},X=W.prototype;s(X,{dispose:function(){var q=A(this);if(q.state!=j){q.state=j,o||(this.disposed=!0);for(var he=q.stack,Pe=he.length,Te=!1,De;Pe;){var ye=he[--Pe];he[Pe]=null;try{ye()}catch(ve){Te?De=new g(ve,De):(Te=!0,De=ve)}}if(q.stack=null,Te)throw De}},use:function(q){var he=A(this);if(he.state==j)throw y(_);return m(he,q,L),q},adopt:function(q,he){var Pe=A(this);if(Pe.state==j)throw y(_);return l(he),m(Pe,void 0,L,function(){he(q)}),q},defer:function(q){var he=A(this);if(he.state==j)throw y(_);l(q),m(he,void 0,L,q)},move:function(){var q=A(this);if(q.state==j)throw y(_);var he=new W;return A(he).stack=q.stack,q.stack=[],he}}),o&&f(X,"disposed",{configurable:!0,get:function(){return A(this).state==j}}),p(X,S,X.dispose,{name:"dispose"}),p(X,E,P,{nonWritable:!0}),u({global:!0,constructor:!0},{DisposableStack:W})},67427:function(i,I,e){var u=e(82109),o=e(1702),r=e(60614),l=e(42788),d=e(92597),p=e(19781),s=Object.getOwnPropertyDescriptor,f=/^\s*class\b/,h=o(f.exec),x=function(m){try{if(!p||!h(f,l(m)))return!1}catch(y){}var g=s(m,"prototype");return!!g&&d(g,"writable")&&!g.writable};u({target:"Function",stat:!0,sham:!0,forced:!0},{isCallable:function(g){return r(g)&&!x(g)}})},32279:function(i,I,e){var u=e(82109),o=e(4411);u({target:"Function",stat:!0,forced:!0},{isConstructor:o})},13384:function(i,I,e){var u=e(82109),o=e(55040);u({target:"Function",proto:!0,forced:!0,name:"demethodize"},{unThis:o})},85567:function(i,I,e){var u=e(82109),o=e(14323);u({target:"Iterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:o})},2490:function(i,I,e){"use strict";var u=e(82109),o=e(17854),r=e(25787),l=e(60614),d=e(68880),p=e(47293),s=e(92597),f=e(5112),h=e(13383).IteratorPrototype,x=e(31913),m=f("toStringTag"),g=o.Iterator,y=x||!l(g)||g.prototype!==h||!p(function(){g({})}),S=function(){r(this,h)};s(h,m)||d(h,m,"Iterator"),(y||!s(h,"constructor")||h.constructor===Object)&&d(h,"constructor",S),S.prototype=h,u({global:!0,constructor:!0,forced:y},{Iterator:S})},18359:function(i,I,e){"use strict";var u=e(46916),o=e(98052),r=e(58173),l=e(92597),d=e(5112),p=e(13383).IteratorPrototype,s=d("dispose");l(p,s)||o(p,s,function(){var f=r(this,"return");f&&u(f,this)})},5332:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(19670),l=e(24942),d=e(66336),p=e(73002),s=e(54956),f=s(function(){for(var h=this.iterator,x=this.next,m,g;this.remaining;)if(this.remaining--,m=r(o(x,h)),g=this.done=!!m.done,g)return;if(m=r(o(x,h)),g=this.done=!!m.done,!g)return m.value});u({target:"Iterator",proto:!0,real:!0},{drop:function(x){return new f(l(this),{remaining:p(d(+x))})}})},79433:function(i,I,e){"use strict";var u=e(82109),o=e(20408),r=e(19662),l=e(24942);u({target:"Iterator",proto:!0,real:!0},{every:function(p){var s=l(this),f=0;return r(p),!o(s,function(h,x){if(!p(h,f++))return x()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},59849:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(19662),l=e(19670),d=e(24942),p=e(54956),s=e(53411),f=p(function(){for(var h=this.iterator,x=this.predicate,m=this.next,g,y,S;;){if(g=l(o(m,h)),y=this.done=!!g.done,y)return;if(S=g.value,s(h,x,[S,this.counter++],!0))return S}});u({target:"Iterator",proto:!0,real:!0},{filter:function(x){return new f(d(this),{predicate:r(x)})}})},59461:function(i,I,e){"use strict";var u=e(82109),o=e(20408),r=e(19662),l=e(24942);u({target:"Iterator",proto:!0,real:!0},{find:function(p){var s=l(this),f=0;return r(p),o(s,function(h,x){if(p(h,f++))return x(h)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})},82499:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(19662),l=e(19670),d=e(24942),p=e(72897),s=e(54956),f=e(99212),h=s(function(){for(var x=this.iterator,m=this.mapper,g,y;;){if(y=this.inner)try{if(g=l(o(y.next,y.iterator)),!g.done)return g.value;this.inner=null}catch(S){f(x,"throw",S)}if(g=l(o(this.next,x)),this.done=!!g.done)return;try{this.inner=p(m(g.value,this.counter++))}catch(S){f(x,"throw",S)}}});u({target:"Iterator",proto:!0,real:!0},{flatMap:function(m){return new h(d(this),{mapper:r(m),inner:null})}})},34514:function(i,I,e){"use strict";var u=e(82109),o=e(20408),r=e(19662),l=e(24942);u({target:"Iterator",proto:!0,real:!0},{forEach:function(p){var s=l(this),f=0;r(p),o(s,function(h){p(h,f++)},{IS_RECORD:!0})}})},26877:function(i,I,e){var u=e(82109),o=e(46916),r=e(47908),l=e(47976),d=e(13383).IteratorPrototype,p=e(54956),s=e(72897),f=p(function(){return o(this.next,this.iterator)},!0);u({target:"Iterator",stat:!0},{from:function(x){var m=s(typeof x=="string"?r(x):x);return l(d,m.iterator)?m.iterator:new f(m)}})},64994:function(i,I,e){var u=e(82109),o=e(14323);u({target:"Iterator",proto:!0,real:!0,forced:!0},{indexed:o})},9924:function(i,I,e){var u=e(82109),o=e(20487);u({target:"Iterator",proto:!0,real:!0},{map:o})},72608:function(i,I,e){"use strict";var u=e(82109),o=e(20408),r=e(19662),l=e(24942),d=TypeError;u({target:"Iterator",proto:!0,real:!0},{reduce:function(s){var f=l(this);r(s);var h=arguments.length<2,x=h?void 0:arguments[1],m=0;if(o(f,function(g){h?(h=!1,x=g):x=s(x,g,m),m++},{IS_RECORD:!0}),h)throw d("Reduce of empty iterator with no initial value");return x}})},41874:function(i,I,e){"use strict";var u=e(82109),o=e(20408),r=e(19662),l=e(24942);u({target:"Iterator",proto:!0,real:!0},{some:function(p){var s=l(this),f=0;return r(p),o(s,function(h,x){if(p(h,f++))return x()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},66043:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(19670),l=e(24942),d=e(66336),p=e(73002),s=e(54956),f=e(99212),h=s(function(){var x=this.iterator;if(!this.remaining--)return this.done=!0,f(x,"normal",void 0);var m=r(o(this.next,x)),g=this.done=!!m.done;if(!g)return m.value});u({target:"Iterator",proto:!0,real:!0},{take:function(m){return new h(l(this),{remaining:p(d(+m))})}})},23748:function(i,I,e){"use strict";var u=e(82109),o=e(20408),r=e(24942),l=[].push;u({target:"Iterator",proto:!0,real:!0},{toArray:function(){var p=[];return o(r(this),l,{that:p,IS_RECORD:!0}),p}})},71501:function(i,I,e){"use strict";var u=e(82109),o=e(28091),r=e(86221),l=e(24942);u({target:"Iterator",proto:!0,real:!0},{toAsync:function(){return new r(l(new o(l(this))))}})},10072:function(i,I,e){"use strict";var u=e(82109),o=e(40027),r=e(75706).remove;u({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var d=o(this),p=!0,s,f=0,h=arguments.length;f<h;f++)s=r(d,arguments[f]),p=p&&s;return!!p}})},23042:function(i,I,e){"use strict";var u=e(82109),o=e(40027),r=e(75706),l=r.get,d=r.has,p=r.set;u({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(f,h){var x=o(this),m,g;return d(x,f)?(m=l(x,f),"update"in h&&(m=h.update(m,f,x),p(x,f,m)),m):(g=h.insert(f,x),p(x,f,g),g)}})},99137:function(i,I,e){"use strict";var u=e(82109),o=e(49974),r=e(40027),l=e(14995);u({target:"Map",proto:!0,real:!0,forced:!0},{every:function(p){var s=r(this),f=o(p,arguments.length>1?arguments[1]:void 0);return l(s,function(h,x){if(!f(h,x,s))return!1},!0)!==!1}})},71957:function(i,I,e){"use strict";var u=e(82109),o=e(49974),r=e(40027),l=e(75706),d=e(14995),p=l.Map,s=l.set;u({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(h){var x=r(this),m=o(h,arguments.length>1?arguments[1]:void 0),g=new p;return d(x,function(y,S){m(y,S,x)&&s(g,S,y)}),g}})},103:function(i,I,e){"use strict";var u=e(82109),o=e(49974),r=e(40027),l=e(14995);u({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(p){var s=r(this),f=o(p,arguments.length>1?arguments[1]:void 0),h=l(s,function(x,m){if(f(x,m,s))return{key:m}},!0);return h&&h.key}})},96306:function(i,I,e){"use strict";var u=e(82109),o=e(49974),r=e(40027),l=e(14995);u({target:"Map",proto:!0,real:!0,forced:!0},{find:function(p){var s=r(this),f=o(p,arguments.length>1?arguments[1]:void 0),h=l(s,function(x,m){if(f(x,m,s))return{value:x}},!0);return h&&h.value}})},8582:function(i,I,e){var u=e(82109),o=e(27296);u({target:"Map",stat:!0,forced:!0},{from:o})},90618:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(1702),l=e(60614),d=e(19662),p=e(20408),s=e(75706).Map,f=r([].push);u({target:"Map",stat:!0,forced:!0},{groupBy:function(x,m){var g=l(this)?this:s,y=new g;d(m);var S=d(y.has),E=d(y.get),P=d(y.set);return p(x,function(k){var A=m(k);o(S,y,A)?f(o(E,y,A),k):o(P,y,A,[k])}),y}})},74592:function(i,I,e){"use strict";var u=e(82109),o=e(46465),r=e(40027),l=e(14995);u({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(p){return l(r(this),function(s){if(o(s,p))return!0},!0)===!0}})},88440:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(20408),l=e(60614),d=e(19662),p=e(75706).Map;u({target:"Map",stat:!0,forced:!0},{keyBy:function(f,h){var x=l(this)?this:p,m=new x;d(h);var g=d(m.set);return r(f,function(y){o(g,m,h(y),y)}),m}})},58276:function(i,I,e){"use strict";var u=e(82109),o=e(40027),r=e(14995);u({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(d){var p=r(o(this),function(s,f){if(s===d)return{key:f}},!0);return p&&p.key}})},35082:function(i,I,e){"use strict";var u=e(82109),o=e(49974),r=e(40027),l=e(75706),d=e(14995),p=l.Map,s=l.set;u({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(h){var x=r(this),m=o(h,arguments.length>1?arguments[1]:void 0),g=new p;return d(x,function(y,S){s(g,m(y,S,x),y)}),g}})},12813:function(i,I,e){"use strict";var u=e(82109),o=e(49974),r=e(40027),l=e(75706),d=e(14995),p=l.Map,s=l.set;u({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(h){var x=r(this),m=o(h,arguments.length>1?arguments[1]:void 0),g=new p;return d(x,function(y,S){s(g,S,m(y,S,x))}),g}})},18222:function(i,I,e){"use strict";var u=e(82109),o=e(40027),r=e(20408),l=e(75706).set;u({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(p){for(var s=o(this),f=arguments.length,h=0;h<f;)r(arguments[h++],function(x,m){l(s,x,m)},{AS_ENTRIES:!0});return s}})},24838:function(i,I,e){var u=e(82109),o=e(82044);u({target:"Map",stat:!0,forced:!0},{of:o})},38563:function(i,I,e){"use strict";var u=e(82109),o=e(19662),r=e(40027),l=e(14995),d=TypeError;u({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(s){var f=r(this),h=arguments.length<2,x=h?void 0:arguments[1];if(o(s),l(f,function(m,g){h?(h=!1,x=m):x=s(x,m,g,f)}),h)throw d("Reduce of empty map with no initial value");return x}})},50336:function(i,I,e){"use strict";var u=e(82109),o=e(49974),r=e(40027),l=e(14995);u({target:"Map",proto:!0,real:!0,forced:!0},{some:function(p){var s=r(this),f=o(p,arguments.length>1?arguments[1]:void 0);return l(s,function(h,x){if(f(h,x,s))return!0},!0)===!0}})},74442:function(i,I,e){"use strict";var u=e(82109),o=e(8154);u({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:o})},7512:function(i,I,e){"use strict";var u=e(82109),o=e(19662),r=e(40027),l=e(75706),d=TypeError,p=l.get,s=l.has,f=l.set;u({target:"Map",proto:!0,real:!0,forced:!0},{update:function(x,m){var g=r(this),y=arguments.length;o(m);var S=s(g,x);if(!S&&y<3)throw d("Updating absent value");var E=S?p(g,x):o(y>2?arguments[2]:void 0)(x,g);return f(g,x,m(E,x,g)),g}})},87713:function(i,I,e){"use strict";var u=e(82109),o=e(8154);u({target:"Map",proto:!0,real:!0,forced:!0},{upsert:o})},46603:function(i,I,e){var u=e(82109),o=Math.min,r=Math.max;u({target:"Math",stat:!0,forced:!0},{clamp:function(d,p,s){return o(s,r(p,d))}})},70100:function(i,I,e){var u=e(82109);u({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{DEG_PER_RAD:Math.PI/180})},10490:function(i,I,e){var u=e(82109),o=180/Math.PI;u({target:"Math",stat:!0,forced:!0},{degrees:function(l){return l*o}})},13187:function(i,I,e){var u=e(82109),o=e(47103),r=e(26130);u({target:"Math",stat:!0,forced:!0},{fscale:function(d,p,s,f,h){return r(o(d,p,s,f,h))}})},60092:function(i,I,e){var u=e(82109);u({target:"Math",stat:!0,forced:!0},{iaddh:function(r,l,d,p){var s=r>>>0,f=l>>>0,h=d>>>0;return f+(p>>>0)+((s&h|(s|h)&~(s+h>>>0))>>>31)|0}})},19041:function(i,I,e){var u=e(82109);u({target:"Math",stat:!0,forced:!0},{imulh:function(r,l){var d=65535,p=+r,s=+l,f=p&d,h=s&d,x=p>>16,m=s>>16,g=(x*h>>>0)+(f*h>>>16);return x*m+(g>>16)+((f*m>>>0)+(g&d)>>16)}})},30666:function(i,I,e){var u=e(82109);u({target:"Math",stat:!0,forced:!0},{isubh:function(r,l,d,p){var s=r>>>0,f=l>>>0,h=d>>>0;return f-(p>>>0)-((~s&h|~(s^h)&s-h>>>0)>>>31)|0}})},51638:function(i,I,e){var u=e(82109);u({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{RAD_PER_DEG:180/Math.PI})},62975:function(i,I,e){var u=e(82109),o=Math.PI/180;u({target:"Math",stat:!0,forced:!0},{radians:function(l){return l*o}})},15728:function(i,I,e){var u=e(82109),o=e(47103);u({target:"Math",stat:!0,forced:!0},{scale:o})},46056:function(i,I,e){var u=e(82109),o=e(19670),r=e(77023),l=e(63061),d=e(76178),p=e(29909),s="Seeded Random",f=s+" Generator",h='Math.seededPRNG() argument should have a "seed" field with a finite value.',x=p.set,m=p.getterFor(f),g=TypeError,y=l(function(E){x(this,{type:f,seed:E%2147483647})},s,function(){var E=m(this),P=E.seed=(E.seed*1103515245+12345)%2147483647;return d((P&1073741823)/1073741823,!1)});u({target:"Math",stat:!0,forced:!0},{seededPRNG:function(E){var P=o(E).seed;if(!r(P))throw g(h);return new y(P)}})},44299:function(i,I,e){var u=e(82109);u({target:"Math",stat:!0,forced:!0},{signbit:function(r){var l=+r;return l==l&&l==0?1/l==-1/0:l<0}})},5162:function(i,I,e){var u=e(82109);u({target:"Math",stat:!0,forced:!0},{umulh:function(r,l){var d=65535,p=+r,s=+l,f=p&d,h=s&d,x=p>>>16,m=s>>>16,g=(x*h>>>0)+(f*h>>>16);return x*m+(g>>>16)+((f*m>>>0)+(g&d)>>>16)}})},50292:function(i,I,e){"use strict";var u=e(82109),o=e(1702),r=e(19303),l=e(83009),d="Invalid number representation",p="Invalid radix",s=RangeError,f=SyntaxError,h=TypeError,x=/^[\da-z]+$/,m=o("".charAt),g=o(x.exec),y=o(1 .toString),S=o("".slice);u({target:"Number",stat:!0,forced:!0},{fromString:function(P,k){var A=1,L,j;if(typeof P!="string")throw h(d);if(!P.length||m(P,0)=="-"&&(A=-1,P=S(P,1),!P.length))throw f(d);if(L=k===void 0?10:r(k),L<2||L>36)throw s(p);if(!g(x,P)||y(j=l(P,L),L)!==P)throw f(d);return A*j}})},29427:function(i,I,e){"use strict";var u=e(82109),o=e(80430);u({target:"Number",stat:!0,forced:!0},{range:function(l,d,p){return new o(l,d,p,"number",0,1)}})},99964:function(i,I,e){"use strict";var u=e(82109),o=e(60996);u({target:"Object",stat:!0,forced:!0},{iterateEntries:function(l){return new o(l,"entries")}})},75238:function(i,I,e){"use strict";var u=e(82109),o=e(60996);u({target:"Object",stat:!0,forced:!0},{iterateKeys:function(l){return new o(l,"keys")}})},4987:function(i,I,e){"use strict";var u=e(82109),o=e(60996);u({target:"Object",stat:!0,forced:!0},{iterateValues:function(l){return new o(l,"values")}})},39769:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(19781),l=e(96340),d=e(19662),p=e(19670),s=e(25787),f=e(60614),h=e(68554),x=e(70111),m=e(58173),g=e(98052),y=e(89190),S=e(47045),E=e(842),P=e(5112),k=e(29909),A=e(90515),L=P("observable"),j="Observable",C="Subscription",_="SubscriptionObserver",W=k.getterFor,X=k.set,te=W(j),q=W(C),he=W(_),Pe=function(T){this.observer=p(T),this.cleanup=void 0,this.subscriptionObserver=void 0};Pe.prototype={type:C,clean:function(){var T=this.cleanup;if(T){this.cleanup=void 0;try{T()}catch(F){E(F)}}},close:function(){if(!r){var T=this.facade,F=this.subscriptionObserver;T.closed=!0,F&&(F.closed=!0)}this.observer=void 0},isClosed:function(){return this.observer===void 0}};var Te=function(T,F){var Z=X(this,new Pe(T)),O;r||(this.closed=!1);try{(O=m(T,"start"))&&o(O,T,this)}catch(Re){E(Re)}if(!Z.isClosed()){var z=Z.subscriptionObserver=new De(Z);try{var ae=F(z),be=ae;h(ae)||(Z.cleanup=f(ae.unsubscribe)?function(){be.unsubscribe()}:d(ae))}catch(Re){z.error(Re);return}Z.isClosed()&&Z.clean()}};Te.prototype=y({},{unsubscribe:function(){var F=q(this);F.isClosed()||(F.close(),F.clean())}}),r&&S(Te.prototype,"closed",{configurable:!0,get:function(){return q(this).isClosed()}});var De=function(T){X(this,{type:_,subscriptionState:T}),r||(this.closed=!1)};De.prototype=y({},{next:function(F){var Z=he(this).subscriptionState;if(!Z.isClosed()){var O=Z.observer;try{var z=m(O,"next");z&&o(z,O,F)}catch(ae){E(ae)}}},error:function(F){var Z=he(this).subscriptionState;if(!Z.isClosed()){var O=Z.observer;Z.close();try{var z=m(O,"error");z?o(z,O,F):E(F)}catch(ae){E(ae)}Z.clean()}},complete:function(){var F=he(this).subscriptionState;if(!F.isClosed()){var Z=F.observer;F.close();try{var O=m(Z,"complete");O&&o(O,Z)}catch(z){E(z)}F.clean()}}}),r&&S(De.prototype,"closed",{configurable:!0,get:function(){return he(this).subscriptionState.isClosed()}});var ye=function(F){s(this,ve),X(this,{type:j,subscriber:d(F)})},ve=ye.prototype;y(ve,{subscribe:function(F){var Z=arguments.length;return new Te(f(F)?{next:F,error:Z>1?arguments[1]:void 0,complete:Z>2?arguments[2]:void 0}:x(F)?F:{},te(this).subscriber)}}),g(ve,L,function(){return this}),u({global:!0,constructor:!0,forced:A},{Observable:ye}),l(j)},93532:function(i,I,e){"use strict";var u=e(82109),o=e(35005),r=e(46916),l=e(19670),d=e(4411),p=e(18554),s=e(58173),f=e(20408),h=e(5112),x=e(90515),m=h("observable");u({target:"Observable",stat:!0,forced:x},{from:function(y){var S=d(this)?this:o("Observable"),E=s(l(y),m);if(E){var P=l(r(E,y));return P.constructor===S?P:new S(function(A){return P.subscribe(A)})}var k=p(y);return new S(function(A){f(k,function(L,j){if(A.next(L),A.closed)return j()},{IS_ITERATOR:!0,INTERRUPTED:!0}),A.complete()})}})},1025:function(i,I,e){e(39769),e(93532),e(88170)},88170:function(i,I,e){"use strict";var u=e(82109),o=e(35005),r=e(4411),l=e(90515),d=o("Array");u({target:"Observable",stat:!0,forced:l},{of:function(){for(var s=r(this)?this:o("Observable"),f=arguments.length,h=d(f),x=0;x<f;)h[x]=arguments[x++];return new s(function(m){for(var g=0;g<f;g++)if(m.next(h[g]),m.closed)return;m.complete()})}})},77479:function(i,I,e){"use strict";var u=e(82109),o=e(78523),r=e(12534);u({target:"Promise",stat:!0,forced:!0},{try:function(l){var d=o.f(this),p=r(l);return(p.error?d.reject:d.resolve)(p.value),d.promise}})},34582:function(i,I,e){var u=e(82109),o=e(38845),r=e(19670),l=o.toKey,d=o.set;u({target:"Reflect",stat:!0},{defineMetadata:function(s,f,h){var x=arguments.length<4?void 0:l(arguments[3]);d(s,f,r(h),x)}})},47896:function(i,I,e){var u=e(82109),o=e(38845),r=e(19670),l=o.toKey,d=o.getMap,p=o.store;u({target:"Reflect",stat:!0},{deleteMetadata:function(f,h){var x=arguments.length<3?void 0:l(arguments[2]),m=d(r(h),x,!1);if(m===void 0||!m.delete(f))return!1;if(m.size)return!0;var g=p.get(h);return g.delete(x),!!g.size||p.delete(h)}})},98558:function(i,I,e){var u=e(82109),o=e(1702),r=e(38845),l=e(19670),d=e(79518),p=e(60956),s=o(p),f=o([].concat),h=r.keys,x=r.toKey,m=function(g,y){var S=h(g,y),E=d(g);if(E===null)return S;var P=m(E,y);return P.length?S.length?s(f(S,P)):P:S};u({target:"Reflect",stat:!0},{getMetadataKeys:function(y){var S=arguments.length<2?void 0:x(arguments[1]);return m(l(y),S)}})},12647:function(i,I,e){var u=e(82109),o=e(38845),r=e(19670),l=e(79518),d=o.has,p=o.get,s=o.toKey,f=function(h,x,m){var g=d(h,x,m);if(g)return p(h,x,m);var y=l(x);return y!==null?f(h,y,m):void 0};u({target:"Reflect",stat:!0},{getMetadata:function(x,m){var g=arguments.length<3?void 0:s(arguments[2]);return f(x,r(m),g)}})},97507:function(i,I,e){var u=e(82109),o=e(38845),r=e(19670),l=o.keys,d=o.toKey;u({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(s){var f=arguments.length<2?void 0:d(arguments[1]);return l(r(s),f)}})},84018:function(i,I,e){var u=e(82109),o=e(38845),r=e(19670),l=o.get,d=o.toKey;u({target:"Reflect",stat:!0},{getOwnMetadata:function(s,f){var h=arguments.length<3?void 0:d(arguments[2]);return l(s,r(f),h)}})},61605:function(i,I,e){var u=e(82109),o=e(38845),r=e(19670),l=e(79518),d=o.has,p=o.toKey,s=function(f,h,x){var m=d(f,h,x);if(m)return!0;var g=l(h);return g!==null?s(f,g,x):!1};u({target:"Reflect",stat:!0},{hasMetadata:function(h,x){var m=arguments.length<3?void 0:p(arguments[2]);return s(h,r(x),m)}})},49076:function(i,I,e){var u=e(82109),o=e(38845),r=e(19670),l=o.has,d=o.toKey;u({target:"Reflect",stat:!0},{hasOwnMetadata:function(s,f){var h=arguments.length<3?void 0:d(arguments[2]);return l(s,r(f),h)}})},34999:function(i,I,e){var u=e(82109),o=e(38845),r=e(19670),l=o.toKey,d=o.set;u({target:"Reflect",stat:!0},{metadata:function(s,f){return function(x,m){d(s,f,r(x),l(m))}}})},88921:function(i,I,e){"use strict";var u=e(82109),o=e(88999),r=e(79405).add;u({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var d=o(this),p=0,s=arguments.length;p<s;p++)r(d,arguments[p]);return d}})},96248:function(i,I,e){"use strict";var u=e(82109),o=e(88999),r=e(79405).remove;u({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var d=o(this),p=!0,s,f=0,h=arguments.length;f<h;f++)s=r(d,arguments[f]),p=p&&s;return!!p}})},13599:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(45965),l=e(37075);u({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(p){return o(l,this,r(p))}})},27561:function(i,I,e){var u=e(82109),o=e(37075),r=e(13831);u({target:"Set",proto:!0,real:!0,forced:!r("difference")},{difference:o})},11477:function(i,I,e){"use strict";var u=e(82109),o=e(49974),r=e(88999),l=e(87758);u({target:"Set",proto:!0,real:!0,forced:!0},{every:function(p){var s=r(this),f=o(p,arguments.length>1?arguments[1]:void 0);return l(s,function(h){if(!f(h,h,s))return!1},!0)!==!1}})},64362:function(i,I,e){"use strict";var u=e(82109),o=e(49974),r=e(88999),l=e(79405),d=e(87758),p=l.Set,s=l.add;u({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(h){var x=r(this),m=o(h,arguments.length>1?arguments[1]:void 0),g=new p;return d(x,function(y){m(y,y,x)&&s(g,y)}),g}})},15389:function(i,I,e){"use strict";var u=e(82109),o=e(49974),r=e(88999),l=e(87758);u({target:"Set",proto:!0,real:!0,forced:!0},{find:function(p){var s=r(this),f=o(p,arguments.length>1?arguments[1]:void 0),h=l(s,function(x){if(f(x,x,s))return{value:x}},!0);return h&&h.value}})},46006:function(i,I,e){var u=e(82109),o=e(27296);u({target:"Set",stat:!0,forced:!0},{from:o})},90401:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(45965),l=e(81920);u({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(p){return o(l,this,r(p))}})},3440:function(i,I,e){var u=e(82109),o=e(81920),r=e(13831);u({target:"Set",proto:!0,real:!0,forced:!r("intersection")},{intersection:o})},45164:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(45965),l=e(78239);u({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(p){return o(l,this,r(p))}})},66244:function(i,I,e){var u=e(82109),o=e(78239),r=e(13831);u({target:"Set",proto:!0,real:!0,forced:!r("isDisjointFrom")},{isDisjointFrom:o})},91238:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(45965),l=e(49180);u({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(p){return o(l,this,r(p))}})},89772:function(i,I,e){var u=e(82109),o=e(49180),r=e(13831);u({target:"Set",proto:!0,real:!0,forced:!r("isSubsetOf")},{isSubsetOf:o})},54837:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(45965),l=e(10107);u({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(p){return o(l,this,r(p))}})},88910:function(i,I,e){var u=e(82109),o=e(10107),r=e(13831);u({target:"Set",proto:!0,real:!0,forced:!r("isSupersetOf")},{isSupersetOf:o})},87485:function(i,I,e){"use strict";var u=e(82109),o=e(1702),r=e(88999),l=e(87758),d=e(41340),p=o([].join),s=o([].push);u({target:"Set",proto:!0,real:!0,forced:!0},{join:function(h){var x=r(this),m=h===void 0?",":d(h),g=[];return l(x,function(y){s(g,y)}),p(g,m)}})},56767:function(i,I,e){"use strict";var u=e(82109),o=e(49974),r=e(88999),l=e(79405),d=e(87758),p=l.Set,s=l.add;u({target:"Set",proto:!0,real:!0,forced:!0},{map:function(h){var x=r(this),m=o(h,arguments.length>1?arguments[1]:void 0),g=new p;return d(x,function(y){s(g,m(y,y,x))}),g}})},69916:function(i,I,e){var u=e(82109),o=e(82044);u({target:"Set",stat:!0,forced:!0},{of:o})},76651:function(i,I,e){"use strict";var u=e(82109),o=e(19662),r=e(88999),l=e(87758),d=TypeError;u({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(s){var f=r(this),h=arguments.length<2,x=h?void 0:arguments[1];if(o(s),l(f,function(m){h?(h=!1,x=m):x=s(x,m,m,f)}),h)throw d("Reduce of empty set with no initial value");return x}})},61437:function(i,I,e){"use strict";var u=e(82109),o=e(49974),r=e(88999),l=e(87758);u({target:"Set",proto:!0,real:!0,forced:!0},{some:function(p){var s=r(this),f=o(p,arguments.length>1?arguments[1]:void 0);return l(s,function(h){if(f(h,h,s))return!0},!0)===!0}})},35285:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(45965),l=e(98506);u({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(p){return o(l,this,r(p))}})},63252:function(i,I,e){var u=e(82109),o=e(98506),r=e(13831);u({target:"Set",proto:!0,real:!0,forced:!r("symmetricDifference")},{symmetricDifference:o})},39865:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(45965),l=e(39391);u({target:"Set",proto:!0,real:!0,forced:!0},{union:function(p){return o(l,this,r(p))}})},17454:function(i,I,e){var u=e(82109),o=e(39391),r=e(13831);u({target:"Set",proto:!0,real:!0,forced:!r("union")},{union:o})},86035:function(i,I,e){"use strict";var u=e(82109),o=e(28710).charAt,r=e(84488),l=e(19303),d=e(41340);u({target:"String",proto:!0,forced:!0},{at:function(s){var f=d(r(this)),h=f.length,x=l(s),m=x>=0?x:h+x;return m<0||m>=h?void 0:o(f,m)}})},67501:function(i,I,e){"use strict";var u=e(82109),o=e(63061),r=e(76178),l=e(84488),d=e(41340),p=e(29909),s=e(28710),f=s.codeAt,h=s.charAt,x="String Iterator",m=p.set,g=p.getterFor(x),y=o(function(E){m(this,{type:x,string:E,index:0})},"String",function(){var E=g(this),P=E.string,k=E.index,A;return k>=P.length?r(void 0,!0):(A=h(P,k),E.index+=A.length,r({codePoint:f(A,0),position:k},!1))});u({target:"String",proto:!0,forced:!0},{codePoints:function(){return new y(d(l(this)))}})},50058:function(i,I,e){var u=e(82109),o=e(92386);u({target:"String",stat:!0,forced:!0},{cooked:o})},85576:function(i,I,e){"use strict";var u=e(76677),o=e(82109),r=e(72309),l=e(35005),d=e(56339),p=e(1702),s=e(22104),f=e(19670),h=e(47908),x=e(60614),m=e(26244),g=e(3070).f,y=e(41589),S=e(92386),E=e(70327),P=e(81361),k=l("WeakMap"),A=r("GlobalDedentRegistry",new k);A.has=A.has,A.get=A.get,A.set=A.set;var L=Array,j=TypeError,C=Object.freeze||Object,_=Object.isFrozen,W=Math.min,X=p("".charAt),te=p("".slice),q=p("".split),he=p(/./.exec),Pe=/([\n\u2028\u2029]|\r\n?)/g,Te=RegExp("^["+P+"]*"),De=RegExp("[^"+P+"]"),ye="Invalid tag",ve="Invalid opening line",T="Invalid closing line",F=function(Re){var N=Re.raw;if(u&&!_(N))throw j("Raw template should be frozen");if(A.has(N))return A.get(N);var Q=Z(N),G=z(Q);return g(G,"raw",{value:C(Q)}),C(G),A.set(N,G),G},Z=function(Re){var N=h(Re),Q=m(N),G=L(Q),Y=L(Q),ue=0,Me,He;if(!Q)throw j(ye);for(;ue<Q;ue++){var Je=N[ue];if(typeof Je=="string")G[ue]=q(Je,Pe);else throw j(ye)}for(ue=0;ue<Q;ue++){var Xe=ue+1===Q;if(Me=G[ue],ue===0){if(Me.length===1||Me[0].length>0)throw j(ve);Me[1]=""}if(Xe){if(Me.length===1||he(De,Me[Me.length-1]))throw j(T);Me[Me.length-2]="",Me[Me.length-1]=""}for(var et=2;et<Me.length;et+=2){var ct=Me[et],oe=et+1===Me.length&&!Xe,xe=he(Te,ct)[0];if(!oe&&xe.length===ct.length){Me[et]="";continue}He=O(xe,He)}}var le=He?He.length:0;for(ue=0;ue<Q;ue++){Me=G[ue];for(var se=Me[0],ke=1;ke<Me.length;ke+=2)se+=Me[ke]+te(Me[ke+1],le);Y[ue]=se}return Y},O=function(Re,N){if(N===void 0||Re===N)return Re;for(var Q=0,G=W(Re.length,N.length);Q<G&&X(Re,Q)===X(N,Q);Q++);return te(Re,0,Q)},z=function(Re){for(var N=0,Q=Re.length,G=L(Q);N<Q;N++)G[N]=E(Re[N]);return G},ae=function(Re){return d(function(N){var Q=y(arguments);return Q[0]=F(f(N)),s(Re,this,Q)},"")},be=ae(S);o({target:"String",stat:!0,forced:!0},{dedent:function(N){return f(N),x(N)?ae(N):s(be,this,arguments)}})},98275:function(i,I,e){"use strict";var u=e(82109),o=e(1702),r=e(84488),l=e(41340),d=o("".charCodeAt);u({target:"String",proto:!0},{isWellFormed:function(){for(var s=l(r(this)),f=s.length,h=0;h<f;h++){var x=d(s,h);if((x&63488)==55296&&(x>=56320||++h>=f||(d(s,h)&64512)!=56320))return!1}return!0}})},71842:function(i,I,e){"use strict";var u=e(82109),o=e(46916),r=e(1702),l=e(84488),d=e(41340),p=e(47293),s=Array,f=r("".charAt),h=r("".charCodeAt),x=r([].join),m="".toWellFormed,g="\uFFFD",y=m&&p(function(){return o(m,1)!=="1"});u({target:"String",proto:!0,forced:y},{toWellFormed:function(){var E=d(l(this));if(y)return o(m,E);for(var P=E.length,k=s(P),A=0;A<P;A++){var L=h(E,A);(L&63488)!=55296?k[A]=f(E,A):L>=56320||A+1>=P||(h(E,A+1)&64512)!=56320?k[A]=g:(k[A]=f(E,A),k[++A]=f(E,A))}return x(k,"")}})},16586:function(i,I,e){"use strict";var u=e(82109),o=e(47976),r=e(79518),l=e(27674),d=e(99920),p=e(70030),s=e(68880),f=e(79114),h=e(5392),x=e(56277),m=e(5112),g=m("toStringTag"),y=Error,S=function(k,A,L){var j=o(E,this),C;return l?C=l(y(),j?r(this):E):(C=j?this:p(E),s(C,g,"Error")),L!==void 0&&s(C,"message",x(L)),h(C,S,C.stack,1),s(C,"error",k),s(C,"suppressed",A),C};l?l(S,y):d(S,y,{name:!0});var E=S.prototype=p(y.prototype,{constructor:f(1,S),message:f(1,""),name:f(1,"SuppressedError")});u({global:!0,constructor:!0,arity:3},{SuppressedError:S})},609:function(i,I,e){var u=e(26800);u("asyncDispose")},21568:function(i,I,e){var u=e(26800);u("dispose")},54534:function(i,I,e){var u=e(26800);u("matcher")},34744:function(i,I,e){var u=e(26800);u("metadataKey")},95090:function(i,I,e){var u=e(26800);u("metadata")},48824:function(i,I,e){var u=e(26800);u("observable")},44130:function(i,I,e){var u=e(26800);u("patternMatch")},35954:function(i,I,e){var u=e(26800);u("replaceAll")},26182:function(i,I,e){"use strict";var u=e(90260),o=e(42092).filterReject,r=e(43074),l=u.aTypedArray,d=u.exportTypedArrayMethod;d("filterOut",function(s){var f=o(l(this),s,arguments.length>1?arguments[1]:void 0);return r(this,f)},!0)},8922:function(i,I,e){"use strict";var u=e(90260),o=e(42092).filterReject,r=e(43074),l=u.aTypedArray,d=u.exportTypedArrayMethod;d("filterReject",function(s){var f=o(l(this),s,arguments.length>1?arguments[1]:void 0);return r(this,f)},!0)},16850:function(i,I,e){"use strict";var u=e(35005),o=e(39483),r=e(33253),l=e(90260),d=e(97745),p=l.aTypedArrayConstructor,s=l.exportTypedArrayStaticMethod;s("fromAsync",function(h){var x=this,m=arguments.length,g=m>1?arguments[1]:void 0,y=m>2?arguments[2]:void 0;return new(u("Promise"))(function(S){o(x),S(r(h,g,y))}).then(function(S){return d(p(x),S)})},!0)},5835:function(i,I,e){"use strict";var u=e(90260),o=e(21191),r=e(66304),l=u.aTypedArray,d=u.exportTypedArrayMethod;d("groupBy",function(s){var f=arguments.length>1?arguments[1]:void 0;return o(l(this),s,f,r)},!0)},23767:function(i,I,e){e(1439)},8585:function(i,I,e){e(87585)},8970:function(i,I,e){"use strict";var u=e(90260),o=e(26244),r=e(44067),l=e(51400),d=e(64599),p=e(19303),s=e(47293),f=u.aTypedArray,h=u.getTypedArrayConstructor,x=u.exportTypedArrayMethod,m=Math.max,g=Math.min,y=!s(function(){var S=new Int8Array([1]),E=S.toSpliced(1,0,{valueOf:function(){return S[0]=2,3}});return E[0]!==2||E[1]!==3});x("toSpliced",function(E,P){var k=f(this),A=h(k),L=o(k),j=l(E,L),C=arguments.length,_=0,W,X,te,q,he,Pe,Te;if(C===0)W=X=0;else if(C===1)W=0,X=L-j;else if(X=g(m(p(P),0),L-j),W=C-2,W){q=new A(W),te=r(q);for(var De=2;De<C;De++)he=arguments[De],q[De-2]=te?d(he):+he}for(Pe=L+W-X,Te=new A(Pe);_<j;_++)Te[_]=k[_];for(;_<j+W;_++)Te[_]=q[_-j];for(;_<Pe;_++)Te[_]=k[_+X-W];return Te},!y)},84444:function(i,I,e){"use strict";var u=e(1702),o=e(90260),r=e(97745),l=e(60956),d=o.aTypedArray,p=o.getTypedArrayConstructor,s=o.exportTypedArrayMethod,f=u(l);s("uniqueBy",function(x){return d(this),r(p(this),f(this,x))},!0)},68696:function(i,I,e){e(55315)},78206:function(i,I,e){"use strict";var u=e(82109),o=e(29257),r=e(60953).remove;u({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var d=o(this),p=!0,s,f=0,h=arguments.length;f<h;f++)s=r(d,arguments[f]),p=p&&s;return!!p}})},12714:function(i,I,e){"use strict";var u=e(82109),o=e(29257),r=e(60953),l=r.get,d=r.has,p=r.set;u({target:"WeakMap",proto:!0,real:!0,forced:!0},{emplace:function(f,h){var x=o(this),m,g;return d(x,f)?(m=l(x,f),"update"in h&&(m=h.update(m,f,x),p(x,f,m)),m):(g=h.insert(f,x),p(x,f,g),g)}})},76478:function(i,I,e){var u=e(82109),o=e(27296);u({target:"WeakMap",stat:!0,forced:!0},{from:o})},79715:function(i,I,e){var u=e(82109),o=e(82044);u({target:"WeakMap",stat:!0,forced:!0},{of:o})},5964:function(i,I,e){"use strict";var u=e(82109),o=e(8154);u({target:"WeakMap",proto:!0,real:!0,forced:!0},{upsert:o})},43561:function(i,I,e){"use strict";var u=e(82109),o=e(72682),r=e(78818).add;u({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:function(){for(var d=o(this),p=0,s=arguments.length;p<s;p++)r(d,arguments[p]);return d}})},32049:function(i,I,e){"use strict";var u=e(82109),o=e(72682),r=e(78818).remove;u({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var d=o(this),p=!0,s,f=0,h=arguments.length;f<h;f++)s=r(d,arguments[f]),p=p&&s;return!!p}})},86020:function(i,I,e){var u=e(82109),o=e(27296);u({target:"WeakSet",stat:!0,forced:!0},{from:o})},56585:function(i,I,e){var u=e(82109),o=e(82044);u({target:"WeakSet",stat:!0,forced:!0},{of:o})},11091:function(i,I,e){var u=e(82109),o=e(17854),r=e(20261).clear;u({global:!0,bind:!0,enumerable:!0,forced:o.clearImmediate!==r},{clearImmediate:r})},82801:function(i,I,e){"use strict";var u=e(82109),o=e(17854),r=e(35005),l=e(79114),d=e(3070).f,p=e(92597),s=e(25787),f=e(79587),h=e(56277),x=e(93678),m=e(11060),g=e(19781),y=e(31913),S="DOMException",E=r("Error"),P=r(S),k=function(){s(this,A);var De=arguments.length,ye=h(De<1?void 0:arguments[0]),ve=h(De<2?void 0:arguments[1],"Error"),T=new P(ye,ve),F=E(ye);return F.name=S,d(T,"stack",l(1,m(F.stack,1))),f(T,this,k),T},A=k.prototype=P.prototype,L="stack"in E(S),j="stack"in new P(1,2),C=P&&g&&Object.getOwnPropertyDescriptor(o,S),_=!!C&&!(C.writable&&C.configurable),W=L&&!_&&!j;u({global:!0,constructor:!0,forced:y||W},{DOMException:W?k:P});var X=r(S),te=X.prototype;if(te.constructor!==X){y||d(te,"constructor",l(1,X));for(var q in x)if(p(x,q)){var he=x[q],Pe=he.s;p(X,Pe)||d(X,Pe,l(6,he.c))}}},84633:function(i,I,e){e(11091),e(12986)},71550:function(i,I,e){"use strict";var u=e(82109),o=e(17854),r=e(47045),l=e(19781),d=TypeError,p=Object.defineProperty,s=o.self!==o;try{if(l){var f=Object.getOwnPropertyDescriptor(o,"self");(s||!f||!f.get||!f.enumerable)&&r(o,"self",{get:function(){return o},set:function(x){if(this!==o)throw d("Illegal invocation");p(o,"self",{value:x,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else u({global:!0,simple:!0,forced:s},{self:o})}catch(h){}},12986:function(i,I,e){var u=e(82109),o=e(17854),r=e(20261).set,l=e(17152),d=o.setImmediate?l(r,!1):r;u({global:!0,bind:!0,enumerable:!0,forced:o.setImmediate!==d},{setImmediate:d})},61295:function(i,I,e){var u=e(31913),o=e(82109),r=e(17854),l=e(35005),d=e(1702),p=e(47293),s=e(69711),f=e(60614),h=e(4411),x=e(68554),m=e(70111),g=e(52190),y=e(20408),S=e(19670),E=e(70648),P=e(92597),k=e(86135),A=e(68880),L=e(26244),j=e(48053),C=e(34706),_=e(75706),W=e(79405),X=e(22914),te=e(64124),q=r.Object,he=r.Array,Pe=r.Date,Te=r.Error,De=r.EvalError,ye=r.RangeError,ve=r.ReferenceError,T=r.SyntaxError,F=r.TypeError,Z=r.URIError,O=r.PerformanceMark,z=r.WebAssembly,ae=z&&z.CompileError||Te,be=z&&z.LinkError||Te,Re=z&&z.RuntimeError||Te,N=l("DOMException"),Q=_.Map,G=_.has,Y=_.get,ue=_.set,Me=W.Set,He=W.add,Je=l("Object","keys"),Xe=d([].push),et=d((!0).valueOf),ct=d(1 .valueOf),oe=d("".valueOf),xe=d(Pe.prototype.getTime),le=s("structuredClone"),se="DataCloneError",ke="Transferring",ne=function(v){return!p(function(){var B=new r.Set([7]),ee=v(B),ce=v(q(7));return ee==B||!ee.has(7)||typeof ce!="object"||ce!=7})&&v},pe=function(v,B){return!p(function(){var ee=new B,ce=v({a:ee,b:ee});return!(ce&&ce.a===ce.b&&ce.a instanceof B&&ce.a.stack===ee.stack)})},V=function(v){return!p(function(){var B=v(new r.AggregateError([1],le,{cause:3}));return B.name!="AggregateError"||B.errors[0]!=1||B.message!=le||B.cause!=3})},de=r.structuredClone,we=u||!pe(de,Te)||!pe(de,N)||!V(de),ze=!de&&ne(function(v){return new O(le,{detail:v}).detail}),Fe=ne(de)||ze,Ye=function(v){throw new N("Uncloneable type: "+v,se)},pt=function(v,B){throw new N((B||"Cloning")+" of "+v+" cannot be properly polyfilled in this engine",se)},Tt=function(){var v;try{v=new r.DataTransfer}catch(B){try{v=new r.ClipboardEvent("").clipboardData}catch(ee){}}return v&&v.items&&v.files?v:null},yt=function(v,B){if(g(v)&&Ye("Symbol"),!m(v))return v;if(B){if(G(B,v))return Y(B,v)}else B=new Q;var ee=E(v),ce=!1,Ae,Ne,Se,We,Ve,Qe,mt,Ee,Ue,je;switch(ee){case"Array":Se=he(L(v)),ce=!0;break;case"Object":Se={},ce=!0;break;case"Map":Se=new Q,ce=!0;break;case"Set":Se=new Me,ce=!0;break;case"RegExp":Se=new RegExp(v.source,C(v));break;case"Error":switch(Ne=v.name,Ne){case"AggregateError":Se=l("AggregateError")([]);break;case"EvalError":Se=De();break;case"RangeError":Se=ye();break;case"ReferenceError":Se=ve();break;case"SyntaxError":Se=T();break;case"TypeError":Se=F();break;case"URIError":Se=Z();break;case"CompileError":Se=ae();break;case"LinkError":Se=be();break;case"RuntimeError":Se=Re();break;default:Se=Te()}ce=!0;break;case"DOMException":Se=new N(v.message,v.name),ce=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Ae=r[ee],m(Ae)||pt(ee),Se=new Ae(yt(v.buffer,B),v.byteOffset,ee==="DataView"?v.byteLength:v.length);break;case"DOMQuad":try{Se=new DOMQuad(yt(v.p1,B),yt(v.p2,B),yt(v.p3,B),yt(v.p4,B))}catch(Ce){Fe?Se=Fe(v):pt(ee)}break;case"FileList":if(We=Tt(),We){for(Ve=0,Qe=L(v);Ve<Qe;Ve++)We.items.add(yt(v[Ve],B));Se=We.files}else Fe?Se=Fe(v):pt(ee);break;case"ImageData":try{Se=new ImageData(yt(v.data,B),v.width,v.height,{colorSpace:v.colorSpace})}catch(Ce){Fe?Se=Fe(v):pt(ee)}break;default:if(Fe)Se=Fe(v);else switch(ee){case"BigInt":Se=q(v.valueOf());break;case"Boolean":Se=q(et(v));break;case"Number":Se=q(ct(v));break;case"String":Se=q(oe(v));break;case"Date":Se=new Pe(xe(v));break;case"ArrayBuffer":Ae=r.DataView,!Ae&&typeof v.slice!="function"&&pt(ee);try{if(typeof v.slice=="function")Se=v.slice(0);else for(Qe=v.byteLength,Se=new ArrayBuffer(Qe),Ue=new Ae(v),je=new Ae(Se),Ve=0;Ve<Qe;Ve++)je.setUint8(Ve,Ue.getUint8(Ve))}catch(Ce){throw new N("ArrayBuffer is detached",se)}break;case"SharedArrayBuffer":Se=v;break;case"Blob":try{Se=v.slice(0,v.size,v.type)}catch(Ce){pt(ee)}break;case"DOMPoint":case"DOMPointReadOnly":Ae=r[ee];try{Se=Ae.fromPoint?Ae.fromPoint(v):new Ae(v.x,v.y,v.z,v.w)}catch(Ce){pt(ee)}break;case"DOMRect":case"DOMRectReadOnly":Ae=r[ee];try{Se=Ae.fromRect?Ae.fromRect(v):new Ae(v.x,v.y,v.width,v.height)}catch(Ce){pt(ee)}break;case"DOMMatrix":case"DOMMatrixReadOnly":Ae=r[ee];try{Se=Ae.fromMatrix?Ae.fromMatrix(v):new Ae(v)}catch(Ce){pt(ee)}break;case"AudioData":case"VideoFrame":f(v.clone)||pt(ee);try{Se=v.clone()}catch(Ce){Ye(ee)}break;case"File":try{Se=new File([v],v.name,v)}catch(Ce){pt(ee)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":pt(ee);default:Ye(ee)}}if(ue(B,v,Se),ce)switch(ee){case"Array":case"Object":for(mt=Je(v),Ve=0,Qe=L(mt);Ve<Qe;Ve++)Ee=mt[Ve],k(Se,Ee,yt(v[Ee],B));break;case"Map":v.forEach(function(Ce,tt){ue(Se,yt(tt,B),yt(Ce,B))});break;case"Set":v.forEach(function(Ce){He(Se,yt(Ce,B))});break;case"Error":A(Se,"message",yt(v.message,B)),P(v,"cause")&&A(Se,"cause",yt(v.cause,B)),Ne=="AggregateError"&&(Se.errors=yt(v.errors,B));case"DOMException":X&&A(Se,"stack",yt(v.stack,B))}return Se},fe=function(v,B){if(!m(v))throw F("Transfer option cannot be converted to a sequence");var ee=[];y(v,function(Ue){Xe(ee,S(Ue))});var ce=0,Ae=L(ee),Ne,Se,We,Ve,Qe,mt,Ee;if(te)for(Ve=de(ee,{transfer:ee});ce<Ae;)ue(B,ee[ce],Ve[ce++]);else for(;ce<Ae;){if(Ne=ee[ce++],G(B,Ne))throw new N("Duplicate transferable",se);switch(Se=E(Ne),Se){case"ImageBitmap":We=r.OffscreenCanvas,h(We)||pt(Se,ke);try{mt=new We(Ne.width,Ne.height),Ee=mt.getContext("bitmaprenderer"),Ee.transferFromImageBitmap(Ne),Qe=mt.transferToImageBitmap()}catch(Ue){}break;case"AudioData":case"VideoFrame":(!f(Ne.clone)||!f(Ne.close))&&pt(Se,ke);try{Qe=Ne.clone(),Ne.close()}catch(Ue){}break;case"ArrayBuffer":f(Ne.transfer)||pt(Se,ke),Qe=Ne.transfer();break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":pt(Se,ke)}if(Qe===void 0)throw new N("This object cannot be transferred: "+Se,se);ue(B,Ne,Qe)}};o({global:!0,enumerable:!0,sham:!te,forced:we},{structuredClone:function(B){var ee=j(arguments.length,1)>1&&!x(arguments[1])?S(arguments[1]):void 0,ce=ee?ee.transfer:void 0,Ae;return ce!==void 0&&(Ae=new Q,fe(ce,Ae)),yt(B,Ae)}})},9996:function(i){"use strict";var I=function(k){return e(k)&&!u(k)};function e(P){return!!P&&typeof P=="object"}function u(P){var k=Object.prototype.toString.call(P);return k==="[object RegExp]"||k==="[object Date]"||l(P)}var o=typeof Symbol=="function"&&Symbol.for,r=o?Symbol.for("react.element"):60103;function l(P){return P.$$typeof===r}function d(P){return Array.isArray(P)?[]:{}}function p(P,k){return k.clone!==!1&&k.isMergeableObject(P)?S(d(P),P,k):P}function s(P,k,A){return P.concat(k).map(function(L){return p(L,A)})}function f(P,k){if(!k.customMerge)return S;var A=k.customMerge(P);return typeof A=="function"?A:S}function h(P){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(P).filter(function(k){return Object.propertyIsEnumerable.call(P,k)}):[]}function x(P){return Object.keys(P).concat(h(P))}function m(P,k){try{return k in P}catch(A){return!1}}function g(P,k){return m(P,k)&&!(Object.hasOwnProperty.call(P,k)&&Object.propertyIsEnumerable.call(P,k))}function y(P,k,A){var L={};return A.isMergeableObject(P)&&x(P).forEach(function(j){L[j]=p(P[j],A)}),x(k).forEach(function(j){g(P,j)||(m(P,j)&&A.isMergeableObject(k[j])?L[j]=f(j,A)(P[j],k[j],A):L[j]=p(k[j],A))}),L}function S(P,k,A){A=A||{},A.arrayMerge=A.arrayMerge||s,A.isMergeableObject=A.isMergeableObject||I,A.cloneUnlessOtherwiseSpecified=p;var L=Array.isArray(k),j=Array.isArray(P),C=L===j;return C?L?A.arrayMerge(P,k,A):y(P,k,A):p(k,A)}S.all=function(k,A){if(!Array.isArray(k))throw new Error("first argument should be an array");return k.reduce(function(L,j){return S(L,j,A)},{})};var E=S;i.exports=E},68498:function(i){var I=Object.defineProperty,e=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,r=(k,A)=>{for(var L in A)I(k,L,{get:A[L],enumerable:!0})},l=(k,A,L,j)=>{if(A&&typeof A=="object"||typeof A=="function")for(let C of u(A))!o.call(k,C)&&C!==L&&I(k,C,{get:()=>A[C],enumerable:!(j=e(A,C))||j.enumerable});return k},d=k=>l(I({},"__esModule",{value:!0}),k),p={};r(p,{LOCAL_DUMI_DIR:()=>s,LOCAL_PAGES_DIR:()=>h,LOCAL_THEME_DIR:()=>f,PICKED_PKG_FIELDS:()=>S,PREFERS_COLOR_ATTR:()=>g,PREFERS_COLOR_LS_KEY:()=>y,SP_ROUTE_PREFIX:()=>m,THEME_PREFIX:()=>x,USELESS_TMP_FILES:()=>E,VERSION_2_LEVEL_NAV:()=>P}),i.exports=d(p);var s=".dumi",f=`${s}/theme`,h=`${s}/pages`,x="dumi-theme-",m="~",g="data-prefers-color",y="dumi:prefers-color",S={name:"",description:"",version:"",license:"",repository:"",author:"",authors:""},E=["tsconfig.json","typings.d.ts"],P="^2.2.0"},55648:function(i,I,e){"use strict";e.d(I,{Ep:function(){return E},PP:function(){return x},aU:function(){return o},cP:function(){return P},lX:function(){return f},q_:function(){return h}});var u=e(87462),o;(function(k){k.Pop="POP",k.Push="PUSH",k.Replace="REPLACE"})(o||(o={}));var r=function(k){return k};function l(k,A){if(!k){typeof console!="undefined"&&console.warn(A);try{throw new Error(A)}catch(L){}}}var d="beforeunload",p="hashchange",s="popstate";function f(k){k===void 0&&(k={});var A=k,L=A.window,j=L===void 0?document.defaultView:L,C=j.history;function _(){var Re=j.location,N=Re.pathname,Q=Re.search,G=Re.hash,Y=C.state||{};return[Y.idx,r({pathname:N,search:Q,hash:G,state:Y.usr||null,key:Y.key||"default"})]}var W=null;function X(){if(W)De.call(W),W=null;else{var Re=o.Pop,N=_(),Q=N[0],G=N[1];if(De.length){if(Q!=null){var Y=he-Q;Y&&(W={action:Re,location:G,retry:function(){ae(Y*-1)}},ae(Y))}}else Z(Re)}}j.addEventListener(s,X);var te=o.Pop,q=_(),he=q[0],Pe=q[1],Te=y(),De=y();he==null&&(he=0,C.replaceState((0,u.Z)({},C.state,{idx:he}),""));function ye(Re){return typeof Re=="string"?Re:E(Re)}function ve(Re,N){return N===void 0&&(N=null),r((0,u.Z)({pathname:Pe.pathname,hash:"",search:""},typeof Re=="string"?P(Re):Re,{state:N,key:S()}))}function T(Re,N){return[{usr:Re.state,key:Re.key,idx:N},ye(Re)]}function F(Re,N,Q){return!De.length||(De.call({action:Re,location:N,retry:Q}),!1)}function Z(Re){te=Re;var N=_();he=N[0],Pe=N[1],Te.call({action:te,location:Pe})}function O(Re,N){var Q=o.Push,G=ve(Re,N);function Y(){O(Re,N)}if(F(Q,G,Y)){var ue=T(G,he+1),Me=ue[0],He=ue[1];try{C.pushState(Me,"",He)}catch(Je){j.location.assign(He)}Z(Q)}}function z(Re,N){var Q=o.Replace,G=ve(Re,N);function Y(){z(Re,N)}if(F(Q,G,Y)){var ue=T(G,he),Me=ue[0],He=ue[1];C.replaceState(Me,"",He),Z(Q)}}function ae(Re){C.go(Re)}var be={get action(){return te},get location(){return Pe},createHref:ye,push:O,replace:z,go:ae,back:function(){ae(-1)},forward:function(){ae(1)},listen:function(N){return Te.push(N)},block:function(N){var Q=De.push(N);return De.length===1&&j.addEventListener(d,g),function(){Q(),De.length||j.removeEventListener(d,g)}}};return be}function h(k){k===void 0&&(k={});var A=k,L=A.window,j=L===void 0?document.defaultView:L,C=j.history;function _(){var N=P(j.location.hash.substr(1)),Q=N.pathname,G=Q===void 0?"/":Q,Y=N.search,ue=Y===void 0?"":Y,Me=N.hash,He=Me===void 0?"":Me,Je=C.state||{};return[Je.idx,r({pathname:G,search:ue,hash:He,state:Je.usr||null,key:Je.key||"default"})]}var W=null;function X(){if(W)De.call(W),W=null;else{var N=o.Pop,Q=_(),G=Q[0],Y=Q[1];if(De.length){if(G!=null){var ue=he-G;ue&&(W={action:N,location:Y,retry:function(){be(ue*-1)}},be(ue))}}else O(N)}}j.addEventListener(s,X),j.addEventListener(p,function(){var N=_(),Q=N[1];E(Q)!==E(Pe)&&X()});var te=o.Pop,q=_(),he=q[0],Pe=q[1],Te=y(),De=y();he==null&&(he=0,C.replaceState((0,u.Z)({},C.state,{idx:he}),""));function ye(){var N=document.querySelector("base"),Q="";if(N&&N.getAttribute("href")){var G=j.location.href,Y=G.indexOf("#");Q=Y===-1?G:G.slice(0,Y)}return Q}function ve(N){return ye()+"#"+(typeof N=="string"?N:E(N))}function T(N,Q){return Q===void 0&&(Q=null),r((0,u.Z)({pathname:Pe.pathname,hash:"",search:""},typeof N=="string"?P(N):N,{state:Q,key:S()}))}function F(N,Q){return[{usr:N.state,key:N.key,idx:Q},ve(N)]}function Z(N,Q,G){return!De.length||(De.call({action:N,location:Q,retry:G}),!1)}function O(N){te=N;var Q=_();he=Q[0],Pe=Q[1],Te.call({action:te,location:Pe})}function z(N,Q){var G=o.Push,Y=T(N,Q);function ue(){z(N,Q)}if(Z(G,Y,ue)){var Me=F(Y,he+1),He=Me[0],Je=Me[1];try{C.pushState(He,"",Je)}catch(Xe){j.location.assign(Je)}O(G)}}function ae(N,Q){var G=o.Replace,Y=T(N,Q);function ue(){ae(N,Q)}if(Z(G,Y,ue)){var Me=F(Y,he),He=Me[0],Je=Me[1];C.replaceState(He,"",Je),O(G)}}function be(N){C.go(N)}var Re={get action(){return te},get location(){return Pe},createHref:ve,push:z,replace:ae,go:be,back:function(){be(-1)},forward:function(){be(1)},listen:function(Q){return Te.push(Q)},block:function(Q){var G=De.push(Q);return De.length===1&&j.addEventListener(d,g),function(){G(),De.length||j.removeEventListener(d,g)}}};return Re}function x(k){k===void 0&&(k={});var A=k,L=A.initialEntries,j=L===void 0?["/"]:L,C=A.initialIndex,_=j.map(function(O){var z=r((0,u.Z)({pathname:"/",search:"",hash:"",state:null,key:S()},typeof O=="string"?P(O):O));return z}),W=m(C==null?_.length-1:C,0,_.length-1),X=o.Pop,te=_[W],q=y(),he=y();function Pe(O){return typeof O=="string"?O:E(O)}function Te(O,z){return z===void 0&&(z=null),r((0,u.Z)({pathname:te.pathname,search:"",hash:""},typeof O=="string"?P(O):O,{state:z,key:S()}))}function De(O,z,ae){return!he.length||(he.call({action:O,location:z,retry:ae}),!1)}function ye(O,z){X=O,te=z,q.call({action:X,location:te})}function ve(O,z){var ae=o.Push,be=Te(O,z);function Re(){ve(O,z)}De(ae,be,Re)&&(W+=1,_.splice(W,_.length,be),ye(ae,be))}function T(O,z){var ae=o.Replace,be=Te(O,z);function Re(){T(O,z)}De(ae,be,Re)&&(_[W]=be,ye(ae,be))}function F(O){var z=m(W+O,0,_.length-1),ae=o.Pop,be=_[z];function Re(){F(O)}De(ae,be,Re)&&(W=z,ye(ae,be))}var Z={get index(){return W},get action(){return X},get location(){return te},createHref:Pe,push:ve,replace:T,go:F,back:function(){F(-1)},forward:function(){F(1)},listen:function(z){return q.push(z)},block:function(z){return he.push(z)}};return Z}function m(k,A,L){return Math.min(Math.max(k,A),L)}function g(k){k.preventDefault(),k.returnValue=""}function y(){var k=[];return{get length(){return k.length},push:function(L){return k.push(L),function(){k=k.filter(function(j){return j!==L})}},call:function(L){k.forEach(function(j){return j&&j(L)})}}}function S(){return Math.random().toString(36).substr(2,8)}function E(k){var A=k.pathname,L=A===void 0?"/":A,j=k.search,C=j===void 0?"":j,_=k.hash,W=_===void 0?"":_;return C&&C!=="?"&&(L+=C.charAt(0)==="?"?C:"?"+C),W&&W!=="#"&&(L+=W.charAt(0)==="#"?W:"#"+W),L}function P(k){var A={};if(k){var L=k.indexOf("#");L>=0&&(A.hash=k.substr(L),k=k.substr(0,L));var j=k.indexOf("?");j>=0&&(A.search=k.substr(j),k=k.substr(0,j)),k&&(A.pathname=k)}return A}},8679:function(i,I,e){"use strict";var u=e(59864),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},d={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},p={};p[u.ForwardRef]=l,p[u.Memo]=d;function s(E){return u.isMemo(E)?d:p[E.$$typeof]||o}var f=Object.defineProperty,h=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,y=Object.prototype;function S(E,P,k){if(typeof P!="string"){if(y){var A=g(P);A&&A!==y&&S(E,A,k)}var L=h(P);x&&(L=L.concat(x(P)));for(var j=s(E),C=s(P),_=0;_<L.length;++_){var W=L[_];if(!r[W]&&!(k&&k[W])&&!(C&&C[W])&&!(j&&j[W])){var X=m(P,W);try{f(E,W,X)}catch(te){}}}}return E}i.exports=S},16284:function(i,I,e){"use strict";e.d(I,{C:function(){return h}});var u=e(70655),o=e(56096),r=e(95957),l=e(61092);function d(x,m){return m?(0,u.pi)((0,u.pi)((0,u.pi)({},x||{}),m||{}),Object.keys(x).reduce(function(g,y){return g[y]=(0,u.pi)((0,u.pi)({},x[y]),m[y]||{}),g},{})):x}function p(x,m){return m?Object.keys(x).reduce(function(g,y){return g[y]=d(x[y],m[y]),g},(0,u.pi)({},x)):x}function s(x){return{create:function(){return{get:function(m){return x[m]},set:function(m,g){x[m]=g}}}}}function f(x){return x===void 0&&(x={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:(0,r.H)(function(){for(var m,g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];return new((m=Intl.NumberFormat).bind.apply(m,(0,u.ev)([void 0],g,!1)))},{cache:s(x.number),strategy:r.A.variadic}),getDateTimeFormat:(0,r.H)(function(){for(var m,g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];return new((m=Intl.DateTimeFormat).bind.apply(m,(0,u.ev)([void 0],g,!1)))},{cache:s(x.dateTime),strategy:r.A.variadic}),getPluralRules:(0,r.H)(function(){for(var m,g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];return new((m=Intl.PluralRules).bind.apply(m,(0,u.ev)([void 0],g,!1)))},{cache:s(x.pluralRules),strategy:r.A.variadic})}}var h=function(){function x(m,g,y,S){g===void 0&&(g=x.defaultLocale);var E=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(L){var j=E.formatToParts(L);if(j.length===1)return j[0].value;var C=j.reduce(function(_,W){return!_.length||W.type!==l.du.literal||typeof _[_.length-1]!="string"?_.push(W.value):_[_.length-1]+=W.value,_},[]);return C.length<=1?C[0]||"":C},this.formatToParts=function(L){return(0,l.FK)(E.ast,E.locales,E.formatters,E.formats,L,void 0,E.message)},this.resolvedOptions=function(){var L;return{locale:((L=E.resolvedLocale)===null||L===void 0?void 0:L.toString())||Intl.NumberFormat.supportedLocalesOf(E.locales)[0]}},this.getAst=function(){return E.ast},this.locales=g,this.resolvedLocale=x.resolveLocale(g),typeof m=="string"){if(this.message=m,!x.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var P=S||{},k=P.formatters,A=(0,u._T)(P,["formatters"]);this.ast=x.__parse(m,(0,u.pi)((0,u.pi)({},A),{locale:this.resolvedLocale}))}else this.ast=m;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=p(x.formats,y),this.formatters=S&&S.formatters||f(this.formatterCache)}return Object.defineProperty(x,"defaultLocale",{get:function(){return x.memoizedDefaultLocale||(x.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),x.memoizedDefaultLocale},enumerable:!1,configurable:!0}),x.memoizedDefaultLocale=null,x.resolveLocale=function(m){if(typeof Intl.Locale!="undefined"){var g=Intl.NumberFormat.supportedLocalesOf(m);return g.length>0?new Intl.Locale(g[0]):new Intl.Locale(typeof m=="string"?m:m[0])}},x.__parse=o.Qc,x.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},x}()},11050:function(i,I,e){"use strict";e.d(I,{C8:function(){return l},HR:function(){return p},YR:function(){return d},jK:function(){return o},u_:function(){return r}});var u=e(70655),o;(function(s){s.MISSING_VALUE="MISSING_VALUE",s.INVALID_VALUE="INVALID_VALUE",s.MISSING_INTL_API="MISSING_INTL_API"})(o||(o={}));var r=function(s){(0,u.ZT)(f,s);function f(h,x,m){var g=s.call(this,h)||this;return g.code=x,g.originalMessage=m,g}return f.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},f}(Error),l=function(s){(0,u.ZT)(f,s);function f(h,x,m,g){return s.call(this,'Invalid values for "'.concat(h,'": "').concat(x,'". Options are "').concat(Object.keys(m).join('", "'),'"'),o.INVALID_VALUE,g)||this}return f}(r),d=function(s){(0,u.ZT)(f,s);function f(h,x,m){return s.call(this,'Value for "'.concat(h,'" must be of type ').concat(x),o.INVALID_VALUE,m)||this}return f}(r),p=function(s){(0,u.ZT)(f,s);function f(h,x){return s.call(this,'The intl string context variable "'.concat(h,'" was not provided to the string "').concat(x,'"'),o.MISSING_VALUE,x)||this}return f}(r)},61092:function(i,I,e){"use strict";e.d(I,{FK:function(){return p},Gt:function(){return d},du:function(){return r}});var u=e(56096),o=e(11050),r;(function(s){s[s.literal=0]="literal",s[s.object=1]="object"})(r||(r={}));function l(s){return s.length<2?s:s.reduce(function(f,h){var x=f[f.length-1];return!x||x.type!==r.literal||h.type!==r.literal?f.push(h):x.value+=h.value,f},[])}function d(s){return typeof s=="function"}function p(s,f,h,x,m,g,y){if(s.length===1&&(0,u.O4)(s[0]))return[{type:r.literal,value:s[0].value}];for(var S=[],E=0,P=s;E<P.length;E++){var k=P[E];if((0,u.O4)(k)){S.push({type:r.literal,value:k.value});continue}if((0,u.yx)(k)){typeof g=="number"&&S.push({type:r.literal,value:h.getNumberFormat(f).format(g)});continue}var A=k.value;if(!(m&&A in m))throw new o.HR(A,y);var L=m[A];if((0,u.VG)(k)){(!L||typeof L=="string"||typeof L=="number")&&(L=typeof L=="string"||typeof L=="number"?String(L):""),S.push({type:typeof L=="string"?r.literal:r.object,value:L});continue}if((0,u.rp)(k)){var j=typeof k.style=="string"?x.date[k.style]:(0,u.Ii)(k.style)?k.style.parsedOptions:void 0;S.push({type:r.literal,value:h.getDateTimeFormat(f,j).format(L)});continue}if((0,u.pe)(k)){var j=typeof k.style=="string"?x.time[k.style]:(0,u.Ii)(k.style)?k.style.parsedOptions:x.time.medium;S.push({type:r.literal,value:h.getDateTimeFormat(f,j).format(L)});continue}if((0,u.uf)(k)){var j=typeof k.style=="string"?x.number[k.style]:(0,u.Wh)(k.style)?k.style.parsedOptions:void 0;j&&j.scale&&(L=L*(j.scale||1)),S.push({type:r.literal,value:h.getNumberFormat(f,j).format(L)});continue}if((0,u.HI)(k)){var C=k.children,_=k.value,W=m[_];if(!d(W))throw new o.YR(_,"function",y);var X=p(C,f,h,x,m,g),te=W(X.map(function(Pe){return Pe.value}));Array.isArray(te)||(te=[te]),S.push.apply(S,te.map(function(Pe){return{type:typeof Pe=="string"?r.literal:r.object,value:Pe}}))}if((0,u.Wi)(k)){var q=k.options[L]||k.options.other;if(!q)throw new o.C8(k.value,L,Object.keys(k.options),y);S.push.apply(S,p(q.value,f,h,x,m));continue}if((0,u.Jo)(k)){var q=k.options["=".concat(L)];if(!q){if(!Intl.PluralRules)throw new o.u_(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,o.jK.MISSING_INTL_API,y);var he=h.getPluralRules(f,{type:k.pluralType}).select(L-(k.offset||0));q=k.options[he]||k.options.other}if(!q)throw new o.C8(k.value,L,Object.keys(k.options),y);S.push.apply(S,p(q.value,f,h,x,m,L-(k.offset||0)));continue}}return l(S)}},41143:function(i){"use strict";var I=function(e,u,o,r,l,d,p,s){if(!e){var f;if(u===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[o,r,l,d,p,s],x=0;f=new Error(u.replace(/%s/g,function(){return h[x++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};i.exports=I},26961:function(i,I,e){var u,o=function(){var r=String.fromCharCode,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",p={};function s(h,x){if(!p[h]){p[h]={};for(var m=0;m<h.length;m++)p[h][h.charAt(m)]=m}return p[h][x]}var f={compressToBase64:function(h){if(h==null)return"";var x=f._compress(h,6,function(m){return l.charAt(m)});switch(x.length%4){default:case 0:return x;case 1:return x+"===";case 2:return x+"==";case 3:return x+"="}},decompressFromBase64:function(h){return h==null?"":h==""?null:f._decompress(h.length,32,function(x){return s(l,h.charAt(x))})},compressToUTF16:function(h){return h==null?"":f._compress(h,15,function(x){return r(x+32)})+" "},decompressFromUTF16:function(h){return h==null?"":h==""?null:f._decompress(h.length,16384,function(x){return h.charCodeAt(x)-32})},compressToUint8Array:function(h){for(var x=f.compress(h),m=new Uint8Array(x.length*2),g=0,y=x.length;g<y;g++){var S=x.charCodeAt(g);m[g*2]=S>>>8,m[g*2+1]=S%256}return m},decompressFromUint8Array:function(h){if(h==null)return f.decompress(h);for(var x=new Array(h.length/2),m=0,g=x.length;m<g;m++)x[m]=h[m*2]*256+h[m*2+1];var y=[];return x.forEach(function(S){y.push(r(S))}),f.decompress(y.join(""))},compressToEncodedURIComponent:function(h){return h==null?"":f._compress(h,6,function(x){return d.charAt(x)})},decompressFromEncodedURIComponent:function(h){return h==null?"":h==""?null:(h=h.replace(/ /g,"+"),f._decompress(h.length,32,function(x){return s(d,h.charAt(x))}))},compress:function(h){return f._compress(h,16,function(x){return r(x)})},_compress:function(h,x,m){if(h==null)return"";var g,y,S={},E={},P="",k="",A="",L=2,j=3,C=2,_=[],W=0,X=0,te;for(te=0;te<h.length;te+=1)if(P=h.charAt(te),Object.prototype.hasOwnProperty.call(S,P)||(S[P]=j++,E[P]=!0),k=A+P,Object.prototype.hasOwnProperty.call(S,k))A=k;else{if(Object.prototype.hasOwnProperty.call(E,A)){if(A.charCodeAt(0)<256){for(g=0;g<C;g++)W=W<<1,X==x-1?(X=0,_.push(m(W)),W=0):X++;for(y=A.charCodeAt(0),g=0;g<8;g++)W=W<<1|y&1,X==x-1?(X=0,_.push(m(W)),W=0):X++,y=y>>1}else{for(y=1,g=0;g<C;g++)W=W<<1|y,X==x-1?(X=0,_.push(m(W)),W=0):X++,y=0;for(y=A.charCodeAt(0),g=0;g<16;g++)W=W<<1|y&1,X==x-1?(X=0,_.push(m(W)),W=0):X++,y=y>>1}L--,L==0&&(L=Math.pow(2,C),C++),delete E[A]}else for(y=S[A],g=0;g<C;g++)W=W<<1|y&1,X==x-1?(X=0,_.push(m(W)),W=0):X++,y=y>>1;L--,L==0&&(L=Math.pow(2,C),C++),S[k]=j++,A=String(P)}if(A!==""){if(Object.prototype.hasOwnProperty.call(E,A)){if(A.charCodeAt(0)<256){for(g=0;g<C;g++)W=W<<1,X==x-1?(X=0,_.push(m(W)),W=0):X++;for(y=A.charCodeAt(0),g=0;g<8;g++)W=W<<1|y&1,X==x-1?(X=0,_.push(m(W)),W=0):X++,y=y>>1}else{for(y=1,g=0;g<C;g++)W=W<<1|y,X==x-1?(X=0,_.push(m(W)),W=0):X++,y=0;for(y=A.charCodeAt(0),g=0;g<16;g++)W=W<<1|y&1,X==x-1?(X=0,_.push(m(W)),W=0):X++,y=y>>1}L--,L==0&&(L=Math.pow(2,C),C++),delete E[A]}else for(y=S[A],g=0;g<C;g++)W=W<<1|y&1,X==x-1?(X=0,_.push(m(W)),W=0):X++,y=y>>1;L--,L==0&&(L=Math.pow(2,C),C++)}for(y=2,g=0;g<C;g++)W=W<<1|y&1,X==x-1?(X=0,_.push(m(W)),W=0):X++,y=y>>1;for(;;)if(W=W<<1,X==x-1){_.push(m(W));break}else X++;return _.join("")},decompress:function(h){return h==null?"":h==""?null:f._decompress(h.length,32768,function(x){return h.charCodeAt(x)})},_decompress:function(h,x,m){var g=[],y,S=4,E=4,P=3,k="",A=[],L,j,C,_,W,X,te,q={val:m(0),position:x,index:1};for(L=0;L<3;L+=1)g[L]=L;for(C=0,W=Math.pow(2,2),X=1;X!=W;)_=q.val&q.position,q.position>>=1,q.position==0&&(q.position=x,q.val=m(q.index++)),C|=(_>0?1:0)*X,X<<=1;switch(y=C){case 0:for(C=0,W=Math.pow(2,8),X=1;X!=W;)_=q.val&q.position,q.position>>=1,q.position==0&&(q.position=x,q.val=m(q.index++)),C|=(_>0?1:0)*X,X<<=1;te=r(C);break;case 1:for(C=0,W=Math.pow(2,16),X=1;X!=W;)_=q.val&q.position,q.position>>=1,q.position==0&&(q.position=x,q.val=m(q.index++)),C|=(_>0?1:0)*X,X<<=1;te=r(C);break;case 2:return""}for(g[3]=te,j=te,A.push(te);;){if(q.index>h)return"";for(C=0,W=Math.pow(2,P),X=1;X!=W;)_=q.val&q.position,q.position>>=1,q.position==0&&(q.position=x,q.val=m(q.index++)),C|=(_>0?1:0)*X,X<<=1;switch(te=C){case 0:for(C=0,W=Math.pow(2,8),X=1;X!=W;)_=q.val&q.position,q.position>>=1,q.position==0&&(q.position=x,q.val=m(q.index++)),C|=(_>0?1:0)*X,X<<=1;g[E++]=r(C),te=E-1,S--;break;case 1:for(C=0,W=Math.pow(2,16),X=1;X!=W;)_=q.val&q.position,q.position>>=1,q.position==0&&(q.position=x,q.val=m(q.index++)),C|=(_>0?1:0)*X,X<<=1;g[E++]=r(C),te=E-1,S--;break;case 2:return A.join("")}if(S==0&&(S=Math.pow(2,P),P++),g[te])k=g[te];else if(te===E)k=j+j.charAt(0);else return null;A.push(k),g[E++]=j+k.charAt(0),S--,j=k,S==0&&(S=Math.pow(2,P),P++)}}};return f}();u=function(){return o}.call(I,e,I,i),u!==void 0&&(i.exports=u)},74865:function(i,I,e){var u,o;(function(r,l){u=l,o=typeof u=="function"?u.call(I,e,I,i):u,o!==void 0&&(i.exports=o)})(this,function(){var r={};r.version="0.2.0";var l=r.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};r.configure=function(E){var P,k;for(P in E)k=E[P],k!==void 0&&E.hasOwnProperty(P)&&(l[P]=k);return this},r.status=null,r.set=function(E){var P=r.isStarted();E=d(E,l.minimum,1),r.status=E===1?null:E;var k=r.render(!P),A=k.querySelector(l.barSelector),L=l.speed,j=l.easing;return k.offsetWidth,f(function(C){l.positionUsing===""&&(l.positionUsing=r.getPositioningCSS()),h(A,s(E,L,j)),E===1?(h(k,{transition:"none",opacity:1}),k.offsetWidth,setTimeout(function(){h(k,{transition:"all "+L+"ms linear",opacity:0}),setTimeout(function(){r.remove(),C()},L)},L)):setTimeout(C,L)}),this},r.isStarted=function(){return typeof r.status=="number"},r.start=function(){r.status||r.set(0);var E=function(){setTimeout(function(){r.status&&(r.trickle(),E())},l.trickleSpeed)};return l.trickle&&E(),this},r.done=function(E){return!E&&!r.status?this:r.inc(.3+.5*Math.random()).set(1)},r.inc=function(E){var P=r.status;return P?(typeof E!="number"&&(E=(1-P)*d(Math.random()*P,.1,.95)),P=d(P+E,0,.994),r.set(P)):r.start()},r.trickle=function(){return r.inc(Math.random()*l.trickleRate)},function(){var E=0,P=0;r.promise=function(k){return!k||k.state()==="resolved"?this:(P===0&&r.start(),E++,P++,k.always(function(){P--,P===0?(E=0,r.done()):r.set((E-P)/E)}),this)}}(),r.render=function(E){if(r.isRendered())return document.getElementById("nprogress");m(document.documentElement,"nprogress-busy");var P=document.createElement("div");P.id="nprogress",P.innerHTML=l.template;var k=P.querySelector(l.barSelector),A=E?"-100":p(r.status||0),L=document.querySelector(l.parent),j;return h(k,{transition:"all 0 linear",transform:"translate3d("+A+"%,0,0)"}),l.showSpinner||(j=P.querySelector(l.spinnerSelector),j&&S(j)),L!=document.body&&m(L,"nprogress-custom-parent"),L.appendChild(P),P},r.remove=function(){g(document.documentElement,"nprogress-busy"),g(document.querySelector(l.parent),"nprogress-custom-parent");var E=document.getElementById("nprogress");E&&S(E)},r.isRendered=function(){return!!document.getElementById("nprogress")},r.getPositioningCSS=function(){var E=document.body.style,P="WebkitTransform"in E?"Webkit":"MozTransform"in E?"Moz":"msTransform"in E?"ms":"OTransform"in E?"O":"";return P+"Perspective"in E?"translate3d":P+"Transform"in E?"translate":"margin"};function d(E,P,k){return E<P?P:E>k?k:E}function p(E){return(-1+E)*100}function s(E,P,k){var A;return l.positionUsing==="translate3d"?A={transform:"translate3d("+p(E)+"%,0,0)"}:l.positionUsing==="translate"?A={transform:"translate("+p(E)+"%,0)"}:A={"margin-left":p(E)+"%"},A.transition="all "+P+"ms "+k,A}var f=function(){var E=[];function P(){var k=E.shift();k&&k(P)}return function(k){E.push(k),E.length==1&&P()}}(),h=function(){var E=["Webkit","O","Moz","ms"],P={};function k(C){return C.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(_,W){return W.toUpperCase()})}function A(C){var _=document.body.style;if(C in _)return C;for(var W=E.length,X=C.charAt(0).toUpperCase()+C.slice(1),te;W--;)if(te=E[W]+X,te in _)return te;return C}function L(C){return C=k(C),P[C]||(P[C]=A(C))}function j(C,_,W){_=L(_),C.style[_]=W}return function(C,_){var W=arguments,X,te;if(W.length==2)for(X in _)te=_[X],te!==void 0&&_.hasOwnProperty(X)&&j(C,X,te);else j(C,W[1],W[2])}}();function x(E,P){var k=typeof E=="string"?E:y(E);return k.indexOf(" "+P+" ")>=0}function m(E,P){var k=y(E),A=k+P;x(k,P)||(E.className=A.substring(1))}function g(E,P){var k=y(E),A;x(E,P)&&(A=k.replace(" "+P+" "," "),E.className=A.substring(1,A.length-1))}function y(E){return(" "+(E.className||"")+" ").replace(/\s+/gi," ")}function S(E){E&&E.parentNode&&E.parentNode.removeChild(E)}return r})},34155:function(i){var I=i.exports={},e,u;function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=o}catch(S){e=o}try{typeof clearTimeout=="function"?u=clearTimeout:u=r}catch(S){u=r}})();function l(S){if(e===setTimeout)return setTimeout(S,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(S,0);try{return e(S,0)}catch(E){try{return e.call(null,S,0)}catch(P){return e.call(this,S,0)}}}function d(S){if(u===clearTimeout)return clearTimeout(S);if((u===r||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(S);try{return u(S)}catch(E){try{return u.call(null,S)}catch(P){return u.call(this,S)}}}var p=[],s=!1,f,h=-1;function x(){!s||!f||(s=!1,f.length?p=f.concat(p):h=-1,p.length&&m())}function m(){if(!s){var S=l(x);s=!0;for(var E=p.length;E;){for(f=p,p=[];++h<E;)f&&f[h].run();h=-1,E=p.length}f=null,s=!1,d(S)}}I.nextTick=function(S){var E=new Array(arguments.length-1);if(arguments.length>1)for(var P=1;P<arguments.length;P++)E[P-1]=arguments[P];p.push(new g(S,E)),p.length===1&&!s&&l(m)};function g(S,E){this.fun=S,this.array=E}g.prototype.run=function(){this.fun.apply(null,this.array)},I.title="browser",I.browser=!0,I.env={},I.argv=[],I.version="",I.versions={};function y(){}I.on=y,I.addListener=y,I.once=y,I.off=y,I.removeListener=y,I.removeAllListeners=y,I.emit=y,I.prependListener=y,I.prependOnceListener=y,I.listeners=function(S){return[]},I.binding=function(S){throw new Error("process.binding is not supported")},I.cwd=function(){return"/"},I.chdir=function(S){throw new Error("process.chdir is not supported")},I.umask=function(){return 0}},92703:function(i,I,e){"use strict";var u=e(50414);function o(){}function r(){}r.resetWarningCache=o,i.exports=function(){function l(s,f,h,x,m,g){if(g!==u){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}l.isRequired=l;function d(){return l}var p={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:d,element:l,elementType:l,instanceOf:d,node:l,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:r,resetWarningCache:o};return p.PropTypes=p,p}},45697:function(i,I,e){if(!1)var u,o;else i.exports=e(92703)()},50414:function(i){"use strict";var I="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";i.exports=I},82225:function(i,I,e){"use strict";e.d(I,{ZP:function(){return Ae}});var u=e(4942),o=e(1413),r=e(86854),l=e(71002),d=e(94184),p=e.n(d),s=e(34203),f=e(42550),h=e(62435),x=null,m=h.createContext({});function g(Ne){var Se=Ne.children,We=_objectWithoutProperties(Ne,x);return React.createElement(m.Provider,{value:We},Se)}var y=e(15671),S=e(43144),E=e(32531),P=e(73568),k=function(Ne){(0,E.Z)(We,Ne);var Se=(0,P.Z)(We);function We(){return(0,y.Z)(this,We),Se.apply(this,arguments)}return(0,S.Z)(We,[{key:"render",value:function(){return this.props.children}}]),We}(h.Component),A=k,L=e(30470),j="none",C="appear",_="enter",W="leave",X="none",te="prepare",q="start",he="active",Pe="end",Te="prepared",De=e(98924);function ye(Ne,Se){var We={};return We[Ne.toLowerCase()]=Se.toLowerCase(),We["Webkit".concat(Ne)]="webkit".concat(Se),We["Moz".concat(Ne)]="moz".concat(Se),We["ms".concat(Ne)]="MS".concat(Se),We["O".concat(Ne)]="o".concat(Se.toLowerCase()),We}function ve(Ne,Se){var We={animationend:ye("Animation","AnimationEnd"),transitionend:ye("Transition","TransitionEnd")};return Ne&&("AnimationEvent"in Se||delete We.animationend.animation,"TransitionEvent"in Se||delete We.transitionend.transition),We}var T=ve((0,De.Z)(),typeof window!="undefined"?window:{}),F={};if((0,De.Z)()){var Z=document.createElement("div");F=Z.style}var O={};function z(Ne){if(O[Ne])return O[Ne];var Se=T[Ne];if(Se)for(var We=Object.keys(Se),Ve=We.length,Qe=0;Qe<Ve;Qe+=1){var mt=We[Qe];if(Object.prototype.hasOwnProperty.call(Se,mt)&&mt in F)return O[Ne]=Se[mt],O[Ne]}return""}var ae=z("animationend"),be=z("transitionend"),Re=!!(ae&&be),N=ae||"animationend",Q=be||"transitionend";function G(Ne,Se){if(!Ne)return null;if((0,l.Z)(Ne)==="object"){var We=Se.replace(/-\w/g,function(Ve){return Ve[1].toUpperCase()});return Ne[We]}return"".concat(Ne,"-").concat(Se)}var Y=function(Ne){var Se=(0,h.useRef)(),We=(0,h.useRef)(Ne);We.current=Ne;var Ve=h.useCallback(function(Ee){We.current(Ee)},[]);function Qe(Ee){Ee&&(Ee.removeEventListener(Q,Ve),Ee.removeEventListener(N,Ve))}function mt(Ee){Se.current&&Se.current!==Ee&&Qe(Se.current),Ee&&Ee!==Se.current&&(Ee.addEventListener(Q,Ve),Ee.addEventListener(N,Ve),Se.current=Ee)}return h.useEffect(function(){return function(){Qe(Se.current)}},[]),[mt,Qe]},ue=(0,De.Z)()?h.useLayoutEffect:h.useEffect,Me=ue,He=e(75164),Je=function(){var Ne=h.useRef(null);function Se(){He.Z.cancel(Ne.current)}function We(Ve){var Qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;Se();var mt=(0,He.Z)(function(){Qe<=1?Ve({isCanceled:function(){return mt!==Ne.current}}):We(Ve,Qe-1)});Ne.current=mt}return h.useEffect(function(){return function(){Se()}},[]),[We,Se]},Xe=[te,q,he,Pe],et=[te,Te],ct=!1,oe=!0;function xe(Ne){return Ne===he||Ne===Pe}var le=function(Ne,Se,We){var Ve=(0,L.Z)(X),Qe=(0,r.Z)(Ve,2),mt=Qe[0],Ee=Qe[1],Ue=Je(),je=(0,r.Z)(Ue,2),Ce=je[0],tt=je[1];function at(){Ee(te,!0)}var gt=Se?et:Xe;return Me(function(){if(mt!==X&&mt!==Pe){var kt=gt.indexOf(mt),$t=gt[kt+1],va=We(mt);va===ct?Ee($t,!0):$t&&Ce(function(fa){function wa(){fa.isCanceled()||Ee($t,!0)}va===!0?wa():Promise.resolve(va).then(wa)})}},[Ne,mt]),h.useEffect(function(){return function(){tt()}},[]),[at,mt]};function se(Ne,Se,We,Ve){var Qe=Ve.motionEnter,mt=Qe===void 0?!0:Qe,Ee=Ve.motionAppear,Ue=Ee===void 0?!0:Ee,je=Ve.motionLeave,Ce=je===void 0?!0:je,tt=Ve.motionDeadline,at=Ve.motionLeaveImmediately,gt=Ve.onAppearPrepare,kt=Ve.onEnterPrepare,$t=Ve.onLeavePrepare,va=Ve.onAppearStart,fa=Ve.onEnterStart,wa=Ve.onLeaveStart,Qa=Ve.onAppearActive,Pn=Ve.onEnterActive,tr=Ve.onLeaveActive,On=Ve.onAppearEnd,Et=Ve.onEnterEnd,nt=Ve.onLeaveEnd,It=Ve.onVisibleChanged,Vt=(0,L.Z)(),ta=(0,r.Z)(Vt,2),Xt=ta[0],ja=ta[1],Ha=(0,L.Z)(j),dn=(0,r.Z)(Ha,2),Ya=dn[0],Mn=dn[1],ar=(0,L.Z)(null),Xa=(0,r.Z)(ar,2),Zo=Xa[0],Vr=Xa[1],yo=(0,h.useRef)(!1),dr=(0,h.useRef)(null);function bo(){return We()}var Oo=(0,h.useRef)(!1);function Ur(){Mn(j,!0),Vr(null,!0)}function gr(zn){var ln=bo();if(!(zn&&!zn.deadline&&zn.target!==ln)){var cn=Oo.current,Tn;Ya===C&&cn?Tn=On==null?void 0:On(ln,zn):Ya===_&&cn?Tn=Et==null?void 0:Et(ln,zn):Ya===W&&cn&&(Tn=nt==null?void 0:nt(ln,zn)),Ya!==j&&cn&&Tn!==!1&&Ur()}}var nu=Y(gr),yr=(0,r.Z)(nu,1),bu=yr[0],ru=function(ln){var cn,Tn,Ja;switch(ln){case C:return cn={},(0,u.Z)(cn,te,gt),(0,u.Z)(cn,q,va),(0,u.Z)(cn,he,Qa),cn;case _:return Tn={},(0,u.Z)(Tn,te,kt),(0,u.Z)(Tn,q,fa),(0,u.Z)(Tn,he,Pn),Tn;case W:return Ja={},(0,u.Z)(Ja,te,$t),(0,u.Z)(Ja,q,wa),(0,u.Z)(Ja,he,tr),Ja;default:return{}}},Qr=h.useMemo(function(){return ru(Ya)},[Ya]),so=le(Ya,!Ne,function(zn){if(zn===te){var ln=Qr[te];return ln?ln(bo()):ct}if(Mr in Qr){var cn;Vr(((cn=Qr[Mr])===null||cn===void 0?void 0:cn.call(Qr,bo(),null))||null)}return Mr===he&&(bu(bo()),tt>0&&(clearTimeout(dr.current),dr.current=setTimeout(function(){gr({deadline:!0})},tt))),Mr===Te&&Ur(),oe}),po=(0,r.Z)(so,2),Io=po[0],Mr=po[1],ou=xe(Mr);Oo.current=ou,Me(function(){ja(Se);var zn=yo.current;yo.current=!0;var ln;!zn&&Se&&Ue&&(ln=C),zn&&Se&&mt&&(ln=_),(zn&&!Se&&Ce||!zn&&at&&!Se&&Ce)&&(ln=W);var cn=ru(ln);ln&&(Ne||cn[te])?(Mn(ln),Io()):Mn(j)},[Se]),(0,h.useEffect)(function(){(Ya===C&&!Ue||Ya===_&&!mt||Ya===W&&!Ce)&&Mn(j)},[Ue,mt,Ce]),(0,h.useEffect)(function(){return function(){yo.current=!1,clearTimeout(dr.current)}},[]);var To=h.useRef(!1);(0,h.useEffect)(function(){Xt&&(To.current=!0),Xt!==void 0&&Ya===j&&((To.current||Xt)&&(It==null||It(Xt)),To.current=!0)},[Xt,Ya]);var Br=Zo;return Qr[te]&&Mr===q&&(Br=(0,o.Z)({transition:"none"},Br)),[Ya,Mr,Br,Xt!=null?Xt:Se]}function ke(Ne){var Se=Ne;(0,l.Z)(Ne)==="object"&&(Se=Ne.transitionSupport);function We(Qe,mt){return!!(Qe.motionName&&Se&&mt!==!1)}var Ve=h.forwardRef(function(Qe,mt){var Ee=Qe.visible,Ue=Ee===void 0?!0:Ee,je=Qe.removeOnLeave,Ce=je===void 0?!0:je,tt=Qe.forceRender,at=Qe.children,gt=Qe.motionName,kt=Qe.leavedClassName,$t=Qe.eventProps,va=h.useContext(m),fa=va.motion,wa=We(Qe,fa),Qa=(0,h.useRef)(),Pn=(0,h.useRef)();function tr(){try{return Qa.current instanceof HTMLElement?Qa.current:(0,s.Z)(Pn.current)}catch(Vr){return null}}var On=se(wa,Ue,tr,Qe),Et=(0,r.Z)(On,4),nt=Et[0],It=Et[1],Vt=Et[2],ta=Et[3],Xt=h.useRef(ta);ta&&(Xt.current=!0);var ja=h.useCallback(function(Vr){Qa.current=Vr,(0,f.mH)(mt,Vr)},[mt]),Ha,dn=(0,o.Z)((0,o.Z)({},$t),{},{visible:Ue});if(!at)Ha=null;else if(nt===j)ta?Ha=at((0,o.Z)({},dn),ja):!Ce&&Xt.current&&kt?Ha=at((0,o.Z)((0,o.Z)({},dn),{},{className:kt}),ja):tt||!Ce&&!kt?Ha=at((0,o.Z)((0,o.Z)({},dn),{},{style:{display:"none"}}),ja):Ha=null;else{var Ya,Mn;It===te?Mn="prepare":xe(It)?Mn="active":It===q&&(Mn="start");var ar=G(gt,"".concat(nt,"-").concat(Mn));Ha=at((0,o.Z)((0,o.Z)({},dn),{},{className:p()(G(gt,nt),(Ya={},(0,u.Z)(Ya,ar,ar&&Mn),(0,u.Z)(Ya,gt,typeof gt=="string"),Ya)),style:Vt}),ja)}if(h.isValidElement(Ha)&&(0,f.Yr)(Ha)){var Xa=Ha,Zo=Xa.ref;Zo||(Ha=h.cloneElement(Ha,{ref:ja}))}return h.createElement(A,{ref:Pn},Ha)});return Ve.displayName="CSSMotion",Ve}var ne=ke(Re),pe=e(87462),V=e(91),de=e(97326),we="add",ze="keep",Fe="remove",Ye="removed";function pt(Ne){var Se;return Ne&&(0,l.Z)(Ne)==="object"&&"key"in Ne?Se=Ne:Se={key:Ne},(0,o.Z)((0,o.Z)({},Se),{},{key:String(Se.key)})}function Tt(){var Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Ne.map(pt)}function yt(){var Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],We=[],Ve=0,Qe=Se.length,mt=Tt(Ne),Ee=Tt(Se);mt.forEach(function(Ce){for(var tt=!1,at=Ve;at<Qe;at+=1){var gt=Ee[at];if(gt.key===Ce.key){Ve<at&&(We=We.concat(Ee.slice(Ve,at).map(function(kt){return(0,o.Z)((0,o.Z)({},kt),{},{status:we})})),Ve=at),We.push((0,o.Z)((0,o.Z)({},gt),{},{status:ze})),Ve+=1,tt=!0;break}}tt||We.push((0,o.Z)((0,o.Z)({},Ce),{},{status:Fe}))}),Ve<Qe&&(We=We.concat(Ee.slice(Ve).map(function(Ce){return(0,o.Z)((0,o.Z)({},Ce),{},{status:we})})));var Ue={};We.forEach(function(Ce){var tt=Ce.key;Ue[tt]=(Ue[tt]||0)+1});var je=Object.keys(Ue).filter(function(Ce){return Ue[Ce]>1});return je.forEach(function(Ce){We=We.filter(function(tt){var at=tt.key,gt=tt.status;return at!==Ce||gt!==Fe}),We.forEach(function(tt){tt.key===Ce&&(tt.status=ze)})}),We}var fe=["component","children","onVisibleChanged","onAllRemoved"],v=["status"],B=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function ee(Ne){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ne,We=function(Ve){(0,E.Z)(mt,Ve);var Qe=(0,P.Z)(mt);function mt(){var Ee;(0,y.Z)(this,mt);for(var Ue=arguments.length,je=new Array(Ue),Ce=0;Ce<Ue;Ce++)je[Ce]=arguments[Ce];return Ee=Qe.call.apply(Qe,[this].concat(je)),(0,u.Z)((0,de.Z)(Ee),"state",{keyEntities:[]}),(0,u.Z)((0,de.Z)(Ee),"removeKey",function(tt){var at=Ee.state.keyEntities,gt=at.map(function(kt){return kt.key!==tt?kt:(0,o.Z)((0,o.Z)({},kt),{},{status:Ye})});return Ee.setState({keyEntities:gt}),gt.filter(function(kt){var $t=kt.status;return $t!==Ye}).length}),Ee}return(0,S.Z)(mt,[{key:"render",value:function(){var Ue=this,je=this.state.keyEntities,Ce=this.props,tt=Ce.component,at=Ce.children,gt=Ce.onVisibleChanged,kt=Ce.onAllRemoved,$t=(0,V.Z)(Ce,fe),va=tt||h.Fragment,fa={};return B.forEach(function(wa){fa[wa]=$t[wa],delete $t[wa]}),delete $t.keys,h.createElement(va,$t,je.map(function(wa){var Qa=wa.status,Pn=(0,V.Z)(wa,v),tr=Qa===we||Qa===ze;return h.createElement(Se,(0,pe.Z)({},fa,{key:Pn.key,visible:tr,eventProps:Pn,onVisibleChanged:function(Et){if(gt==null||gt(Et,{key:Pn.key}),!Et){var nt=Ue.removeKey(Pn.key);nt===0&&kt&&kt()}}}),at)}))}}],[{key:"getDerivedStateFromProps",value:function(Ue,je){var Ce=Ue.keys,tt=je.keyEntities,at=Tt(Ce),gt=yt(tt,at);return{keyEntities:gt.filter(function(kt){var $t=tt.find(function(va){var fa=va.key;return kt.key===fa});return!($t&&$t.status===Ye&&kt.status===Fe)})}}}]),mt}(h.Component);return(0,u.Z)(We,"defaultProps",{component:"div"}),We}var ce=ee(Re),Ae=ne},9220:function(i,I,e){"use strict";e.d(I,{Z:function(){return pe}});var u=e(87462),o=e(62435),r=e(50344),l=e(80334),d=e(1413),p=e(42550),s=e(34203),f=function(){if(typeof Map!="undefined")return Map;function V(de,we){var ze=-1;return de.some(function(Fe,Ye){return Fe[0]===we?(ze=Ye,!0):!1}),ze}return function(){function de(){this.__entries__=[]}return Object.defineProperty(de.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),de.prototype.get=function(we){var ze=V(this.__entries__,we),Fe=this.__entries__[ze];return Fe&&Fe[1]},de.prototype.set=function(we,ze){var Fe=V(this.__entries__,we);~Fe?this.__entries__[Fe][1]=ze:this.__entries__.push([we,ze])},de.prototype.delete=function(we){var ze=this.__entries__,Fe=V(ze,we);~Fe&&ze.splice(Fe,1)},de.prototype.has=function(we){return!!~V(this.__entries__,we)},de.prototype.clear=function(){this.__entries__.splice(0)},de.prototype.forEach=function(we,ze){ze===void 0&&(ze=null);for(var Fe=0,Ye=this.__entries__;Fe<Ye.length;Fe++){var pt=Ye[Fe];we.call(ze,pt[1],pt[0])}},de}()}(),h=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,x=function(){return typeof e.g!="undefined"&&e.g.Math===Math?e.g:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),m=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(x):function(V){return setTimeout(function(){return V(Date.now())},1e3/60)}}(),g=2;function y(V,de){var we=!1,ze=!1,Fe=0;function Ye(){we&&(we=!1,V()),ze&&Tt()}function pt(){m(Ye)}function Tt(){var yt=Date.now();if(we){if(yt-Fe<g)return;ze=!0}else we=!0,ze=!1,setTimeout(pt,de);Fe=yt}return Tt}var S=20,E=["top","right","bottom","left","width","height","size","weight"],P=typeof MutationObserver!="undefined",k=function(){function V(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=y(this.refresh.bind(this),S)}return V.prototype.addObserver=function(de){~this.observers_.indexOf(de)||this.observers_.push(de),this.connected_||this.connect_()},V.prototype.removeObserver=function(de){var we=this.observers_,ze=we.indexOf(de);~ze&&we.splice(ze,1),!we.length&&this.connected_&&this.disconnect_()},V.prototype.refresh=function(){var de=this.updateObservers_();de&&this.refresh()},V.prototype.updateObservers_=function(){var de=this.observers_.filter(function(we){return we.gatherActive(),we.hasActive()});return de.forEach(function(we){return we.broadcastActive()}),de.length>0},V.prototype.connect_=function(){!h||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),P?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},V.prototype.disconnect_=function(){!h||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},V.prototype.onTransitionEnd_=function(de){var we=de.propertyName,ze=we===void 0?"":we,Fe=E.some(function(Ye){return!!~ze.indexOf(Ye)});Fe&&this.refresh()},V.getInstance=function(){return this.instance_||(this.instance_=new V),this.instance_},V.instance_=null,V}(),A=function(V,de){for(var we=0,ze=Object.keys(de);we<ze.length;we++){var Fe=ze[we];Object.defineProperty(V,Fe,{value:de[Fe],enumerable:!1,writable:!1,configurable:!0})}return V},L=function(V){var de=V&&V.ownerDocument&&V.ownerDocument.defaultView;return de||x},j=De(0,0,0,0);function C(V){return parseFloat(V)||0}function _(V){for(var de=[],we=1;we<arguments.length;we++)de[we-1]=arguments[we];return de.reduce(function(ze,Fe){var Ye=V["border-"+Fe+"-width"];return ze+C(Ye)},0)}function W(V){for(var de=["top","right","bottom","left"],we={},ze=0,Fe=de;ze<Fe.length;ze++){var Ye=Fe[ze],pt=V["padding-"+Ye];we[Ye]=C(pt)}return we}function X(V){var de=V.getBBox();return De(0,0,de.width,de.height)}function te(V){var de=V.clientWidth,we=V.clientHeight;if(!de&&!we)return j;var ze=L(V).getComputedStyle(V),Fe=W(ze),Ye=Fe.left+Fe.right,pt=Fe.top+Fe.bottom,Tt=C(ze.width),yt=C(ze.height);if(ze.boxSizing==="border-box"&&(Math.round(Tt+Ye)!==de&&(Tt-=_(ze,"left","right")+Ye),Math.round(yt+pt)!==we&&(yt-=_(ze,"top","bottom")+pt)),!he(V)){var fe=Math.round(Tt+Ye)-de,v=Math.round(yt+pt)-we;Math.abs(fe)!==1&&(Tt-=fe),Math.abs(v)!==1&&(yt-=v)}return De(Fe.left,Fe.top,Tt,yt)}var q=function(){return typeof SVGGraphicsElement!="undefined"?function(V){return V instanceof L(V).SVGGraphicsElement}:function(V){return V instanceof L(V).SVGElement&&typeof V.getBBox=="function"}}();function he(V){return V===L(V).document.documentElement}function Pe(V){return h?q(V)?X(V):te(V):j}function Te(V){var de=V.x,we=V.y,ze=V.width,Fe=V.height,Ye=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,pt=Object.create(Ye.prototype);return A(pt,{x:de,y:we,width:ze,height:Fe,top:we,right:de+ze,bottom:Fe+we,left:de}),pt}function De(V,de,we,ze){return{x:V,y:de,width:we,height:ze}}var ye=function(){function V(de){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=De(0,0,0,0),this.target=de}return V.prototype.isActive=function(){var de=Pe(this.target);return this.contentRect_=de,de.width!==this.broadcastWidth||de.height!==this.broadcastHeight},V.prototype.broadcastRect=function(){var de=this.contentRect_;return this.broadcastWidth=de.width,this.broadcastHeight=de.height,de},V}(),ve=function(){function V(de,we){var ze=Te(we);A(this,{target:de,contentRect:ze})}return V}(),T=function(){function V(de,we,ze){if(this.activeObservations_=[],this.observations_=new f,typeof de!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=de,this.controller_=we,this.callbackCtx_=ze}return V.prototype.observe=function(de){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(de instanceof L(de).Element))throw new TypeError('parameter 1 is not of type "Element".');var we=this.observations_;we.has(de)||(we.set(de,new ye(de)),this.controller_.addObserver(this),this.controller_.refresh())}},V.prototype.unobserve=function(de){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(de instanceof L(de).Element))throw new TypeError('parameter 1 is not of type "Element".');var we=this.observations_;we.has(de)&&(we.delete(de),we.size||this.controller_.removeObserver(this))}},V.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},V.prototype.gatherActive=function(){var de=this;this.clearActive(),this.observations_.forEach(function(we){we.isActive()&&de.activeObservations_.push(we)})},V.prototype.broadcastActive=function(){if(this.hasActive()){var de=this.callbackCtx_,we=this.activeObservations_.map(function(ze){return new ve(ze.target,ze.broadcastRect())});this.callback_.call(de,we,de),this.clearActive()}},V.prototype.clearActive=function(){this.activeObservations_.splice(0)},V.prototype.hasActive=function(){return this.activeObservations_.length>0},V}(),F=typeof WeakMap!="undefined"?new WeakMap:new f,Z=function(){function V(de){if(!(this instanceof V))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var we=k.getInstance(),ze=new T(de,we,this);F.set(this,ze)}return V}();["observe","unobserve","disconnect"].forEach(function(V){Z.prototype[V]=function(){var de;return(de=F.get(this))[V].apply(de,arguments)}});var O=function(){return typeof x.ResizeObserver!="undefined"?x.ResizeObserver:Z}(),z=O,ae=new Map;function be(V){V.forEach(function(de){var we,ze=de.target;(we=ae.get(ze))===null||we===void 0||we.forEach(function(Fe){return Fe(ze)})})}var Re=new z(be),N=null,Q=null;function G(V,de){ae.has(V)||(ae.set(V,new Set),Re.observe(V)),ae.get(V).add(de)}function Y(V,de){ae.has(V)&&(ae.get(V).delete(de),ae.get(V).size||(Re.unobserve(V),ae.delete(V)))}var ue=e(15671),Me=e(43144),He=e(32531),Je=e(73568),Xe=function(V){(0,He.Z)(we,V);var de=(0,Je.Z)(we);function we(){return(0,ue.Z)(this,we),de.apply(this,arguments)}return(0,Me.Z)(we,[{key:"render",value:function(){return this.props.children}}]),we}(o.Component),et=o.createContext(null);function ct(V){var de=V.children,we=V.onBatchResize,ze=o.useRef(0),Fe=o.useRef([]),Ye=o.useContext(et),pt=o.useCallback(function(Tt,yt,fe){ze.current+=1;var v=ze.current;Fe.current.push({size:Tt,element:yt,data:fe}),Promise.resolve().then(function(){v===ze.current&&(we==null||we(Fe.current),Fe.current=[])}),Ye==null||Ye(Tt,yt,fe)},[we,Ye]);return o.createElement(et.Provider,{value:pt},de)}function oe(V,de){var we=V.children,ze=V.disabled,Fe=o.useRef(null),Ye=o.useRef(null),pt=o.useContext(et),Tt=typeof we=="function",yt=Tt?we(Fe):we,fe=o.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),v=!Tt&&o.isValidElement(yt)&&(0,p.Yr)(yt),B=v?yt.ref:null,ee=o.useMemo(function(){return(0,p.sQ)(B,Fe)},[B,Fe]),ce=function(){return(0,s.Z)(Fe.current)||(0,s.Z)(Ye.current)};o.useImperativeHandle(de,function(){return ce()});var Ae=o.useRef(V);Ae.current=V;var Ne=o.useCallback(function(Se){var We=Ae.current,Ve=We.onResize,Qe=We.data,mt=Se.getBoundingClientRect(),Ee=mt.width,Ue=mt.height,je=Se.offsetWidth,Ce=Se.offsetHeight,tt=Math.floor(Ee),at=Math.floor(Ue);if(fe.current.width!==tt||fe.current.height!==at||fe.current.offsetWidth!==je||fe.current.offsetHeight!==Ce){var gt={width:tt,height:at,offsetWidth:je,offsetHeight:Ce};fe.current=gt;var kt=je===Math.round(Ee)?Ee:je,$t=Ce===Math.round(Ue)?Ue:Ce,va=(0,d.Z)((0,d.Z)({},gt),{},{offsetWidth:kt,offsetHeight:$t});pt==null||pt(va,Se,Qe),Ve&&Promise.resolve().then(function(){Ve(va,Se)})}},[]);return o.useEffect(function(){var Se=ce();return Se&&!ze&&G(Se,Ne),function(){return Y(Se,Ne)}},[Fe.current,ze]),o.createElement(Xe,{ref:Ye},v?o.cloneElement(yt,{ref:ee}):yt)}var xe=o.forwardRef(oe),le=xe,se="rc-observer-key";function ke(V,de){var we=V.children,ze=typeof we=="function"?[we]:(0,r.Z)(we);return ze.map(function(Fe,Ye){var pt=(Fe==null?void 0:Fe.key)||"".concat(se,"-").concat(Ye);return o.createElement(le,(0,u.Z)({},V,{key:pt,ref:Ye===0?de:void 0}),Fe)})}var ne=o.forwardRef(ke);ne.Collection=ct;var pe=ne},50344:function(i,I,e){"use strict";e.d(I,{Z:function(){return r}});var u=e(62435),o=e(59864);function r(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=[];return u.Children.forEach(l,function(s){s==null&&!d.keepEmpty||(Array.isArray(s)?p=p.concat(r(s)):(0,o.isFragment)(s)&&s.props?p=p.concat(r(s.props.children,d)):p.push(s))}),p}},98924:function(i,I,e){"use strict";e.d(I,{Z:function(){return u}});function u(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}},34203:function(i,I,e){"use strict";e.d(I,{S:function(){return r},Z:function(){return l}});var u=e(62435),o=e(61254);function r(d){return d instanceof HTMLElement||d instanceof SVGElement}function l(d){return r(d)?d:d instanceof u.Component?o.findDOMNode(d):null}},15105:function(i,I){"use strict";var e={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(o){var r=o.keyCode;if(o.altKey&&!o.ctrlKey||o.metaKey||r>=e.F1&&r<=e.F12)return!1;switch(r){case e.ALT:case e.CAPS_LOCK:case e.CONTEXT_MENU:case e.CTRL:case e.DOWN:case e.END:case e.ESC:case e.HOME:case e.INSERT:case e.LEFT:case e.MAC_FF_META:case e.META:case e.NUMLOCK:case e.NUM_CENTER:case e.PAGE_DOWN:case e.PAGE_UP:case e.PAUSE:case e.PRINT_SCREEN:case e.RIGHT:case e.SHIFT:case e.UP:case e.WIN_KEY:case e.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(o){if(o>=e.ZERO&&o<=e.NINE||o>=e.NUM_ZERO&&o<=e.NUM_MULTIPLY||o>=e.A&&o<=e.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&o===0)return!0;switch(o){case e.SPACE:case e.QUESTION_MARK:case e.NUM_PLUS:case e.NUM_MINUS:case e.NUM_PERIOD:case e.NUM_DIVISION:case e.SEMICOLON:case e.DASH:case e.EQUALS:case e.COMMA:case e.PERIOD:case e.SLASH:case e.APOSTROPHE:case e.SINGLE_QUOTE:case e.OPEN_SQUARE_BRACKET:case e.BACKSLASH:case e.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};I.Z=e},8410:function(i,I,e){"use strict";e.d(I,{o:function(){return l}});var u=e(62435),o=e(98924),r=(0,o.Z)()?u.useLayoutEffect:u.useEffect;I.Z=r;var l=function(p,s){var f=u.useRef(!0);r(function(){if(!f.current)return p()},s),r(function(){return f.current=!1,function(){f.current=!0}},[])}},56982:function(i,I,e){"use strict";e.d(I,{Z:function(){return o}});var u=e(62435);function o(r,l,d){var p=u.useRef({});return(!("value"in p.current)||d(p.current.condition,l))&&(p.current.value=r(),p.current.condition=l),p.current.value}},30470:function(i,I,e){"use strict";e.d(I,{Z:function(){return r}});var u=e(86854),o=e(62435);function r(l){var d=o.useRef(!1),p=o.useState(l),s=(0,u.Z)(p,2),f=s[0],h=s[1];o.useEffect(function(){return d.current=!1,function(){d.current=!0}},[]);function x(m,g){g&&d.current||h(m)}return[f,x]}},98423:function(i,I,e){"use strict";e.d(I,{Z:function(){return o}});var u=e(1413);function o(r,l){var d=(0,u.Z)({},r);return Array.isArray(l)&&l.forEach(function(p){delete d[p]}),d}},75164:function(i,I){"use strict";var e=function(s){return+setTimeout(s,16)},u=function(s){return clearTimeout(s)};typeof window!="undefined"&&"requestAnimationFrame"in window&&(e=function(s){return window.requestAnimationFrame(s)},u=function(s){return window.cancelAnimationFrame(s)});var o=0,r=new Map;function l(p){r.delete(p)}var d=function(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;o+=1;var h=o;function x(m){if(m===0)l(h),s();else{var g=e(function(){x(m-1)});r.set(h,g)}}return x(f),h};d.cancel=function(p){var s=r.get(p);return l(s),u(s)},I.Z=d},42550:function(i,I,e){"use strict";e.d(I,{Yr:function(){return s},mH:function(){return l},sQ:function(){return d},x1:function(){return p}});var u=e(71002),o=e(59864),r=e(56982);function l(f,h){typeof f=="function"?f(h):(0,u.Z)(f)==="object"&&f&&"current"in f&&(f.current=h)}function d(){for(var f=arguments.length,h=new Array(f),x=0;x<f;x++)h[x]=arguments[x];var m=h.filter(function(g){return g});return m.length<=1?m[0]:function(g){h.forEach(function(y){l(y,g)})}}function p(){for(var f=arguments.length,h=new Array(f),x=0;x<f;x++)h[x]=arguments[x];return(0,r.Z)(function(){return d.apply(void 0,h)},h,function(m,g){return m.length===g.length&&m.every(function(y,S){return y===g[S]})})}function s(f){var h,x,m=(0,o.isMemo)(f)?f.type.type:f.type;return!(typeof m=="function"&&!((h=m.prototype)!==null&&h!==void 0&&h.render)||typeof f=="function"&&!((x=f.prototype)!==null&&x!==void 0&&x.render))}},80334:function(i,I,e){"use strict";var u={},o=[],r=function(m){o.push(m)};function l(x,m){if(!1)var g}function d(x,m){if(!1)var g}function p(){u={}}function s(x,m,g){!m&&!u[g]&&(x(!1,g),u[g]=!0)}function f(x,m){s(l,x,m)}function h(x,m){s(d,x,m)}f.preMessage=r,f.resetWarned=p,f.noteOnce=h,I.ZP=f},74300:function(i,I,e){"use strict";function u(_){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},u(_)}Object.defineProperty(I,"__esModule",{value:!0}),I.CopyToClipboard=void 0;var o=d(e(62435)),r=d(e(20640)),l=["text","onCopy","options","children"];function d(_){return _&&_.__esModule?_:{default:_}}function p(_,W){var X=Object.keys(_);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(_);W&&(te=te.filter(function(q){return Object.getOwnPropertyDescriptor(_,q).enumerable})),X.push.apply(X,te)}return X}function s(_){for(var W=1;W<arguments.length;W++){var X=arguments[W]!=null?arguments[W]:{};W%2?p(Object(X),!0).forEach(function(te){j(_,te,X[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(X)):p(Object(X)).forEach(function(te){Object.defineProperty(_,te,Object.getOwnPropertyDescriptor(X,te))})}return _}function f(_,W){if(_==null)return{};var X=h(_,W),te,q;if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(_);for(q=0;q<he.length;q++)te=he[q],!(W.indexOf(te)>=0)&&Object.prototype.propertyIsEnumerable.call(_,te)&&(X[te]=_[te])}return X}function h(_,W){if(_==null)return{};var X={},te=Object.keys(_),q,he;for(he=0;he<te.length;he++)q=te[he],!(W.indexOf(q)>=0)&&(X[q]=_[q]);return X}function x(_,W){if(!(_ instanceof W))throw new TypeError("Cannot call a class as a function")}function m(_,W){for(var X=0;X<W.length;X++){var te=W[X];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(_,te.key,te)}}function g(_,W,X){return W&&m(_.prototype,W),X&&m(_,X),Object.defineProperty(_,"prototype",{writable:!1}),_}function y(_,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(W&&W.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),W&&S(_,W)}function S(_,W){return S=Object.setPrototypeOf||function(te,q){return te.__proto__=q,te},S(_,W)}function E(_){var W=A();return function(){var te=L(_),q;if(W){var he=L(this).constructor;q=Reflect.construct(te,arguments,he)}else q=te.apply(this,arguments);return P(this,q)}}function P(_,W){if(W&&(u(W)==="object"||typeof W=="function"))return W;if(W!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(_)}function k(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function A(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(_){return!1}}function L(_){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(X){return X.__proto__||Object.getPrototypeOf(X)},L(_)}function j(_,W,X){return W in _?Object.defineProperty(_,W,{value:X,enumerable:!0,configurable:!0,writable:!0}):_[W]=X,_}var C=function(_){y(X,_);var W=E(X);function X(){var te;x(this,X);for(var q=arguments.length,he=new Array(q),Pe=0;Pe<q;Pe++)he[Pe]=arguments[Pe];return te=W.call.apply(W,[this].concat(he)),j(k(te),"onClick",function(Te){var De=te.props,ye=De.text,ve=De.onCopy,T=De.children,F=De.options,Z=o.default.Children.only(T),O=(0,r.default)(ye,F);ve&&ve(ye,O),Z&&Z.props&&typeof Z.props.onClick=="function"&&Z.props.onClick(Te)}),te}return g(X,[{key:"render",value:function(){var q=this.props,he=q.text,Pe=q.onCopy,Te=q.options,De=q.children,ye=f(q,l),ve=o.default.Children.only(De);return o.default.cloneElement(ve,s(s({},ye),{},{onClick:this.onClick}))}}]),X}(o.default.PureComponent);I.CopyToClipboard=C,j(C,"defaultProps",{onCopy:void 0,options:void 0})},74855:function(i,I,e){"use strict";var u=e(74300),o=u.CopyToClipboard;o.CopyToClipboard=o,i.exports=o},35800:function(i,I,e){(function(u,o){o(I,e(62435))})(this,function(u,o){"use strict";function r(g){if(g&&g.__esModule)return g;var y=Object.create(null);return g&&Object.keys(g).forEach(function(S){if(S!=="default"){var E=Object.getOwnPropertyDescriptor(g,S);Object.defineProperty(y,S,E.get?E:{enumerable:!0,get:function(){return g[S]}})}}),y.default=g,Object.freeze(y)}var l=r(o);function d(g,y){return d=Object.setPrototypeOf||function(E,P){return E.__proto__=P,E},d(g,y)}function p(g,y){g.prototype=Object.create(y.prototype),g.prototype.constructor=g,d(g,y)}var s=function(y,S){return y===void 0&&(y=[]),S===void 0&&(S=[]),y.length!==S.length||y.some(function(E,P){return!Object.is(E,S[P])})},f={error:null},h=function(g){p(y,g);function y(){for(var E,P=arguments.length,k=new Array(P),A=0;A<P;A++)k[A]=arguments[A];return E=g.call.apply(g,[this].concat(k))||this,E.state=f,E.resetErrorBoundary=function(){for(var L,j=arguments.length,C=new Array(j),_=0;_<j;_++)C[_]=arguments[_];E.props.onReset==null||(L=E.props).onReset.apply(L,C),E.reset()},E}y.getDerivedStateFromError=function(P){return{error:P}};var S=y.prototype;return S.reset=function(){this.setState(f)},S.componentDidCatch=function(P,k){var A,L;(A=(L=this.props).onError)==null||A.call(L,P,k)},S.componentDidUpdate=function(P,k){var A=this.state.error,L=this.props.resetKeys;if(A!==null&&k.error!==null&&s(P.resetKeys,L)){var j,C;(j=(C=this.props).onResetKeysChange)==null||j.call(C,P.resetKeys,L),this.reset()}},S.render=function(){var P=this.state.error,k=this.props,A=k.fallbackRender,L=k.FallbackComponent,j=k.fallback;if(P!==null){var C={error:P,resetErrorBoundary:this.resetErrorBoundary};if(l.isValidElement(j))return j;if(typeof A=="function")return A(C);if(L)return l.createElement(L,C);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},y}(l.Component);function x(g,y){var S=function(k){return l.createElement(h,y,l.createElement(g,k))},E=g.displayName||g.name||"Unknown";return S.displayName="withErrorBoundary("+E+")",S}function m(g){var y=l.useState(null),S=y[0],E=y[1];if(g!=null)throw g;if(S!=null)throw S;return E}u.ErrorBoundary=h,u.useErrorHandler=m,u.withErrorBoundary=x,Object.defineProperty(u,"__esModule",{value:!0})})},69590:function(i){var I=typeof Element!="undefined",e=typeof Map=="function",u=typeof Set=="function",o=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function r(l,d){if(l===d)return!0;if(l&&d&&typeof l=="object"&&typeof d=="object"){if(l.constructor!==d.constructor)return!1;var p,s,f;if(Array.isArray(l)){if(p=l.length,p!=d.length)return!1;for(s=p;s--!==0;)if(!r(l[s],d[s]))return!1;return!0}var h;if(e&&l instanceof Map&&d instanceof Map){if(l.size!==d.size)return!1;for(h=l.entries();!(s=h.next()).done;)if(!d.has(s.value[0]))return!1;for(h=l.entries();!(s=h.next()).done;)if(!r(s.value[1],d.get(s.value[0])))return!1;return!0}if(u&&l instanceof Set&&d instanceof Set){if(l.size!==d.size)return!1;for(h=l.entries();!(s=h.next()).done;)if(!d.has(s.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(d)){if(p=l.length,p!=d.length)return!1;for(s=p;s--!==0;)if(l[s]!==d[s])return!1;return!0}if(l.constructor===RegExp)return l.source===d.source&&l.flags===d.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof d.valueOf=="function")return l.valueOf()===d.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof d.toString=="function")return l.toString()===d.toString();if(f=Object.keys(l),p=f.length,p!==Object.keys(d).length)return!1;for(s=p;s--!==0;)if(!Object.prototype.hasOwnProperty.call(d,f[s]))return!1;if(I&&l instanceof Element)return!1;for(s=p;s--!==0;)if(!((f[s]==="_owner"||f[s]==="__v"||f[s]==="__o")&&l.$$typeof)&&!r(l[f[s]],d[f[s]]))return!1;return!0}return l!==l&&d!==d}i.exports=function(d,p){try{return r(d,p)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}}},70405:function(i,I,e){"use strict";e.d(I,{B6:function(){return G},ql:function(){return ct}});var u=e(62435),o=e(45697),r=e.n(o),l=e(69590),d=e.n(l),p=e(41143),s=e.n(p),f=e(96774),h=e.n(f);function x(){return x=Object.assign||function(oe){for(var xe=1;xe<arguments.length;xe++){var le=arguments[xe];for(var se in le)Object.prototype.hasOwnProperty.call(le,se)&&(oe[se]=le[se])}return oe},x.apply(this,arguments)}function m(oe,xe){oe.prototype=Object.create(xe.prototype),oe.prototype.constructor=oe,g(oe,xe)}function g(oe,xe){return g=Object.setPrototypeOf||function(le,se){return le.__proto__=se,le},g(oe,xe)}function y(oe,xe){if(oe==null)return{};var le,se,ke={},ne=Object.keys(oe);for(se=0;se<ne.length;se++)xe.indexOf(le=ne[se])>=0||(ke[le]=oe[le]);return ke}var S={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},E={rel:["amphtml","canonical","alternate"]},P={type:["application/ld+json"]},k={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},A=Object.keys(S).map(function(oe){return S[oe]}),L={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},j=Object.keys(L).reduce(function(oe,xe){return oe[L[xe]]=xe,oe},{}),C=function(oe,xe){for(var le=oe.length-1;le>=0;le-=1){var se=oe[le];if(Object.prototype.hasOwnProperty.call(se,xe))return se[xe]}return null},_=function(oe){var xe=C(oe,S.TITLE),le=C(oe,"titleTemplate");if(Array.isArray(xe)&&(xe=xe.join("")),le&&xe)return le.replace(/%s/g,function(){return xe});var se=C(oe,"defaultTitle");return xe||se||void 0},W=function(oe){return C(oe,"onChangeClientState")||function(){}},X=function(oe,xe){return xe.filter(function(le){return le[oe]!==void 0}).map(function(le){return le[oe]}).reduce(function(le,se){return x({},le,se)},{})},te=function(oe,xe){return xe.filter(function(le){return le[S.BASE]!==void 0}).map(function(le){return le[S.BASE]}).reverse().reduce(function(le,se){if(!le.length)for(var ke=Object.keys(se),ne=0;ne<ke.length;ne+=1){var pe=ke[ne].toLowerCase();if(oe.indexOf(pe)!==-1&&se[pe])return le.concat(se)}return le},[])},q=function(oe,xe,le){var se={};return le.filter(function(ke){return!!Array.isArray(ke[oe])||(ke[oe]!==void 0&&console&&typeof console.warn=="function"&&console.warn("Helmet: "+oe+' should be of type "Array". Instead found type "'+typeof ke[oe]+'"'),!1)}).map(function(ke){return ke[oe]}).reverse().reduce(function(ke,ne){var pe={};ne.filter(function(Fe){for(var Ye,pt=Object.keys(Fe),Tt=0;Tt<pt.length;Tt+=1){var yt=pt[Tt],fe=yt.toLowerCase();xe.indexOf(fe)===-1||Ye==="rel"&&Fe[Ye].toLowerCase()==="canonical"||fe==="rel"&&Fe[fe].toLowerCase()==="stylesheet"||(Ye=fe),xe.indexOf(yt)===-1||yt!=="innerHTML"&&yt!=="cssText"&&yt!=="itemprop"||(Ye=yt)}if(!Ye||!Fe[Ye])return!1;var v=Fe[Ye].toLowerCase();return se[Ye]||(se[Ye]={}),pe[Ye]||(pe[Ye]={}),!se[Ye][v]&&(pe[Ye][v]=!0,!0)}).reverse().forEach(function(Fe){return ke.push(Fe)});for(var V=Object.keys(pe),de=0;de<V.length;de+=1){var we=V[de],ze=x({},se[we],pe[we]);se[we]=ze}return ke},[]).reverse()},he=function(oe,xe){if(Array.isArray(oe)&&oe.length){for(var le=0;le<oe.length;le+=1)if(oe[le][xe])return!0}return!1},Pe=function(oe){return Array.isArray(oe)?oe.join(""):oe},Te=function(oe,xe){return Array.isArray(oe)?oe.reduce(function(le,se){return function(ke,ne){for(var pe=Object.keys(ke),V=0;V<pe.length;V+=1)if(ne[pe[V]]&&ne[pe[V]].includes(ke[pe[V]]))return!0;return!1}(se,xe)?le.priority.push(se):le.default.push(se),le},{priority:[],default:[]}):{default:oe}},De=function(oe,xe){var le;return x({},oe,((le={})[xe]=void 0,le))},ye=[S.NOSCRIPT,S.SCRIPT,S.STYLE],ve=function(oe,xe){return xe===void 0&&(xe=!0),xe===!1?String(oe):String(oe).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},T=function(oe){return Object.keys(oe).reduce(function(xe,le){var se=oe[le]!==void 0?le+'="'+oe[le]+'"':""+le;return xe?xe+" "+se:se},"")},F=function(oe,xe){return xe===void 0&&(xe={}),Object.keys(oe).reduce(function(le,se){return le[L[se]||se]=oe[se],le},xe)},Z=function(oe,xe){return xe.map(function(le,se){var ke,ne=((ke={key:se})["data-rh"]=!0,ke);return Object.keys(le).forEach(function(pe){var V=L[pe]||pe;V==="innerHTML"||V==="cssText"?ne.dangerouslySetInnerHTML={__html:le.innerHTML||le.cssText}:ne[V]=le[pe]}),u.createElement(oe,ne)})},O=function(oe,xe,le){switch(oe){case S.TITLE:return{toComponent:function(){return ke=xe.titleAttributes,(ne={key:se=xe.title})["data-rh"]=!0,pe=F(ke,ne),[u.createElement(S.TITLE,pe,se)];var se,ke,ne,pe},toString:function(){return function(se,ke,ne,pe){var V=T(ne),de=Pe(ke);return V?"<"+se+' data-rh="true" '+V+">"+ve(de,pe)+"</"+se+">":"<"+se+' data-rh="true">'+ve(de,pe)+"</"+se+">"}(oe,xe.title,xe.titleAttributes,le)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return F(xe)},toString:function(){return T(xe)}};default:return{toComponent:function(){return Z(oe,xe)},toString:function(){return function(se,ke,ne){return ke.reduce(function(pe,V){var de=Object.keys(V).filter(function(Fe){return!(Fe==="innerHTML"||Fe==="cssText")}).reduce(function(Fe,Ye){var pt=V[Ye]===void 0?Ye:Ye+'="'+ve(V[Ye],ne)+'"';return Fe?Fe+" "+pt:pt},""),we=V.innerHTML||V.cssText||"",ze=ye.indexOf(se)===-1;return pe+"<"+se+' data-rh="true" '+de+(ze?"/>":">"+we+"</"+se+">")},"")}(oe,xe,le)}}}},z=function(oe){var xe=oe.baseTag,le=oe.bodyAttributes,se=oe.encode,ke=oe.htmlAttributes,ne=oe.noscriptTags,pe=oe.styleTags,V=oe.title,de=V===void 0?"":V,we=oe.titleAttributes,ze=oe.linkTags,Fe=oe.metaTags,Ye=oe.scriptTags,pt={toComponent:function(){},toString:function(){return""}};if(oe.prioritizeSeoTags){var Tt=function(yt){var fe=yt.linkTags,v=yt.scriptTags,B=yt.encode,ee=Te(yt.metaTags,k),ce=Te(fe,E),Ae=Te(v,P);return{priorityMethods:{toComponent:function(){return[].concat(Z(S.META,ee.priority),Z(S.LINK,ce.priority),Z(S.SCRIPT,Ae.priority))},toString:function(){return O(S.META,ee.priority,B)+" "+O(S.LINK,ce.priority,B)+" "+O(S.SCRIPT,Ae.priority,B)}},metaTags:ee.default,linkTags:ce.default,scriptTags:Ae.default}}(oe);pt=Tt.priorityMethods,ze=Tt.linkTags,Fe=Tt.metaTags,Ye=Tt.scriptTags}return{priority:pt,base:O(S.BASE,xe,se),bodyAttributes:O("bodyAttributes",le,se),htmlAttributes:O("htmlAttributes",ke,se),link:O(S.LINK,ze,se),meta:O(S.META,Fe,se),noscript:O(S.NOSCRIPT,ne,se),script:O(S.SCRIPT,Ye,se),style:O(S.STYLE,pe,se),title:O(S.TITLE,{title:de,titleAttributes:we},se)}},ae=[],be=function(oe,xe){var le=this;xe===void 0&&(xe=typeof document!="undefined"),this.instances=[],this.value={setHelmet:function(se){le.context.helmet=se},helmetInstances:{get:function(){return le.canUseDOM?ae:le.instances},add:function(se){(le.canUseDOM?ae:le.instances).push(se)},remove:function(se){var ke=(le.canUseDOM?ae:le.instances).indexOf(se);(le.canUseDOM?ae:le.instances).splice(ke,1)}}},this.context=oe,this.canUseDOM=xe,xe||(oe.helmet=z({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},Re=u.createContext({}),N=r().shape({setHelmet:r().func,helmetInstances:r().shape({get:r().func,add:r().func,remove:r().func})}),Q=typeof document!="undefined",G=function(oe){function xe(le){var se;return(se=oe.call(this,le)||this).helmetData=new be(se.props.context,xe.canUseDOM),se}return m(xe,oe),xe.prototype.render=function(){return u.createElement(Re.Provider,{value:this.helmetData.value},this.props.children)},xe}(u.Component);G.canUseDOM=Q,G.propTypes={context:r().shape({helmet:r().shape()}),children:r().node.isRequired},G.defaultProps={context:{}},G.displayName="HelmetProvider";var Y=function(oe,xe){var le,se=document.head||document.querySelector(S.HEAD),ke=se.querySelectorAll(oe+"[data-rh]"),ne=[].slice.call(ke),pe=[];return xe&&xe.length&&xe.forEach(function(V){var de=document.createElement(oe);for(var we in V)Object.prototype.hasOwnProperty.call(V,we)&&(we==="innerHTML"?de.innerHTML=V.innerHTML:we==="cssText"?de.styleSheet?de.styleSheet.cssText=V.cssText:de.appendChild(document.createTextNode(V.cssText)):de.setAttribute(we,V[we]===void 0?"":V[we]));de.setAttribute("data-rh","true"),ne.some(function(ze,Fe){return le=Fe,de.isEqualNode(ze)})?ne.splice(le,1):pe.push(de)}),ne.forEach(function(V){return V.parentNode.removeChild(V)}),pe.forEach(function(V){return se.appendChild(V)}),{oldTags:ne,newTags:pe}},ue=function(oe,xe){var le=document.getElementsByTagName(oe)[0];if(le){for(var se=le.getAttribute("data-rh"),ke=se?se.split(","):[],ne=[].concat(ke),pe=Object.keys(xe),V=0;V<pe.length;V+=1){var de=pe[V],we=xe[de]||"";le.getAttribute(de)!==we&&le.setAttribute(de,we),ke.indexOf(de)===-1&&ke.push(de);var ze=ne.indexOf(de);ze!==-1&&ne.splice(ze,1)}for(var Fe=ne.length-1;Fe>=0;Fe-=1)le.removeAttribute(ne[Fe]);ke.length===ne.length?le.removeAttribute("data-rh"):le.getAttribute("data-rh")!==pe.join(",")&&le.setAttribute("data-rh",pe.join(","))}},Me=function(oe,xe){var le=oe.baseTag,se=oe.htmlAttributes,ke=oe.linkTags,ne=oe.metaTags,pe=oe.noscriptTags,V=oe.onChangeClientState,de=oe.scriptTags,we=oe.styleTags,ze=oe.title,Fe=oe.titleAttributes;ue(S.BODY,oe.bodyAttributes),ue(S.HTML,se),function(yt,fe){yt!==void 0&&document.title!==yt&&(document.title=Pe(yt)),ue(S.TITLE,fe)}(ze,Fe);var Ye={baseTag:Y(S.BASE,le),linkTags:Y(S.LINK,ke),metaTags:Y(S.META,ne),noscriptTags:Y(S.NOSCRIPT,pe),scriptTags:Y(S.SCRIPT,de),styleTags:Y(S.STYLE,we)},pt={},Tt={};Object.keys(Ye).forEach(function(yt){var fe=Ye[yt],v=fe.newTags,B=fe.oldTags;v.length&&(pt[yt]=v),B.length&&(Tt[yt]=Ye[yt].oldTags)}),xe&&xe(),V(oe,pt,Tt)},He=null,Je=function(oe){function xe(){for(var se,ke=arguments.length,ne=new Array(ke),pe=0;pe<ke;pe++)ne[pe]=arguments[pe];return(se=oe.call.apply(oe,[this].concat(ne))||this).rendered=!1,se}m(xe,oe);var le=xe.prototype;return le.shouldComponentUpdate=function(se){return!h()(se,this.props)},le.componentDidUpdate=function(){this.emitChange()},le.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},le.emitChange=function(){var se,ke,ne=this.props.context,pe=ne.setHelmet,V=null,de=(se=ne.helmetInstances.get().map(function(we){var ze=x({},we.props);return delete ze.context,ze}),{baseTag:te(["href"],se),bodyAttributes:X("bodyAttributes",se),defer:C(se,"defer"),encode:C(se,"encodeSpecialCharacters"),htmlAttributes:X("htmlAttributes",se),linkTags:q(S.LINK,["rel","href"],se),metaTags:q(S.META,["name","charset","http-equiv","property","itemprop"],se),noscriptTags:q(S.NOSCRIPT,["innerHTML"],se),onChangeClientState:W(se),scriptTags:q(S.SCRIPT,["src","innerHTML"],se),styleTags:q(S.STYLE,["cssText"],se),title:_(se),titleAttributes:X("titleAttributes",se),prioritizeSeoTags:he(se,"prioritizeSeoTags")});G.canUseDOM?(ke=de,He&&cancelAnimationFrame(He),ke.defer?He=requestAnimationFrame(function(){Me(ke,function(){He=null})}):(Me(ke),He=null)):z&&(V=z(de)),pe(V)},le.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},le.render=function(){return this.init(),null},xe}(u.Component);Je.propTypes={context:N.isRequired},Je.displayName="HelmetDispatcher";var Xe=["children"],et=["children"],ct=function(oe){function xe(){return oe.apply(this,arguments)||this}m(xe,oe);var le=xe.prototype;return le.shouldComponentUpdate=function(se){return!d()(De(this.props,"helmetData"),De(se,"helmetData"))},le.mapNestedChildrenToProps=function(se,ke){if(!ke)return null;switch(se.type){case S.SCRIPT:case S.NOSCRIPT:return{innerHTML:ke};case S.STYLE:return{cssText:ke};default:throw new Error("<"+se.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},le.flattenArrayTypeChildren=function(se){var ke,ne=se.child,pe=se.arrayTypeChildren;return x({},pe,((ke={})[ne.type]=[].concat(pe[ne.type]||[],[x({},se.newChildProps,this.mapNestedChildrenToProps(ne,se.nestedChildren))]),ke))},le.mapObjectTypeChildren=function(se){var ke,ne,pe=se.child,V=se.newProps,de=se.newChildProps,we=se.nestedChildren;switch(pe.type){case S.TITLE:return x({},V,((ke={})[pe.type]=we,ke.titleAttributes=x({},de),ke));case S.BODY:return x({},V,{bodyAttributes:x({},de)});case S.HTML:return x({},V,{htmlAttributes:x({},de)});default:return x({},V,((ne={})[pe.type]=x({},de),ne))}},le.mapArrayTypeChildrenToProps=function(se,ke){var ne=x({},ke);return Object.keys(se).forEach(function(pe){var V;ne=x({},ne,((V={})[pe]=se[pe],V))}),ne},le.warnOnInvalidChildren=function(se,ke){return s()(A.some(function(ne){return se.type===ne}),typeof se.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+A.join(", ")+" are allowed. Helmet does not support rendering <"+se.type+"> elements. Refer to our API for more information."),s()(!ke||typeof ke=="string"||Array.isArray(ke)&&!ke.some(function(ne){return typeof ne!="string"}),"Helmet expects a string as a child of <"+se.type+">. Did you forget to wrap your children in braces? ( <"+se.type+">{``}</"+se.type+"> ) Refer to our API for more information."),!0},le.mapChildrenToProps=function(se,ke){var ne=this,pe={};return u.Children.forEach(se,function(V){if(V&&V.props){var de=V.props,we=de.children,ze=y(de,Xe),Fe=Object.keys(ze).reduce(function(pt,Tt){return pt[j[Tt]||Tt]=ze[Tt],pt},{}),Ye=V.type;switch(typeof Ye=="symbol"?Ye=Ye.toString():ne.warnOnInvalidChildren(V,we),Ye){case S.FRAGMENT:ke=ne.mapChildrenToProps(we,ke);break;case S.LINK:case S.META:case S.NOSCRIPT:case S.SCRIPT:case S.STYLE:pe=ne.flattenArrayTypeChildren({child:V,arrayTypeChildren:pe,newChildProps:Fe,nestedChildren:we});break;default:ke=ne.mapObjectTypeChildren({child:V,newProps:ke,newChildProps:Fe,nestedChildren:we})}}}),this.mapArrayTypeChildrenToProps(pe,ke)},le.render=function(){var se=this.props,ke=se.children,ne=y(se,et),pe=x({},ne),V=ne.helmetData;return ke&&(pe=this.mapChildrenToProps(ke,pe)),!V||V instanceof be||(V=new be(V.context,V.instances)),V?u.createElement(Je,x({},pe,{context:V.value,helmetData:void 0})):u.createElement(Re.Consumer,null,function(de){return u.createElement(Je,x({},pe,{context:de}))})},xe}(u.Component);ct.propTypes={base:r().object,bodyAttributes:r().object,children:r().oneOfType([r().arrayOf(r().node),r().node]),defaultTitle:r().string,defer:r().bool,encodeSpecialCharacters:r().bool,htmlAttributes:r().object,link:r().arrayOf(r().object),meta:r().arrayOf(r().object),noscript:r().arrayOf(r().object),onChangeClientState:r().func,script:r().arrayOf(r().object),style:r().arrayOf(r().object),title:r().string,titleAttributes:r().object,titleTemplate:r().string,prioritizeSeoTags:r().bool,helmetData:r().object},ct.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},ct.displayName="Helmet"},74806:function(i,I,e){"use strict";e.d(I,{_y:function(){return h},zt:function(){return f}});var u=e(62435),o=e(8679),r=e.n(o);function l(m){return m.displayName||m.name||"Component"}var d=typeof window!="undefined"?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=u.createContext(null)):u.createContext(null),p=d.Consumer,s=d.Provider,f=s,h=d;function x(m,g){var y=g||{},S=y.intlPropName,E=S===void 0?"intl":S,P=y.forwardRef,k=P===void 0?!1:P,A=y.enforceContext,L=A===void 0?!0:A,j=function(C){return React.createElement(p,null,function(_){var W;L&&invariantIntlContext(_);var X=(W={},W[E]=_,W);return React.createElement(m,__assign({},C,X,{ref:k?C.forwardedRef:null}))})};return j.displayName="injectIntl(".concat(l(m),")"),j.WrappedComponent=m,k?hoistNonReactStatics(React.forwardRef(function(C,_){return React.createElement(j,__assign({},C,{forwardedRef:_}))}),m):hoistNonReactStatics(j,m)}},86896:function(i,I,e){"use strict";e.d(I,{Z:function(){return l}});var u=e(62435),o=e(74806),r=e(680);function l(){var d=u.useContext(o._y);return(0,r.lq)(d),d}},680:function(i,I,e){"use strict";e.d(I,{Z0:function(){return p},dt:function(){return s},lq:function(){return d},wU:function(){return f}});var u=e(70655),o=e(62435),r=e(25687),l=e(82644);function d(h){(0,r.kG)(h,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var p=(0,u.pi)((0,u.pi)({},l.Z0),{textComponent:o.Fragment});function s(h){return function(x){return h(o.Children.toArray(x))}}function f(h,x){if(h===x)return!0;if(!h||!x)return!1;var m=Object.keys(h),g=Object.keys(x),y=m.length;if(g.length!==y)return!1;for(var S=0;S<y;S++){var E=m[S];if(h[E]!==x[E]||!Object.prototype.hasOwnProperty.call(x,E))return!1}return!0}},69921:function(i,I){"use strict";var e=typeof Symbol=="function"&&Symbol.for,u=e?Symbol.for("react.element"):60103,o=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,l=e?Symbol.for("react.strict_mode"):60108,d=e?Symbol.for("react.profiler"):60114,p=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,f=e?Symbol.for("react.async_mode"):60111,h=e?Symbol.for("react.concurrent_mode"):60111,x=e?Symbol.for("react.forward_ref"):60112,m=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,S=e?Symbol.for("react.lazy"):60116,E=e?Symbol.for("react.block"):60121,P=e?Symbol.for("react.fundamental"):60117,k=e?Symbol.for("react.responder"):60118,A=e?Symbol.for("react.scope"):60119;function L(C){if(typeof C=="object"&&C!==null){var _=C.$$typeof;switch(_){case u:switch(C=C.type,C){case f:case h:case r:case d:case l:case m:return C;default:switch(C=C&&C.$$typeof,C){case s:case x:case S:case y:case p:return C;default:return _}}case o:return _}}}function j(C){return L(C)===h}I.AsyncMode=f,I.ConcurrentMode=h,I.ContextConsumer=s,I.ContextProvider=p,I.Element=u,I.ForwardRef=x,I.Fragment=r,I.Lazy=S,I.Memo=y,I.Portal=o,I.Profiler=d,I.StrictMode=l,I.Suspense=m,I.isAsyncMode=function(C){return j(C)||L(C)===f},I.isConcurrentMode=j,I.isContextConsumer=function(C){return L(C)===s},I.isContextProvider=function(C){return L(C)===p},I.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===u},I.isForwardRef=function(C){return L(C)===x},I.isFragment=function(C){return L(C)===r},I.isLazy=function(C){return L(C)===S},I.isMemo=function(C){return L(C)===y},I.isPortal=function(C){return L(C)===o},I.isProfiler=function(C){return L(C)===d},I.isStrictMode=function(C){return L(C)===l},I.isSuspense=function(C){return L(C)===m},I.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===r||C===h||C===d||C===l||C===m||C===g||typeof C=="object"&&C!==null&&(C.$$typeof===S||C.$$typeof===y||C.$$typeof===p||C.$$typeof===s||C.$$typeof===x||C.$$typeof===P||C.$$typeof===k||C.$$typeof===A||C.$$typeof===E)},I.typeOf=L},59864:function(i,I,e){"use strict";i.exports=e(69921)},96974:function(i,I,e){"use strict";e.d(I,{F0:function(){return xe},Fg:function(){return et},Gn:function(){return x},TH:function(){return ae},UO:function(){return ue},V$:function(){return He},WU:function(){return Me},fp:function(){return m},j3:function(){return ct},oQ:function(){return O},pC:function(){return Y},s0:function(){return N}});var u=e(55648),o=e(62435);const r=(0,o.createContext)(null),l=(0,o.createContext)(null),d=(0,o.createContext)({outlet:null,matches:[]});function p(ne,pe){if(!ne)throw new Error(pe)}function s(ne,pe){if(!ne){typeof console!="undefined"&&console.warn(pe);try{throw new Error(pe)}catch(V){}}}const f={};function h(ne,pe,V){!pe&&!f[ne]&&(f[ne]=!0)}function x(ne,pe){return pe===void 0&&(pe={}),ne.replace(/:(\w+)/g,(V,de)=>(pe[de]==null&&p(!1),pe[de])).replace(/\/*\*$/,V=>pe["*"]==null?"":pe["*"].replace(/^\/*/,"/"))}function m(ne,pe,V){V===void 0&&(V="/");let de=typeof pe=="string"?(0,u.cP)(pe):pe,we=ye(de.pathname||"/",V);if(we==null)return null;let ze=g(ne);y(ze);let Fe=null;for(let Ye=0;Fe==null&&Ye<ze.length;++Ye)Fe=W(ze[Ye],we);return Fe}function g(ne,pe,V,de){return pe===void 0&&(pe=[]),V===void 0&&(V=[]),de===void 0&&(de=""),ne.forEach((we,ze)=>{let Fe={relativePath:we.path||"",caseSensitive:we.caseSensitive===!0,childrenIndex:ze,route:we};Fe.relativePath.startsWith("/")&&(Fe.relativePath.startsWith(de)||p(!1),Fe.relativePath=Fe.relativePath.slice(de.length));let Ye=ve([de,Fe.relativePath]),pt=V.concat(Fe);we.children&&we.children.length>0&&(we.index===!0&&p(!1),g(we.children,pe,pt,Ye)),!(we.path==null&&!we.index)&&pe.push({path:Ye,score:C(Ye,we.index),routesMeta:pt})}),pe}function y(ne){ne.sort((pe,V)=>pe.score!==V.score?V.score-pe.score:_(pe.routesMeta.map(de=>de.childrenIndex),V.routesMeta.map(de=>de.childrenIndex)))}const S=/^:\w+$/,E=3,P=2,k=1,A=10,L=-2,j=ne=>ne==="*";function C(ne,pe){let V=ne.split("/"),de=V.length;return V.some(j)&&(de+=L),pe&&(de+=P),V.filter(we=>!j(we)).reduce((we,ze)=>we+(S.test(ze)?E:ze===""?k:A),de)}function _(ne,pe){return ne.length===pe.length&&ne.slice(0,-1).every((de,we)=>de===pe[we])?ne[ne.length-1]-pe[pe.length-1]:0}function W(ne,pe){let{routesMeta:V}=ne,de={},we="/",ze=[];for(let Fe=0;Fe<V.length;++Fe){let Ye=V[Fe],pt=Fe===V.length-1,Tt=we==="/"?pe:pe.slice(we.length)||"/",yt=X({path:Ye.relativePath,caseSensitive:Ye.caseSensitive,end:pt},Tt);if(!yt)return null;Object.assign(de,yt.params);let fe=Ye.route;ze.push({params:de,pathname:ve([we,yt.pathname]),pathnameBase:T(ve([we,yt.pathnameBase])),route:fe}),yt.pathnameBase!=="/"&&(we=ve([we,yt.pathnameBase]))}return ze}function X(ne,pe){typeof ne=="string"&&(ne={path:ne,caseSensitive:!1,end:!0});let[V,de]=te(ne.path,ne.caseSensitive,ne.end),we=pe.match(V);if(!we)return null;let ze=we[0],Fe=ze.replace(/(.)\/+$/,"$1"),Ye=we.slice(1);return{params:de.reduce((Tt,yt,fe)=>{if(yt==="*"){let v=Ye[fe]||"";Fe=ze.slice(0,ze.length-v.length).replace(/(.)\/+$/,"$1")}return Tt[yt]=q(Ye[fe]||"",yt),Tt},{}),pathname:ze,pathnameBase:Fe,pattern:ne}}function te(ne,pe,V){pe===void 0&&(pe=!1),V===void 0&&(V=!0);let de=[],we="^"+ne.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(Fe,Ye)=>(de.push(Ye),"([^\\/]+)"));return ne.endsWith("*")?(de.push("*"),we+=ne==="*"||ne==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):we+=V?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(we,pe?void 0:"i"),de]}function q(ne,pe){try{return decodeURIComponent(ne)}catch(V){return ne}}function he(ne,pe){pe===void 0&&(pe="/");let{pathname:V,search:de="",hash:we=""}=typeof ne=="string"?(0,u.cP)(ne):ne;return{pathname:V?V.startsWith("/")?V:Pe(V,pe):pe,search:F(de),hash:Z(we)}}function Pe(ne,pe){let V=pe.replace(/\/+$/,"").split("/");return ne.split("/").forEach(we=>{we===".."?V.length>1&&V.pop():we!=="."&&V.push(we)}),V.length>1?V.join("/"):"/"}function Te(ne,pe,V){let de=typeof ne=="string"?(0,u.cP)(ne):ne,we=ne===""||de.pathname===""?"/":de.pathname,ze;if(we==null)ze=V;else{let Ye=pe.length-1;if(we.startsWith("..")){let pt=we.split("/");for(;pt[0]==="..";)pt.shift(),Ye-=1;de.pathname=pt.join("/")}ze=Ye>=0?pe[Ye]:"/"}let Fe=he(de,ze);return we&&we!=="/"&&we.endsWith("/")&&!Fe.pathname.endsWith("/")&&(Fe.pathname+="/"),Fe}function De(ne){return ne===""||ne.pathname===""?"/":typeof ne=="string"?(0,u.cP)(ne).pathname:ne.pathname}function ye(ne,pe){if(pe==="/")return ne;if(!ne.toLowerCase().startsWith(pe.toLowerCase()))return null;let V=ne.charAt(pe.length);return V&&V!=="/"?null:ne.slice(pe.length)||"/"}const ve=ne=>ne.join("/").replace(/\/\/+/g,"/"),T=ne=>ne.replace(/\/+$/,"").replace(/^\/*/,"/"),F=ne=>!ne||ne==="?"?"":ne.startsWith("?")?ne:"?"+ne,Z=ne=>!ne||ne==="#"?"":ne.startsWith("#")?ne:"#"+ne;function O(ne){z()||p(!1);let{basename:pe,navigator:V}=(0,o.useContext)(r),{hash:de,pathname:we,search:ze}=Me(ne),Fe=we;if(pe!=="/"){let Ye=De(ne),pt=Ye!=null&&Ye.endsWith("/");Fe=we==="/"?pe+(pt?"/":""):ve([pe,we])}return V.createHref({pathname:Fe,search:ze,hash:de})}function z(){return(0,o.useContext)(l)!=null}function ae(){return z()||p(!1),(0,o.useContext)(l).location}function be(){return useContext(l).navigationType}function Re(ne){z()||p(!1);let{pathname:pe}=ae();return useMemo(()=>X(ne,pe),[pe,ne])}function N(){z()||p(!1);let{basename:ne,navigator:pe}=(0,o.useContext)(r),{matches:V}=(0,o.useContext)(d),{pathname:de}=ae(),we=JSON.stringify(V.map(Ye=>Ye.pathnameBase)),ze=(0,o.useRef)(!1);return(0,o.useEffect)(()=>{ze.current=!0}),(0,o.useCallback)(function(Ye,pt){if(pt===void 0&&(pt={}),!ze.current)return;if(typeof Ye=="number"){pe.go(Ye);return}let Tt=Te(Ye,JSON.parse(we),de);ne!=="/"&&(Tt.pathname=ve([ne,Tt.pathname])),(pt.replace?pe.replace:pe.push)(Tt,pt.state)},[ne,pe,we,de])}const Q=(0,o.createContext)(null);function G(){return useContext(Q)}function Y(ne){let pe=(0,o.useContext)(d).outlet;return pe&&(0,o.createElement)(Q.Provider,{value:ne},pe)}function ue(){let{matches:ne}=(0,o.useContext)(d),pe=ne[ne.length-1];return pe?pe.params:{}}function Me(ne){let{matches:pe}=(0,o.useContext)(d),{pathname:V}=ae(),de=JSON.stringify(pe.map(we=>we.pathnameBase));return(0,o.useMemo)(()=>Te(ne,JSON.parse(de),V),[ne,de,V])}function He(ne,pe){z()||p(!1);let{matches:V}=(0,o.useContext)(d),de=V[V.length-1],we=de?de.params:{},ze=de?de.pathname:"/",Fe=de?de.pathnameBase:"/",Ye=de&&de.route,pt=ae(),Tt;if(pe){var yt;let ee=typeof pe=="string"?(0,u.cP)(pe):pe;Fe==="/"||(yt=ee.pathname)!=null&&yt.startsWith(Fe)||p(!1),Tt=ee}else Tt=pt;let fe=Tt.pathname||"/",v=Fe==="/"?fe:fe.slice(Fe.length)||"/",B=m(ne,{pathname:v});return Je(B&&B.map(ee=>Object.assign({},ee,{params:Object.assign({},we,ee.params),pathname:ve([Fe,ee.pathname]),pathnameBase:ee.pathnameBase==="/"?Fe:ve([Fe,ee.pathnameBase])})),V)}function Je(ne,pe){return pe===void 0&&(pe=[]),ne==null?null:ne.reduceRight((V,de,we)=>(0,o.createElement)(d.Provider,{children:de.route.element!==void 0?de.route.element:V,value:{outlet:V,matches:pe.concat(ne.slice(0,we+1))}}),null)}function Xe(ne){let{basename:pe,children:V,initialEntries:de,initialIndex:we}=ne,ze=useRef();ze.current==null&&(ze.current=createMemoryHistory({initialEntries:de,initialIndex:we}));let Fe=ze.current,[Ye,pt]=useState({action:Fe.action,location:Fe.location});return useLayoutEffect(()=>Fe.listen(pt),[Fe]),createElement(xe,{basename:pe,children:V,location:Ye.location,navigationType:Ye.action,navigator:Fe})}function et(ne){let{to:pe,replace:V,state:de}=ne;z()||p(!1);let we=N();return(0,o.useEffect)(()=>{we(pe,{replace:V,state:de})}),null}function ct(ne){return Y(ne.context)}function oe(ne){p(!1)}function xe(ne){let{basename:pe="/",children:V=null,location:de,navigationType:we=u.aU.Pop,navigator:ze,static:Fe=!1}=ne;z()&&p(!1);let Ye=T(pe),pt=(0,o.useMemo)(()=>({basename:Ye,navigator:ze,static:Fe}),[Ye,ze,Fe]);typeof de=="string"&&(de=(0,u.cP)(de));let{pathname:Tt="/",search:yt="",hash:fe="",state:v=null,key:B="default"}=de,ee=(0,o.useMemo)(()=>{let ce=ye(Tt,Ye);return ce==null?null:{pathname:ce,search:yt,hash:fe,state:v,key:B}},[Ye,Tt,yt,fe,v,B]);return ee==null?null:(0,o.createElement)(r.Provider,{value:pt},(0,o.createElement)(l.Provider,{children:V,value:{location:ee,navigationType:we}}))}function le(ne){let{children:pe,location:V}=ne;return He(se(pe),V)}function se(ne){let pe=[];return Children.forEach(ne,V=>{if(!isValidElement(V))return;if(V.type===Fragment){pe.push.apply(pe,se(V.props.children));return}V.type!==oe&&p(!1);let de={caseSensitive:V.props.caseSensitive,element:V.props.element,index:V.props.index,path:V.props.path};V.props.children&&(de.children=se(V.props.children)),pe.push(de)}),pe}function ke(ne){return Je(ne)}},35666:function(i){var I=function(e){"use strict";var u=Object.prototype,o=u.hasOwnProperty,r=Object.defineProperty||function(T,F,Z){T[F]=Z.value},l,d=typeof Symbol=="function"?Symbol:{},p=d.iterator||"@@iterator",s=d.asyncIterator||"@@asyncIterator",f=d.toStringTag||"@@toStringTag";function h(T,F,Z){return Object.defineProperty(T,F,{value:Z,enumerable:!0,configurable:!0,writable:!0}),T[F]}try{h({},"")}catch(T){h=function(F,Z,O){return F[Z]=O}}function x(T,F,Z,O){var z=F&&F.prototype instanceof k?F:k,ae=Object.create(z.prototype),be=new De(O||[]);return r(ae,"_invoke",{value:q(T,Z,be)}),ae}e.wrap=x;function m(T,F,Z){try{return{type:"normal",arg:T.call(F,Z)}}catch(O){return{type:"throw",arg:O}}}var g="suspendedStart",y="suspendedYield",S="executing",E="completed",P={};function k(){}function A(){}function L(){}var j={};h(j,p,function(){return this});var C=Object.getPrototypeOf,_=C&&C(C(ye([])));_&&_!==u&&o.call(_,p)&&(j=_);var W=L.prototype=k.prototype=Object.create(j);A.prototype=L,r(W,"constructor",{value:L,configurable:!0}),r(L,"constructor",{value:A,configurable:!0}),A.displayName=h(L,f,"GeneratorFunction");function X(T){["next","throw","return"].forEach(function(F){h(T,F,function(Z){return this._invoke(F,Z)})})}e.isGeneratorFunction=function(T){var F=typeof T=="function"&&T.constructor;return F?F===A||(F.displayName||F.name)==="GeneratorFunction":!1},e.mark=function(T){return Object.setPrototypeOf?Object.setPrototypeOf(T,L):(T.__proto__=L,h(T,f,"GeneratorFunction")),T.prototype=Object.create(W),T},e.awrap=function(T){return{__await:T}};function te(T,F){function Z(ae,be,Re,N){var Q=m(T[ae],T,be);if(Q.type==="throw")N(Q.arg);else{var G=Q.arg,Y=G.value;return Y&&typeof Y=="object"&&o.call(Y,"__await")?F.resolve(Y.__await).then(function(ue){Z("next",ue,Re,N)},function(ue){Z("throw",ue,Re,N)}):F.resolve(Y).then(function(ue){G.value=ue,Re(G)},function(ue){return Z("throw",ue,Re,N)})}}var O;function z(ae,be){function Re(){return new F(function(N,Q){Z(ae,be,N,Q)})}return O=O?O.then(Re,Re):Re()}r(this,"_invoke",{value:z})}X(te.prototype),h(te.prototype,s,function(){return this}),e.AsyncIterator=te,e.async=function(T,F,Z,O,z){z===void 0&&(z=Promise);var ae=new te(x(T,F,Z,O),z);return e.isGeneratorFunction(F)?ae:ae.next().then(function(be){return be.done?be.value:ae.next()})};function q(T,F,Z){var O=g;return function(ae,be){if(O===S)throw new Error("Generator is already running");if(O===E){if(ae==="throw")throw be;return ve()}for(Z.method=ae,Z.arg=be;;){var Re=Z.delegate;if(Re){var N=he(Re,Z);if(N){if(N===P)continue;return N}}if(Z.method==="next")Z.sent=Z._sent=Z.arg;else if(Z.method==="throw"){if(O===g)throw O=E,Z.arg;Z.dispatchException(Z.arg)}else Z.method==="return"&&Z.abrupt("return",Z.arg);O=S;var Q=m(T,F,Z);if(Q.type==="normal"){if(O=Z.done?E:y,Q.arg===P)continue;return{value:Q.arg,done:Z.done}}else Q.type==="throw"&&(O=E,Z.method="throw",Z.arg=Q.arg)}}}function he(T,F){var Z=F.method,O=T.iterator[Z];if(O===l)return F.delegate=null,Z==="throw"&&T.iterator.return&&(F.method="return",F.arg=l,he(T,F),F.method==="throw")||Z!=="return"&&(F.method="throw",F.arg=new TypeError("The iterator does not provide a '"+Z+"' method")),P;var z=m(O,T.iterator,F.arg);if(z.type==="throw")return F.method="throw",F.arg=z.arg,F.delegate=null,P;var ae=z.arg;if(!ae)return F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,P;if(ae.done)F[T.resultName]=ae.value,F.next=T.nextLoc,F.method!=="return"&&(F.method="next",F.arg=l);else return ae;return F.delegate=null,P}X(W),h(W,f,"Generator"),h(W,p,function(){return this}),h(W,"toString",function(){return"[object Generator]"});function Pe(T){var F={tryLoc:T[0]};1 in T&&(F.catchLoc=T[1]),2 in T&&(F.finallyLoc=T[2],F.afterLoc=T[3]),this.tryEntries.push(F)}function Te(T){var F=T.completion||{};F.type="normal",delete F.arg,T.completion=F}function De(T){this.tryEntries=[{tryLoc:"root"}],T.forEach(Pe,this),this.reset(!0)}e.keys=function(T){var F=Object(T),Z=[];for(var O in F)Z.push(O);return Z.reverse(),function z(){for(;Z.length;){var ae=Z.pop();if(ae in F)return z.value=ae,z.done=!1,z}return z.done=!0,z}};function ye(T){if(T){var F=T[p];if(F)return F.call(T);if(typeof T.next=="function")return T;if(!isNaN(T.length)){var Z=-1,O=function z(){for(;++Z<T.length;)if(o.call(T,Z))return z.value=T[Z],z.done=!1,z;return z.value=l,z.done=!0,z};return O.next=O}}return{next:ve}}e.values=ye;function ve(){return{value:l,done:!0}}return De.prototype={constructor:De,reset:function(T){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(Te),!T)for(var F in this)F.charAt(0)==="t"&&o.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=l)},stop:function(){this.done=!0;var T=this.tryEntries[0],F=T.completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(T){if(this.done)throw T;var F=this;function Z(N,Q){return ae.type="throw",ae.arg=T,F.next=N,Q&&(F.method="next",F.arg=l),!!Q}for(var O=this.tryEntries.length-1;O>=0;--O){var z=this.tryEntries[O],ae=z.completion;if(z.tryLoc==="root")return Z("end");if(z.tryLoc<=this.prev){var be=o.call(z,"catchLoc"),Re=o.call(z,"finallyLoc");if(be&&Re){if(this.prev<z.catchLoc)return Z(z.catchLoc,!0);if(this.prev<z.finallyLoc)return Z(z.finallyLoc)}else if(be){if(this.prev<z.catchLoc)return Z(z.catchLoc,!0)}else if(Re){if(this.prev<z.finallyLoc)return Z(z.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(T,F){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var O=this.tryEntries[Z];if(O.tryLoc<=this.prev&&o.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var z=O;break}}z&&(T==="break"||T==="continue")&&z.tryLoc<=F&&F<=z.finallyLoc&&(z=null);var ae=z?z.completion:{};return ae.type=T,ae.arg=F,z?(this.method="next",this.next=z.finallyLoc,P):this.complete(ae)},complete:function(T,F){if(T.type==="throw")throw T.arg;return T.type==="break"||T.type==="continue"?this.next=T.arg:T.type==="return"?(this.rval=this.arg=T.arg,this.method="return",this.next="end"):T.type==="normal"&&F&&(this.next=F),P},finish:function(T){for(var F=this.tryEntries.length-1;F>=0;--F){var Z=this.tryEntries[F];if(Z.finallyLoc===T)return this.complete(Z.completion,Z.afterLoc),Te(Z),P}},catch:function(T){for(var F=this.tryEntries.length-1;F>=0;--F){var Z=this.tryEntries[F];if(Z.tryLoc===T){var O=Z.completion;if(O.type==="throw"){var z=O.arg;Te(Z)}return z}}throw new Error("illegal catch attempt")},delegateYield:function(T,F,Z){return this.delegate={iterator:ye(T),resultName:F,nextLoc:Z},this.method==="next"&&(this.arg=l),P}},e}(i.exports);try{regeneratorRuntime=I}catch(e){typeof globalThis=="object"?globalThis.regeneratorRuntime=I:Function("r","regeneratorRuntime = r")(I)}},96774:function(i){i.exports=function(e,u,o,r){var l=o?o.call(r,e,u):void 0;if(l!==void 0)return!!l;if(e===u)return!0;if(typeof e!="object"||!e||typeof u!="object"||!u)return!1;var d=Object.keys(e),p=Object.keys(u);if(d.length!==p.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(u),f=0;f<d.length;f++){var h=d[f];if(!s(h))return!1;var x=e[h],m=u[h];if(l=o?o.call(r,x,m,h):void 0,l===!1||l===void 0&&x!==m)return!1}return!0}},11742:function(i){i.exports=function(){var I=document.getSelection();if(!I.rangeCount)return function(){};for(var e=document.activeElement,u=[],o=0;o<I.rangeCount;o++)u.push(I.getRangeAt(o));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return I.removeAllRanges(),function(){I.type==="Caret"&&I.removeAllRanges(),I.rangeCount||u.forEach(function(r){I.addRange(r)}),e&&e.focus()}}},70655:function(i,I,e){"use strict";e.d(I,{ZT:function(){return o},_T:function(){return l},ev:function(){return j},pi:function(){return r}});var u=function(T,F){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,O){Z.__proto__=O}||function(Z,O){for(var z in O)Object.prototype.hasOwnProperty.call(O,z)&&(Z[z]=O[z])},u(T,F)};function o(T,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");u(T,F);function Z(){this.constructor=T}T.prototype=F===null?Object.create(F):(Z.prototype=F.prototype,new Z)}var r=function(){return r=Object.assign||function(F){for(var Z,O=1,z=arguments.length;O<z;O++){Z=arguments[O];for(var ae in Z)Object.prototype.hasOwnProperty.call(Z,ae)&&(F[ae]=Z[ae])}return F},r.apply(this,arguments)};function l(T,F){var Z={};for(var O in T)Object.prototype.hasOwnProperty.call(T,O)&&F.indexOf(O)<0&&(Z[O]=T[O]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var z=0,O=Object.getOwnPropertySymbols(T);z<O.length;z++)F.indexOf(O[z])<0&&Object.prototype.propertyIsEnumerable.call(T,O[z])&&(Z[O[z]]=T[O[z]]);return Z}function d(T,F,Z,O){var z=arguments.length,ae=z<3?F:O===null?O=Object.getOwnPropertyDescriptor(F,Z):O,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ae=Reflect.decorate(T,F,Z,O);else for(var Re=T.length-1;Re>=0;Re--)(be=T[Re])&&(ae=(z<3?be(ae):z>3?be(F,Z,ae):be(F,Z))||ae);return z>3&&ae&&Object.defineProperty(F,Z,ae),ae}function p(T,F){return function(Z,O){F(Z,O,T)}}function s(T,F,Z,O,z,ae){function be(et){if(et!==void 0&&typeof et!="function")throw new TypeError("Function expected");return et}for(var Re=O.kind,N=Re==="getter"?"get":Re==="setter"?"set":"value",Q=!F&&T?O.static?T:T.prototype:null,G=F||(Q?Object.getOwnPropertyDescriptor(Q,O.name):{}),Y,ue=!1,Me=Z.length-1;Me>=0;Me--){var He={};for(var Je in O)He[Je]=Je==="access"?{}:O[Je];for(var Je in O.access)He.access[Je]=O.access[Je];He.addInitializer=function(et){if(ue)throw new TypeError("Cannot add initializers after decoration has completed");ae.push(be(et||null))};var Xe=(0,Z[Me])(Re==="accessor"?{get:G.get,set:G.set}:G[N],He);if(Re==="accessor"){if(Xe===void 0)continue;if(Xe===null||typeof Xe!="object")throw new TypeError("Object expected");(Y=be(Xe.get))&&(G.get=Y),(Y=be(Xe.set))&&(G.set=Y),(Y=be(Xe.init))&&z.unshift(Y)}else(Y=be(Xe))&&(Re==="field"?z.unshift(Y):G[N]=Y)}Q&&Object.defineProperty(Q,O.name,G),ue=!0}function f(T,F,Z){for(var O=arguments.length>2,z=0;z<F.length;z++)Z=O?F[z].call(T,Z):F[z].call(T);return O?Z:void 0}function h(T){return typeof T=="symbol"?T:"".concat(T)}function x(T,F,Z){return typeof F=="symbol"&&(F=F.description?"[".concat(F.description,"]"):""),Object.defineProperty(T,"name",{configurable:!0,value:Z?"".concat(Z," ",F):F})}function m(T,F){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(T,F)}function g(T,F,Z,O){function z(ae){return ae instanceof Z?ae:new Z(function(be){be(ae)})}return new(Z||(Z=Promise))(function(ae,be){function Re(G){try{Q(O.next(G))}catch(Y){be(Y)}}function N(G){try{Q(O.throw(G))}catch(Y){be(Y)}}function Q(G){G.done?ae(G.value):z(G.value).then(Re,N)}Q((O=O.apply(T,F||[])).next())})}function y(T,F){var Z={label:0,sent:function(){if(ae[0]&1)throw ae[1];return ae[1]},trys:[],ops:[]},O,z,ae,be;return be={next:Re(0),throw:Re(1),return:Re(2)},typeof Symbol=="function"&&(be[Symbol.iterator]=function(){return this}),be;function Re(Q){return function(G){return N([Q,G])}}function N(Q){if(O)throw new TypeError("Generator is already executing.");for(;be&&(be=0,Q[0]&&(Z=0)),Z;)try{if(O=1,z&&(ae=Q[0]&2?z.return:Q[0]?z.throw||((ae=z.return)&&ae.call(z),0):z.next)&&!(ae=ae.call(z,Q[1])).done)return ae;switch(z=0,ae&&(Q=[Q[0]&2,ae.value]),Q[0]){case 0:case 1:ae=Q;break;case 4:return Z.label++,{value:Q[1],done:!1};case 5:Z.label++,z=Q[1],Q=[0];continue;case 7:Q=Z.ops.pop(),Z.trys.pop();continue;default:if(ae=Z.trys,!(ae=ae.length>0&&ae[ae.length-1])&&(Q[0]===6||Q[0]===2)){Z=0;continue}if(Q[0]===3&&(!ae||Q[1]>ae[0]&&Q[1]<ae[3])){Z.label=Q[1];break}if(Q[0]===6&&Z.label<ae[1]){Z.label=ae[1],ae=Q;break}if(ae&&Z.label<ae[2]){Z.label=ae[2],Z.ops.push(Q);break}ae[2]&&Z.ops.pop(),Z.trys.pop();continue}Q=F.call(T,Z)}catch(G){Q=[6,G],z=0}finally{O=ae=0}if(Q[0]&5)throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}}var S=Object.create?function(T,F,Z,O){O===void 0&&(O=Z);var z=Object.getOwnPropertyDescriptor(F,Z);(!z||("get"in z?!F.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return F[Z]}}),Object.defineProperty(T,O,z)}:function(T,F,Z,O){O===void 0&&(O=Z),T[O]=F[Z]};function E(T,F){for(var Z in T)Z!=="default"&&!Object.prototype.hasOwnProperty.call(F,Z)&&S(F,T,Z)}function P(T){var F=typeof Symbol=="function"&&Symbol.iterator,Z=F&&T[F],O=0;if(Z)return Z.call(T);if(T&&typeof T.length=="number")return{next:function(){return T&&O>=T.length&&(T=void 0),{value:T&&T[O++],done:!T}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")}function k(T,F){var Z=typeof Symbol=="function"&&T[Symbol.iterator];if(!Z)return T;var O=Z.call(T),z,ae=[],be;try{for(;(F===void 0||F-- >0)&&!(z=O.next()).done;)ae.push(z.value)}catch(Re){be={error:Re}}finally{try{z&&!z.done&&(Z=O.return)&&Z.call(O)}finally{if(be)throw be.error}}return ae}function A(){for(var T=[],F=0;F<arguments.length;F++)T=T.concat(k(arguments[F]));return T}function L(){for(var T=0,F=0,Z=arguments.length;F<Z;F++)T+=arguments[F].length;for(var O=Array(T),z=0,F=0;F<Z;F++)for(var ae=arguments[F],be=0,Re=ae.length;be<Re;be++,z++)O[z]=ae[be];return O}function j(T,F,Z){if(Z||arguments.length===2)for(var O=0,z=F.length,ae;O<z;O++)(ae||!(O in F))&&(ae||(ae=Array.prototype.slice.call(F,0,O)),ae[O]=F[O]);return T.concat(ae||Array.prototype.slice.call(F))}function C(T){return this instanceof C?(this.v=T,this):new C(T)}function _(T,F,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O=Z.apply(T,F||[]),z,ae=[];return z={},be("next"),be("throw"),be("return"),z[Symbol.asyncIterator]=function(){return this},z;function be(ue){O[ue]&&(z[ue]=function(Me){return new Promise(function(He,Je){ae.push([ue,Me,He,Je])>1||Re(ue,Me)})})}function Re(ue,Me){try{N(O[ue](Me))}catch(He){Y(ae[0][3],He)}}function N(ue){ue.value instanceof C?Promise.resolve(ue.value.v).then(Q,G):Y(ae[0][2],ue)}function Q(ue){Re("next",ue)}function G(ue){Re("throw",ue)}function Y(ue,Me){ue(Me),ae.shift(),ae.length&&Re(ae[0][0],ae[0][1])}}function W(T){var F,Z;return F={},O("next"),O("throw",function(z){throw z}),O("return"),F[Symbol.iterator]=function(){return this},F;function O(z,ae){F[z]=T[z]?function(be){return(Z=!Z)?{value:C(T[z](be)),done:!1}:ae?ae(be):be}:ae}}function X(T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var F=T[Symbol.asyncIterator],Z;return F?F.call(T):(T=typeof P=="function"?P(T):T[Symbol.iterator](),Z={},O("next"),O("throw"),O("return"),Z[Symbol.asyncIterator]=function(){return this},Z);function O(ae){Z[ae]=T[ae]&&function(be){return new Promise(function(Re,N){be=T[ae](be),z(Re,N,be.done,be.value)})}}function z(ae,be,Re,N){Promise.resolve(N).then(function(Q){ae({value:Q,done:Re})},be)}}function te(T,F){return Object.defineProperty?Object.defineProperty(T,"raw",{value:F}):T.raw=F,T}var q=Object.create?function(T,F){Object.defineProperty(T,"default",{enumerable:!0,value:F})}:function(T,F){T.default=F};function he(T){if(T&&T.__esModule)return T;var F={};if(T!=null)for(var Z in T)Z!=="default"&&Object.prototype.hasOwnProperty.call(T,Z)&&S(F,T,Z);return q(F,T),F}function Pe(T){return T&&T.__esModule?T:{default:T}}function Te(T,F,Z,O){if(Z==="a"&&!O)throw new TypeError("Private accessor was defined without a getter");if(typeof F=="function"?T!==F||!O:!F.has(T))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Z==="m"?O:Z==="a"?O.call(T):O?O.value:F.get(T)}function De(T,F,Z,O,z){if(O==="m")throw new TypeError("Private method is not writable");if(O==="a"&&!z)throw new TypeError("Private accessor was defined without a setter");if(typeof F=="function"?T!==F||!z:!F.has(T))throw new TypeError("Cannot write private member to an object whose class did not declare it");return O==="a"?z.call(T,Z):z?z.value=Z:F.set(T,Z),Z}function ye(T,F){if(F===null||typeof F!="object"&&typeof F!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof T=="function"?F===T:T.has(F)}var ve={__extends:o,__assign:r,__rest:l,__decorate:d,__param:p,__metadata:m,__awaiter:g,__generator:y,__createBinding:S,__exportStar:E,__values:P,__read:k,__spread:A,__spreadArrays:L,__spreadArray:j,__await:C,__asyncGenerator:_,__asyncDelegator:W,__asyncValues:X,__makeTemplateObject:te,__importStar:he,__importDefault:Pe,__classPrivateFieldGet:Te,__classPrivateFieldSet:De,__classPrivateFieldIn:ye}},37923:function(i){function I(e,u){(u==null||u>e.length)&&(u=e.length);for(var o=0,r=new Array(u);o<u;o++)r[o]=e[o];return r}i.exports=I,i.exports.__esModule=!0,i.exports.default=i.exports},82187:function(i){function I(e){if(Array.isArray(e))return e}i.exports=I,i.exports.__esModule=!0,i.exports.default=i.exports},25098:function(i){function I(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}i.exports=I,i.exports.__esModule=!0,i.exports.default=i.exports},99289:function(i){function I(u,o,r,l,d,p,s){try{var f=u[p](s),h=f.value}catch(x){r(x);return}f.done?o(h):Promise.resolve(h).then(l,d)}function e(u){return function(){var o=this,r=arguments;return new Promise(function(l,d){var p=u.apply(o,r);function s(h){I(p,l,d,s,f,"next",h)}function f(h){I(p,l,d,s,f,"throw",h)}s(void 0)})}}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports},12444:function(i){function I(e,u){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}i.exports=I,i.exports.__esModule=!0,i.exports.default=i.exports},72004:function(i,I,e){var u=e(51883);function o(l,d){for(var p=0;p<d.length;p++){var s=d[p];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(l,u(s.key),s)}}function r(l,d,p){return d&&o(l.prototype,d),p&&o(l,p),Object.defineProperty(l,"prototype",{writable:!1}),l}i.exports=r,i.exports.__esModule=!0,i.exports.default=i.exports},26037:function(i,I,e){var u=e(48374),o=e(21771),r=e(73408);function l(d){var p=o();return function(){var f=u(d),h;if(p){var x=u(this).constructor;h=Reflect.construct(f,arguments,x)}else h=f.apply(this,arguments);return r(this,h)}}i.exports=l,i.exports.__esModule=!0,i.exports.default=i.exports},9783:function(i,I,e){var u=e(51883);function o(r,l,d){return l=u(l),l in r?Object.defineProperty(r,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[l]=d,r}i.exports=o,i.exports.__esModule=!0,i.exports.default=i.exports},48374:function(i){function I(e){return i.exports=I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},i.exports.__esModule=!0,i.exports.default=i.exports,I(e)}i.exports=I,i.exports.__esModule=!0,i.exports.default=i.exports},31996:function(i,I,e){var u=e(21314);function o(r,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(l&&l.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),l&&u(r,l)}i.exports=o,i.exports.__esModule=!0,i.exports.default=i.exports},21771:function(i){function I(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}i.exports=I,i.exports.__esModule=!0,i.exports.default=i.exports},73964:function(i){function I(e,u){var o=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(o!=null){var r,l,d,p,s=[],f=!0,h=!1;try{if(d=(o=o.call(e)).next,u===0){if(Object(o)!==o)return;f=!1}else for(;!(f=(r=d.call(o)).done)&&(s.push(r.value),s.length!==u);f=!0);}catch(x){h=!0,l=x}finally{try{if(!f&&o.return!=null&&(p=o.return(),Object(p)!==p))return}finally{if(h)throw l}}return s}}i.exports=I,i.exports.__esModule=!0,i.exports.default=i.exports},69094:function(i){function I(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}i.exports=I,i.exports.__esModule=!0,i.exports.default=i.exports},97857:function(i,I,e){var u=e(9783);function o(l,d){var p=Object.keys(l);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(l);d&&(s=s.filter(function(f){return Object.getOwnPropertyDescriptor(l,f).enumerable})),p.push.apply(p,s)}return p}function r(l){for(var d=1;d<arguments.length;d++){var p=arguments[d]!=null?arguments[d]:{};d%2?o(Object(p),!0).forEach(function(s){u(l,s,p[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(p)):o(Object(p)).forEach(function(s){Object.defineProperty(l,s,Object.getOwnPropertyDescriptor(p,s))})}return l}i.exports=r,i.exports.__esModule=!0,i.exports.default=i.exports},73408:function(i,I,e){var u=e(52677).default,o=e(25098);function r(l,d){if(d&&(u(d)==="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(l)}i.exports=r,i.exports.__esModule=!0,i.exports.default=i.exports},15009:function(i,I,e){var u=e(52677).default;function o(){"use strict";i.exports=o=function(){return r},i.exports.__esModule=!0,i.exports.default=i.exports;var r={},l=Object.prototype,d=l.hasOwnProperty,p=Object.defineProperty||function(ye,ve,T){ye[ve]=T.value},s=typeof Symbol=="function"?Symbol:{},f=s.iterator||"@@iterator",h=s.asyncIterator||"@@asyncIterator",x=s.toStringTag||"@@toStringTag";function m(ye,ve,T){return Object.defineProperty(ye,ve,{value:T,enumerable:!0,configurable:!0,writable:!0}),ye[ve]}try{m({},"")}catch(ye){m=function(T,F,Z){return T[F]=Z}}function g(ye,ve,T,F){var Z=ve&&ve.prototype instanceof E?ve:E,O=Object.create(Z.prototype),z=new Pe(F||[]);return p(O,"_invoke",{value:X(ye,T,z)}),O}function y(ye,ve,T){try{return{type:"normal",arg:ye.call(ve,T)}}catch(F){return{type:"throw",arg:F}}}r.wrap=g;var S={};function E(){}function P(){}function k(){}var A={};m(A,f,function(){return this});var L=Object.getPrototypeOf,j=L&&L(L(Te([])));j&&j!==l&&d.call(j,f)&&(A=j);var C=k.prototype=E.prototype=Object.create(A);function _(ye){["next","throw","return"].forEach(function(ve){m(ye,ve,function(T){return this._invoke(ve,T)})})}function W(ye,ve){function T(Z,O,z,ae){var be=y(ye[Z],ye,O);if(be.type!=="throw"){var Re=be.arg,N=Re.value;return N&&u(N)=="object"&&d.call(N,"__await")?ve.resolve(N.__await).then(function(Q){T("next",Q,z,ae)},function(Q){T("throw",Q,z,ae)}):ve.resolve(N).then(function(Q){Re.value=Q,z(Re)},function(Q){return T("throw",Q,z,ae)})}ae(be.arg)}var F;p(this,"_invoke",{value:function(O,z){function ae(){return new ve(function(be,Re){T(O,z,be,Re)})}return F=F?F.then(ae,ae):ae()}})}function X(ye,ve,T){var F="suspendedStart";return function(Z,O){if(F==="executing")throw new Error("Generator is already running");if(F==="completed"){if(Z==="throw")throw O;return De()}for(T.method=Z,T.arg=O;;){var z=T.delegate;if(z){var ae=te(z,T);if(ae){if(ae===S)continue;return ae}}if(T.method==="next")T.sent=T._sent=T.arg;else if(T.method==="throw"){if(F==="suspendedStart")throw F="completed",T.arg;T.dispatchException(T.arg)}else T.method==="return"&&T.abrupt("return",T.arg);F="executing";var be=y(ye,ve,T);if(be.type==="normal"){if(F=T.done?"completed":"suspendedYield",be.arg===S)continue;return{value:be.arg,done:T.done}}be.type==="throw"&&(F="completed",T.method="throw",T.arg=be.arg)}}}function te(ye,ve){var T=ve.method,F=ye.iterator[T];if(F===void 0)return ve.delegate=null,T==="throw"&&ye.iterator.return&&(ve.method="return",ve.arg=void 0,te(ye,ve),ve.method==="throw")||T!=="return"&&(ve.method="throw",ve.arg=new TypeError("The iterator does not provide a '"+T+"' method")),S;var Z=y(F,ye.iterator,ve.arg);if(Z.type==="throw")return ve.method="throw",ve.arg=Z.arg,ve.delegate=null,S;var O=Z.arg;return O?O.done?(ve[ye.resultName]=O.value,ve.next=ye.nextLoc,ve.method!=="return"&&(ve.method="next",ve.arg=void 0),ve.delegate=null,S):O:(ve.method="throw",ve.arg=new TypeError("iterator result is not an object"),ve.delegate=null,S)}function q(ye){var ve={tryLoc:ye[0]};1 in ye&&(ve.catchLoc=ye[1]),2 in ye&&(ve.finallyLoc=ye[2],ve.afterLoc=ye[3]),this.tryEntries.push(ve)}function he(ye){var ve=ye.completion||{};ve.type="normal",delete ve.arg,ye.completion=ve}function Pe(ye){this.tryEntries=[{tryLoc:"root"}],ye.forEach(q,this),this.reset(!0)}function Te(ye){if(ye){var ve=ye[f];if(ve)return ve.call(ye);if(typeof ye.next=="function")return ye;if(!isNaN(ye.length)){var T=-1,F=function Z(){for(;++T<ye.length;)if(d.call(ye,T))return Z.value=ye[T],Z.done=!1,Z;return Z.value=void 0,Z.done=!0,Z};return F.next=F}}return{next:De}}function De(){return{value:void 0,done:!0}}return P.prototype=k,p(C,"constructor",{value:k,configurable:!0}),p(k,"constructor",{value:P,configurable:!0}),P.displayName=m(k,x,"GeneratorFunction"),r.isGeneratorFunction=function(ye){var ve=typeof ye=="function"&&ye.constructor;return!!ve&&(ve===P||(ve.displayName||ve.name)==="GeneratorFunction")},r.mark=function(ye){return Object.setPrototypeOf?Object.setPrototypeOf(ye,k):(ye.__proto__=k,m(ye,x,"GeneratorFunction")),ye.prototype=Object.create(C),ye},r.awrap=function(ye){return{__await:ye}},_(W.prototype),m(W.prototype,h,function(){return this}),r.AsyncIterator=W,r.async=function(ye,ve,T,F,Z){Z===void 0&&(Z=Promise);var O=new W(g(ye,ve,T,F),Z);return r.isGeneratorFunction(ve)?O:O.next().then(function(z){return z.done?z.value:O.next()})},_(C),m(C,x,"Generator"),m(C,f,function(){return this}),m(C,"toString",function(){return"[object Generator]"}),r.keys=function(ye){var ve=Object(ye),T=[];for(var F in ve)T.push(F);return T.reverse(),function Z(){for(;T.length;){var O=T.pop();if(O in ve)return Z.value=O,Z.done=!1,Z}return Z.done=!0,Z}},r.values=Te,Pe.prototype={constructor:Pe,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(he),!ve)for(var T in this)T.charAt(0)==="t"&&d.call(this,T)&&!isNaN(+T.slice(1))&&(this[T]=void 0)},stop:function(){this.done=!0;var ve=this.tryEntries[0].completion;if(ve.type==="throw")throw ve.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var T=this;function F(Re,N){return z.type="throw",z.arg=ve,T.next=Re,N&&(T.method="next",T.arg=void 0),!!N}for(var Z=this.tryEntries.length-1;Z>=0;--Z){var O=this.tryEntries[Z],z=O.completion;if(O.tryLoc==="root")return F("end");if(O.tryLoc<=this.prev){var ae=d.call(O,"catchLoc"),be=d.call(O,"finallyLoc");if(ae&&be){if(this.prev<O.catchLoc)return F(O.catchLoc,!0);if(this.prev<O.finallyLoc)return F(O.finallyLoc)}else if(ae){if(this.prev<O.catchLoc)return F(O.catchLoc,!0)}else{if(!be)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return F(O.finallyLoc)}}}},abrupt:function(ve,T){for(var F=this.tryEntries.length-1;F>=0;--F){var Z=this.tryEntries[F];if(Z.tryLoc<=this.prev&&d.call(Z,"finallyLoc")&&this.prev<Z.finallyLoc){var O=Z;break}}O&&(ve==="break"||ve==="continue")&&O.tryLoc<=T&&T<=O.finallyLoc&&(O=null);var z=O?O.completion:{};return z.type=ve,z.arg=T,O?(this.method="next",this.next=O.finallyLoc,S):this.complete(z)},complete:function(ve,T){if(ve.type==="throw")throw ve.arg;return ve.type==="break"||ve.type==="continue"?this.next=ve.arg:ve.type==="return"?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):ve.type==="normal"&&T&&(this.next=T),S},finish:function(ve){for(var T=this.tryEntries.length-1;T>=0;--T){var F=this.tryEntries[T];if(F.finallyLoc===ve)return this.complete(F.completion,F.afterLoc),he(F),S}},catch:function(ve){for(var T=this.tryEntries.length-1;T>=0;--T){var F=this.tryEntries[T];if(F.tryLoc===ve){var Z=F.completion;if(Z.type==="throw"){var O=Z.arg;he(F)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(ve,T,F){return this.delegate={iterator:Te(ve),resultName:T,nextLoc:F},this.method==="next"&&(this.arg=void 0),S}},r}i.exports=o,i.exports.__esModule=!0,i.exports.default=i.exports},21314:function(i){function I(e,u){return i.exports=I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,l){return r.__proto__=l,r},i.exports.__esModule=!0,i.exports.default=i.exports,I(e,u)}i.exports=I,i.exports.__esModule=!0,i.exports.default=i.exports},5574:function(i,I,e){var u=e(82187),o=e(73964),r=e(96263),l=e(69094);function d(p,s){return u(p)||o(p,s)||r(p,s)||l()}i.exports=d,i.exports.__esModule=!0,i.exports.default=i.exports},66518:function(i,I,e){var u=e(52677).default;function o(r,l){if(u(r)!=="object"||r===null)return r;var d=r[Symbol.toPrimitive];if(d!==void 0){var p=d.call(r,l||"default");if(u(p)!=="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(r)}i.exports=o,i.exports.__esModule=!0,i.exports.default=i.exports},51883:function(i,I,e){var u=e(52677).default,o=e(66518);function r(l){var d=o(l,"string");return u(d)==="symbol"?d:String(d)}i.exports=r,i.exports.__esModule=!0,i.exports.default=i.exports},52677:function(i){function I(e){return i.exports=I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},i.exports.__esModule=!0,i.exports.default=i.exports,I(e)}i.exports=I,i.exports.__esModule=!0,i.exports.default=i.exports},96263:function(i,I,e){var u=e(37923);function o(r,l){if(r){if(typeof r=="string")return u(r,l);var d=Object.prototype.toString.call(r).slice(8,-1);if(d==="Object"&&r.constructor&&(d=r.constructor.name),d==="Map"||d==="Set")return Array.from(r);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return u(r,l)}}i.exports=o,i.exports.__esModule=!0,i.exports.default=i.exports},30907:function(i,I,e){"use strict";e.d(I,{Z:function(){return u}});function u(o,r){(r==null||r>o.length)&&(r=o.length);for(var l=0,d=new Array(r);l<r;l++)d[l]=o[l];return d}},97326:function(i,I,e){"use strict";e.d(I,{Z:function(){return u}});function u(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}},15671:function(i,I,e){"use strict";e.d(I,{Z:function(){return u}});function u(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}},43144:function(i,I,e){"use strict";e.d(I,{Z:function(){return r}});var u=e(83997);function o(l,d){for(var p=0;p<d.length;p++){var s=d[p];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(l,(0,u.Z)(s.key),s)}}function r(l,d,p){return d&&o(l.prototype,d),p&&o(l,p),Object.defineProperty(l,"prototype",{writable:!1}),l}},73568:function(i,I,e){"use strict";e.d(I,{Z:function(){return p}});function u(s){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},u(s)}function o(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(s){return!1}}var r=e(71002),l=e(97326);function d(s,f){if(f&&((0,r.Z)(f)==="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,l.Z)(s)}function p(s){var f=o();return function(){var x=u(s),m;if(f){var g=u(this).constructor;m=Reflect.construct(x,arguments,g)}else m=x.apply(this,arguments);return d(this,m)}}},4942:function(i,I,e){"use strict";e.d(I,{Z:function(){return o}});var u=e(83997);function o(r,l,d){return l=(0,u.Z)(l),l in r?Object.defineProperty(r,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[l]=d,r}},87462:function(i,I,e){"use strict";e.d(I,{Z:function(){return u}});function u(){return u=Object.assign?Object.assign.bind():function(o){for(var r=1;r<arguments.length;r++){var l=arguments[r];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(o[d]=l[d])}return o},u.apply(this,arguments)}},32531:function(i,I,e){"use strict";e.d(I,{Z:function(){return o}});function u(r,l){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,s){return p.__proto__=s,p},u(r,l)}function o(r,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(l&&l.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),l&&u(r,l)}},1413:function(i,I,e){"use strict";e.d(I,{Z:function(){return r}});var u=e(4942);function o(l,d){var p=Object.keys(l);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(l);d&&(s=s.filter(function(f){return Object.getOwnPropertyDescriptor(l,f).enumerable})),p.push.apply(p,s)}return p}function r(l){for(var d=1;d<arguments.length;d++){var p=arguments[d]!=null?arguments[d]:{};d%2?o(Object(p),!0).forEach(function(s){(0,u.Z)(l,s,p[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(p)):o(Object(p)).forEach(function(s){Object.defineProperty(l,s,Object.getOwnPropertyDescriptor(p,s))})}return l}},91:function(i,I,e){"use strict";e.d(I,{Z:function(){return o}});function u(r,l){if(r==null)return{};var d={},p=Object.keys(r),s,f;for(f=0;f<p.length;f++)s=p[f],!(l.indexOf(s)>=0)&&(d[s]=r[s]);return d}function o(r,l){if(r==null)return{};var d=u(r,l),p,s;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(r);for(s=0;s<f.length;s++)p=f[s],!(l.indexOf(p)>=0)&&Object.prototype.propertyIsEnumerable.call(r,p)&&(d[p]=r[p])}return d}},86854:function(i,I,e){"use strict";e.d(I,{Z:function(){return d}});function u(p){if(Array.isArray(p))return p}function o(p,s){var f=p==null?null:typeof Symbol!="undefined"&&p[Symbol.iterator]||p["@@iterator"];if(f!=null){var h,x,m,g,y=[],S=!0,E=!1;try{if(m=(f=f.call(p)).next,s===0){if(Object(f)!==f)return;S=!1}else for(;!(S=(h=m.call(f)).done)&&(y.push(h.value),y.length!==s);S=!0);}catch(P){E=!0,x=P}finally{try{if(!S&&f.return!=null&&(g=f.return(),Object(g)!==g))return}finally{if(E)throw x}}return y}}var r=e(40181);function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(p,s){return u(p)||o(p,s)||(0,r.Z)(p,s)||l()}},41451:function(i,I,e){"use strict";e.d(I,{Z:function(){return p}});var u=e(30907);function o(s){if(Array.isArray(s))return(0,u.Z)(s)}function r(s){if(typeof Symbol!="undefined"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}var l=e(40181);function d(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(s){return o(s)||r(s)||(0,l.Z)(s)||d()}},83997:function(i,I,e){"use strict";e.d(I,{Z:function(){return r}});var u=e(71002);function o(l,d){if((0,u.Z)(l)!=="object"||l===null)return l;var p=l[Symbol.toPrimitive];if(p!==void 0){var s=p.call(l,d||"default");if((0,u.Z)(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(l)}function r(l){var d=o(l,"string");return(0,u.Z)(d)==="symbol"?d:String(d)}},71002:function(i,I,e){"use strict";e.d(I,{Z:function(){return u}});function u(o){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},u(o)}},40181:function(i,I,e){"use strict";e.d(I,{Z:function(){return o}});var u=e(30907);function o(r,l){if(r){if(typeof r=="string")return(0,u.Z)(r,l);var d=Object.prototype.toString.call(r).slice(8,-1);if(d==="Object"&&r.constructor&&(d=r.constructor.name),d==="Map"||d==="Set")return Array.from(r);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return(0,u.Z)(r,l)}}},58096:function(i,I,e){"use strict";e.d(I,{Z:function(){return u}});function u(){return u=Object.assign?Object.assign.bind():function(o){for(var r=1;r<arguments.length;r++){var l=arguments[r];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(o[d]=l[d])}return o},u.apply(this,arguments)}},49647:function(i,I,e){"use strict";e.d(I,{Z:function(){return o}});function u(r,l){if(r==null)return{};var d={},p=Object.keys(r),s,f;for(f=0;f<p.length;f++)s=p[f],!(l.indexOf(s)>=0)&&(d[s]=r[s]);return d}function o(r,l){if(r==null)return{};var d=u(r,l),p,s;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(r);for(s=0;s<f.length;s++)p=f[s],!(l.indexOf(p)>=0)&&Object.prototype.propertyIsEnumerable.call(r,p)&&(d[p]=r[p])}return d}}},__webpack_module_cache__={};function __webpack_require__(i){var I=__webpack_module_cache__[i];if(I!==void 0)return I.exports;var e=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i].call(e.exports,e,e.exports,__webpack_require__),e.exports}__webpack_require__.m=__webpack_modules__,function(){__webpack_require__.n=function(i){var I=i&&i.__esModule?function(){return i.default}:function(){return i};return __webpack_require__.d(I,{a:I}),I}}(),function(){var i=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},I;__webpack_require__.t=function(e,u){if(u&1&&(e=this(e)),u&8||typeof e=="object"&&e&&(u&4&&e.__esModule||u&16&&typeof e.then=="function"))return e;var o=Object.create(null);__webpack_require__.r(o);var r={};I=I||[null,i({}),i([]),i(i)];for(var l=u&2&&e;typeof l=="object"&&!~I.indexOf(l);l=i(l))Object.getOwnPropertyNames(l).forEach(function(d){r[d]=function(){return e[d]}});return r.default=function(){return e},__webpack_require__.d(o,r),o}}(),function(){__webpack_require__.d=function(i,I){for(var e in I)__webpack_require__.o(I,e)&&!__webpack_require__.o(i,e)&&Object.defineProperty(i,e,{enumerable:!0,get:I[e]})}}(),function(){__webpack_require__.f={},__webpack_require__.e=function(i){return Promise.all(Object.keys(__webpack_require__.f).reduce(function(I,e){return __webpack_require__.f[e](i,I),I},[]))}}(),function(){__webpack_require__.u=function(i){return""+({3:"docs__algorithm__bitfield.md",96:"dumi__theme__layouts__DocLayout",183:"docs__main__workloop.md",184:"docs__main__bootstrap.md",221:"docs__algorithm__dfs.md",231:"docs__main__fibertree-update.md",251:"docs__main__hook-state.md",263:"docs__main__hook-effect.md",293:"docs__main__macro-structure.md",361:"docs__interview__06-key.md",400:"dumi__pages__404",448:"dumi__pages__Demo",458:"dumi__theme__ContextWrapper",504:"docs__main__hook-summary.md",538:"docs__main__object-structure.md",547:"docs__main__fibertree-prepare.md",560:"docs__algorithm__diff.md",613:"docs__main__fibertree-commit.md",657:"docs__interview__index.md",666:"docs__main__fibertree-create.md",737:"docs__algorithm__linkedlist.md",753:"docs__interview__01-setstate.md",776:"docs__main__context.md",781:"docs__main__synthetic-event.md",789:"docs__main__priority.md",801:"docs__main__reconciler-workflow.md",813:"docs__main__state-effects.md",864:"docs__main__scheduler.md",890:"docs__algorithm__stack.md",935:"docs__index.md",961:"docs__algorithm__heapsort.md"}[i]||i)+"."+{3:"8433e2c3",96:"5db13179",153:"29d583c7",183:"dcc54b3e",184:"946d837e",221:"30350845",231:"02ea44ab",251:"0247f593",263:"d050bc1f",293:"ba154b34",361:"92420fe6",400:"5bfdfadc",448:"81b2c541",458:"8d1d108d",504:"660eec81",538:"b4f72c16",547:"b565836c",560:"d14d9277",579:"08fe38ae",613:"5abd2557",657:"41823c1b",666:"6b38c06e",737:"6140f7e2",753:"1beca199",776:"91b9c45b",781:"37b46323",789:"f0d36d65",801:"71423248",813:"290a99cf",864:"199a4fef",890:"c66ed761",935:"da7b190e",961:"012044f3"}[i]+".async.js"}}(),function(){__webpack_require__.miniCssF=function(i){}}(),function(){__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(i){if(typeof window=="object")return window}}()}(),function(){__webpack_require__.o=function(i,I){return Object.prototype.hasOwnProperty.call(i,I)}}(),function(){var i={},I="react-illustration-series:";__webpack_require__.l=function(e,u,o,r){if(i[e]){i[e].push(u);return}var l,d;if(o!==void 0)for(var p=document.getElementsByTagName("script"),s=0;s<p.length;s++){var f=p[s];if(f.getAttribute("src")==e||f.getAttribute("data-webpack")==I+o){l=f;break}}l||(d=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,__webpack_require__.nc&&l.setAttribute("nonce",__webpack_require__.nc),l.setAttribute("data-webpack",I+o),l.src=e),i[e]=[u];var h=function(m,g){l.onerror=l.onload=null,clearTimeout(x);var y=i[e];if(delete i[e],l.parentNode&&l.parentNode.removeChild(l),y&&y.forEach(function(S){return S(g)}),m)return m(g)},x=setTimeout(h.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=h.bind(null,l.onerror),l.onload=h.bind(null,l.onload),d&&document.head.appendChild(l)}}(),function(){__webpack_require__.r=function(i){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})}}(),function(){__webpack_require__.p="/"}(),function(){var i={620:0};__webpack_require__.f.j=function(u,o){var r=__webpack_require__.o(i,u)?i[u]:void 0;if(r!==0)if(r)o.push(r[2]);else{var l=new Promise(function(f,h){r=i[u]=[f,h]});o.push(r[2]=l);var d=__webpack_require__.p+__webpack_require__.u(u),p=new Error,s=function(f){if(__webpack_require__.o(i,u)&&(r=i[u],r!==0&&(i[u]=void 0),r)){var h=f&&(f.type==="load"?"missing":f.type),x=f&&f.target&&f.target.src;p.message="Loading chunk "+u+` failed.
(`+h+": "+x+")",p.name="ChunkLoadError",p.type=h,p.request=x,r[1](p)}};__webpack_require__.l(d,s,"chunk-"+u,u)}};var I=function(u,o){var r=o[0],l=o[1],d=o[2],p,s,f=0;if(r.some(function(x){return i[x]!==0})){for(p in l)__webpack_require__.o(l,p)&&(__webpack_require__.m[p]=l[p]);if(d)var h=d(__webpack_require__)}for(u&&u(o);f<r.length;f++)s=r[f],__webpack_require__.o(i,s)&&i[s]&&i[s][0](),i[s]=0},e=self.webpackChunkreact_illustration_series=self.webpackChunkreact_illustration_series||[];e.forEach(I.bind(null,0)),e.push=I.bind(null,e.push.bind(e))}();var __webpack_exports__={};(function(){"use strict";var i=__webpack_require__(15009),I=__webpack_require__.n(i),e=__webpack_require__(97857),u=__webpack_require__.n(e),o=__webpack_require__(99289),r=__webpack_require__.n(o),l=__webpack_require__(21703),d=__webpack_require__(9170),p=__webpack_require__(32120),s=__webpack_require__(52262),f=__webpack_require__(67635),h=__webpack_require__(77287),x=__webpack_require__(57658),m=__webpack_require__(85827),g=__webpack_require__(96644),y=__webpack_require__(46314),S=__webpack_require__(34668),E=__webpack_require__(81299),P=__webpack_require__(92087),k=__webpack_require__(24506),A=__webpack_require__(68757),L=__webpack_require__(48675),j=__webpack_require__(63408),C=__webpack_require__(14590),_=__webpack_require__(3462),W=__webpack_require__(16586),X=__webpack_require__(19258),te=__webpack_require__(84811),q=__webpack_require__(34286),he=__webpack_require__(52550),Pe=__webpack_require__(1999),Te=__webpack_require__(61886),De=__webpack_require__(59422),ye=__webpack_require__(8e4),ve=__webpack_require__(83475),T=__webpack_require__(46273),F=__webpack_require__(56882),Z=__webpack_require__(78525),O=__webpack_require__(27004),z=__webpack_require__(3087),ae=__webpack_require__(97391),be=__webpack_require__(4763),Re=__webpack_require__(66342),N=__webpack_require__(40787),Q=__webpack_require__(1094),G=__webpack_require__(23647),Y=__webpack_require__(68216),ue=__webpack_require__(88449),Me=__webpack_require__(31672),He=__webpack_require__(74326),Je=__webpack_require__(15581),Xe=__webpack_require__(78631),et=__webpack_require__(48746),ct=__webpack_require__(57640),oe=__webpack_require__(25387),xe=__webpack_require__(64211),le=__webpack_require__(12771),se=__webpack_require__(62962),ke=__webpack_require__(71790),ne=__webpack_require__(51568),pe=__webpack_require__(26349),V=__webpack_require__(30800),de=__webpack_require__(67427),we=__webpack_require__(32279),ze=__webpack_require__(13384),Fe=__webpack_require__(2490),Ye=__webpack_require__(85567),pt=__webpack_require__(18359),Tt=__webpack_require__(5332),yt=__webpack_require__(79433),fe=__webpack_require__(59849),v=__webpack_require__(59461),B=__webpack_require__(82499),ee=__webpack_require__(34514),ce=__webpack_require__(26877),Ae=__webpack_require__(64994),Ne=__webpack_require__(9924),Se=__webpack_require__(72608),We=__webpack_require__(41874),Ve=__webpack_require__(66043),Qe=__webpack_require__(23748),mt=__webpack_require__(71501),Ee=__webpack_require__(10072),Ue=__webpack_require__(23042),je=__webpack_require__(99137),Ce=__webpack_require__(71957),tt=__webpack_require__(96306),at=__webpack_require__(103),gt=__webpack_require__(8582),kt=__webpack_require__(90618),$t=__webpack_require__(74592),va=__webpack_require__(88440),fa=__webpack_require__(58276),wa=__webpack_require__(35082),Qa=__webpack_require__(12813),Pn=__webpack_require__(18222),tr=__webpack_require__(24838),On=__webpack_require__(38563),Et=__webpack_require__(50336),nt=__webpack_require__(7512),It=__webpack_require__(74442),Vt=__webpack_require__(87713),ta=__webpack_require__(46603),Xt=__webpack_require__(70100),ja=__webpack_require__(10490),Ha=__webpack_require__(13187),dn=__webpack_require__(60092),Ya=__webpack_require__(19041),Mn=__webpack_require__(30666),ar=__webpack_require__(51638),Xa=__webpack_require__(62975),Zo=__webpack_require__(15728),Vr=__webpack_require__(46056),yo=__webpack_require__(44299),dr=__webpack_require__(5162),bo=__webpack_require__(50292),Oo=__webpack_require__(29427),Ur=__webpack_require__(99964),gr=__webpack_require__(75238),nu=__webpack_require__(4987),yr=__webpack_require__(1025),bu=__webpack_require__(77479),ru=__webpack_require__(34582),Qr=__webpack_require__(47896),so=__webpack_require__(12647),po=__webpack_require__(98558),Io=__webpack_require__(84018),Mr=__webpack_require__(97507),ou=__webpack_require__(61605),To=__webpack_require__(49076),Br=__webpack_require__(34999),zn=__webpack_require__(88921),ln=__webpack_require__(96248),cn=__webpack_require__(27561),Tn=__webpack_require__(13599),Ja=__webpack_require__(11477),oa=__webpack_require__(64362),Wr=__webpack_require__(15389),Nn=__webpack_require__(46006),Dn=__webpack_require__(3440),zr=__webpack_require__(90401),Yr=__webpack_require__(66244),Fn=__webpack_require__(45164),eo=__webpack_require__(89772),lr=__webpack_require__(91238),ir=__webpack_require__(88910),br=__webpack_require__(54837),vo=__webpack_require__(87485),Ao=__webpack_require__(56767),Go=__webpack_require__(69916),Lo=__webpack_require__(76651),ul=__webpack_require__(61437),Hd=__webpack_require__(63252),Eo=__webpack_require__(35285),$n=__webpack_require__(17454),Nu=__webpack_require__(39865),uu=__webpack_require__(86035),Ud=__webpack_require__(50058),dl=__webpack_require__(67501),Eu=__webpack_require__(85576),to=__webpack_require__(98275),Xr=__webpack_require__(71842),Ko=__webpack_require__(609),Bd=__webpack_require__(21568),kl=__webpack_require__(54534),ud=__webpack_require__(95090),_u=__webpack_require__(34744),Du=__webpack_require__(48824),dd=__webpack_require__(44130),Nr=__webpack_require__(35954),du=__webpack_require__(16850),Su=__webpack_require__(26182),wu=__webpack_require__(8922),Cu=__webpack_require__(5835),Fu=__webpack_require__(23767),lu=__webpack_require__(8585),vr=__webpack_require__(8970),iu=__webpack_require__(84444),M=__webpack_require__(68696),$=__webpack_require__(78206),U=__webpack_require__(76478),me=__webpack_require__(79715),Ze=__webpack_require__(12714),ut=__webpack_require__(5964),lt=__webpack_require__(43561),xt=__webpack_require__(32049),Dt=__webpack_require__(86020),Ft=__webpack_require__(56585),ea=__webpack_require__(82801),ma=__webpack_require__(84633),aa=__webpack_require__(71550),na=__webpack_require__(61295),ua=__webpack_require__(35666);function Ea(vt){return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dt){return typeof dt}:function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt},Ea(vt)}function nn(vt,dt){if(Ea(vt)!=="object"||vt===null)return vt;var Wt=vt[Symbol.toPrimitive];if(Wt!==void 0){var Ca=Wt.call(vt,dt||"default");if(Ea(Ca)!=="object")return Ca;throw new TypeError("@@toPrimitive must return a primitive value.")}return(dt==="string"?String:Number)(vt)}function En(vt){var dt=nn(vt,"string");return Ea(dt)==="symbol"?dt:String(dt)}function Zn(vt,dt,Wt){return dt=En(dt),dt in vt?Object.defineProperty(vt,dt,{value:Wt,enumerable:!0,configurable:!0,writable:!0}):vt[dt]=Wt,vt}function cr(vt,dt){var Wt=Object.keys(vt);if(Object.getOwnPropertySymbols){var Ca=Object.getOwnPropertySymbols(vt);dt&&(Ca=Ca.filter(function(rn){return Object.getOwnPropertyDescriptor(vt,rn).enumerable})),Wt.push.apply(Wt,Ca)}return Wt}function Sn(vt){for(var dt=1;dt<arguments.length;dt++){var Wt=arguments[dt]!=null?arguments[dt]:{};dt%2?cr(Object(Wt),!0).forEach(function(Ca){Zn(vt,Ca,Wt[Ca])}):Object.getOwnPropertyDescriptors?Object.defineProperties(vt,Object.getOwnPropertyDescriptors(Wt)):cr(Object(Wt)).forEach(function(Ca){Object.defineProperty(vt,Ca,Object.getOwnPropertyDescriptor(Wt,Ca))})}return vt}function fo(vt){if(Array.isArray(vt))return vt}function Er(vt,dt){var Wt=vt==null?null:typeof Symbol!="undefined"&&vt[Symbol.iterator]||vt["@@iterator"];if(Wt!=null){var Ca,rn,Gn,Jn,In=[],_r=!0,ku=!1;try{if(Gn=(Wt=Wt.call(vt)).next,dt===0){if(Object(Wt)!==Wt)return;_r=!1}else for(;!(_r=(Ca=Gn.call(Wt)).done)&&(In.push(Ca.value),In.length!==dt);_r=!0);}catch(ro){ku=!0,rn=ro}finally{try{if(!_r&&Wt.return!=null&&(Jn=Wt.return(),Object(Jn)!==Jn))return}finally{if(ku)throw rn}}return In}}function Mo(vt,dt){(dt==null||dt>vt.length)&&(dt=vt.length);for(var Wt=0,Ca=new Array(dt);Wt<dt;Wt++)Ca[Wt]=vt[Wt];return Ca}function cu(vt,dt){if(vt){if(typeof vt=="string")return Mo(vt,dt);var Wt=Object.prototype.toString.call(vt).slice(8,-1);if(Wt==="Object"&&vt.constructor&&(Wt=vt.constructor.name),Wt==="Map"||Wt==="Set")return Array.from(vt);if(Wt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Wt))return Mo(vt,dt)}}function No(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ao(vt,dt){return fo(vt)||Er(vt,dt)||cu(vt,dt)||No()}var Zt=__webpack_require__(62435),_o=__webpack_require__(6915),no=__webpack_require__(96974),Do=__webpack_require__(34162),ju=__webpack_require__(49647),Vo=__webpack_require__(58096),Fo=__webpack_require__(59918),ll=["redirect"];function Hu(vt){var dt=vt.routesById,Wt=vt.parentId,Ca=vt.routeComponents;return Object.keys(dt).filter(function(rn){return dt[rn].parentId===Wt}).map(function(rn){var Gn=Rl(Sn({route:dt[rn],routeComponent:Ca[rn],loadingComponent:vt.loadingComponent,reactRouter5Compat:vt.reactRouter5Compat},vt.reactRouter5Compat&&{hasChildren:Object.keys(dt).filter(function(In){return dt[In].parentId===rn}).length>0})),Jn=Hu({routesById:dt,routeComponents:Ca,parentId:Gn.id,loadingComponent:vt.loadingComponent,reactRouter5Compat:vt.reactRouter5Compat});return Jn.length>0&&(Gn.children=Jn,Gn.routes=Jn),Gn})}function $l(vt){var dt=(0,no.UO)(),Wt=Sn(Sn({},vt),{},{to:(0,no.Gn)(vt.to,dt)});return Zt.createElement(no.Fg,(0,Vo.Z)({replace:!0},Wt))}function Rl(vt){var dt=vt.route,Wt=dt.redirect,Ca=(0,ju.Z)(dt,ll),rn=vt.reactRouter5Compat?id:cd;return Sn({element:Wt?Zt.createElement($l,{to:Wt}):Zt.createElement(Fo.X.Provider,{value:{route:vt.route}},Zt.createElement(rn,{loader:Zt.memo(vt.routeComponent),loadingComponent:vt.loadingComponent||ld,hasChildren:vt.hasChildren}))},Ca)}function ld(){return Zt.createElement("div",null)}function id(vt){var dt=(0,Fo.Q)(),Wt=dt.route,Ca=(0,Do.Ov)(),rn=Ca.history,Gn=Ca.clientRoutes,Jn=(0,no.UO)(),In={params:Jn,isExact:!0,path:Wt.path,url:rn.location.pathname},_r=vt.loader;return Zt.createElement(Zt.Suspense,{fallback:Zt.createElement(vt.loadingComponent,null)},Zt.createElement(_r,{location:rn.location,match:In,history:rn,params:Jn,route:Wt,routes:Gn},vt.hasChildren&&Zt.createElement(no.j3,null)))}function cd(vt){var dt=vt.loader;return Zt.createElement(Zt.Suspense,{fallback:Zt.createElement(vt.loadingComponent,null)},Zt.createElement(dt,null))}var su=null;function Qo(){return su}function il(vt){var dt=vt.history,Wt=Zt.useState({action:dt.action,location:dt.location}),Ca=ao(Wt,2),rn=Ca[0],Gn=Ca[1];return(0,Zt.useLayoutEffect)(function(){return dt.listen(Gn)},[dt]),(0,Zt.useLayoutEffect)(function(){function Jn(In){vt.pluginManager.applyPlugins({key:"onRouteChange",type:"event",args:{routes:vt.routes,clientRoutes:vt.clientRoutes,location:In.location,action:In.action,basename:vt.basename,isFirst:Boolean(In.isFirst)}})}dt.listen(Jn),Jn({location:rn.location,action:rn.action,isFirst:!0})},[dt,vt.routes,vt.clientRoutes]),Zt.createElement(no.F0,{navigator:dt,location:rn.location,basename:vt.basename},vt.children)}function Uu(){var vt=(0,Do.Ov)(),dt=vt.clientRoutes;return(0,no.V$)(dt)}var Bu=["innerProvider","i18nProvider","accessProvider","dataflowProvider","outerProvider","rootContainer"],Wd=function(dt,Wt){var Ca=dt.basename||"/",rn=Hu({routesById:dt.routes,routeComponents:dt.routeComponents,loadingComponent:dt.loadingComponent,reactRouter5Compat:dt.reactRouter5Compat});dt.pluginManager.applyPlugins({key:"patchClientRoutes",type:"event",args:{routes:rn}});for(var Gn=Zt.createElement(il,{basename:Ca,pluginManager:dt.pluginManager,routes:dt.routes,clientRoutes:rn,history:dt.history},Wt),Jn=0,In=Bu;Jn<In.length;Jn++){var _r=In[Jn];Gn=dt.pluginManager.applyPlugins({type:"modify",key:_r,initialValue:Gn,args:{routes:dt.routes,history:dt.history,plugin:dt.pluginManager}})}var ku=function(){var vd=(0,Zt.useState)({}),Ru=ao(vd,2),Yo=Ru[0],Pl=Ru[1],fd=(0,Zt.useState)(window.__UMI_LOADER_DATA__||{}),Iu=ao(fd,2),zd=Iu[0],Zu=Iu[1],Gu=(0,Zt.useCallback)(function(xd,hd){var xo,$d=(((xo=(0,no.fp)(rn,xd,Ca))===null||xo===void 0?void 0:xo.map(function(So){return So.route.id}))||[]).filter(Boolean);$d.forEach(function(So){var vu,Ku,md=window.__umi_manifest__;if(md){var Zd=So.replace(/[\/\-]/g,"_"),Vu="preload-".concat(Zd,".js");if(!document.getElementById(Vu)){var gd=Object.keys(md).filter(function(wn){return wn.startsWith(Zd+".")});gd.forEach(function(wn){if(!/\.(js|css)$/.test(wn))throw Error("preload not support ".concat(wn," file"));var jo=md[wn],Xo=document.createElement("link");Xo.rel="preload",Xo.as="style",wn.endsWith(".js")&&(Xo.as="script",Xo.id=Vu),dt.runtimePublicPath&&(jo=jo.replace(new RegExp("^".concat(dt.publicPath)),window.publicPath)),Xo.href=jo,document.head.appendChild(Xo)})}}!hd&&(vu=dt.routes[So])!==null&&vu!==void 0&&vu.hasServerLoader&&fetch("/__serverLoader?route="+So).then(function(wn){return wn.json()}).then(function(wn){Zt.startTransition(function(){Zu(function(jo){return Sn(Sn({},jo),{},Zn({},So,wn))})})}).catch(console.error);var Gd=(Ku=dt.routes[So])===null||Ku===void 0?void 0:Ku.clientLoader;Gd&&!Yo[So]&&Gd().then(function(wn){Pl(function(jo){return Sn(Sn({},jo),{},Zn({},So,wn))})})})},[Yo]);return(0,Zt.useEffect)(function(){return Gu(window.location.pathname,!0),dt.history.listen(function(xd){Gu(xd.location.pathname)})},[]),(0,Zt.useLayoutEffect)(function(){typeof dt.callback=="function"&&dt.callback()},[]),Zt.createElement(Do.Il.Provider,{value:{routes:dt.routes,routeComponents:dt.routeComponents,clientRoutes:rn,pluginManager:dt.pluginManager,rootElement:dt.rootElement,basename:Ca,clientLoaderData:Yo,serverLoaderData:zd,preloadRoute:Gu,history:dt.history}},Gn)};return ku};function cl(vt){var dt=vt.rootElement||document.getElementById("root"),Wt=Wd(vt,Zt.createElement(Uu,null));if(vt.components)return Wt;if(vt.hydrate){_o.hydrateRoot(dt,Zt.createElement(Wt,null));return}if(_o.createRoot){su=_o.createRoot(dt),su.render(Zt.createElement(Wt,null));return}_o.render(Zt.createElement(Wt,null),dt)}function Wu(){return pu.apply(this,arguments)}function pu(){return pu=r()(I()().mark(function vt(){var dt;return I()().wrap(function(Ca){for(;;)switch(Ca.prev=Ca.next){case 0:return dt={404:{id:"404",path:"*",parentId:"DocLayout"},"dumi-context-layout":{id:"dumi-context-layout",path:"/",isLayout:!0},DocLayout:{id:"DocLayout",path:"/",parentId:"dumi-context-layout",isLayout:!0},"docs/main/reconciler-workflow":{path:"main/reconciler-workflow",id:"docs/main/reconciler-workflow",parentId:"DocLayout"},"docs/main/fibertree-prepare":{path:"main/fibertree-prepare",id:"docs/main/fibertree-prepare",parentId:"DocLayout"},"docs/interview/01-setstate":{path:"interview/01-setstate",id:"docs/interview/01-setstate",parentId:"DocLayout"},"docs/main/fibertree-commit":{path:"main/fibertree-commit",id:"docs/main/fibertree-commit",parentId:"DocLayout"},"docs/main/fibertree-create":{path:"main/fibertree-create",id:"docs/main/fibertree-create",parentId:"DocLayout"},"docs/main/fibertree-update":{path:"main/fibertree-update",id:"docs/main/fibertree-update",parentId:"DocLayout"},"docs/main/object-structure":{path:"main/object-structure",id:"docs/main/object-structure",parentId:"DocLayout"},"docs/algorithm/linkedlist":{path:"algorithm/linkedlist",id:"docs/algorithm/linkedlist",parentId:"DocLayout"},"docs/main/macro-structure":{path:"main/macro-structure",id:"docs/main/macro-structure",parentId:"DocLayout"},"docs/main/synthetic-event":{path:"main/synthetic-event",id:"docs/main/synthetic-event",parentId:"DocLayout"},"docs/algorithm/bitfield":{path:"algorithm/bitfield",id:"docs/algorithm/bitfield",parentId:"DocLayout"},"docs/algorithm/heapsort":{path:"algorithm/heapsort",id:"docs/algorithm/heapsort",parentId:"DocLayout"},"docs/main/state-effects":{path:"main/state-effects",id:"docs/main/state-effects",parentId:"DocLayout"},"docs/main/hook-summary":{path:"main/hook-summary",id:"docs/main/hook-summary",parentId:"DocLayout"},"docs/interview/06-key":{path:"interview/06-key",id:"docs/interview/06-key",parentId:"DocLayout"},"docs/main/hook-effect":{path:"main/hook-effect",id:"docs/main/hook-effect",parentId:"DocLayout"},"docs/algorithm/stack":{path:"algorithm/stack",id:"docs/algorithm/stack",parentId:"DocLayout"},"docs/interview/index":{path:"interview",id:"docs/interview/index",parentId:"DocLayout"},"docs/main/hook-state":{path:"main/hook-state",id:"docs/main/hook-state",parentId:"DocLayout"},"docs/algorithm/diff":{path:"algorithm/diff",id:"docs/algorithm/diff",parentId:"DocLayout"},"docs/main/bootstrap":{path:"main/bootstrap",id:"docs/main/bootstrap",parentId:"DocLayout"},"docs/main/scheduler":{path:"main/scheduler",id:"docs/main/scheduler",parentId:"DocLayout"},"docs/algorithm/dfs":{path:"algorithm/dfs",id:"docs/algorithm/dfs",parentId:"DocLayout"},"docs/main/priority":{path:"main/priority",id:"docs/main/priority",parentId:"DocLayout"},"docs/main/workloop":{path:"main/workloop",id:"docs/main/workloop",parentId:"DocLayout"},"docs/main/context":{path:"main/context",id:"docs/main/context",parentId:"DocLayout"},"docs/index":{path:"",id:"docs/index",parentId:"DocLayout"},"demo-render":{id:"demo-render",path:"~demos/:id",parentId:"dumi-context-layout",prerender:!1}},Ca.abrupt("return",{routes:dt,routeComponents:{404:Zt.lazy(function(){return __webpack_require__.e(400).then(__webpack_require__.bind(__webpack_require__,47949))}),"dumi-context-layout":Zt.lazy(function(){return __webpack_require__.e(458).then(__webpack_require__.bind(__webpack_require__,34576))}),DocLayout:Zt.lazy(function(){return Promise.all([__webpack_require__.e(153),__webpack_require__.e(96)]).then(__webpack_require__.bind(__webpack_require__,20142))}),"docs/main/reconciler-workflow":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(801)]).then(__webpack_require__.bind(__webpack_require__,36514))}),"docs/main/fibertree-prepare":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(547)]).then(__webpack_require__.bind(__webpack_require__,86762))}),"docs/interview/01-setstate":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(753)]).then(__webpack_require__.bind(__webpack_require__,67415))}),"docs/main/fibertree-commit":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(613)]).then(__webpack_require__.bind(__webpack_require__,19975))}),"docs/main/fibertree-create":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(666)]).then(__webpack_require__.bind(__webpack_require__,88776))}),"docs/main/fibertree-update":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(231)]).then(__webpack_require__.bind(__webpack_require__,83872))}),"docs/main/object-structure":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(538)]).then(__webpack_require__.bind(__webpack_require__,49817))}),"docs/algorithm/linkedlist":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(737)]).then(__webpack_require__.bind(__webpack_require__,31704))}),"docs/main/macro-structure":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(293)]).then(__webpack_require__.bind(__webpack_require__,23239))}),"docs/main/synthetic-event":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(781)]).then(__webpack_require__.bind(__webpack_require__,31640))}),"docs/algorithm/bitfield":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(3)]).then(__webpack_require__.bind(__webpack_require__,51257))}),"docs/algorithm/heapsort":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(961)]).then(__webpack_require__.bind(__webpack_require__,23525))}),"docs/main/state-effects":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(813)]).then(__webpack_require__.bind(__webpack_require__,33829))}),"docs/main/hook-summary":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(504)]).then(__webpack_require__.bind(__webpack_require__,22418))}),"docs/interview/06-key":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(361)]).then(__webpack_require__.bind(__webpack_require__,58043))}),"docs/main/hook-effect":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(263)]).then(__webpack_require__.bind(__webpack_require__,68195))}),"docs/algorithm/stack":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(890)]).then(__webpack_require__.bind(__webpack_require__,46806))}),"docs/interview/index":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(657)]).then(__webpack_require__.bind(__webpack_require__,55438))}),"docs/main/hook-state":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(251)]).then(__webpack_require__.bind(__webpack_require__,34667))}),"docs/algorithm/diff":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(560)]).then(__webpack_require__.bind(__webpack_require__,15258))}),"docs/main/bootstrap":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(184)]).then(__webpack_require__.bind(__webpack_require__,77787))}),"docs/main/scheduler":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(864)]).then(__webpack_require__.bind(__webpack_require__,30992))}),"docs/algorithm/dfs":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(221)]).then(__webpack_require__.bind(__webpack_require__,8528))}),"docs/main/priority":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(789)]).then(__webpack_require__.bind(__webpack_require__,66768))}),"docs/main/workloop":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(183)]).then(__webpack_require__.bind(__webpack_require__,37592))}),"docs/main/context":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(776)]).then(__webpack_require__.bind(__webpack_require__,63029))}),"docs/index":Zt.lazy(function(){return Promise.all([__webpack_require__.e(579),__webpack_require__.e(935)]).then(__webpack_require__.bind(__webpack_require__,2511))}),"demo-render":Zt.lazy(function(){return __webpack_require__.e(448).then(__webpack_require__.bind(__webpack_require__,95993))})}});case 2:case"end":return Ca.stop()}},vt)})),pu.apply(this,arguments)}var sl=__webpack_require__(24497),zu=__webpack_require__(82651),sd=__webpack_require__(87042),pl="/",$u=!1;function pd(){return Id.apply(this,arguments)}function Id(){return Id=r()(I()().mark(function vt(){var dt,Wt,Ca,rn,Gn,Jn,In,_r;return I()().wrap(function(ro){for(;;)switch(ro.prev=ro.next){case 0:return dt=(0,sl.gD)(),ro.next=3,Wu(dt);case 3:return Wt=ro.sent,Ca=Wt.routes,rn=Wt.routeComponents,ro.next=8,dt.applyPlugins({key:"patchRoutes",type:sd.Ac.event,args:{routes:Ca,routeComponents:rn}});case 8:return Gn=dt.applyPlugins({key:"modifyContextOpts",type:sd.Ac.modify,initialValue:{}}),Jn=Gn.basename||"/",In=Gn.historyType||"browser",_r=(0,zu.f)(u()({type:In,basename:Jn},Gn.historyOpts)),ro.abrupt("return",dt.applyPlugins({key:"render",type:sd.Ac.compose,initialValue:function(){var Ru={hydrate:!0,routes:Ca,routeComponents:rn,pluginManager:dt,rootElement:Gn.rootElement||document.getElementById("root"),publicPath:pl,runtimePublicPath:$u,history:_r,historyType:In,basename:Jn,callback:Gn.callback},Yo=dt.applyPlugins({key:"modifyClientRenderOpts",type:sd.Ac.modify,initialValue:Ru});return cl(Yo)}})());case 13:case"end":return ro.stop()}},vt)})),Id.apply(this,arguments)}typeof history!="undefined"&&location.pathname.length>1&&location.pathname.endsWith("/")&&history.replaceState({},"",location.pathname.slice(0,-1)+location.search+location.hash),function(){var vt=typeof navigator!="undefined"&&navigator.cookieEnabled&&typeof window.localStorage!="undefined"&&localStorage.getItem("dumi:prefers-color")||"light",dt=window.matchMedia("(prefers-color-scheme: dark)").matches,Wt=["light","dark","auto"];document.documentElement.setAttribute("data-prefers-color",vt===Wt[2]?dt?Wt[1]:Wt[0]:Wt.indexOf(vt)>-1?vt:Wt[0])}(),pd(),window.g_umi={version:"4.0.69"}})()})();
}());